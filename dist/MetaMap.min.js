(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.MetaMap = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';

require('./js/integrations/auth0');
require('./js/integrations/googleanalytics');
require('./js/integrations/newrelic');
require('./js/integrations/raygun');
require('./js/integrations/usersnap');

require('./tags/page-actions.tag');
require('./tags/page-container.tag');
require('./tags/page-content.tag');
require('./tags/page-footer.tag');
require('./tags/page-header.tag');
require('./tags/page-logo.tag');
require('./tags/page-search.tag');
require('./tags/page-sidebar.tag');
require('./tags/page-topmenu.tag');
require('./tags/page-body.tag');

require('./js/canvas/editor.js');
require('./js/canvas/user.js');
require('./js/canvas/join_nation.js');
require('./js/canvas/editor_options.js');
require('./js/canvas/tutorial.js');
require('./js/canvas/analytics.js');
require('./js/canvas/attachments.js');
require('./js/canvas/autosave.js');
require('./js/canvas/generator.js');
require('./js/canvas/history.js');
require('./js/canvas/layouts.js');
require('./js/canvas/gorges_grid.js');
require('./js/canvas/map.js');
require('./js/canvas/maps.js');
require('./js/canvas/feed.js');
require('./js/canvas/top_maps.js');
require('./js/canvas/perspectives.js');
require('./js/canvas/presenter.js');
require('./js/canvas/sharing.js');
require('./js/canvas/standards.js');
require('./js/canvas/tagging.js');
require('./js/canvas/tagging_admin.js');
require('./js/canvas/tagging_ccs.js');
require('./js/canvas/templates.js');
require('./js/canvas/tests.js');
require('./js/canvas/ui.js');

var mm = require('./MetaMap');

module.exports = new mm();

},{"./MetaMap":2,"./js/canvas/analytics.js":3,"./js/canvas/attachments.js":4,"./js/canvas/autosave.js":5,"./js/canvas/editor.js":6,"./js/canvas/editor_options.js":7,"./js/canvas/feed.js":8,"./js/canvas/generator.js":9,"./js/canvas/gorges_grid.js":10,"./js/canvas/history.js":11,"./js/canvas/join_nation.js":12,"./js/canvas/layouts.js":13,"./js/canvas/map.js":14,"./js/canvas/maps.js":15,"./js/canvas/perspectives.js":16,"./js/canvas/presenter.js":17,"./js/canvas/sharing.js":18,"./js/canvas/standards.js":19,"./js/canvas/tagging.js":20,"./js/canvas/tagging_admin.js":21,"./js/canvas/tagging_ccs.js":22,"./js/canvas/templates.js":23,"./js/canvas/tests.js":24,"./js/canvas/top_maps.js":25,"./js/canvas/tutorial.js":26,"./js/canvas/ui.js":27,"./js/canvas/user.js":28,"./js/integrations/auth0":29,"./js/integrations/googleanalytics":31,"./js/integrations/newrelic":32,"./js/integrations/raygun":33,"./js/integrations/usersnap":34,"./tags/page-actions.tag":35,"./tags/page-body.tag":36,"./tags/page-container.tag":37,"./tags/page-content.tag":38,"./tags/page-footer.tag":39,"./tags/page-header.tag":40,"./tags/page-logo.tag":41,"./tags/page-search.tag":42,"./tags/page-sidebar.tag":43,"./tags/page-topmenu.tag":44}],2:[function(require,module,exports){
'use strict';

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

var MetaFire = require('./js/integrations/firebase');
var Auth0 = require('./js/integrations/auth0');
var usersnap = require('./js/integrations/usersnap');

var MetaMap = (function () {
    function MetaMap() {
        _classCallCheck(this, MetaMap);

        this.MetaFire = new MetaFire();
        this.Auth0 = new Auth0();
        usersnap();
    }

    _createClass(MetaMap, [{
        key: 'init',
        value: function init() {
            var _this = this;

            this.Auth0.login().then(function (profile) {
                riot.mount('*');
                _.delay(function () {
                    Metronic.init(); // init metronic core componets
                    Layout.init(); // init layout
                    Demo.init(); // init demo features
                    Index.init(); // init index page
                    Tasks.initDashboardWidget(); // init tash dashboard widget
                }, 250);
                _this.MetaFire.init();
            });
        }
    }, {
        key: 'logout',
        value: function logout() {
            this.MetaFire.logout();
            this.Auth0.logout();
        }
    }]);

    return MetaMap;
})();

module.exports = MetaMap;

},{"./js/integrations/auth0":29,"./js/integrations/firebase":30,"./js/integrations/usersnap":34}],3:[function(require,module,exports){
// functions handling analytics
// analytics display is in views/maps/_analytics_tab_map and _analytics_tab_thing
'use strict';

SandbankEditor.Analytics = function ($scope, $http, map) {

    var self = this;

    this.init = function () {};

    this.handleDiagramEvent = function (eventName, e) {
        if (eventName == 'ChangedSelection') {
            if (map.getUi().currentTabIs(map.getUi().TAB_ID_ANALYTICS_THING)) {
                self.updateContextualAnalytics();
            }
        }
    };

    // called when a tab is opened or closed
    this.currentTabChanged = function (newValue, oldValue) {
        if (newValue == map.getUi().TAB_ID_ANALYTICS_THING) {
            // opening thing analytics tab
            self.updateContextualAnalytics();
        }
    };

    // this gets populated by map.loadMapExtraData, on load and after every autosave
    this.mapAnalytics = null;

    // --------- contextual analytics --------------
    // - these are all calculated here, unlike map analytics which are calculated on the server and connected with badges and points

    // this gets calculated by updateContextualAnalytics
    this.contextualAnalytics = {
        thingName: '',

        // thing stuff
        distinctFrom: 0,
        intentionallyDistinctFrom: 0,
        partOf: 0,
        includesParts: 0,
        relatedTo: 0,
        isRelationship: 0,
        lookingAt: 0,
        lookedAtFrom: 0,

        // R stuff
        rFromThingName: '',
        rToThingName: '',
        isRThing: false,
        isRSystem: false,
        isRPoint: false,
        isRView: false
    };

    this.updateContextualAnalytics = function () {
        //console.log('updateContextualAnalytics');
        if (!map.getUi().currentTabIs(map.getUi().TAB_ID_ANALYTICS_THING)) {
            return;
        }

        var diagram = map.getDiagram();
        var part = diagram.selection.first();
        var a = self.contextualAnalytics;

        if (part && part instanceof go.Group) {
            var thing = part;

            // thing name
            a.thingName = thing.data.text;

            // distinct from
            a.distinctFrom = _.where(diagram.model.nodeDataArray, { isGroup: true }).length - 1;

            // part of
            var level = 0;
            var thing2 = thing;
            while (thing2 = getContainingGroup(thing2)) {
                level++;
            }
            a.partOf = level;

            // includes parts
            a.includesParts = countGroups(thing);

            // related to / looking at / looked at from / intentionally distinct from
            a.relatedTo = 0;
            a.lookingAt = 0;
            a.lookedAtFrom = 0;
            a.intentionallyDistinctFrom = 0;
            var links = thing.linksConnected;
            var rConnectedThingKeys = [];
            while (links.next()) {
                var link = links.value;
                // P link
                if (link.data.category == 'P') {
                    if (link.fromNode == thing) {
                        a.lookingAt++;
                    } else if (link.toNode == thing) {
                        a.lookedAtFrom++;
                    }
                }
                // D link
                else if (link.data.category == 'D') {
                    a.intentionallyDistinctFrom++;
                }
                // R link
                else if (!link.data.category) {
                    // track keys of related things so we don't count them multiple times
                    if (link.fromNode == thing) {
                        rConnectedThingKeys.push(link.toNode.data.key);
                    } else if (link.toNode == thing) {
                        rConnectedThingKeys.push(link.fromNode.data.key);
                    }
                }
            }
            a.relatedTo = _.uniq(rConnectedThingKeys).length;

            // isRelationship
            a.isRelationship = thing.isLinkLabel;
        } else if (part && part instanceof go.Link) {
            var rel = part;

            // thing names
            a.rFromThingName = rel.fromNode.data.text;
            a.rToThingName = rel.toNode.data.text;

            // is R thing
            a.isRThing = rel.isLabeledLink;

            // is R system
            a.isRSystem = rel.isLabeledLink && countGroups(rel.labelNodes.first()) > 0;

            // is R point
            a.isRPoint = rel.isLabeledLink && isPoint(rel.labelNodes.first());

            // is R view
            a.isRView = rel.isLabeledLink && isView(rel.labelNodes.first());
        }
    };

    // returns either the containingGroup or the rThingContainingGroup, whichever is non-null
    function getContainingGroup(group) {
        return group.containingGroup || getRThingContainingGroup(group);
    }

    // if group is an R-thing between two sibling parts of a whole, returns the whole; else returns null
    function getRThingContainingGroup(group) {
        if (group.isLinkLabel) {
            var fromParent = group.labeledLink.fromNode.containingGroup;
            var toParent = group.labeledLink.toNode.containingGroup;
            if (fromParent !== null && toParent !== null && fromParent == toParent) {
                return fromParent;
            }
        }
        return null;
    }

    // counts the member parts of the group that are groups, recursively (not including the group itself)
    function countGroups(group) {
        var count = 0;
        var it = getMemberGroups(group).iterator;
        while (it.next()) {
            var part = it.value;
            count += 1 + countGroups(part);
        }

        return count;
    }

    // returns the collection of groups that are either a memberPart of this group, or an R-thing between sibling memberParts
    function getMemberGroups(group) {
        var members = new go.List();
        var it = group.memberParts;
        while (it.next()) {
            var part = it.value;
            if (part instanceof go.Group) {
                members.add(part);
                var rthing = getRThingToSibling(part); // NB: should not get duplication here, as this checks for r-things in only one direction
                if (rthing) {
                    members.add(rthing);
                }
            }
        }
        return members;
    }

    // if the group is linked by an R-thing to a sibling (with the group as the fromNode), returns the R-thing; else returns null
    function getRThingToSibling(group) {
        var it = group.findLinksOutOf();
        while (it.next()) {
            var link = it.value;
            if (link.labelNodes.count > 0 && link.toNode.containingGroup == group.containingGroup) {
                return link.labelNodes.first();
            }
        }
        return null;
    }

    function isPoint(group) {
        var it = group.findLinksOutOf();
        while (it.next()) {
            var link = it.value;
            if (link.data.category == 'P') {
                return true;
            }
        }
        return false;
    }

    function isView(group) {
        var it = group.findLinksInto();
        while (it.next()) {
            var link = it.value;
            if (link.data.category == 'P') {
                return true;
            }
        }
        return false;
    }
};

},{}],4:[function(require,module,exports){
// functions handling attachments

'use strict';

window.SandbankEditor.Attachments = function ($scope, $http, $resource, map) {

    var self = this;

    this.selectedThing = null;
    this.attachments = null;

    this.attachmentTypes = [{ name: 'note', labelSingular: 'Note', labelPlural: 'Notes' }, { name: 'link', labelSingular: 'Web Link', labelPlural: 'Web Links' }, { name: 'task', labelSingular: 'Task', labelPlural: 'Tasks' }, { name: 'map', labelSingular: 'Linked MetaMap', labelPlural: 'Linked MetaMaps' }
    //        {name: 'doc', labelSingular: 'Document', labelPlural: 'Documents'}  // limit overall storage space OR simpler rules?
    // limit file types - pdf, jpg, gif, png, office?...  whitelist vs. blacklist
    ];

    this.init = function () {};

    this.handleDiagramEvent = function (eventName, e) {
        if (eventName == 'ChangedSelection') {
            if (map.getUi().currentTabIs(map.getUi().TAB_ID_ATTACHMENTS)) {
                self.stopEditingAll();
                self.saveAttachments();
                self.loadSelectedThingAttachments();
            }
        }
    };

    // called when a tab is opened or closed
    this.currentTabChanged = function (newValue, oldValue) {
        if (newValue == map.getUi().TAB_ID_ATTACHMENTS) {
            // opening tab
            self.loadSelectedThingAttachments();
        }
        if (oldValue == map.getUi().TAB_ID_ATTACHMENTS) {
            // closing tab
            self.saveAttachments();
        }
    };

    this.loadSelectedThingAttachments = function () {
        $scope.safeApply(function () {
            if (map.thingSelected()) {
                self.selectedThing = map.getUniqueThingSelected();
                self.attachments = self.selectedThing.data.attachments;
                if (self.attachments === undefined) {
                    self.attachments = [];
                }
            }
        });
    };

    // set all attachments to editing = false
    this.stopEditingAll = function () {
        $scope.safeApply(function () {
            if (self.attachments) {
                _.each(self.attachments, function (att) {
                    att.editing = false;
                });
            }
        });
    };

    this.editingAnItem = function () {
        return self.attachments && _.findWhere(self.attachments, { editing: true }) !== undefined;
    };

    // set all other attachments to editing = false
    this.startEditing = function (attachment) {
        $scope.safeApply(function () {
            self.stopEditingAll();
            attachment.editing = true;
        });
    };

    this.saveItem = function (attachment) {
        $scope.safeApply(function () {
            attachment.editing = false;
            self.saveAttachments();
        });
    };

    this.saveAttachments = function () {
        $scope.safeApply(function () {
            console.log('saveAttachments, selected: ' + self.selectedThing);
            if (self.selectedThing) {
                map.getDiagram().model.setDataProperty(self.selectedThing.data, 'attachments', self.attachments);
                self.selectedThing.updateTargetBindings();
            }
            map.getAutosave().saveNow('edit_attachments');
        });
    };

    this.listAttachments = function (type) {
        var atts = _.where(self.attachments, { type: type });
        return atts;
    };

    this.addAttachment = function (type) {
        var item = { type: type, editing: true };
        if (type == 'note') {
            self.attachments.push(_.extend(item, { text: '', url: '' }));
        } else if (type == 'link') {
            self.attachments.push(_.extend(item, { label: '', url: '' }));
        } else if (type == 'task') {
            self.attachments.push(_.extend(item, { text: '' }));
        } else if (type == 'doc') {
            self.attachments.push(_.extend(item, { name: '' }));
        } else if (type == 'map') {
            self.attachments.push(_.extend(item, { mapRef: { id: 0, name: '' } }));
        }
    };

    this.isValid = function (attachment) {
        if (attachment.type == 'link') {
            return attachment.label && attachment.url && attachment.label.trim() !== '' && attachment.url.trim() !== '';
        } else if (attachment.type == 'note') {
            return attachment.text && attachment.text.trim() !== '';
        } else if (attachment.type == 'task') {
            return attachment.text && attachment.text.trim() !== '';
        } else if (attachment.type == 'doc') {
            return attachment.name && attachment.name.trim() !== '';
        } else if (attachment.type == 'map') {
            return attachment.mapRef && attachment.mapRef.id !== null && attachment.mapRef.id !== undefined;
        }
    };

    this.deleteAttachment = function (att) {
        var typeLabel = _.findWhere(self.attachmentTypes, { name: att.type }).labelSingular;
        if (confirm('Delete ' + typeLabel + '?')) {
            var i = _.indexOf(self.attachments, att);
            self.attachments.splice(i, 1);
        }
    };

    // query server for maps containing the given text in the map name
    this.getOtherMaps = function (viewValue) {
        // NB: this URL is constructed to match the one generated by the search form on the maps page...
        var url = '/maps/visible_maps.json?utf8=%E2%9C%93&q%5Bname_cont%5D=' + viewValue;
        return $http.get(url).then(function (response) {
            return response.data.maps;
        });
    };

    this.otherMapSelected = function (viewValue, modelValue) {
        console.log('otherMapSelected, viewValue: ' + viewValue.id + ', modelValue: ' + modelValue);
    };

    this.formatOtherMap = function (model) {
        return model ? model.name : '';
    };
};

},{}],5:[function(require,module,exports){
// functions handling editor autosave function

'use strict';

SandbankEditor.Autosave = function ($scope, $http, map) {

    var self = this;

    var changeTypes = [];

    this.saveOnModelChanged = true;

    // do a save next time the set interval passes with no save requests
    this.save = function (changeType) {
        changeTypes.push(changeType);
        delayedAutosave();
    };

    // do a save right now
    this.saveNow = function (changeType) {
        changeTypes.push(changeType);
        autosave();
    };

    // don't let autosave be triggered more than every N milliseconds...
    var delayedAutosave = _.debounce(autosave, 2000);

    // compile the current list of change type descriptions, process them
    // to remove duplicates, and save the current data
    function autosave() {
        // stop right here if we're in the sandbox and/or we don't have edit permissions
        if ($scope.sandbox || !$scope.canEdit) {
            return;
        }

        if (!changeTypes.length) {
            console.log('autosave: nothing to save!'); // shouldn't happen
            return;
        }

        // de-dupe the list of change types
        var changeList = _.uniq(changeTypes);
        //console.log('changeList: ' + changeList);
        // don't show move events unless that's all we have
        var changeListWithoutMoves = _.without(changeList, 'move');
        if (changeListWithoutMoves.length > 0) {
            changeList = changeListWithoutMoves;
        }
        //console.log('changeList without moves: ' + changeList);
        // get descriptions
        var descriptionList = _.map(changeList, function (ct) {
            return _.result(changeDescriptions, ct);
        });

        //console.log('autosave, changeList: ' + changeList + ', descriptionList: ' + descriptionList);
        var postData = {
            'name': $scope.mapTitle,
            'data': map.getDiagram().model.toJson(),
            'state_data': JSON.stringify(map.getUi().getStateData()),
            'editor_options': JSON.stringify(map.getUi().getMapEditorOptions()),
            'presenter_slides': map.getPresenter().getSlideCount(),
            'activity_slides': map.getPresenter().getActivitySlideCount(),
            'change_type': changeList.join(';'),
            'change_description': descriptionList.join('; '),
            'thumbnail_png': map.getPresenter().getMapThumbnail()
        };
        var url = $scope.mapUrl + '.json';

        $scope.updateEditStatus($scope.SAVING);
        $http.put(url, postData).then(function (response) {
            changeTypes = [];
            $scope.updateEditStatus($scope.SAVE_OK);
            // load returned data for analytics, points, badges, versions
            $scope.map.loadMapExtraData(response.data.map);
        }, function () {
            $scope.updateEditStatus($scope.SAVE_FAILED);
        });
    }

    // -------------- handle model changes - trigger autosave ------------------

    var changeDescriptions = {
        move: 'Moved Objects',
        undo_redo: 'Performed Undo/Redo',
        edit_title: 'Edited MetaMap Title',
        edit_description: 'Edited MetaMap Description',
        edit_usertags: 'Edit MetaMap Tags',
        edit_d: 'Edited Distinctions',
        edit_s: 'Edited Systems',
        edit_r: 'Edited Relationships',
        edit_p: 'Edited Perspectives',
        add_thing: 'Added Ideas',
        rename_thing: 'Renamed Ideas',
        delete_thing: 'Deleted Ideas',
        edit_attachments: 'Edited Attachments',
        edit_presenter: 'Edited Presenter Slides',
        edit_generator: 'Inserted Ideas from ThinkQuery',
        edit_standards: 'Edited Links to Common Core Standards'
    };

    // e is a go.ChangedEvent
    this.modelChanged = function (e) {

        if (!self.saveOnModelChanged) {
            return;
        }

        var changeType = null;
        var changeDescription = null;

        if (e.propertyName == 'type') {
            // change R type
            // modelChange: , change: ChangedEvent.Property, oldParam: null, oldValue: [0,n,1,o,2,A,3,r,4,r,5,o,6,w,7,s] , newParam: null, newValue: [0,t,1,o] , propertyName: type
            changeType = 'edit_r';
            changeDescription = 'Changed Relationship Types';
        } else if (e.propertyName == 'layout') {
            // change system layout
            // modelChange: , change: ChangedEvent.Property, oldParam: null, oldValue: [0,l,1,e,2,f,3,t] , newParam: null, newValue: [0,r,1,i,2,g,3,h,4,t] , propertyName: layout
            changeType = 'edit_s';
        } else if (e.change == go.ChangedEvent.Insert && propertyEquals(e.newValue, 'fromPort', 'R')) {
            // add link
            // modelChange: linkDataArray, change: ChangedEvent.Insert, oldParam: null, oldValue: [] , newParam: 1, newValue: [type,noArrows,__gohashid,6005,from,-2,to,-4,labelKeys,,fromPort,R,toPort,P] , propertyName: linkDataArray
            // modelChange: linkToPortId, change: ChangedEvent.Property, oldParam: null, oldValue: [0,P] , newParam: null, newValue: [0,R] , propertyName: toPort
            changeType = 'edit_r';
        } else if (e.change == go.ChangedEvent.Remove && propertyEquals(e.oldValue, 'fromPort', 'R')) {
            // delete link
            // modelChange: linkDataArray, change: ChangedEvent.Remove, oldParam: 1, oldValue: [type,noArrows,__gohashid,6005,from,-2,to,-4,labelKeys,,fromPort,R,toPort,R] , newParam: null, newValue: [] , propertyName: linkDataArray
            changeType = 'edit_r';
        } else if (e.propertyName == 'linkDataArray') {
            // change P/D links
            // add P link
            // modelChange: linkDataArray, change: ChangedEvent.Insert, oldParam: null, oldValue: [] , newParam: 2, newValue: [type,noArrows,__gohashid,19122,from,-2,to,-4,labelKeys,,fromPort,P,toPort,P] , propertyName: linkDataArray
            // modelChange: linkCategory, change: ChangedEvent.Property, oldParam: null, oldValue: [] , newParam: null, newValue: [0,P] , propertyName: category
            // delete P link
            // modelChange: linkDataArray, change: ChangedEvent.Remove, oldParam: 2, oldValue: [type,noArrows,__gohashid,19122,from,-2,to,-4,labelKeys,,fromPort,P,toPort,P,category,P] , newParam: null, newValue: [] , propertyName: linkDataArray
            // add D link
            // modelChange: linkDataArray, change: ChangedEvent.Insert, oldParam: null, oldValue: [] , newParam: 1, newValue: [from,-7,to,-5,fromPort,D,toPort,D,category,D,__gohashid,19522] , propertyName: linkDataArray
            // remove D link
            // modelChange: linkDataArray, change: ChangedEvent.Remove, oldParam: 1, oldValue: [from,-7,to,-5,fromPort,D,toPort,D,category,D,__gohashid,19522] , newParam: null, newValue: [] , propertyName: linkDataArray

            if (e.newValue && e.newValue.category == 'P' || e.oldValue && e.oldValue.category == 'P') {
                changeType = 'edit_p';
            } else if (e.newValue && e.newValue.category == 'D' || e.oldValue && e.oldValue.category == 'D') {
                changeType = 'edit_d';
            }
        } else if (e.propertyName == 'category') {
            // add P link
            // modelChanged, modelChange: linkCategory, change: ChangedEvent.Property, oldParam: null, oldValue: [] , newParam: null, newValue: [0,P] , propertyName: category
            changeType = 'edit_p';
        } else if (e.propertyName == 'group') {
            // drag into S
            // modelChanged, modelChange: nodeGroupKey, change: ChangedEvent.Property, oldParam: null, oldValue: [] , newParam: null, newValue: [] , propertyName: group
            // reorder part
            // modelChanged, modelChange: nodeGroupKey, change: ChangedEvent.Property, oldParam: null, oldValue: [] , newParam: null, newValue: [] , propertyName: group
            // drag to D
            // modelChanged, modelChange: nodeGroupKey, change: ChangedEvent.Property, oldParam: null, oldValue: [] , newParam: null, newValue: [] , propertyName: group

            changeType = 'edit_s';
        } else if (e.propertyName == 'nodeDataArray' && e.change == go.ChangedEvent.Insert && propertyEquals(e.newValue, 'isGroup', true)) {
            // add thing
            // modelChange: nodeDataArray, change: ChangedEvent.Insert, oldParam: null, oldValue: [] , newParam: 5, newValue: [text,New Idea,isGroup,true,level,0,layout,left,sExpanded,true,pExpanded,false,dExpanded,false,__gohashid,54688,group,,key,-7] , propertyName: nodeDataArray
            // modelChange: , change: ChangedEvent.Property, oldParam: null, oldValue: [] , newParam: null, newValue: [0,2,1,2,2,8,3,.,4,5,5,6,6,2,7,5,8, ,9,-,10,1,11,4,12,9,13,.,14,6,15,8,16,7,17,5] , propertyName: loc
            // modelChange: , change: ChangedEvent.Property, oldParam: null, oldValue: [] , newParam: null, newValue: [] , propertyName: children
            changeType = 'add_thing';
        } else if (e.propertyName == 'text') {
            // move thing
            // modelChange: , change: ChangedEvent.Property, oldParam: null, oldValue: [0,b,1,b,2,b,3,b,4,b] , newParam: null, newValue: [0,a,1,a,2,a,3,a,4,a] , propertyName: text
            changeType = 'rename_thing';
            changeDescription = 'Renamed Ideas';
        } else if (e.propertyName == 'nodeDataArray' && e.change == go.ChangedEvent.Remove && propertyEquals(e.oldValue, 'isGroup', true)) {
            // delete thing
            // modelChange: nodeDataArray, change: ChangedEvent.Remove, oldParam: 5, oldValue: [text,New Idea,isGroup,true,level,0,layout,left,sExpanded,true,pExpanded,false,dExpanded,false,__gohashid,54688,group,,key,-7,loc,228.5625 -149.6875,children,0,attachments,] , newParam: null, newValue: [] , propertyName: nodeDataArray
            changeType = 'delete_thing';
        } else if (e.propertyName == 'nodeDataArray' && e.change == go.ChangedEvent.Insert && propertyEquals(e.newValue, 'isGroup', false)) {
            // add slide
            // modelChange: nodeDataArray, change: ChangedEvent.Insert, oldParam: null, oldValue: [] , newParam: 5, newValue: [key,slide-0,category,slide,index,0,isGroup,false,width,200,height,200,loc,156.5625 -97.6875,level,0,children,0,title,,notes,,__gohashid,63877] , propertyName: nodeDataArray
            changeType = 'edit_presenter';
        } else if (e.propertyName == 'nodeDataArray' && e.change == go.ChangedEvent.Remove && propertyEquals(e.oldValue, 'isGroup', false)) {
            // delete slide
            //modelChange: nodeDataArray, change: ChangedEvent.Remove, oldParam: 5, oldValue: [key,slide-0,category,slide,index,0,isGroup,false,width,200,height,200,loc,156.5625 -97.6875,level,0,children,0,title,,notes,,__gohashid,63877,$$hashKey,0XN] , newParam: null, newValue: [] , propertyName: nodeDataArray
            changeType = 'edit_presenter';
        } else if (e.propertyName == 'loc' || e.propertyName == 'width' || e.propertyName == 'height') {
            // move thing or resize slide
            // move slide
            // modelChange: , change: ChangedEvent.Property, oldParam: null, oldValue: [0,2,1,4,2,3,3, ,4,-,5,1,6,2,7,8] , newParam: null, newValue: [0,2,1,4,2,3,3, ,4,-,5,1,6,2,7,7] , propertyName: loc
            // resize slide
            // modelChange: , change: ChangedEvent.Property, oldParam: null, oldValue: [] , newParam: null, newValue: [] , propertyName: height
            // move thing
            // modelChange: , change: ChangedEvent.Property, oldParam: null, oldValue: [0,4,1,7,2,9,3,.,4,8,5,7,6,5,7, ,8,-,9,1,10,2,11,2,12,.,13,8,14,7,15,5] , newParam: null, newValue: [0,5,1,4,2,0,3,.,4,3,5,1,6,2,7,5,8, ,9,-,10,1,11,2,12,1,13,.,14,1,15,8,16,7,17,5] ,            
            changeType = 'move';
        } else if (e.propertyName == 'level' || e.propertyName == 'children') {
            // these attributes are updated as a result of other actions; ignore
            changeType = null;
        } else if (e.propertyName == 'attachments') {
            // edited attachments
            changeType = 'edit_attachments';
        } else if (e.propertyName == 'sExpanded' || e.propertyName == 'pExpanded') {
            // ignore expand/collapse
            changeType = 'move';
        } else if (e.propertyName == 'FinishedUndo' || e.propertyName == 'FinishedRedo') {
            changeType = 'undo_redo';
            map.refresh();
        } else if (e.change != go.ChangedEvent.Transaction) {
            console.log('modelChanged, modelChange: ' + e.modelChange + ', change: ' + e.change + ', oldParam: ' + e.oldParam + ', oldValue: [' + _.pairs(e.oldValue) + '] ' + ', newParam: ' + e.newParam + ', newValue: [' + _.pairs(e.newValue) + '] ' + ', propertyName: ' + e.propertyName);
        }

        if (changeType) {
            map.getAnalytics().updateContextualAnalytics();
            //console.log('calling delayedAutosave, changeType: ' + changeType);
            self.save(changeType);
        }
    };

    // convenience function for checking properties
    function propertyEquals(obj, key, value) {
        return obj !== null && _.has(obj, key) && _.result(obj, key) == value;
    }
};

},{}],6:[function(require,module,exports){
// main controller class

'use strict';

window.SandbankEditor = {};

window.MapEditorCtrl = function ($rootScope, $scope, $http, $resource, $timeout, $modal, $log) {

    $scope.map = new SandbankEditor.Map($scope, $http, $resource, $timeout, $modal, $log);

    // window.mapData is set in _form view
    var metadata = window.mapData.map.metadata;
    $scope.sandbox = metadata.sandbox;
    $scope.mapData = window.mapData.map.data; // this gets overwritten by load() unless we are in the sandbox with no map ID
    $scope.mapId = metadata.id;
    $scope.mapTitle = metadata.name;
    $scope.mapUserTags = metadata.userTags;
    $scope.mapUrl = metadata.url;
    $scope.canEdit = metadata.canEdit;
    $scope.updatedAt = metadata.updatedAt;
    $scope.updatedBy = metadata.updatedBy; // ID
    $scope.updatedByName = metadata.updatedByName;

    $scope.editingTitle = false;

    $scope.showImageExport = false;
    $scope.imageExportLoading = true;

    $scope.currentTab = null;

    // override parent scope (see user.js) since we're editing a map
    $scope.ccsTagging.mapId = $scope.mapId;

    $scope.maybeStartEditingTitle = function () {
        if ($scope.canEdit) {
            $scope.editingTitle = true;
        }
    };

    $scope.doneEditingTitle = function () {
        //console.log('doneEditingTitle');
        $scope.editingTitle = false;
        $scope.map.getAutosave().save('edit_title');
    };

    $scope.editingTitleKeypress = function (e) {
        if (e.which == 13) {
            $scope.doneEditingTitle();
        }
    };

    $scope.print = function () {
        window.print();
    };

    // ------------ save sandbox map (sign up/sign in) ---------------

    $scope.saveSandboxMap = function () {
        var modalInstance = $modal.open({
            templateUrl: 'template_sandbox_save_modal.html', // see views/users/_template_sandbox_save_modal
            backdrop: 'static',
            controller: sandboxSaveModalCtrl,
            windowClass: 'sandbox-save-modal',
            resolve: {
                outerScope: function outerScope() {
                    return $scope;
                },
                map: function map() {
                    return $scope.map;
                },
                userProfile: function userProfile() {
                    return $scope.userProfile;
                }
            }
        });

        modalInstance.result.then(function () {});
    };

    var sandboxSaveModalCtrl = function sandboxSaveModalCtrl($scope, $modalInstance, outerScope, map, userProfile) {

        $scope.map = map;
        $scope.userProfile = userProfile;

        $scope.mapData = map.getDiagram().model.toJson();
        $scope.thumbnailPng = map.getPresenter().getMapThumbnail();

        function getDefaultLoginData() {
            return {
                email: '',
                password: ''
            };
        }

        // this structure is used to store the form data, as well as the validation errors returned from the server...
        function getDefaultSignupData() {
            return {
                email: '',
                first_name: '',
                last_name: '',
                password: '',
                password_confirmation: ''
            };
        }

        $scope.loginData = getDefaultLoginData();
        $scope.loginError = '';

        $scope.signupData = getDefaultSignupData();
        $scope.signupErrors = getDefaultSignupData();

        $scope.doLogin = function () {
            $scope.loginErrors = getDefaultLoginData(); // reset errors
            $http.post('/sign_in.json', {
                user: $scope.loginData
            }).then(function (response) {
                // data is {id:XX, ...}
                outerScope.setUserId(response.data.id);
                outerScope.loadUserProfile(function () {
                    $scope.userProfile = outerScope.userProfile;
                });
            }, function (response) {
                // data is {"error": "Invalid email or password"}
                $scope.loginError = response.data.error;
            });
        };

        $scope.doSignup = function () {
            $scope.signupErrors = getDefaultSignupData(); // reset errors
            $http.post('/users.json', {
                user: $scope.signupData
            }).then(function (response) {
                // data is new user ID
                outerScope.setUserId(response.data);
                outerScope.loadUserProfile(function () {
                    $scope.userProfile = outerScope.userProfile;
                });
            }, function (response) {
                // data is e.g. {"first_name":["can't be blank"], ...}
                _.each(_.keys(response.data), function (key) {
                    $scope.signupErrors[key] = response.data[key].join('; ');
                });
            });
        };

        $scope.cancel = function () {
            $modalInstance.dismiss('cancel');
        };
    };

    sandboxSaveModalCtrl.$inject = ['$scope', '$modalInstance', 'outerScope', 'map', 'userProfile'];

    // ------------- edit status message for header bar ------------------

    $scope.editStatus = '';

    $scope.LAST_UPDATED = '';
    $scope.READ_ONLY = 'View only';
    $scope.SAVING = 'Saving...';
    $scope.SAVE_OK = 'All changes saved';
    $scope.SAVE_FAILED = 'Changes could not be saved';

    $scope.updateEditStatus = function (s) {
        //console.log('updateEditStatus: ' + s);
        $scope.editStatus = s;
        if (s == $scope.SAVE_FAILED) {
            alert('Changes could not be saved - please check your network connection.');
        } else if (s == $scope.LAST_UPDATED) {
            var time = moment($scope.updatedAt).fromNow();
            var by = '';
            if ($scope.updatedBy == $scope.userId) {
                by = 'by me';
            } else if ($scope.updatedByName) {
                by = 'by ' + $scope.updatedByName;
            }
            // TODO: show 'by me' only for editable shared maps?

            $scope.editStatus = 'Last updated ' + time + ' ' + by;
        }

        // Last edit was XX ago by YY
    };

    // -------------------------------------------------------------

    function init() {
        $scope.safeApply(function () {
            $scope.map.init();

            if (!$scope.sandbox) {
                // overview diagram
                var overview = go.GraphObject.make(go.Overview, 'overview-diagram', {
                    observed: $scope.map.getDiagram(),
                    contentAlignment: go.Spot.Center
                });
                var outline = overview.box.elements.first();
                outline.stroke = '#333';
            }

            if ($scope.mapUrl) {
                $scope.map.load();
            } else {
                $scope.map.loadForSandbox();
            }

            addBehaviors();
            handleNavigation();
            handleBackspace();
        });
    }

    // misc. UI behaviors for tooltips, popups etc.
    // TODO: figure out which of these need to be reapplied after dynamic data changes (e.g. LessonBook popovers)
    function addBehaviors() {

        // NOTE: we have to use regular bootstrap tooltips for toolbar buttons (instead of ng-bootstrap ones)
        // so we can turn them off for mobile. We also put the tooltips on wrappers rather than on the actual
        // buttons, so we can avoid the issue of stuck tooltips if a button gets disabled while the tooltip is showing.

        if (!$scope.isTouchDevice()) {
            // $('.tooltip-wrapper').tooltip({
            //     placement: 'top',
            //     container: 'body'
            // });

            // $('.dropdown-menu .btn').tooltip({
            //     placement: 'left',
            //     container: 'body'
            // }); // for layout options

            $('header, #map-title').hover(function () {
                $('body.presenter-playing').addClass('hide-header');
            }, function () {
                $('body.presenter-playing').removeClass('hide-header');
            });
        }
    }

    function handleNavigation() {
        // cross-browser tweaks:
        try {
            // http://www.opera.com/support/kb/view/827/
            opera.setOverrideHistoryNavigationMode('compatible');
            history.navigationMode = 'compatible';
        } catch (e) {}

        // install before-unload handler:

        function exitMessage() {
            return 'Navigating away from your Map will cause any unsaved changes to be lost ' + '(any changes you make are automatically saved, but it takes a couple of seconds).';
        }

        //        $(window).bind('beforeunload', exitMessage);

        // prevent exit prompt when the user deliberately navigates away:

        $('#header-right a').click(function () {
            $(window).unbind('beforeunload', exitMessage);
        });
    }

    function handleBackspace() {
        var BACKSPACE = 8;

        $(document).on('keydown', function (event) {
            if (event.keyCode === BACKSPACE) {
                if (!$('body :focus').is(':input')) {
                    // prevent accidental backspace when no input has focus:
                    event.preventDefault();
                    event.stopPropagation();
                }
            }
        });
    }

    init();
};

window.MapEditorCtrl.$inject = ['$rootScope', '$scope', '$http', '$resource', '$timeout', '$modal', '$log'];

// no biggie.

},{}],7:[function(require,module,exports){
'use strict';

window.SandbankEditorOptions = {};

SandbankEditorOptions = function ($scope, $http, $resource, $modal, $log) {

    this.openModal = function (_options, _onSaveDefaults, _onUpdate) {
        var modalInstance = $modal.open({
            templateUrl: 'template_editor_options_modal.html', // see views/maps/_template_editor_options_modal
            backdrop: 'static',
            controller: optionsModalCtrl,
            windowClass: 'options-modal',
            resolve: {
                options: function options() {
                    return _options;
                },
                onSaveDefaults: function onSaveDefaults() {
                    return _onSaveDefaults;
                },
                onUpdate: function onUpdate() {
                    return _onUpdate;
                }
            }
        });

        modalInstance.result.then(function () {});
    };

    // --------------- controller for options modal ---------------------

    var optionsModalCtrl = function optionsModalCtrl($scope, $modalInstance, options, onSaveDefaults, onUpdate) {

        $scope.options = options;

        $scope.setDefaults = {
            value: false
        };

        $scope.ok = function () {
            onUpdate($scope.options);
            if ($scope.setDefaults.value) {
                onSaveDefaults($scope.options);
            }
            $modalInstance.close();
        };

        $scope.cancel = function () {
            $modalInstance.dismiss('cancel');
        };
    };

    optionsModalCtrl.$inject = ['$scope', '$modalInstance', 'options', 'onSaveDefaults', 'onUpdate'];
};

},{}],8:[function(require,module,exports){
// controller for public maps

'use strict';

window.MapsFeedCtrl = function ($scope, $http, $resource, $modal, $log) {

    $scope.showAdvancedSearch = true;
    $scope.loadingFeed = false;

    $scope.events = [];
    $scope.organizations = [];
    $scope.adminTags = [];

    $scope.sortOptions = [{
        name: 'MOST_RECENT',
        label: 'Most Recent'
    }, {
        name: 'MOST_LIKED',
        label: 'Most Liked'
    }, {
        name: 'MOST_COMMENTED',
        label: 'Most Commented'
    }];

    $scope.filters = [{
        name: 'ALL',
        label: 'All Public Maps'
    }, {
        name: 'FOLLOWED_MAPS',
        label: 'Maps I Follow'
    }, {
        name: 'LIKED_MAPS',
        label: 'Maps I\'ve Liked'
    }, {
        name: 'FOLLOWED_PEOPLE',
        label: 'Maps by People I Follow'
    }, {
        name: 'TAGGED_MAPS',
        label: 'Maps Tagged with My Tags'
    }];

    function getDefaultSearchParams() {
        return {
            text: '',
            organizationId: '',
            adminTagId: '',
            tags: [],
            standards: [],
            withSlides: false,
            withActivitySlides: false,
            sortBy: 'MOST_RECENT',
            filter: 'ALL'
        };
    }

    $scope.searchParams = getDefaultSearchParams();

    $scope.searchParamsToQueryString = function () {
        var sp = $scope.searchParams;
        return 'text=' + sp.text + '&organizationId=' + sp.organizationId + '&adminTagId=' + sp.adminTagId + '&tags=' + sp.tags + '&standards=' + sp.standards + '&withSlides=' + sp.withSlides + '&withActivitySlides=' + sp.withActivitySlides + '&sortBy=' + sp.sortBy + '&filter=' + sp.filter;
    };

    // ----------- query string params to show single event for notifications -------------

    $scope.getNotificationSearchParams = function () {
        var params = _.map(['like', 'comment', 'share'], function (action) {
            return action + '_id=' + (_.has($scope.params, action + '_id') ? $scope.params[action + '_id'] : 'null');
        });
        return params.join('&');
    };

    // $scope.params is set in user.js
    $scope.isSingleCommentView = function () {
        return _.has($scope.params, 'comment_id') && $scope.params['comment_id'] != null;
    };

    // ---------------- map data -----------------

    $scope.eventLimit = 10;

    $scope.loadFeed = function (increment) {

        if (increment) {
            $scope.eventLimit += increment;
        }

        $scope.loadingFeed = true;
        startSpinner();
        $http.get('/maps/feed.json?' + $scope.searchParamsToQueryString() + '&' + $scope.getNotificationSearchParams() + '&limit=' + $scope.eventLimit).then(function (response) {
            $scope.events = response.data.events;
            $scope.organizations = response.data.organizations;
            $scope.adminTags = response.data.adminTags;
            stopSpinner();
            $scope.loadingFeed = false;
        }, function () {
            stopSpinner();
            $scope.loadingFeed = false;
            alert('Could not load MetaMap feed');
        });
    };

    $scope.loadFeed();

    // -------------- infinite scrolling ------------------

    $scope.moreEvents = function () {
        console.log('moreEvents!');
        if (!$scope.loadingFeed) {
            $scope.loadFeed(10);
        }
    };

    // -------------- search form ------------------

    $scope.doSearch = function () {
        $scope.loadFeed();
    };

    $scope.resetSearch = function () {
        $scope.searchParams = getDefaultSearchParams();
        $scope.showAdvancedSearch = false;
        $scope.loadFeed();
    };

    // -------------- view helpers -----------------

    $scope.getTotalTagCount = function (event) {
        return event.map.userTags.length + event.map.adminTags.length + event.map.ccsTags.length;
    };

    // ------------- comment on a map -----------------

    // these are indexed by the index of the event in the feed
    $scope.showAllComments = [];
    $scope.newComments = [];

    // NB: when posting a new comment we don't reload the feed, so
    // that the new comment will stay visible rather than having the
    // feed scroll to the top.
    $scope.addComment = function (eventIndex) {
        var event = $scope.events[eventIndex];
        var mapId = event.map.id;
        var comment = $scope.newComments[eventIndex];
        $http.post('/comments', {
            map_id: mapId,
            text: comment
        }).then(function (response) {
            event.map.comments.push({
                authorId: $scope.userId,
                text: comment,
                updatedAt: event.now,
                author: {
                    id: $scope.userId,
                    name: $scope.userName,
                    avatar: $scope.userProfile.user.avatar
                }
                // TODO: figure out how to show true current time, rather than event.now,
                // which could be a minute or two ago... ??
            });
            $scope.newComments[eventIndex] = ''; // clear edit field
        }, function () {
            alert('Could not post your comment');
        });
    };

    $scope.deleteComment = function (eventIndex, commentId) {
        // console.log('eventIndex: ' + eventIndex);
        var event = $scope.events[eventIndex];
        var mapId = event.map.id;
        $http['delete']('/comments/' + commentId).then(function (response) {
            event.map.comments = _.filter(event.map.comments, function (elt) {
                return elt.id != commentId;
            });
        }, function () {
            alert('Could not delete your comment');
        });
    };

    $scope.focusNewComment = function (eventIndex) {
        $scope.showAllComments[eventIndex] = !$scope.showAllComments[eventIndex];
        window.setTimeout(function () {
            $('#new-comment_' + eventIndex).focus();
        }, 300);
    };

    // ------------- like a map -----------------

    $scope.addLike = function (map) {
        $http.post('/likes', {
            map_id: map.id
        }).then(function (response) {
            //console.log('addLike, response:', response);
            map.likeCount = response.data;
        }, function () {});
    };

    // ----------------- follow a map -----------------

    $scope.addMapFollow = function (map) {
        $http.post('/map_follows', {
            map_id: map.id
        }).then(function (response) {
            map.followCount = response.data;
        }, function () {});
    };
};

window.MapsFeedCtrl.$inject = ['$scope', '$http', '$resource', '$modal', '$log'];

},{}],9:[function(require,module,exports){
// functions for the generator (aka ThinkQuery)

'use strict';

var GeneratorCtrl = function GeneratorCtrl($scope) {

    var map = $scope.map;
    var diagram = $scope.map.getDiagram();

    $scope.concept1 = '';
    $scope.concept2 = '';

    $scope.echoConcept1 = function () {
        return $scope.concept1 || '...';
    };

    $scope.echoConcept2 = function () {
        return $scope.concept2 || '...';
    };

    $scope.swapConcepts = function () {
        var tmp = $scope.concept1;
        $scope.concept1 = $scope.concept2;
        $scope.concept2 = tmp;
        $scope.safeApply();
    };

    $scope.mapIt = function (question) {
        startSpinner();
        diagram = map.getDiagram();
        map.getAutosave().saveOnModelChanged = false;

        if ($scope.sandbox) {
            diagram.clear();
        }

        // figure out location for inserted stuff
        var db = map.computeMapBounds();
        var x = db.x + db.width + 200;
        var y = db.y;
        if (isNaN(x) || isNaN(y)) {
            x = y = 0;
        }
        //console.log('x, y: ' + x + ', ' + y);

        // insert the stuff and deselect it
        question(x, y);
        diagram.clearSelection();

        diagram.updateAllTargetBindings();
        diagram.layoutDiagram(true);

        map.getUi().resetZoom();

        map.getAutosave().saveOnModelChanged = true;
        map.getAutosave().save('edit_generator');
        stopSpinner();
    };

    $scope.selectedQuestion = null;

    $scope.selectQuestion = function (question) {
        $scope.selectedQuestion = question;
        if ($scope.sandbox) {
            $scope.mapIt(question);
        }
    };

    $scope.surpriseMe = function () {
        var keys = _.keys($scope.queries);
        var i = _.random(0, keys.length - 1);
        var question = $scope.queries[keys[i]];
        $scope.selectedQuestion = question;
        $scope.mapIt(question);

        $('#questions').animate({ scrollTop: i * 30 }, 1000);
    };

    // ---------- functions for creating each of the structures - see views/maps/generator_tab -----------

    $scope.queries = {

        WHAT_IS: function WHAT_IS(x, y) {
            // 1
            var thing1 = map.createThing(x, y, $scope.echoConcept1());
            diagram.model.setDataProperty(thing1.data, 'dflag', true);
            map.createChild(thing1, 'is?');
            map.createChild(thing1, 'is?');
            map.createChild(thing1, 'is?');
        },

        WHAT_IS_NOT: function WHAT_IS_NOT(x, y) {
            // 2
            var thing1 = map.createThing(x, y, $scope.echoConcept1());
            diagram.model.setDataProperty(thing1.data, 'dflag', true);
            map.createChild(thing1, 'is not?');
            map.createChild(thing1, 'is not?');
            map.createChild(thing1, 'is not?');
        },

        DISTINGUISH_BETWEEN: function DISTINGUISH_BETWEEN(x, y) {
            // 3
            var thing1 = map.createThing(x, y, $scope.echoConcept1());
            diagram.model.setDataProperty(thing1.data, 'dflag', true);
            map.createChild(thing1, 'is?');
            map.createChild(thing1, 'is?');
            map.createChild(thing1, 'is?');

            var thing2 = map.createThing(x + 250, y, $scope.echoConcept2());
            diagram.model.setDataProperty(thing2.data, 'dflag', true);
            map.createChild(thing2, 'is?');
            map.createChild(thing2, 'is?');
            map.createChild(thing2, 'is?');
        },

        COMPARE_CONTRAST: function COMPARE_CONTRAST(x, y) {
            // 4
            var thing1 = map.createThing(x - 150, y, $scope.echoConcept1());
            var thing2 = map.createThing(x + 150, y, $scope.echoConcept2());
            diagram.model.setDataProperty(thing1.data, 'dflag', true);
            diagram.model.setDataProperty(thing2.data, 'dflag', true);
            var rthing1 = map.createRLinkWithRThing(thing1, thing2, 'contrast');
            var rthing2 = map.createRLinkWithRThing(thing1, thing2, 'compare');
            diagram.model.setDataProperty(rthing1.labeledLink.data, 'type', 'toFrom');
            diagram.model.setDataProperty(rthing2.labeledLink.data, 'type', 'toFrom');
        },

        PARTS_OF: function PARTS_OF(x, y) {
            // 5
            var thing1 = map.createThing(x, y, $scope.echoConcept1());
            map.createChild(thing1, 'part?');
            map.createChild(thing1, 'part?');
            map.createChild(thing1, 'part?');
        },

        PART_OF: function PART_OF(x, y) {
            // 6
            var thing1 = map.createThing(x, y, 'part of?');
            map.createChild(thing1, $scope.echoConcept1());
        },

        PARTS_HAVE_PARTS: function PARTS_HAVE_PARTS(x, y) {
            // 7
            var thing1 = map.createThing(x, y, $scope.echoConcept1());
            var child1 = map.createChild(thing1, 'part?');
            map.createChild(child1, 'part?');
            map.createChild(child1, 'part?');
            var child2 = map.createChild(thing1, 'part?');
            map.createChild(child2, 'part?');
            map.createChild(child2, 'part?');
        },

        R_PARTS: function R_PARTS(x, y) {
            // 8
            var thing1 = map.createThing(x, y, $scope.echoConcept1());
            var thing2 = map.createThing(x + 250, y, $scope.echoConcept2());
            var rthing = map.createRLinkWithRThing(thing1, thing2, 'relationship?');
            map.createChild(rthing, 'part?');
            map.createChild(rthing, 'part?');
        },

        P_PARTS: function P_PARTS(x, y) {
            // 9
            var thing1 = map.createThing(x + 300, y, $scope.echoConcept1());
            var child1 = map.createChild(thing1, 'part seen from viewpoint of ' + $scope.echoConcept2() + '?');
            var child2 = map.createChild(thing1, 'part seen from viewpoint of ' + $scope.echoConcept2() + '?');
            var child3 = map.createChild(thing1, 'part seen from viewpoint of ' + $scope.echoConcept2() + '?');
            var thing2 = map.createThing(x, y, $scope.echoConcept2());
            map.createPLink(thing2, thing1);
            map.createPLink(thing2, child1);
            map.createPLink(thing2, child2);
            map.createPLink(thing2, child3);
        },

        RS_TO_AND_BY: function RS_TO_AND_BY(x, y) {
            // 10
            var related1 = map.createThing(x, y, 'related idea?');
            var related2 = map.createThing(x + 300, y + 50, 'related idea?');
            var related3 = map.createThing(x + 50, y + 300, 'related idea?');
            var thing = map.createThing(x + 130, y + 130, $scope.echoConcept1());
            map.createRLink(related1, thing);
            map.createRLink(related2, thing);
            map.createRLink(related3, thing);

            var thing1 = map.createThing(x + 500, y + 150, 'idea?');
            var thing2 = map.createThing(x + 750, y + 150, 'idea?');
            map.createRLinkWithRThing(thing1, thing2, $scope.echoConcept1());
        },

        WHAT_IS_R: function WHAT_IS_R(x, y) {
            // 11
            var thing1 = map.createThing(x, y, $scope.echoConcept1());
            var thing2 = map.createThing(x + 250, y, $scope.echoConcept2());
            map.createRLinkWithRThing(thing1, thing2, 'idea?');
        },

        PART_RS_ARE: function PART_RS_ARE(x, y) {
            // 12
            var thing1 = map.createThing(x + 30, y, $scope.echoConcept1(), 'freehand');
            var child1 = map.createChild(thing1, 'part?');
            var child2 = map.createChild(thing1, 'part?');
            var child3 = map.createChild(thing1, 'part?');
            diagram.model.setDataProperty(child1.data, 'loc', '-20 110');
            diagram.model.setDataProperty(child2.data, 'loc', '80 110');
            diagram.model.setDataProperty(child3.data, 'loc', '30 190');
            map.createRLinkWithRThing(child1, child2, 'relationship?');
            map.createRLinkWithRThing(child2, child3, 'relationship?');
            map.createRLinkWithRThing(child3, child1, 'relationship?');
        },

        PART_RS_EXIST: function PART_RS_EXIST(x, y) {
            // 13
            var thing1 = map.createThing(x, y, $scope.echoConcept1(), 'right');
            var child11 = map.createChild(thing1, 'part?');
            var child12 = map.createChild(thing1, 'part?');
            var child13 = map.createChild(thing1, 'part?');
            var thing2 = map.createThing(x + 250, y, $scope.echoConcept2());
            var child21 = map.createChild(thing2, 'part?');
            var child22 = map.createChild(thing2, 'part?');
            var child23 = map.createChild(thing2, 'part?');
            map.createRLink(thing1, thing2);
            map.createRLinkWithRThing(child11, child21, 'relationship?');
            map.createRLinkWithRThing(child12, child22, 'relationship?');
            map.createRLinkWithRThing(child13, child23, 'relationship?');
        },

        RS_WITH_OTHERS: function RS_WITH_OTHERS(x, y) {
            // 14
            var thing1 = map.createThing(x - 200, y, $scope.echoConcept1());
            var thing2 = map.createThing(x + 200, y, $scope.echoConcept2());
            var thing3 = map.createThing(x - 200, y + 200, 'another thing');
            var thing4 = map.createThing(x + 200, y + 200, 'another thing');
            map.createRLinkWithRThing(thing1, thing2, 'relationship?');
            map.createRLinkWithRThing(thing1, thing3, 'relationship?');
            map.createRLinkWithRThing(thing1, thing4, 'relationship?');
            map.createRLinkWithRThing(thing2, thing4, 'relationship?');
            map.createRLinkWithRThing(thing3, thing4, 'relationship?');
        },

        PARTS_OF_P: function PARTS_OF_P(x, y) {
            // 15
            var thing1 = map.createThing(x - 100, y, $scope.echoConcept1());
            var child1 = map.createChild(thing1, 'part?');
            var child2 = map.createChild(thing1, 'part?');
            var child3 = map.createChild(thing1, 'part?');
            var thing2 = map.createThing(x + 100, y, $scope.echoConcept2());
            map.createPLink(thing1, thing2);
        },

        POINT_FOR: function POINT_FOR(x, y) {
            // 16
            var thing = map.createThing(x, y, 'new perspective');
            var thing1 = map.createThing(x - 150, y + 150, $scope.echoConcept1());
            var thing2 = map.createThing(x + 150, y + 150, $scope.echoConcept2());
            var rthing = map.createRLinkWithRThing(thing1, thing2, 'relationship?');
            map.createPLink(thing, rthing);
        },

        HAS_MULTIPLE_PS: function HAS_MULTIPLE_PS(x, y) {
            // 17
            var point1 = map.createThing(x, y + 50, 'viewpoint?');
            var point2 = map.createThing(x + 250, y, 'viewpoint?');
            var point3 = map.createThing(x + 500, y + 50, 'viewpoint?');
            var view = map.createThing(x + 250, y + 250, $scope.echoConcept1());
            map.createPLink(point1, view);
            map.createPLink(point2, view);
            map.createPLink(point3, view);
        },

        PARTS_FROM_MULTIPLE_PS: function PARTS_FROM_MULTIPLE_PS(x, y) {
            // 18
            var point1 = map.createThing(x - 100, y, 'viewpoint?');
            var point2 = map.createThing(x - 100, y + 125, 'viewpoint?');
            var point3 = map.createThing(x - 100, y + 250, 'viewpoint?');
            var thing = map.createThing(x + 150, y + 25, $scope.echoConcept1());
            var child1 = map.createChild(thing, 'part seen from viewpoint?');
            var child2 = map.createChild(thing, 'part seen from viewpoint?');
            var child3 = map.createChild(thing, 'part seen from viewpoint?');
            map.createPLink(point1, child1);
            map.createPLink(point1, child2);
            map.createPLink(point2, child2);
            map.createPLink(point3, child3);
        },

        WHAT_ABOUT: function WHAT_ABOUT(x, y) {
            // 19
            $scope.queries.WHAT_IS(x, y);
            $scope.queries.PARTS_OF(x + 300, y);
            $scope.queries.PARTS_FROM_MULTIPLE_PS(x + 700, y);
            $scope.queries.RS_TO_AND_BY(x, y + 400);
        }
    }; // queries
};

GeneratorCtrl.$inject = ['$scope'];

SandbankEditor.Generator = function ($scope, map) {

    this.init = function () {};

    // called when a tab is opened or closed
    this.currentTabChanged = function (newValue, oldValue) {
        if (oldValue == map.getUi().TAB_ID_GENERATOR) {
            // closing tab
            map.setEditingBlocked(false);
        } else if (newValue == map.getUi().TAB_ID_GENERATOR) {
            // opening tab
            map.setEditingBlocked(true);
        }
    };

    // these get filtered out in LessonBook
    this.getPlaceholderIdeaNames = function () {
        return ['is?', 'is not?', 'part?', 'viewpoint?', 'related idea?', 'idea?', 'part seen from viewpoint?', 'contrast?', 'comparison?', 'relationship?'];
    };
};

// NB: generator is opened on load of empty map; see map.js:load()

},{}],10:[function(require,module,exports){
'use strict';

window.GorgesGrid = {};

// model for row selection

GorgesGrid.RowSelection = function () {

    var self = this;

    this.selectAll = false;
    this.selectedRowIndexes = [];

    this.deselectAll = function () {
        self.selectedRowIndexes = [];
        self.selectAll = false;
    };

    this.toggleSelectAll = function (rowCount) {
        self.selectAll = !self.selectAll;
        if (self.selectAll) {
            for (var i = 0; i < rowCount; i++) {
                self.selectedRowIndexes[i] = true;
            }
        } else {
            self.deselectAll();
        }
    };

    this.selectedRowCount = function () {
        return _.filter(self.selectedRowIndexes, function (i) {
            return i === true;
        }).length;
    };
};

// model for view tree expansion

GorgesGrid.ViewTreeState = function () {

    var self = this;

    this.expandedViews = [];
    this.childSorts = {};

    this.toggleViewExpansion = function (viewName) {
        var i = _.indexOf(self.expandedViews, viewName);
        if (i != -1) {
            self.expandedViews.splice(i, 1);
        } else {
            self.expandedViews.push(viewName);
        }
    };

    this.expandView = function (viewName) {
        if (!self.viewIsExpanded(viewName)) self.toggleViewExpansion(viewName);
    };

    this.collapseView = function (viewName) {
        if (self.viewIsExpanded(viewName)) self.toggleViewExpansion(viewName);
    };

    this.viewIsExpanded = function (viewName) {
        return _.indexOf(self.expandedViews, viewName) != -1;
    };

    this.setChildSort = function (view, sort) {
        self.childSorts[view.name] = sort;
    };

    // returns the state saved herein if set, so the order doesn't change when the grid is refreshed
    this.getChildSort = function (view) {
        return self.childSorts[view.name] || view.childSort;
    };
};

// model for storing paging/sorting settings - see also listing_params.rb

GorgesGrid.ListingParams = function () {

    var self = this;

    this.page = 1; // NB: pages are 1-based
    this.pageSize = 100;
    this.sortBy = 'id';
    this.sortOrder = 'asc';
    this.viewName = '';
    this.filters = '';
    this.totalItems = 0;
    this.pageCount = 0;

    this.setSortBy = function (col) {
        if (self.sortBy === col) {
            self.sortOrder = self.sortOrder === 'asc' ? 'desc' : 'asc';
        } else {
            self.sortOrder = 'asc';
        }
        self.sortBy = col;
        self.page = 1;
    };

    // returns the current sort order if sortBy is set to the given column, else null
    this.getSortOrder = function (col) {
        if (self.sortBy === col) {
            return self.sortOrder;
        } else {
            return null;
        }
    };

    this.toQueryString = function () {
        return 'page=' + self.page + '&pageSize=' + self.pageSize + '&sortBy=' + self.sortBy + '&sortOrder=' + self.sortOrder + '&viewName=' + self.viewName + '&filter=' + self.filters + '&totalItems=' + self.totalItems + '&pageCount=' + self.pageCount;
    };
};

},{}],11:[function(require,module,exports){
// functions handling history display

'use strict';

SandbankEditor.History = function ($scope, $http, map) {

    var self = this;

    // this is updated on map load and after every autosave, in map.loadMapExtraData
    this.versionList = null;
    this.currentVersion = null; // e.g. { index: 0, id: 2, change_description: ..., created_at: ... }
    this.isPlaying = false;
    this.playTimer = null;

    this.init = function () {};

    // called when a tab is opened or closed
    this.currentTabChanged = function (newValue, oldValue) {
        if (newValue == map.getUi().TAB_ID_HISTORY) {
            // opening tab
            // load current version, but in read-only mode
            var version = _.last(self.versionList);
            if (version) {
                self.loadVersion(version);
            }
        }
        if (oldValue == map.getUi().TAB_ID_HISTORY) {
            // closing tab
            // reload map
            map.load();
        }
    };

    // loads model data for an individual version and displays it
    this.loadVersion = function (version) {
        self.currentVersion = version;
        map.loadVersion(version.id);

        window.setTimeout(function () {
            // center view on current history item:
            $('#history-list-wrapper').center($('#history-list .current'));
        }, 10);
    };

    this.getVersionDescription = function (version) {
        return version ? version.change_description : '';
    };

    this.advanceVersion = function (increment) {
        if (self.versionList) {
            var currentIndex = _.indexOf(self.versionList, self.currentVersion);
            var newIndex = currentIndex + increment;
            if (currentIndex != -1 && newIndex >= 0 && newIndex <= self.versionList.length - 1) {
                self.currentVersion = self.versionList[newIndex];
                self.loadVersion(self.currentVersion);
            }
        }
    };

    this.firstVersion = function () {
        if (self.versionList) {
            self.currentVersion = self.versionList[0];
            self.loadVersion(self.currentVersion);
        }
    };

    this.lastVersion = function () {
        if (self.versionList) {
            self.currentVersion = self.versionList[self.versionList.length - 1];
            self.loadVersion(self.currentVersion);
        }
    };

    this.isOnFirstVersion = function () {
        // return self.versionList != null && self.currentVersion != null && _.first(self.versionList).id == self.currentVersion.id;
        return self.versionList && _.indexOf(self.versionList, self.currentVersion) === 0;
    };

    this.isOnLastVersion = function () {
        // return self.versionList != null && self.currentVersion != null && _.last(self.versionList).id == self.currentVersion.id;
        return self.versionList && _.indexOf(self.versionList, self.currentVersion) == self.versionList.length - 1;
    };

    this.startPlaying = function () {
        self.isPlaying = true;
        keepPlaying();
        $scope.safeApply();
    };

    function keepPlaying() {
        if (self.currentVersion == _.last(self.versionList)) {
            self.firstVersion();
        } else {
            self.advanceVersion(1);
        }
        self.playTimer = setTimeout(keepPlaying, 1000);
    }

    this.stopPlaying = function () {
        self.isPlaying = false;
        clearTimeout(self.playTimer);
        $scope.safeApply();
    };
};

},{}],12:[function(require,module,exports){
// functions for joining nation, with a modal dialog

'use strict';

window.SandbankJoinNation = {};

SandbankJoinNation = function ($scope, $http, $modal) {

    this.openModal = function (_orgId, _orgName) {
        var modalInstance = $modal.open({
            templateUrl: 'template_join_nation_modal.html', // see views/memberships/_template_join_nation_modal
            backdrop: 'static',
            controller: joinModalCtrl,
            windowClass: 'tags-modal',
            resolve: {
                orgId: function orgId() {
                    return _orgId;
                },
                orgName: function orgName() {
                    return _orgName;
                }
            }
        });

        modalInstance.result.then(function () {
            $scope.loadUserProfile();
        });
    };

    // --------------- controller for join modal ---------------------

    var joinModalCtrl = function joinModalCtrl($scope, $modalInstance, orgId, orgName) {

        $scope.orgId = orgId;
        $scope.orgName = orgName;

        // need a dot!
        $scope.formData = {
            joinCode: ''
        };

        $scope.error = '';

        function joinOrg() {
            $http.post('/memberships.json', {
                organization_id: $scope.orgId,
                join_code: $scope.formData.joinCode
            }).then(function (response) {
                $modalInstance.close();
                alert('Welcome! You are now a member of ' + $scope.orgName + '.');
            }, function () {
                $scope.error = 'Could not join ThinkNation - did you enter the correct code?';
            });
        }

        $scope.ok = function () {
            joinOrg();
        };

        $scope.cancel = function () {
            $modalInstance.dismiss('cancel');
        };
    };

    joinModalCtrl.$inject = ['$scope', '$modalInstance', 'orgId', 'orgName'];
};

},{}],13:[function(require,module,exports){
// layouts used in the editor, for the diagram or individual Groups, plus layout-related functions

'use strict';

SandbankEditor.Layouts = function ($scope, map) {

    var self = this;

    this.init = function () {};

    this.handleDiagramEvent = function (eventName, e) {
        var diagram = map.getDiagram();
        if (eventName == 'InitialLayoutCompleted') {
            diagram.updateAllTargetBindings();
            diagram.layoutDiagram(true);
        } else if (eventName == 'SelectionMoved') {
            updateSelectedPartLocationData(e);
            map.getDiagram().layoutDiagram(true);
        } else if (eventName == 'SelectionDeleted') {
            diagram.updateAllTargetBindings();
        } else if (eventName == 'PartCreated') {} else if (eventName == 'PartResized') {
            setResizedPartDimensionData(e);
        } else if (eventName == 'LinkDrawn') {
            adjustLinkLayout(e.subject);
        } else if (eventName == 'LinkRelinked') {
            adjustLinkLayout(e.subject);
        }
    };

    // ------------ handle location/size attributes for nodes ---------------

    // only update w/h for slides, as all other node types have fixed dimensions according to the templates
    function setResizedPartDimensionData(e) {
        var diagram = map.getDiagram();
        var node = e.subject;
        if (node && node.category == 'slide') {
            //console.log('PartResized: ' + node.part.actualBounds);
            diagram.model.setDataProperty(node.data, 'width', node.part.actualBounds.width);
            diagram.model.setDataProperty(node.data, 'height', node.part.actualBounds.height);
        }
    }

    // set the 'loc' attribute for a new top-level node (created by double-clicking), to support freehand layout
    this.setNewPartLocationData = function (e) {
        var node = e.subject;
        if (node && node.part) {
            if (node instanceof go.Group) {
                map.getDiagram().model.setDataProperty(node.data, 'loc', node.part.location.x + ' ' + node.part.location.y);
            }
        }
    };

    // updates the 'loc' attribute for each selected part, to support freehand layout (does not apply to slides)
    function updateSelectedPartLocationData(e) {
        var diagram = map.getDiagram();
        var it = diagram.selection.iterator;
        while (it.next()) {
            if (it.value instanceof go.Group) {
                // thing
                var part = it.value;
                var parentX = 0;
                var parentY = 0;
                if (part.containingGroup) {
                    parentX = part.containingGroup.location.x;
                    parentY = part.containingGroup.location.y;
                }
                console.log('moving group, subject: ' + e.subject + ', part: ' + part + ', height: ' + part.part.desiredSize.height + ', location: ' + part.part.location);
                if (!isNaN(part.location.x)) {
                    diagram.model.setDataProperty(part.data, 'loc', part.location.x - parentX + ' ' + (part.location.y - parentY));
                }
            }
        }
    }

    // ----------- changing layouts of things and their descendants ----------------

    this.fromAndToNodesAreVisible = function (link) {
        return link.fromNode && link.toNode && !self.hasCollapsedAncestor(link.fromNode) && !self.hasCollapsedAncestor(link.toNode);
    };

    this.labelNodeIsVisible = function (link) {
        return link.labelNodes.count && link.labelNodes.first().visible;
    };

    this.hasCollapsedAncestor = function (group) {
        while (true) {
            if (!group.containingGroup) {
                return false;
            } else if (!group.containingGroup.isSubGraphExpanded) {
                return true;
            } else {
                group = group.containingGroup;
            }
        }
    };

    // this.hasLinkLabelAncestor = function(group) {
    //     while (true) {
    //         if (!group.containingGroup) {
    //             return false;
    //         }
    //         else if (group.containingGroup.isLinkLabel) {
    //             return true;
    //         }
    //         else {
    //             group = group.containingGroup;
    //         }
    //     }
    // };

    this.getHighestAncestorWithLayout = function (group, layoutNames) {
        while (true) {
            if (!group.containingGroup) {
                return false;
            } else if (_.contains(layoutNames, group.containingGroup.data.layout)) {
                return group.containingGroup;
            } else {
                group = group.containingGroup;
            }
        }
    };

    this.areSistersInInventoryLayout = function (group1, group2) {
        return group1.containingGroup == group2.containingGroup && group1.containingGroup && _.contains(['left', 'right'], group1.containingGroup.data.layout);
    };

    this.isNotWithinInventoryLayout = function (group) {
        return !self.isWithinInventoryLayout(group);
    };

    this.isRThingWithinInventoryLayout = function (group) {
        return group.isLinkLabel && self.isWithinInventoryLayout(group);
    };

    this.isWithinInventoryLayout = function (group) {
        return self.isWithinLayout(group, ['left', 'right']);
    };

    this.isWithinLeftInventoryLayout = function (group) {
        return self.isWithinLayout(group, ['left']);
    };

    this.isWithinRightInventoryLayout = function (group) {
        return self.isWithinLayout(group, ['right']);
    };

    this.isWithinFreehandLayout = function (group) {
        return self.isWithinLayout(group, ['freehand']);
    };

    this.isWithinStackedLayout = function (group) {
        return self.isWithinLayout(group, ['stacked']);
    };

    this.isWithinLayout = function (group, layoutNames) {
        while (true) {
            if (!group.containingGroup) {
                //console.log('isWithinLayout: ' + group + 'layouts: ' + layoutNames.join() + ': false');
                return false;
            } else if (_.contains(layoutNames, group.containingGroup.data.layout)) {
                //console.log('isWithinLayout: ' + group + 'layouts: ' + layoutNames.join() + ': true');
                return true;
            } else {
                group = group.containingGroup;
            }
        }
    };

    this.showLeftTextBlock = function (group) {
        return self.isWithinRightInventoryLayout(group) && !self.isWithinStackedLayout(group) && !group.isLinkLabel;
    };

    this.showRightTextBlock = function (group) {
        return self.isWithinLeftInventoryLayout(group) && !self.isWithinStackedLayout(group) && !group.isLinkLabel;
    };

    this.setDescendantLayouts = function (group, layoutName) {
        if (layoutName == 'left' || layoutName == 'right' || layoutName == 'stacked') {
            var it = group.memberParts.iterator;
            while (it.next()) {
                var part = it.value;
                if (part instanceof go.Group && !part.isLinkLabel) {
                    part.data.layout = layoutName;
                    self.setDescendantLayouts(part, layoutName);
                }
            }
        } else if (layoutName == 'freehand') {}
    };

    this.disableLayoutForSelectedThings = function (layoutName) {
        var it = map.getDiagram().selection.iterator;
        if (!it.count) {
            return true;
        }
        while (it.next()) {
            if (!(it.value instanceof go.Group)) {
                return true;
            } else {
                var group = it.value;
                if (self.isWithinLayout(group, ['left', 'right', 'stacked'])) {
                    return true;
                }
            }
        }
        return false;
    };

    // -------------- scaling functions, etc. ----------------------

    // Computes the level of this group
    this.computeLevel = function (group) {
        //console.log('computeLevel, part: ' + part + ', containingGroup: ' + part.containingGroup);
        if (!(group instanceof go.Group) || group.containingGroup === null) {
            return 0;
        } else {
            return self.computeLevel(group.containingGroup) + 1;
        }
    };

    // gets the basic scaling for thing squares, by level
    function getThingScale(level) {
        return Math.pow(0.45, level); // 1, .45, .2025, .091125, ...
    }

    // this is only used for groups
    this.getScale = function (group, visitedGroupKeys) {
        if (group) {
            // keep track of groups we've visited to avoid infinite recursion
            // TODO: track down exactly how infinite loops are occurring,
            // or IF they still are since map.checkModel was introduced...
            if (visitedGroupKeys && Array.isArray(visitedGroupKeys)) {
                //console.log('visitedGroupKeys: ' + visitedGroupKeys);
                if (_.contains(visitedGroupKeys, group.data.key)) {
                    //console.log('hit already visited key: ' + group.data.key);
                    return 1;
                } else {
                    visitedGroupKeys.push(group.data.key);
                }
            } else {
                visitedGroupKeys = [group.data.key];
            }

            if (group.labeledLink) {
                // R-thing
                var fromScale = self.getScale(group.labeledLink.fromNode, visitedGroupKeys);
                var toScale = self.getScale(group.labeledLink.toNode, visitedGroupKeys);
                //console.log('getScale, fromScale: ' + fromScale + ', toScale: ' + toScale + ', visitedGroupKeys: ' + visitedGroupKeys.join(','));
                return Math.min(fromScale, toScale) * 0.5;
            } else if (group.containingGroup) {
                return self.getScale(group.containingGroup, visitedGroupKeys) * 0.45;
            } else {
                return getThingScale(self.computeLevel(group));
            }
        }
        return 1; // can occur when dragging R to empty space
    };

    // gets the margin to be used in stack layout between this group's children
    function getStackMargin(group) {
        return 10 / 0.45 * self.getScale(group);
    }

    // gets the margin to be used in stack layout between this group's children
    function getInventoryMargin(group) {
        if (self.computeLevel(group) <= 2) {
            return 10 * self.getScale(group);
        } else {
            return 3 * self.getScale(group);
        }
    }

    this.getExternalTextScale = function (group) {
        return 1 - 0.1 * self.computeLevel(group);
    };

    this.getLinkStrokeWidth = function (link) {
        var fromScale = self.getScale(link.fromNode);
        var toScale = self.getScale(link.toNode);
        return (link.isSelected ? 4 : 2) * Math.min(fromScale, toScale); // 2, .9, ...
    };

    // scale arrowheads based on the smallest to/from node,
    // or just the To node for P links
    this.getArrowheadScale = function (link) {
        var fromScale = self.getScale(link.fromNode);
        var toScale = self.getScale(link.toNode);
        var minScale = Math.min(fromScale, toScale);
        //console.log("getArrowheadScale, fromScale: ", fromScale, ', toScale: ', toScale, ', minScale: ', minScale);
        if (link.data.category == 'P') {
            minScale = toScale;
        }
        if (minScale >= 1) {
            return 1 * minScale;
        } else {
            return 1.5 * minScale;
        }
    };

    // -------------- creating new things ----------------------

    // Returns a location for a new sister group (thing) to the given one,
    // which will not hide any existing things (overlap is allowed).
    // The returned coordinates are absolute for a top-level group,
    // or relative to the parent otherwise - suitable for use with FreehandDiagramLayout
    // or FreehandLayout, resp.
    this.getNewSisterLocation = function (group, withR) {
        var diagram = map.getDiagram();
        // if we are within another group, things are in absolute coordinates
        // and sisters are placed above the thing; otherwise relative and below...
        var inGroup = group.containingGroup !== null;
        // ... except if withR is true, we go to the right instead of above or below.

        // start below if in group, else above; or to the right if withR
        var x, y, w, h;
        if (withR) {
            x = group.location.x + group.actualBounds.width * 2.2;
            y = group.location.y;
        } else {
            x = group.location.x;
            y = group.location.y + group.actualBounds.height * 1.1 * (inGroup ? 1 : -1);
        }
        w = group.actualBounds.width;
        h = group.actualBounds.height;

        // check for overlapping parts; if found, increment x,y and continue

        while (true) {
            var rect = new go.Rect(x, y, w, h);
            rect.grow(h / 10, w / 10, h / 10, w / 10);
            var parts = diagram.findObjectsIn(rect, null, self.isGroup);
            if (parts.count) {
                console.log('getNewSisterLocation: overlapping part found in ' + rect);
                if (withR) {
                    x += w / 10;
                    y += h / 10;
                } else {
                    x += w / 10;
                    y += h / 10 * (inGroup ? 1 : -1); // move down if in group, else up
                }
            } else {
                console.log('getNewSisterLocation: no overlapping part found in ' + rect);
                break;
            }
        }
        if (inGroup) {
            // make coordinates relative
            x -= group.containingGroup.location.x;
            y -= group.containingGroup.location.y;
        }
        return new go.Point(x + Math.random(), y + Math.random());
    };

    // Returns a location for a new child group (thing) to the given one,
    // which will not hide any existing children (overlap is allowed).
    // The returned coordinates are relative to the parent group - suitable for use with FreehandLayout.
    this.getNewChildLocation = function (group) {
        var groupBounds = group.actualBounds;
        // NB: all x/y locations are relative to the group location
        var x = 0;
        var y = groupBounds.height * 1.1;
        var w, h;
        var members = group.memberParts;
        // keep testing new rectangles until we find one that doesn't overlap with any existing member of the group
        while (true) {
            members.reset();
            var overlaps = false;
            var member, newRect, memberRect;
            while (members.next()) {
                member = members.value;
                var memberBounds = member.actualBounds;
                w = memberBounds.width;
                h = memberBounds.height;
                // find the existing member's actual bounds (absolute coords)
                memberRect = new go.Rect(memberBounds.x - groupBounds.x, memberBounds.y - groupBounds.y, memberBounds.width, memberBounds.height);
                newRect = new go.Rect(x, y, w, h);
                newRect.grow(h / 5, w / 5, h / 5, w / 5);
                overlaps = newRect.containsRect(memberRect);
                console.log('getNewChildLocation for ' + member + ': newRect = ' + newRect + ', memberRect = ' + memberRect + ', overlaps: ' + overlaps);
                if (overlaps) {
                    break;
                }
            }
            if (overlaps) {
                // increment x, y and try again
                x += w / 5;
                y += h / 5;
            } else {
                // found a good spot!
                break;
            }
        }
        return new go.Point(x, y);
    };

    // a simpler version of getNewChildLocation that places the child outside the bounds of the existing children
    this.getNewChildLocation2 = function (group) {
        var groupBounds = group.actualBounds;
        var childBounds = map.safeRect(map.getDiagram().computePartsBounds(group.memberParts));
        var x = 0;
        var y = 0;
        if (!group.memberParts.count) {
            y = groupBounds.height * 1.2;
        } else {
            y = groupBounds.height * 1.4 + childBounds.height;
        }
        //console.log('getNewChildLocation2, childBounds: ' + childBounds + ', groupBounds: ' + groupBounds + ', x: ' + x + ', y: ' + y);
        return new go.Point(x, y);
    };

    // move all the given new member groups so that their locations are relative to that of
    // the parent and its previously existing members, and scaled down appropriately
    this.layoutNewMembersRelativeTo = function (newMembers, parent, oldMemberBounds) {
        // how big was the parent system before the new groups were added?
        var systemBounds = parent.actualBounds.unionRect(oldMemberBounds);

        // figure out old/new origins - place new origin below existing system
        var oldBounds = map.getDiagram().computePartsBounds(newMembers);
        var oldOrigin = new go.Point(oldBounds.x, oldBounds.y);
        var newOrigin = new go.Point(0, systemBounds.height * 1.2);
        console.log('layoutNewMembersRelativeTo, systemBounds: ' + systemBounds + ', oldBounds: ' + oldBounds + ', oldOrigin: ' + oldOrigin + ', newOrigin: ' + newOrigin);

        // figure out new scaled locations
        // NB: we can assume newMembers are all one level down from parent (see map.addSelectedThingsAsChildrenOf),
        // so we just multiply by the standard scale factor
        var it = newMembers.iterator;
        while (it.next()) {
            var group = it.value;
            var groupBounds = group.actualBounds;
            var newX = newOrigin.x + (groupBounds.x - oldOrigin.x) * 0.45;
            var newY = newOrigin.y + (groupBounds.y - oldOrigin.y) * 0.45;
            var newLoc = go.Point.stringify(new go.Point(newX, newY));
            console.log('layoutNewMembersRelativeTo, groupBounds: ' + groupBounds + ', newLoc: ' + newLoc);
            map.getDiagram().model.setDataProperty(group.data, 'loc', newLoc);
        }
    };

    // move all the given old member groups so that their locations are absolute and above
    // the parent, and scaled up appropriately
    this.layoutOldMembersOutsideOf = function (oldMembers, parent, oldMembersBounds, oldMembersLevel) {
        // figure out scale factor (members can be dragged up multiple levels, unlike dragging into S)
        var scaleFactor = Math.pow(0.45, oldMembersLevel - self.computeLevel(parent));
        console.log('layoutOldMembersOutsideOf, scaleFactor: ' + scaleFactor);

        // figure out old/new origins - place new origin above parent, with vertical space for scaled-up oldMembers
        var parentBounds = parent.actualBounds;
        var oldOrigin = new go.Point(oldMembersBounds.x, oldMembersBounds.y);
        var newOrigin = new go.Point(parentBounds.x, parentBounds.y - oldMembersBounds.height * 1.2 / scaleFactor);

        // figure out new scaled locations
        var it = oldMembers.iterator;
        while (it.next()) {
            var group = it.value;
            var groupBounds = group.actualBounds;
            var newX = newOrigin.x + (groupBounds.x - oldOrigin.x) / scaleFactor;
            var newY = newOrigin.y + (groupBounds.y - oldOrigin.y) / scaleFactor;
            var newLoc = go.Point.stringify(new go.Point(newX, newY));
            console.log('layoutOldMembersOutsideOf, parentBounds: ' + parentBounds + ', oldMembersBounds: ' + oldMembersBounds + ', newOrigin: ' + newOrigin + ', groupBounds: ' + groupBounds + ', newLoc: ' + newLoc);
            map.getDiagram().model.setDataProperty(group.data, 'loc', go.Point.stringify(newLoc));
        }
    };

    // ----------------- accessors -------------------

    // returns the appropriate layout class by abbreviated name
    this.getLayout = function (layoutName) {
        if (layoutName == 'freehand') return new FreehandLayout();else if (layoutName == 'right') return new RightInventoryLayout();else if (layoutName == 'stacked') return new StackedLayout();else return new LeftInventoryLayout();
    };

    this.getFreehandDiagramLayout = function () {
        return new FreehandDiagramLayout();
    };

    // --------------------------------------------------------------

    // returns true if the to and from nodes for the link have a common ancestor group with one of the given layout names.
    // TODO: verify logic - what if there are multiple such ancestors? - this should return the highest one...
    function getCommonAncestorWithLayout(group1, group2, layoutNames) {
        var ancestors1 = self.getAncestorGroups(group1);
        var ancestors2 = self.getAncestorGroups(group2);
        var commonAncestors = _.intersection(ancestors1, ancestors2);
        var layoutAncestors = _.filter(commonAncestors, function (group) {
            return _.indexOf(layoutNames, group.data.layout) != -1;
        });
        if (layoutAncestors.length) {
            return layoutAncestors[0];
        } else {
            return null;
        }
    }

    // returns the ancestors of this group, including itself
    this.getAncestorGroups = function (group) {
        var ancestors = [group];
        var g = group;
        while (g.containingGroup) {
            ancestors.push(g.containingGroup);
            g = g.containingGroup;
        }
        return ancestors;
    };

    // --------------------------------------------------------------

    function FreehandDiagramLayout() {
        go.Layout.call(this);
    }

    go.Diagram.inherit(FreehandDiagramLayout, go.Layout);

    FreehandDiagramLayout.prototype.toString = function () {
        return 'FreehandDiagramLayout';
    };

    FreehandDiagramLayout.prototype.doLayout = function (coll) {
        //console.log('FreehandDiagramLayout.doLayout');
        var diagram = map.getDiagram();
        // diagram.startTransaction("Freehand Diagram Layout");

        //validateGroupLocations(diagram.findTopLevelGroups());
        var groups = diagram.findTopLevelGroups(); // get new iterator
        while (groups.next()) {
            var group = groups.value;
            if (!group.isLinkLabel) {
                var loc = go.Point.parse(group.data.loc);
                group.move(new go.Point(loc.x, loc.y));
                //console.log('FreehandDiagramLayout, group: ' + group + ' to location: ' + loc.x + ',' + loc.y);
            }
        }

        // all adjustment of links is done from here, not from the other layouts...
        getLinksByNodes(true);
        var links = diagram.links.iterator;
        while (links.next()) {
            var link = links.value;
            // if (isNaN(link.location.x)) {
            //     console.log('link location isNaN');
            //     link.move(new go.Point(0,0));
            // }
            // console.log('link location: ' + link.location);
            adjustLinkLayout(link);
        }

        // diagram.commitTransaction("Freehand Diagram Layout");
    };

    // if any group in the given Iterator does not have a location (data.loc), set one
    // that doesn't overlap with the other members
    function validateGroupLocations(groups) {}

    // --------------------------------------------------------------

    function FreehandLayout() {
        go.Layout.call(this);
    }

    go.Diagram.inherit(FreehandLayout, go.Layout);

    FreehandLayout.prototype.toString = function () {
        return 'FreehandLayout';
    };

    FreehandLayout.prototype.doLayout = function (coll) {
        var diagram = map.getDiagram();
        diagram.startTransaction('Freehand Layout');

        var x = this.group.location.x;
        var y = this.group.location.y;

        var it = this.group.memberParts.iterator;
        while (it.next()) {
            var part = it.value;
            if (part instanceof go.Group && !part.isLinkLabel) {
                var loc = go.Point.parse(part.data.loc);
                //console.log('FreehandLayout, part: ' + part.data.text + ', loc: ' + loc + ', location: ' + part.location);
                part.move(new go.Point(x + loc.x, y + loc.y));
                part.layout.doLayout(part);
            }
        }

        diagram.commitTransaction('Freehand Layout');
    };

    // --------------------------------------------------------------

    function StackedLayout() {
        go.Layout.call(this);
    }

    go.Diagram.inherit(StackedLayout, go.Layout);

    StackedLayout.prototype.toString = function () {
        return 'StackedLayout';
    };

    StackedLayout.prototype.doLayout = function (coll) {
        this.diagram.startTransaction('Stacked Layout');
        var margin = getStackMargin(this.group);
        var startX = this.group.location.x;
        var startY = this.group.location.y + (this.group.part.actualBounds.height + margin / 2);
        layoutMembersForStacked(this.group, startX, startY);
        this.diagram.commitTransaction('Stacked Layout');
    };

    // returns the max y value after laying out the last part
    function layoutMembersForStacked(group, startX, startY) {
        var members = getOrderedMembers(group);
        var x = startX;
        var y = startY;
        var rowCount = 0;
        var maxStartY = startY;
        _.each(members, function (part) {
            if (part instanceof go.Group && !part.isLinkLabel) {
                var margin = getStackMargin(part);
                part.move(new go.Point(x, y));
                startY = y + part.actualBounds.height + margin / 2; // start Y position for part's children

                //console.log('layoutMembersForStacked: starting layout of children of ' + part + ' at ' + Math.round(x) + ',' + Math.round(startY));

                if (part.isSubGraphExpanded) {
                    // layout children of this part; check if we've already done a taller part+children in current row
                    maxStartY = Math.max(maxStartY, layoutMembersForStacked(part, x, startY));
                    //console.log('layoutMembersForStacked: laid out children of ' + part + ', maxStartY is now ' + Math.round(maxStartY));
                } else {
                    maxStartY = Math.max(maxStartY, startY);
                }

                // decide whether to wrap
                rowCount++;
                if (rowCount < 2) {
                    // keep going on this line
                    x += part.actualBounds.width + margin;
                } else {
                    // wrap to next line
                    x = startX;
                    y = maxStartY + margin / 2;
                    rowCount = 0;
                }
            }
        });
        return maxStartY;
    }

    // --------------------------------------------------------------

    function RightInventoryLayout() {
        go.Layout.call(this);
    }

    go.Diagram.inherit(RightInventoryLayout, go.Layout);

    RightInventoryLayout.prototype.toString = function () {
        return 'RightInventoryLayout';
    };

    RightInventoryLayout.prototype.doLayout = function (coll) {
        //this.diagram.startTransaction("Inventory Layout");
        var startX = this.group.location.x + this.group.actualBounds.width;
        var startY = this.group.location.y + (this.group.part.actualBounds.height + getInventoryMargin(this.group));
        layoutMembersForInventory(this.group, startX, startY, 'R');
        //this.diagram.commitTransaction("Inventory Layout");
    };

    // --------------------------------------------------------------

    function LeftInventoryLayout() {
        go.Layout.call(this);
    }

    go.Diagram.inherit(LeftInventoryLayout, go.Layout);

    LeftInventoryLayout.prototype.toString = function () {
        return 'LeftInventoryLayout';
    };

    LeftInventoryLayout.prototype.doLayout = function (coll) {
        //console.log('LeftInventoryLayout.doLayout, group: ' + this.group + ', location: ' + this.group.location);
        // this.diagram.startTransaction("Inventory Layout");
        var startX = this.group.location.x;
        var startY = this.group.location.y + (this.group.part.actualBounds.height + getInventoryMargin(this.group));
        layoutMembersForInventory(this.group, startX, startY, 'L');
        // this.diagram.commitTransaction("Inventory Layout");
    };

    // shared stuff for Left/Right Inventory layouts...

    // returns the max y value after laying out the last part
    // side is 'L' or 'R'
    function layoutMembersForInventory(group, startX, startY, side) {
        var members = getOrderedMembers(group);
        _.each(members, function (part) {
            var x = startX; // for left, just use x
            if (side == 'R') x = startX - part.actualBounds.width; // for right, right-align parts to startX
            //console.log('layoutMembersForInventory, part: ' + part + ' to location: ' + x + ',' + startY);
            part.move(new go.Point(x, startY));
            startY += part.actualBounds.height + getInventoryMargin(part);
            if (part.isSubGraphExpanded) {
                //console.log('layoutMembersForInventory, y after moving: ' + part + ' = ' + startY);
                startY = layoutMembersForInventory(part, startX, startY, side);
            }
        });
        return startY + getInventoryMargin(group);
    }

    // returns an array of the group's (non-R-thing) members, sorted by the 'order' data property
    function getOrderedMembers(group) {
        var members = new go.List();
        var it = group.memberParts.iterator;
        while (it.next()) {
            var part = it.value;
            if (part instanceof go.Group && !part.isLinkLabel) {
                members.add(part);
            }
        }
        return _.sortBy(members.toArray(), function (member) {
            return member.data.order;
        });
    }

    // ------------------------ link routing and visibility ------------------------------

    // adjust the routing, visibility and other properties of a link according to various structural criteria
    function adjustLinkLayout(link) {
        if (!link || !link.fromNode || !link.toNode) {
            return;
        }

        // var loc = link.location;
        // if (isNaN(loc.x) || isNaN(loc.y)) {
        //     link.location = new go.Point(10, 10);
        //     console.log('adjustLinkLayout, link.location: ' + link.location);
        // }
        // console.log('adjustLinkLayout, link.location: ' + link.location);

        // see if link is within a stacked or inventory layout, or if it's a hidden P link
        var inventoryAncestor = getCommonAncestorWithLayout(link.fromNode, link.toNode, ['left', 'right']);
        var stackedAncestor = getCommonAncestorWithLayout(link.fromNode, link.toNode, ['stacked']);
        var hidePLink = link.data && link.data.category == 'P' && !map.getTemplates().showPLink(link);
        var crowdedRThing = hasCrowdedRThing(link);

        // see if this is one of multiple links between the same two nodes
        var snpos = self.getSameNodesLinkPosition(link);
        var isMultiLink = snpos.count > 1;
        //console.log('snpos for link ' + link + ': ' + snpos.index + ' of ' + snpos.count);

        if (inventoryAncestor) {
            applyInventoryCurveRouting(link, snpos, inventoryAncestor.data.layout);
        } else if (isMultiLink) {
            applyMultilinkCurveRouting(link, snpos);
        } else if (crowdedRThing) {
            applyInventoryCurveRouting(link, snpos, 'left');
        } else {
            applyStraightRouting(link);
        }

        // show link only if both connected things are visible (no collapsed ancestors);
        // hide if both are in stacked layout or if it's a P-link that we shouldn't be showing now
        if (self.fromAndToNodesAreVisible(link) && !stackedAncestor && !hidePLink) {
            link.opacity = 1;
            showLabelNodes(link, true);
        } else {
            link.opacity = 0;
            showLabelNodes(link, false);
        }
    }

    // TODO: detect when the R-thing overlaps both from and to nodes, so we can change the link routing
    function hasCrowdedRThing(link) {
        return false;
    }

    function showLabelNodes(link, show) {
        //console.log('showLabelNodes, link: ' + link + ', show: ' + show);
        var it = link.labelNodes;
        if (it) {
            while (it.next()) {
                var group = it.value;
                group.visible = show;
                if (show) {
                    group.layout.doLayout(group);
                }
            }
        }
    }

    // if link is between two things in the same inventory layout (single or multiple),
    // make the line more or less circular on the appropriate side
    function applyInventoryCurveRouting(link, snpos, ancestorLayout) {
        if (ancestorLayout == 'left') {
            link.fromSpot = go.Spot.Left;
            link.toSpot = go.Spot.Left;
        } else if (ancestorLayout == 'right') {
            link.fromSpot = go.Spot.Right;
            link.toSpot = go.Spot.Right;
        }

        // aspect ratio for the link curves - make this smaller to make them taller, larger to make them fatter
        var curveRatio = 0.6;

        var y1 = link.fromNode.actualBounds.y;
        var y2 = link.toNode.actualBounds.y;

        var yDiff = Math.abs(y2 - y1);
        var c = (yDiff === 0 ? 50 : Math.floor(yDiff * curveRatio)) + 100 * (snpos.index / snpos.count);
        //console.log("yDiff = " + yDiff + ', c = ' + c + ' (' + link.fromNode.data.text + ' - ' + p1 + ' - to ' + link.toNode.data.text + ' - ' + p2 + ')');

        link.curve = go.Link.Bezier;
        link.fromEndSegmentLength = c;
        link.toEndSegmentLength = c;
    }

    // if non-inventory link is one of multiple ones between same nodes, make it curved
    function applyMultilinkCurveRouting(link, snpos) {
        link.fromSpot = go.Spot.Default;
        link.toSpot = go.Spot.Default;
        link.curve = go.Link.Bezier;
        // curviness values based on number of links:
        // 2: -25 25
        // 3: -50 0 50
        // 4: -100 -50 0 50 100
        var rangeSize = 10 * (snpos.count - 1);
        var rangeIncrement = 10;
        if (snpos.hasRThing) {
            rangeSize = 100 * (snpos.count - 1);
            rangeIncrement = 100;
        }

        // adjust curviness for smaller scales
        var linkScaleFactor = self.getLinkStrokeWidth(link) / 2; // 2 is max stroke width
        rangeSize *= linkScaleFactor;
        rangeIncrement *= linkScaleFactor;

        var rangeStart = 0 - rangeSize / 2;

        link.curviness = (rangeStart + rangeIncrement * snpos.index) * snpos.orientation;
        // console.log('applyMultilinkCurveRouting, link: ' + link + ', curviness: ' + link.curviness);
    }

    // do normal straight lines for freehand layout, or links between descendants of things with different layouts
    function applyStraightRouting(link) {
        link.fromSpot = go.Spot.Default;
        link.toSpot = go.Spot.Default;
        link.routing = go.Link.Normal;
        link.curve = go.Link.None;
        link.curviness = 0;
    }

    // --------------- calculate how many links there are between a link's nodes ---------------

    // Returns an object of the format { index: 1, count: 2, orientation: -1, hasRThing: false },
    // indicating how many other links there are between the same pair of nodes,
    // where the given link falls within this list, and what its orientation is.
    this.getSameNodesLinkPosition = function (link) {
        var linksByNodes = getLinksByNodes(true);
        // get links with the same key as this one (connecting same nodes)
        var sameLinks = _.where(linksByNodes, {
            key: getSameNodesLinkKey(link)
        });

        // default return value
        var snpos = {
            index: 0,
            count: 1,
            orientation: 1,
            hasRThing: false
        };
        // set index, count, orientation
        for (var i = 0; i < sameLinks.length; i++) {
            if (sameLinks[i].link == link) {
                snpos = {
                    index: i,
                    count: sameLinks.length,
                    orientation: getLinkOrientation(link)
                };
            }
        }
        // check for Rthing
        for (i = 0; i < sameLinks.length; i++) {
            if (sameLinks[i].hasRThing) {
                snpos.hasRThing = true;
            }
        }
        return snpos;
    };

    var _linksByNodes = null;

    // refreshes the cached list of all links with keys, to facilitate grouping them according to connected nodes
    function getLinksByNodes(refresh) {
        //console.log('getLinksByNodes');
        if (!self._linksByNodes || refresh) {
            self._linksByNodes = [];
            var diagram = map.getDiagram();
            var links = diagram.links.iterator;
            while (links.next()) {
                var link = links.value;
                var key = getSameNodesLinkKey(link);
                if (key) {
                    self._linksByNodes.push({
                        key: key,
                        link: link,
                        hasRThing: link.labelNodes.count > 0
                    });
                }
            }
        }
        return self._linksByNodes;
    }

    // Returns a key used to group links according to which pair of nodes they connect.
    // The returned key is non-empty for regular links and P links that should be shown currently,
    // so that these will all be routed by the same rules. A null key is returned for any other
    // links, indicating that no grouping is required.
    function getSameNodesLinkKey(link) {
        //        if (self.isRLink(link) || (self.isPLink(link) && map.getTemplates().showPLink(link))) {
        if (self.isRLink(link)) {
            var key = [link.fromNode.toString(), link.toNode.toString()].sort().join('|');
            //console.log('key: ' + key);
            return key;
        } else {
            return null;
        }
    }

    // We use this to distinguish an A-B link from a B-A link (based on fromNode and toNode, which
    // is independent of the arrowhead settings) when setting curviness, because setting curviness = 25
    // on an A-B link is the same as curviness = -25 on a B-A link.
    function getLinkOrientation(link) {
        if (link.fromNode && link.toNode && link.fromNode.toString() < link.toNode.toString()) {
            return 1;
        } else {
            return -1;
        }
    }

    // -------------- link tests ---------------

    this.isRLink = function (link) {
        return link instanceof go.Link && link.data && link.data.category === undefined && link.fromNode && link.toNode;
    };

    this.isDLink = function (link) {
        return link instanceof go.Link && link.data && link.data.category == 'D';
    };

    this.isPLink = function (link) {
        return link instanceof go.Link && link.data && link.data.category == 'P';
    };

    this.isGroup = function (obj) {
        return obj instanceof go.Group;
    };
};

//console.log('Layouts, PartCreated');
// setNewPartLocationData(e);

// stacked?

},{}],14:[function(require,module,exports){
// functions for creating and manipulating the map (i.e. Diagram)

'use strict';

SandbankEditor.Map = function ($scope, $http, $resource, $timeout, $modal, $log) {

    var self = this;

    // ----------- constants ---------------
    this.LEFT = 'left';
    this.RIGHT = 'right';

    // ------------ instance vars ----------

    var _diagram = null;

    // components
    var _analytics = null;
    var _attachments = null;
    var _autosave = null;
    var _generator = null;
    //var _history = null;
    var _layouts = null;
    var _perspectives = null;
    var _presenter = null;
    var _standards = null;
    var _templates = null;
    var _tests = null;
    var _ui = null;

    // ------------ component accessors ----------------

    function getComponents() {
        return [_analytics, _attachments, _autosave, _generator,
        // _history,
        _layouts, _perspectives, _presenter, _standards, _templates, _tests, _ui];
    }

    this.getAnalytics = function () {
        return _analytics;
    };
    this.getAttachments = function () {
        return _attachments;
    };
    this.getAutosave = function () {
        return _autosave;
    };
    this.getGenerator = function () {
        return _generator;
    };
    // this.getHistory = function () { return _history; };
    this.getLayouts = function () {
        return _layouts;
    };
    this.getPerspectives = function () {
        return _perspectives;
    };
    this.getPresenter = function () {
        return _presenter;
    };
    this.getStandards = function () {
        return _standards;
    };
    this.getTemplates = function () {
        return _templates;
    };
    this.getTests = function () {
        return _tests;
    };
    this.getUi = function () {
        return _ui;
    };

    // -------------- map init ------------------

    this.init = function () {

        // initialize components
        _analytics = new SandbankEditor.Analytics($scope, $http, self);
        _attachments = new SandbankEditor.Attachments($scope, $http, $resource, self);
        _autosave = new SandbankEditor.Autosave($scope, $http, self);
        _generator = new SandbankEditor.Generator($scope, self);
        // _history = new SandbankEditor.History($scope, $http, self);
        _layouts = new SandbankEditor.Layouts($scope, self);
        _perspectives = new SandbankEditor.Perspectives($scope, self);
        _presenter = new SandbankEditor.Presenter($scope, self);
        _standards = new SandbankEditor.Standards($scope, self);
        _templates = new SandbankEditor.Templates($scope, self);
        _tests = new SandbankEditor.Tests($scope, self);
        _ui = new SandbankEditor.UI($scope, $timeout, $http, $resource, $modal, $log, self);

        // call init for each component, if defined
        _.each(getComponents(), function (component) {
            if (component && component.init) component.init();
        });

        // create diagram
        _diagram = new go.Diagram('diagram');
        _diagram.initialContentAlignment = go.Spot.Center;
        _diagram.initialViewportSpot = go.Spot.Center;
        _diagram.initialDocumentSpot = go.Spot.Center;
        _diagram.hasHorizontalScrollbar = false;
        _diagram.hasVerticalScrollbar = false;
        _diagram.padding = 500;
        _diagram.layout = _layouts.getFreehandDiagramLayout();

        initTools();
        _templates.initTemplates(_diagram); // set up templates, customize temporary link behavior
        addDiagramListeners();

        _templates.addExportFooter();

        // watch for tab changes
        // TODO: restore non-Angular version of this
        //$scope.$watch('currentTab', function(newValue, oldValue) {
        //    self.currentTabChanged(newValue, oldValue);
        //});
    };

    // this is called by a $scope.$watch in init()
    this.currentTabChanged = function (newValue, oldValue) {
        // console.log('currentTabChanged, newValue: ' + newValue + ', oldValue: ' + oldValue);
        // notify any interested components
        _.each(getComponents(), function (component) {
            if (component && component.currentTabChanged) {
                component.currentTabChanged(newValue, oldValue);
            }
        });

        //$scope.safeApply();
    };

    this.getDiagram = function () {
        return _diagram;
    };

    // misc. tool configuration
    function initTools() {
        // disable clicking on TextBlocks to edit - we will invoke editing in other ways
        _diagram.allowTextEdit = false;

        // select text when activating editor;
        // use shift-enter to create new lines, enter to finish editing (NB: editor has multiline=true)
        var textTool = _diagram.toolManager.textEditingTool;
        textTool.doActivate = function () {
            go.TextEditingTool.prototype.doActivate.call(textTool);
            if (textTool.defaultTextEditor !== null) {
                textTool.defaultTextEditor.select();

                textTool.defaultTextEditor.addEventListener('keydown', function (e) {
                    if (e.which == 13 && !e.shiftKey) {
                        go.TextEditingTool.prototype.acceptText.call(textTool, go.TextEditingTool.LostFocus);
                    }
                });
            }
        };

        // handle delete key on Mac (default behavior only uses fn-Delete to delete from canvas)
        _diagram.commandHandler.doKeyDown = function () {
            var e = _diagram.lastInput;
            var cmd = _diagram.commandHandler;
            if (e.event.which === 8) {
                cmd.deleteSelection();
            } else {
                go.CommandHandler.prototype.doKeyDown.call(cmd); // call base method with no arguments
            }
        };

        // [disable keyboard shortcuts, as these do not do centering on zoom,
        // and can lead to confusion with browser zoom (which gets fired depends on focus)]
        // - turned back on to support pinch/zoom on iPad
        _diagram.allowZoom = true;

        _diagram.toolManager.mouseWheelBehavior = go.ToolManager.WheelZoom;

        // decide what kinds of Parts can be added to a Group or to top-level
        // _diagram.commandHandler.memberValidation = function (grp, node) {
        //     //if (grp instanceof go.Group && node instanceof go.Group) return false;  // cannot add Groups to Groups
        //     return true;
        // };

        // default link attributes
        _diagram.toolManager.linkingTool.archetypeLinkData = {
            type: 'noArrows'
        };

        // allow double-click in background to create a new node
        _diagram.toolManager.clickCreatingTool.archetypeNodeData = getNewThingData();

        // how long mouse must be held stationary before starting a drag-select (instead of a scroll) - default was 175ms
        _diagram.toolManager.dragSelectingTool.delay = 400;
    }

    // ----------- handling of DiagramEvents --------------------

    function addDiagramListeners() {

        // DiagramEvents to be handled here or by a component
        var diagramEvents = ['InitialLayoutCompleted', 'ChangedSelection', 'BackgroundSingleClicked', 'SelectionCopied', 'SelectionMoved', 'SelectionDeleting', 'SelectionDeleted', 'PartCreated', 'PartResized', 'ClipboardChanged', 'ClipboardPasted', 'LinkDrawn', 'LinkRelinked', 'ViewportBoundsChanged'];
        _.each(diagramEvents, function (eventName) {
            _diagram.addDiagramListener(eventName, function (e) {
                broadcastDiagramEvent(eventName, e);
            });
        });

        _diagram.addDiagramListener('BackgroundContextClicked', function (e) {});
    }

    // broadcasts the given DiagramEvent (see apidocs for go.DiagramEvent)
    // to any components that may be interested, including this one.
    function broadcastDiagramEvent(eventName, e) {
        self.handleDiagramEvent(eventName, e);
        _.each(getComponents(), function (component) {
            if (component && component.handleDiagramEvent) component.handleDiagramEvent(eventName, e);
        });
        $scope.safeApply();
    }

    this.handleDiagramEvent = function (eventName, e) {
        //console.log('handleDiagramEvent: ' + eventName);
        if (eventName == 'ChangedSelection') {
            changedSelection(e);
        } else if (eventName == 'SelectionCopied') {
            selectionCopied(e);
        } else if (eventName == 'PartCreated') {
            partCreated(e);
        } else if (eventName == 'BackgroundSingleClicked') {
            _ui.showHelpTip('canvasTip');
        } else if (eventName == 'LinkDrawn') {
            linkDrawn(e);
            setNewLinkDirection(e);
        } else if (eventName == 'LinkRelinked') {
            linkRelinked(e);
        } else if (eventName == 'ClipboardChanged') {
            clipboardChanged(e);
        } else if (eventName == 'ClipboardPasted') {
            clipboardPasted(e);
        }
    };

    // handle zoom to region if applicable
    function changedSelection(e) {
        //console.log('map.changedSelection');
        _diagram.updateAllTargetBindings();
        _ui.maybeZoomToRegion();
        if (self.relationshipsSelected()) {
            _ui.showHelpTip('relationshipTip');
        }
    }

    function partCreated(e) {
        //console.log('Map, PartCreated');
        var group = e.subject;
        if (!(group instanceof go.Group)) {
            return;
        }
        _diagram.model.setDataProperty(group.data, 'layout', _ui.getMapEditorOptions().defaultThingLayout || 'left');
        _layouts.setNewPartLocationData(e);
    }

    // fix link ports when a link is created -
    // the P and R ports both cover the whole node, and the P port is on top of the R port,
    // so both P and R links get the toPort set to P by default.
    function linkDrawn(e) {
        var link = e.subject;
        console.log('linkDrawn, link: ' + link + ', fromPort: ' + link.fromPortId + ', toPort: ' + link.toPortId);
        if (link.fromPortId == 'P') {
            _diagram.model.startTransaction('change link category');
            _diagram.model.setDataProperty(link.data, 'toPort', 'P');
            _diagram.model.setDataProperty(link.data, 'category', 'P');
            _diagram.model.commitTransaction('change link category');
        }
        // prevent links from R to P
        else if (link.fromPortId == 'R') {
            _diagram.model.startTransaction('change link toPort');
            _diagram.model.setDataProperty(link.data, 'toPort', 'R');
            _diagram.model.commitTransaction('change link toPort');
        }
    }

    // fix link ports when a link is relinked -
    // dragging either end of an R-link to another node will set the corresponding port to P,
    // since P port is on top of R port, so we reset both ports to R if the category is not P.
    function linkRelinked(e) {
        var link = e.subject;
        if (link.data.category === undefined || link.data.category !== 'P') {
            _diagram.model.setDataProperty(link.data, 'fromPort', 'R');
            _diagram.model.setDataProperty(link.data, 'toPort', 'R');
        }
    }

    function setNewLinkDirection(e) {
        var link = e.subject;
        if (link.fromPortId == 'R') {
            _diagram.model.startTransaction('change link direction');
            _diagram.model.setDataProperty(link.data, 'type', _ui.getMapEditorOptions().defaultRelationshipDirection);
            _diagram.commitTransaction('change link direction');
        }
    }

    function clipboardChanged(e) {
        var parts = e.subject.iterator;
        while (parts.next()) {
            var part = parts.value;
            if (part instanceof go.Group) {
                console.log('clipboardChanged: part ' + part + ', mainpanel scale: ' + part.findObject('mainpanel').scale);
            }
        }
    }

    // NB: this is called when parts are copied by control-drag, NOT when the copy button is clicked
    function selectionCopied(e) {
        console.log('selectionCopied');
        var parts = e.subject.iterator;
        while (parts.next()) {
            var part = parts.value;
            if (part instanceof go.Group && part.isTopLevel) {
                var loc = go.Point.parse(part.data.loc);
                console.log('selectionCopied: updating loc of part ' + part + ' = ' + loc + ', scale: ' + part.scale);
                _diagram.model.setDataProperty(part.data, 'loc', loc.x + 50 + ' ' + (loc.y + 50));
                part.updateTargetBindings('loc');
            }
        }
    }

    function clipboardPasted(e) {
        var parts = e.subject.iterator;
        while (parts.next()) {
            var part = parts.value;
            if (part instanceof go.Group && part.isTopLevel) {
                var loc = go.Point.parse(part.data.loc);
                //console.log('clipboardPasted: updating loc of part ' + part + ' = ' + loc + ', scale: ' + part.scale);
                _diagram.model.setDataProperty(part.data, 'loc', loc.x + 50 + ' ' + (loc.y + 50));
                part.updateTargetBindings('loc');
            }
        }
    }

    // computes the bounds of all groups in the diagram - this includes all ideas/things,
    // and excludes nodes, including slides, the slide blocker, and the export footer
    this.computeMapBounds = function () {
        var groups = new go.List(go.Group);
        var nodes = _diagram.nodes;
        while (nodes.next()) {
            if (nodes.value instanceof go.Group) {
                groups.add(nodes.value);
            }
        }
        return _diagram.computePartsBounds(groups).copy(); // return a mutable rect
    };

    // ------------ what is currently selected? ----------------

    // returns true if all selected items are things (i.e. Groups), including r-things
    this.thingsSelected = function () {
        if (_diagram == null || _diagram.selection.count < 1) return false;

        var it = _diagram.selection.iterator;
        while (it.next()) {
            if (!(it.value instanceof go.Group)) return false;
        }

        return true;
    };

    // returns true if exactly one thing (Group) is selected
    this.thingSelected = function () {
        return _diagram !== null && _diagram.selection.count == 1 && _diagram.selection.first() instanceof go.Group;
    };

    // if a single group is selected, returns it, otherwise returns null
    this.getUniqueThingSelected = function () {
        if (_diagram !== null && _diagram.selection.count == 1 && _diagram.selection.first() instanceof go.Group) {
            return _diagram.selection.first();
        } else {
            return null;
        }
    };

    this.thingsSelectedAreMembersOf = function (group) {
        if (_diagram === null || _diagram.selection.count < 1) return false;

        var it = _diagram.selection.iterator;
        while (it.next()) {
            if (!(it.value instanceof go.Group) || it.value.containingGroup != group) return false;
        }

        return true;
    };

    this.thingsSelectedAreDescendantsOf = function (group) {
        if (_diagram === null || _diagram.selection.count < 1) return false;

        var it = _diagram.selection.iterator;
        while (it.next()) {
            var ancestors = _layouts.getAncestorGroups(it.value);
            if (_.indexOf(ancestors, group) == -1) return false;
        }

        return true;
    };

    this.thingsSelectedIncludeSlide = function () {
        if (_diagram === null || _diagram.selection.count < 1) return false;

        var it = _diagram.selection.iterator;
        while (it.next()) {
            if (it.value.data && it.value.data.category == 'slide') {
                return true;
            }
        }

        return false;
    };

    // returns true if all selected items are relationships (i.e. Links)
    this.relationshipsSelected = function () {
        if (_diagram === null || _diagram.selection.count < 1) return false;

        var it = _diagram.selection.iterator;
        while (it.next()) {
            if (!(it.value instanceof go.Link) || !_layouts.isRLink(it.value)) return false;
        }

        return true;
    };

    // returns true if exactly one relationship (Link) is selected
    this.relationshipSelected = function () {
        return _diagram !== null && _diagram.selection.count == 1 && _diagram.selection.first() instanceof go.Link;
    };

    // ------------ load and initialize model -------------

    this.load = function () {
        var url = $scope.mapUrl + '.json';
        if ($scope.sandbox) {
            url = $scope.mapUrl + '.json?sandbox=1';
        }
        //TODO: restore non-Angular http-get for map data
        var data = { 'map': { 'metadata': { 'sandbox': false, 'id': 5547, 'name': 'Untitled Map', 'url': '/maps/5547', 'canEdit': true, 'updatedAt': '2015-05-15T12:29:40.721-04:00', 'updatedBy': null, 'updatedByName': null, 'userTags': [] }, 'data': { 'class': 'go.GraphLinksModel', 'nodeIsLinkLabelProperty': 'isLinkLabel', 'linkLabelKeysProperty': 'labelKeys', 'linkFromPortIdProperty': 'fromPort', 'linkToPortIdProperty': 'toPort', 'nodeDataArray': [{ 'key': 1, 'text': 'New Idea', 'isGroup': true, 'loc': '0 0', 'layout': 'left', 'sExpanded': true, 'pExpanded': true }], 'linkDataArray': [] }, 'stateData': null, 'editorOptions': null, 'analytics': {}, 'versions': [] } };
        _diagram.model = go.Model.fromJson(data);
        _ui.setStateData(data.map.stateData);
        _ui.setMapEditorOptions(data.map.editorOptions);

        self.checkModel();
        _diagram.updateAllTargetBindings();
        _diagram.undoManager.isEnabled = true;
        _diagram.model.addChangedListener(_autosave.modelChanged);
        _autosave.saveOnModelChanged = true;
        _diagram.isReadOnly = !$scope.canEdit;
        $scope.updateEditStatus($scope.canEdit ? $scope.LAST_UPDATED : $scope.READ_ONLY);
        _ui.resetZoom();
        self.loadMapExtraData(data.map);

        // if no nodes OR in thinkquery mode, launch generator
        if ($scope.thinkquery || !_diagram.model.nodeDataArray.length) {
            _ui.openTab(_ui.TAB_ID_GENERATOR);
        }
        // if we have slides, play presentation
        else if (!$scope.canEdit && _presenter.getSlideNodeDatas().length) {
            _presenter.playSlide(1);
        }
    };

    this.loadForSandbox = function () {
        _diagram.model = go.Model.fromJson($scope.mapData);
        _ui.setStateData(''); // important! (otherwise corner highlighting breaks)
        _diagram.updateAllTargetBindings();
        _diagram.undoManager.isEnabled = true;
        _ui.resetZoom();
        $scope.canEdit = true;

        // if no nodes OR in thinkquery mode, launch generator
        if ($scope.thinkquery) {
            _ui.openTab(_ui.TAB_ID_GENERATOR);
        }
        // if we have slides, play presentation
        else if (_presenter.getSlideNodeDatas().length) {
            _presenter.playSlide(1);
        }
    };

    // fix any structural problems in the model before displaying it
    this.checkModel = function () {
        // change "isLinkLabel" property to category:"LinkLabel" (change as of goJS 1.3)
        _.each(_diagram.model.nodeDataArray, function (nodeData, index, list) {
            if (nodeData.isLinkLabel) {
                delete nodeData.isLinkLabel;
                nodeData.category = 'LinkLabel';
            }
        });

        // check for the link label (r-thing) for a link being the same as the from or to node
        // - this can cause infinite recursion in thinks like layout.getScale
        _.each(_diagram.model.linkDataArray, function (linkData, index, list) {
            var badLabelKeys = [];
            _.each(linkData.labelKeys, function (key, index2, list2) {
                if (key == linkData.from || key == linkData.to) {
                    console.log('labelKey same as from or to of link: ' + key);
                    badLabelKeys.push(key);
                }
            });
            linkData.labelKeys = _.difference(linkData.labelKeys, badLabelKeys);
        });
    };

    // loads other data besides the diagram model from the json object returned by maps/show.json
    // - this includes points, badges, versions, and map analytics
    // NB: points and badges are set at page load time in layouts/user and users/badges, but
    // we also need to be able to update them here after an autosave

    // TODO: is this still all needed with the newer userProfile stuff?
    this.loadMapExtraData = function (mapData) {
        $scope.safeApply(function () {
            //console.log('map.loadMapExtraData, mapData: ' + mapData);
            $scope.mapUserTags = mapData.metadata.userTags; // TODO: is this used anywhere?

            //$scope.map.getHistory().versionList = mapData.versions;
            $scope.map.getAnalytics().mapAnalytics = mapData.analytics;
        });
    };

    // loads model data for an individual version and displays it
    // NB: this also disables autosave; load() must be called to re-enable it
    this.loadVersion = function (id) {
        $http.get('/map_versions/' + id).then(function (response) {
            if (response.status === 200) {
                try {
                    //console.log('loaded map version with ID: ' + id);
                    _diagram.model = go.Model.fromJson(response.data);
                    _diagram.updateAllTargetBindings();
                    _diagram.undoManager.isEnabled = false;
                    _autosave.saveOnModelChanged = false;
                    _diagram.layoutDiagram(true);
                    _diagram.isReadOnly = true;
                } catch (e) {
                    alert('Could not load MetaMap version');
                    console.error(e.message);
                }
            }
        });
    };

    // set whether editing capability is temporarily suspended -
    // this is distinct from the global $scope.canEdit setting,
    // which if false prevents editing at all times
    this.setEditingBlocked = function (val) {
        if ($scope.canEdit) {
            _diagram.isReadOnly = val;
        }
    };

    // ------------- creating things in the model -------------------

    // default properties for all new Things (groups) - note that these can be overridden if needed
    function getNewThingData() {
        return {
            text: 'Idea',
            isGroup: true,
            layout: _ui.getMapEditorOptions().defaultThingLayout || 'left',
            sExpanded: true,
            pExpanded: true
        };
    }

    this.createSister = function (thing) {
        if (!$scope.canEdit) {
            return null;
        }

        var newLoc = _layouts.getNewSisterLocation(thing);
        var data = _.extend(getNewThingData(), {
            group: thing.data.group,
            text: 'Idea',
            loc: go.Point.stringify(newLoc)
        });
        _diagram.model.addNodeData(data);
        var newSister = _diagram.findNodeForData(data);

        // put new sister right after thing (not as the last sibling)
        if (thing.containingGroup) {
            self.moveSiblingNextTo(newSister, thing, self.RIGHT);
        }
        return newSister;
    };

    this.createRToSister = function (thing) {
        if (!$scope.canEdit) {
            return null;
        }

        var thingKey = _diagram.model.getKeyForNodeData(thing.data);
        //console.log('thingKey: ' + thingKey);
        var newLoc = _layouts.getNewSisterLocation(thing, true); // withR = true
        var data = _.extend(getNewThingData(), {
            group: thing.data.group,
            text: 'Idea',
            loc: go.Point.stringify(newLoc)
        });
        _diagram.model.addNodeData(data);
        var newSister = _diagram.findNodeForData(data);
        var groupKey = _diagram.model.getKeyForNodeData(data);

        // create link
        var linkData = {
            from: thingKey,
            to: groupKey,
            type: 'to',
            fromPort: 'R',
            toPort: 'R'
        };
        _diagram.model.addLinkData(linkData);

        // put new sister right after thing (not as the last sibling)
        if (thing.containingGroup) {
            self.moveSiblingNextTo(newSister, thing, self.RIGHT);
        }
        return newSister;
    };

    this.createChild = function (thing, name, x, y) {
        if (!$scope.canEdit) {
            return null;
        }

        var newLoc = _layouts.getNewChildLocation2(thing);
        if (x || y) {
            newLoc = new go.Point(x, y);
        }
        var data = _.extend(getNewThingData(), {
            group: thing.data.key,
            text: name || 'Part',
            loc: go.Point.stringify(newLoc)
        });
        _diagram.model.addNodeData(data);
        _layouts.setDescendantLayouts(thing, thing.data.layout);
        var child = _diagram.findNodeForData(data);
        child.updateTargetBindings();
        return child;
    };

    this.createRThing = function (link, name) {
        if (!$scope.canEdit) {
            return null;
        }

        // console.log('createRThing, link: ' + link + ', name: ' + name);
        // don't allow multiple R-things
        if (link.isLabeledLink) {
            // console.log('cannot create RThing, link is already labeled');
            return;
        }

        var data = _.extend(getNewThingData(), {
            text: name || 'Relationship Idea',
            //isLinkLabel: true,     // deprecated as of goJS 1.3
            category: 'LinkLabel', // new as of goJS 1.3
            loc: '0 0'
        });
        _diagram.model.startTransaction('create R Thing');
        _diagram.model.addNodeData(data);
        var key = _diagram.model.getKeyForNodeData(data);
        var node = _diagram.findPartForKey(key);
        node.labeledLink = link;
        _diagram.model.commitTransaction('create R Thing');
        _diagram.updateAllTargetBindings();

        return _diagram.findNodeForData(data);
    };

    // ---------- creating things with specified names/locations - for use by generator and tests ------------

    this.createThing = function (x, y, name, layout) {
        group = _diagram.toolManager.clickCreatingTool.insertPart(new go.Point(x, y));
        _diagram.model.setDataProperty(group.data, 'text', name);
        if (layout) {
            _diagram.model.setDataProperty(group.data, 'layout', layout);
        }
        return group;
    };

    this.createRLinkWithRThing = function (thing1, thing2, name) {
        var link = self.createRLink(thing1, thing2);
        return self.createRThing(link, name);
    };

    // returns the linkData object for the new link
    this.createRLink = function (thing1, thing2) {
        _diagram.model.startTransaction('add link');
        var data = {
            type: 'noArrows',
            from: thing1.data.key,
            to: thing2.data.key,
            fromPort: 'R',
            toPort: 'R'
        };
        _diagram.model.addLinkData(data);
        _diagram.model.commitTransaction('add link');
        return _diagram.findLinkForData(data);
    };

    // returns the linkData object for the new link
    this.createPLink = function (thing1, thing2) {
        _diagram.model.startTransaction('add link');
        var data = {
            type: 'noArrows',
            from: thing1.data.key,
            to: thing2.data.key,
            fromPort: 'P',
            toPort: 'P',
            category: 'P'
        };
        _diagram.model.addLinkData(data);
        _diagram.model.commitTransaction('add link');
        _diagram.model.setDataProperty(thing1.data, 'pExpanded', true);
        return _diagram.findLinkForData(data);
    };

    // ------------- moving things in the model structure -------------------

    // returns a go.List of the items in the current selection that are Groups
    function getSelectedGroups() {
        var it = _diagram.selection.iterator;
        var members = new go.List();
        while (it.next()) {
            var part = it.value;
            if (part instanceof go.Group) {
                members.add(part);
            }
        }
        return members;
    }

    // drag to S
    this.addSelectedThingsAsChildrenOf = function (group) {
        var newMembers = getSelectedGroups();

        // check existing members so we can calculate layout
        var oldMemberBounds = self.safeRect(_diagram.computePartsBounds(group.memberParts));

        // NB: this is subject to validation by CommandHandler.isValidMember,
        // so for example, members of members of newMembers will not be added as members
        group.addMembers(newMembers);

        _layouts.layoutNewMembersRelativeTo(newMembers, group, oldMemberBounds);

        _diagram.clearSelection();
    };

    // drag to D
    this.addSelectedThingsAsSistersOf = function (group) {
        var oldMembers = getSelectedGroups();

        // if dragging to top level, move dragged things so they don't overlap the former parent
        if (!group.containingGroup) {
            // check existing members so we can calculate layout
            var oldMembersBounds = _diagram.computePartsBounds(oldMembers);
            // NB: oldMembers can be on multiple levels, so not clear which level to use for rescaling old members after drag
            var oldMembersLevel = _layouts.computeLevel(oldMembers.first());

            var it = oldMembers.iterator;
            while (it.next()) {
                var member = it.value;
                member.containingGroup = null;
            }
            _layouts.layoutOldMembersOutsideOf(oldMembers, group, oldMembersBounds, oldMembersLevel);
        }
        // if not dragging to top level, place dragged things after former parent in outline
        else {
            var it2 = oldMembers.iterator;
            while (it2.next()) {
                var member2 = it2.value;
                member2.containingGroup = group.containingGroup;
                self.moveSiblingNextTo(member2, group, self.RIGHT);
            }
        }
        _diagram.clearSelection();
    };

    // for dragging parts within a system - side is LEFT or RIGHT (i.e. above or below, resp. in inventory layout)
    this.addSelectedThingAsOrderedSisterOf = function (group, side) {
        //console.log('addSelectedThingAsOrderedSisterOf, side: ' + side);
        var thing = self.getUniqueThingSelected();
        if (!thing) {
            return;
        }
        self.moveSiblingNextTo(thing, group, side);
    };

    // moves the first thing (sibling) to be after the second thing (group)
    // in the part ordering - they are assumed to be siblings
    // side is LEFT or RIGHT
    this.moveSiblingNextTo = function (sibling, group, side) {
        var parent = group.containingGroup;
        console.log('moveSiblingNextTo, sibling: ' + sibling + ', group: ' + group + ', parent: ' + parent + ', sibling.containingGroup: ' + sibling.containingGroup);

        if (!parent || sibling.containingGroup != parent) {
            console.error('Cannot do moveSiblingNextTo on non-siblings or top-level groups');
        }

        // create new member order
        var memberOrder = new go.List();
        var it = parent.memberParts;
        var order = 0;
        while (it.next()) {
            var member = it.value;
            if (member instanceof go.Group) {
                // we're at the target group, so add the moved thing either before or after it
                if (member == group) {
                    if (side == self.LEFT) {
                        memberOrder.add(sibling);
                        _diagram.model.setDataProperty(sibling.data, 'order', order++);
                        memberOrder.add(member);
                        _diagram.model.setDataProperty(member.data, 'order', order++);
                    } else {
                        memberOrder.add(member);
                        _diagram.model.setDataProperty(member.data, 'order', order++);
                        memberOrder.add(sibling);
                        _diagram.model.setDataProperty(sibling.data, 'order', order++);
                    }
                }
                // don't re-add the moved thing, it was added above
                else if (member != sibling) {
                    memberOrder.add(member);
                    _diagram.model.setDataProperty(member.data, 'order', order++);
                }
            }
        }

        // clear existing members
        var newIt = memberOrder.iterator;
        while (newIt.next()) {
            var member2 = newIt.value;
            member2.containingGroup = null;
        }

        // add new members
        newIt.reset();
        while (newIt.next()) {
            var member3 = newIt.value;
            member3.containingGroup = parent;
        }
    };

    this.addThingAsRThing = function (thing, link) {
        thing.labeledLink = link;
        thing.updateTargetBindings();
    };

    // D corner handler (single click)
    this.toggleDFlag = function (thing) {
        _diagram.model.setDataProperty(thing.data, 'dflag', !thing.data.dflag);
        thing.updateTargetBindings();
    };

    // S corner handler (single click)
    this.toggleSExpansion = function (thing) {
        var isExpanded = !(thing.data && !thing.data.sExpanded); // expand by default if property not present
        _diagram.model.setDataProperty(thing.data, 'sExpanded', !isExpanded);
        thing.updateTargetBindings();
        _ui.showCornerTip(thing, 'S');
    };

    // P corner handler (single click)
    this.togglePExpansion = function (thing) {
        _diagram.model.setDataProperty(thing.data, 'pExpanded', !self.pIsExpanded(thing));
        thing.updateTargetBindings();
        _ui.showCornerTip(thing, 'P');
    };

    this.pIsExpanded = function (group) {
        return group.data && group.data.pExpanded === true;
    };

    // ---------------------- undo/redo --------------------

    this.canUndo = function () {
        return _diagram.commandHandler.canUndo();
    };

    this.undo = function () {
        _diagram.commandHandler.undo();
        _diagram.layoutDiagram(true);
    };

    this.canRedo = function () {
        return _diagram.commandHandler.canRedo();
    };

    this.redo = function () {
        _diagram.commandHandler.redo();
        _diagram.layoutDiagram(true);
    };

    this.refresh = function () {
        _diagram.updateAllTargetBindings();
        _diagram.layoutDiagram(true);
    };

    // ------------------- utility ----------------------

    // check for a rect with NaN X/Y/W/H coords, so we can do stuff with it such as unionRect
    // (NaN,NaN,0,0) => (0,0,0,0)
    this.safeRect = function (rect) {
        if (isNaN(rect.x)) {
            rect.x = 0;
        }
        if (isNaN(rect.y)) {
            rect.y = 0;
        }
        if (isNaN(rect.width)) {
            rect.width = 0;
        }
        if (isNaN(rect.height)) {
            rect.height = 0;
        }
        return rect;
    };

    // ------------------- debug map model ----------------------

    this.loadModel = function () {
        $('#map-model-debug').val(_diagram.model.toJson());
    };

    this.saveModel = function () {
        _diagram.model = go.Model.fromJson($('#map-model-debug').val());
        _diagram.updateAllTargetBindings();
        _diagram.model.addChangedListener(_autosave.modelChanged);
        _autosave.saveOnModelChanged = true;
    };
};

// TODO: turn off in production
//console.log('diagram model:' + _diagram.model.toJson());

},{}],15:[function(require,module,exports){
// controller for user's maps/dashboard

'use strict';

window.MapsCtrl = function ($scope, $http, $resource, $modal, $log) {

    $scope.searchText = '';

    $scope.listingParams = new GorgesGrid.ListingParams();
    $scope.listingParams.sortBy = 'updated_at';
    $scope.listingParams.sortOrder = 'desc';

    $scope.listingParams.viewName = $scope.params.viewName || 'all'; // set default view
    $scope.rowSelection = new GorgesGrid.RowSelection();
    $scope.viewTreeState = new GorgesGrid.ViewTreeState();
    $scope.viewTreeState.expandedViews = ['orgs_belonged_to'];
    $scope.maps = [];
    $scope.views = [];
    $scope.users = [];

    $scope.tagging = new SandbankTagging($scope, $http, $resource, $modal, $log);
    $scope.adminTagging = new SandbankAdminTagging($scope, $http, $resource, $modal, $log);
    $scope.sharing = new SandbankSharing($scope, $http, $resource, $modal, $log);

    $scope.openTaggingModal = function () {
        $scope.tagging.openModal($scope.getSelectedMapIds(), false, // don't show description field (TODO: show if it's a single map that the user can edit?)
        function () {
            $scope.loadMaps();
        } // on update
        );
    };

    $scope.openAdminTaggingModal = function () {
        $scope.adminTagging.openModal($scope.getSelectedMapIds()[0], function () {
            $scope.loadMaps();
        } // on update
        );
    };

    $scope.openSharingModal = function () {
        $scope.sharing.openModal($scope.getSelectedMapIds(), function () {
            $scope.loadMaps();
        } // on update
        );
    };

    // ---------------- row selection -----------------

    // TODO: add conditions for enabling tag/share/delete buttons based on permissions of selected maps

    $scope.getSelectedMapIds = function () {
        var ids = [];
        _.each($scope.rowSelection.selectedRowIndexes, function (element, index, list) {
            if (element) {
                if ($scope.maps[index]) {
                    // should always be true
                    ids.push($scope.maps[index].id);
                }
            }
        });
        return ids;
    };

    // ---------------- respond to view/page changes -----------------

    $scope.maybeSetView = function (view) {
        // don't set the view if a parent view is clicked on
        if (!view.isParent) {
            $scope.listingParams.viewName = view.name;
            $scope.loadMaps();
        }
        $scope.viewTreeState.expandView(view.name);
    };

    $scope.pageSelected = function () {
        $scope.loadMaps();
    };

    $scope.setSortBy = function (col) {
        $scope.listingParams.setSortBy(col);
        $scope.loadMaps();
    };

    $scope.doSearch = function () {
        $scope.loadMaps();
    };

    $scope.resetSearch = function () {
        $scope.searchText = '';
        $scope.loadMaps();
    };

    // ---------------- map data -----------------

    $scope.loadMaps = function () {
        startSpinner();
        $http.get('/maps.json?' + $scope.listingParams.toQueryString() + '&search=' + $scope.searchText).then(function (response) {
            // get updated params
            _.extend($scope.listingParams, response.data.listingParams);
            $scope.rowSelection.deselectAll();
            $scope.views = response.data.views;
            $scope.maps = response.data.maps;
            $scope.users = response.data.users;
            $scope.viewTreeState.expandView($scope.params.expandView);
            stopSpinner();
        }, function () {
            stopSpinner();
            alert('Could not load list of MetaMaps');
        });
    };

    $scope.loadMaps();

    // -------------- view helpers -----------------

    $scope.listUserTags = function (map) {
        return _.pluck(map.userTags, 'name').join(', ');
    };

    $scope.listCcsTags = function (map) {
        return _.pluck(map.ccsTags, 'name').join(', ');
    };

    $scope.listAdminTags = function (map) {
        return _.pluck(map.adminTags, 'name').join(', ');
    };

    $scope.getUserName = function (map) {
        if (map.userId === $scope.userId) {
            return 'Me';
        } else {
            var user = _.findWhere($scope.users, {
                id: map.userId
            });
            return user ? user.name : '';
        }
    };

    // ------------- star a map -----------------

    $scope.toggleStar = function (map) {
        console.log('toggleStar');
        $http.post('/maps/' + map.id + '/toggle_star').then(function (response) {
            $scope.loadMaps(); // reload to update total in TOC
        }, function () {});
    };

    // ------------- delete maps -----------------

    $scope.confirmDeleteSelected = function () {
        var mapIds = $scope.getSelectedMapIds();

        // if (mapIds.length == 1) {
        //     alertify.confirm('Delete selected MetaMap?', function(e) {
        //         if (e) {
        //             deleteSelected(mapIds);
        //         }
        //     });
        // } else if (mapIds.length > 1) {
        //     alertify.confirm('Delete ' + mapIds.length + ' selected MetaMaps?', function(e) {
        //         if (e) {
        //             setTimeout(function() { // this is required to make multiple alertify confirms work...
        //                 alertify.confirm('You are deleting multiple MetaMaps, are you really sure?', function(e2) {
        //                     if (e2) {
        //                         deleteSelected(mapIds);
        //                     }
        //                 });
        //             }, 1000);
        //         }
        //     });
        // }

        if (mapIds.length == 1) {
            if (confirm('Delete selected MetaMap?')) {
                deleteSelected(mapIds);
            }
        } else if (mapIds.length > 1) {
            if (confirm('Delete ' + mapIds.length + ' selected MetaMaps?')) {
                if (confirm('You are deleting multiple MetaMaps, are you really sure?')) {
                    deleteSelected(mapIds);
                }
            }
        }
    };

    function deleteSelected(mapIds) {
        $http.post('/maps/delete_multiple', mapIds).then(function (response) {
            if (response.status === 200 || response.status === 204) {
                $scope.loadMaps();
                alertify.success((mapIds.length > 1 ? 'MetaMaps' : 'MetaMap') + ' deleted');
            } else {
                alertify.error('Could not delete MetaMaps');
            }
        }, function () {
            alert('Could not delete MetaMaps');
        });
    }
};

window.MapsCtrl.$inject = ['$scope', '$http', '$resource', '$modal', '$log'];

},{}],16:[function(require,module,exports){
// functions for editing perspectives AND distinctions, which work similarly in the UI

'use strict';

SandbankEditor.Perspectives = function ($scope, map) {

    var self = this;

    // temporary state flag for adding/removing P/D selections programmatically
    var selectingLinkedThings = false;

    this.init = function () {};

    // called when a tab is opened or closed
    this.currentTabChanged = function (newValue, oldValue) {
        //console.log('Perspectives, currentTabChanged');
        if (newValue == map.getUi().TAB_ID_PERSPECTIVES) {
            // opening perspectives
            setPorDThing('P');
            map.setEditingBlocked(true);
        } else if (oldValue == map.getUi().TAB_ID_PERSPECTIVES) {
            // closing perspectives
            saveLinks('P');
            map.setEditingBlocked(false);
        } else if (newValue == map.getUi().TAB_ID_DISTINCTIONS) {
            // opening distinctions
            setPorDThing('D');
            map.setEditingBlocked(true);
        } else if (oldValue == map.getUi().TAB_ID_DISTINCTIONS) {
            // closing distinctions
            saveLinks('D');
            map.setEditingBlocked(false);
        }
    };

    this.handleDiagramEvent = function (eventName, e) {
        if (eventName == 'ChangedSelection') {
            if (map.getUi().currentTabIs(map.getUi().TAB_ID_PERSPECTIVES) || map.getUi().currentTabIs(map.getUi().TAB_ID_DISTINCTIONS)) {
                updateLinks();
            }
        }
    };

    // ---------- P/D Editor state

    this.isInPOrDEditorMode = function () {
        return map.getUi().state.perspectivePointKey !== null || map.getUi().state.distinctionThingKey !== null;
    };

    this.isInPEditorMode = function () {
        return map.getUi().state.perspectivePointKey !== null;
    };

    this.isInDEditorMode = function () {
        return map.getUi().state.distinctionThingKey !== null;
    };

    this.isPEditorPoint = function (group) {
        return map.getUi().state.perspectivePointKey == group.data.key;
    };

    this.isDEditorThing = function (group) {
        return map.getUi().state.distinctionThingKey == group.data.key;
    };

    // NB: this is called via map.getCornerFunction, so we get the extra corner arg, which we can ignore
    this.setPEditorPoint = function (thing, corner) {
        if ($scope.canEdit) {
            map.getUi().openTab(map.getUi().TAB_ID_PERSPECTIVES);
        }
    };

    this.setDEditorThing = function (thing) {
        if ($scope.canEdit) {
            // NB: need to select only this thing, since this is invoked
            // by a control-click, which will not automatically select just it
            map.getDiagram().clearSelection();
            thing.isSelected = true;
            map.getUi().openTab(map.getUi().TAB_ID_DISTINCTIONS);
        }
    };

    // -----------------------

    this.isPerspectivePoint = function (group) {
        var links = group.findLinksOutOf();
        while (links.next()) {
            var link = links.value;
            if (link.data.category == 'P') {
                return true;
            }
        }
        return false;
    };

    this.isSelectedPerspectiveView = function (group) {
        var links = group.findLinksInto();
        while (links.next()) {
            var link = links.value;
            if (link.data.category == 'P' && map.pIsExpanded(link.fromNode) && link.fromNode.isSelected) {
                return true;
            }
        }
        return false;
    };

    this.isToggledPerspectiveView = function (group) {
        var links = group.findLinksInto();
        while (links.next()) {
            var link = links.value;
            if (link.data.category == 'P' && map.pIsExpanded(link.fromNode)) {
                return true;
            }
        }
        return false;
    };

    this.isMouseOverPerspectiveView = function (group) {
        var links = group.findLinksInto();
        while (links.next()) {
            var link = links.value;
            if (link.data.category == 'P' && link.fromNode == map.getUi().mouseOverGroup) {
                return true;
            }
        }
        return false;
    };

    this.getPerspectiveViewWeight = function (group) {
        var mode = map.getUi().getMapEditorOptions().perspectiveMode;
        if (mode == 'spotlight' || mode == 'both') {
            return (self.isSelectedPerspectiveView(group) ? 1 : 0) + (self.isToggledPerspectiveView(group) ? 1 : 0) + (self.isMouseOverPerspectiveView(group) ? 1 : 0);
        } else {
            return 0;
        }
    };

    // -----------------------

    // category is "P" or "D" (perspectives or distinctions)
    function setPorDThing(category) {
        // if already set, must do save perspectives or save distinctions
        if (map.getUi().state.perspectivePointKey || map.getUi().state.distinctionThingKey) return;

        var thing = map.getDiagram().selection.first();
        //console.log('setPorDThing: ' + thing);
        if (thing instanceof go.Group) {
            var key = thing.data.key;
            if (category == 'P') {
                map.getUi().state.perspectivePointKey = key;
            } else if (category == 'D') {
                map.getUi().state.distinctionThingKey = key;
            }

            // select views/others
            selectLinkedThingsFor(thing, category);
        }
    }

    // this is called when the selection changes - if the thing is set,
    // adds/removes D/P links according to what is selected; otherwise
    // just shows/hides D/P links for the selected thing(s)
    function updateLinks() {
        if (selectingLinkedThings) // selection is being changed programmatically, so don't respond
            return;

        var pOrDThing = null;
        var category = null;
        if (map.getUi().state.perspectivePointKey) {
            pOrDThing = map.getDiagram().findNodeForKey(map.getUi().state.perspectivePointKey);
            category = 'P';
        } else if (map.getUi().state.distinctionThingKey) {
            pOrDThing = map.getDiagram().findNodeForKey(map.getUi().state.distinctionThingKey);
            category = 'D';
        }

        var addLinksTo = new go.List();
        var removeLinks = new go.List();

        // iterate through all things
        if (category) {
            var layers = map.getDiagram().layers;
            while (layers.next()) {
                var layer = layers.value;
                var parts = layer.parts;
                while (parts.next()) {
                    var part = parts.value;
                    if (part instanceof go.Group) {
                        // calculate links to add/remove based on selection
                        if (pOrDThing) {
                            var links = part.findLinksInto();
                            var existingLink = null;
                            while (links.next()) {
                                var link = links.value;
                                if (link.fromNode.data.key == pOrDThing.data.key && link.data.category == category) existingLink = link;
                            }

                            // decide whether to add or remove a link to the part, depending on whether
                            // it is selected and whether a link exists
                            if (!existingLink && part.isSelected) addLinksTo.add(part);else if (existingLink && !part.isSelected) removeLinks.add(existingLink);
                        }
                    }
                }
            }
        }

        // do the adding/removing of links
        var adds = addLinksTo.iterator;
        while (adds.next()) {
            map.getDiagram().model.startTransaction('add link');
            var to = adds.value;
            console.log('updateLinks: adding link from ' + pOrDThing + ' to ' + to);
            if (category == 'D' && pOrDThing.data.key == to.data.key) {
                pOrDThing.isSelected = false;
                alert('You can\'t distinguish a thing from itself!');
                continue;
            }
            map.getDiagram().model.addLinkData({
                from: pOrDThing.data.key,
                to: to.data.key,
                fromPort: category,
                toPort: category,
                category: category
            });
            map.getDiagram().model.commitTransaction('add link');
        }
        var removes = removeLinks.iterator;
        while (removes.next()) {
            var remove = removes.value;
            console.log('updateLinks: removing link from ' + remove.fromNode + ' to ' + remove.toNode);
            map.getDiagram().model.startTransaction('remove link');
            map.getDiagram().remove(remove);
            map.getDiagram().model.removeLinkData(remove.data);
            map.getDiagram().model.commitTransaction('remove link');
        }

        // show links
        map.getDiagram().updateAllTargetBindings();
    }

    function saveLinks(category) {
        var pOrDThing = null;
        if (category == 'P') {
            pOrDThing = map.getDiagram().findNodeForKey(map.getUi().state.perspectivePointKey);
            map.getUi().state.perspectivePointKey = null;
        } else if (category == 'D') {
            pOrDThing = map.getDiagram().findNodeForKey(map.getUi().state.distinctionThingKey);
            map.getUi().state.distinctionThingKey = null;
        }

        map.getDiagram().clearSelection();
        map.getDiagram().updateAllTargetBindings();
    }

    function selectLinkedThingsFor(group, category) {
        selectingLinkedThings = true;
        map.getDiagram().clearSelection();

        var links = group.findLinksOutOf();
        while (links.next()) {
            var link = links.value;
            if (link.data.category == category) link.toNode.isSelected = true;
        }

        selectingLinkedThings = false;
    }
};

},{}],17:[function(require,module,exports){
// functions for the presenter/slides

'use strict';

SandbankEditor.Presenter = function ($scope, map) {

    var self = this;

    // constants
    this.SLIDE_BLOCKER_WIDTH = 1000;
    this.SLIDE_BLOCKER_COLOR = '#fff';
    this.SLIDE_BLOCKER_OPACITY = 0.9;

    // state vars
    this.currentSlideIndex = null;
    this.isPresenting = false;
    this.showTOC = false;
    this.isCreatingThumbnail = false;

    // mask applied around slide region when presenting
    this.slideBlocker = null;

    this.diagramAspectRatio = null;

    this.init = function () {};

    this.autosave = function () {
        map.getAutosave().save('edit_presenter');
    };

    // ---------- editing functions for different slide types -------------

    // NB: hasLinks can have values false, 1, or true (1 means only a single link)
    this.slideTypes = [{
        name: 'TITLE_BODY', label: 'Title and Body',
        hasTitle: true, hasNotes: true, hasChecks: false, hasMapRegion: false, hasMapSummary: false, hasLinks: false
    }, {
        name: 'TITLE_BODY_MAP', label: 'Title, Body and MetaMap',
        hasTitle: true, hasNotes: true, hasChecks: false, hasMapRegion: true, hasMapSummary: false, hasLinks: false
    }, {
        name: 'ACTIVITY_MAP', label: 'Lesson Activity and MetaMap',
        hasTitle: true, hasNotes: true, hasChecks: true, hasMapRegion: true, hasMapSummary: false, hasLinks: true
    }, {
        name: 'MAP_ONLY', label: 'MetaMap only',
        hasTitle: true, hasNotes: false, hasChecks: false, hasMapRegion: true, hasMapSummary: false, hasLinks: false
    }, {
        name: 'MAP_SUMMARY', label: 'MetaMap Summary',
        hasTitle: false, hasNotes: false, hasChecks: false, hasMapRegion: true, hasMapSummary: true, hasLinks: false
    }];

    // ------------------ link/attachment types -----------------------

    this.linkTypes = [{ name: '', label: '-- Select attachment type --' }, { name: 'WEB', label: 'Web Page' }, { name: 'PDF', label: 'PDF' }, { name: 'DOC', label: 'Document' }, { name: 'SPREADSHEET', label: 'Spreadsheet' }, { name: 'PRESENTATION', label: 'Presentation' }, { name: 'METAMAP', label: 'MetaMap' }, { name: 'IMAGE', label: 'Image' }, { name: 'AUDIO', label: 'Audio' }, { name: 'VIDEO', label: 'Video' }, { name: 'SURVEY', label: 'Survey' }, { name: 'WORKSHEET', label: 'Worksheet' }];

    // ------------ list of all things in the map, for map summary slides ---------------------

    this.ideaList = '';

    // only call this occasionally, as they won't be editing the map while presenter is open
    function updateIdeaList() {
        var nodes = map.getDiagram().nodes;
        var list = [];
        while (nodes.next()) {
            if (nodes.value instanceof go.Group) {
                list.push(nodes.value.data.text);
            }
        }
        list.sort();

        // filter out placeholder names - see map.js:getNewThingData, createSister, etc.
        list = _.difference(_.uniq(list, true), map.getGenerator().getPlaceholderIdeaNames(), ['New Idea', 'New Distinguished Idea', 'New Related Idea', 'New Relationship Idea', 'New Part Idea', 'Idea', 'Part', 'Relationship Idea'] // newer simplified names
        );

        self.ideaList = list.join(', ');
    }

    this.summaryAnalytics = [{ name: 'COUNT_THINGS', singularLabel: 'Distinction', pluralLabel: 'Distinctions' }, { name: 'COUNT_SYSTEMS', singularLabel: 'System', pluralLabel: 'Systems' }, { name: 'COUNT_RELATIONSHIPS', singularLabel: 'Relationship', pluralLabel: 'Relationships' }, { name: 'COUNT_PERSPECTIVES', singularLabel: 'Perspective', pluralLabel: 'Perspectives' }, { name: 'COUNT_RTHINGS', singularLabel: 'Relationship Idea', pluralLabel: 'Relationship Ideas' }, { name: 'COUNT_SYSTEM_RTHINGS', singularLabel: 'Relationship System', pluralLabel: 'Relationship Systems' }, { name: 'COUNT_SYSTEM_PERSPECTIVES', singularLabel: 'Perspective System', pluralLabel: 'Perspective Systems' }, { name: 'COUNT_DISTINCTIONS', singularLabel: 'Advanced Distinction', pluralLabel: 'Advanced Distinctions' }];

    this.addCheck = function (nodeData) {
        nodeData.checks.push({ text: '' });
        self.autosave();
    };

    this.deleteCheck = function (check, nodeData) {
        var i = _.indexOf(nodeData.checks, check);
        nodeData.checks.splice(i, 1);
        self.autosave();
    };

    this.addLink = function (nodeData) {
        nodeData.links.push({ title: '', url: '', type: '' });
        self.autosave();
    };

    this.deleteLink = function (link, nodeData) {
        var i = _.indexOf(nodeData.links, link);
        nodeData.links.splice(i, 1);
        self.autosave();
    };

    this.toggleTOC = function () {
        $scope.safeApply(function () {
            if (self.isPresenting) {
                self.showTOC = !self.showTOC;
            }
        });
    };

    // NB: can't create this in init as the diagram doesn't exist yet...
    function maybeInitSlideBlocker() {
        if (!self.slideBlocker) {
            var mk = go.GraphObject.make;
            self.slideBlocker = mk(go.Node, go.Panel.Auto, {
                layerName: 'Tool',
                opacity: self.SLIDE_BLOCKER_OPACITY
            }, mk(go.Shape, 'Rectangle', {
                fill: null,
                stroke: self.SLIDE_BLOCKER_COLOR,
                strokeWidth: 1000
            }));
            map.getDiagram().add(self.slideBlocker);
        }
    }

    // called when a tab is opened or closed
    this.currentTabChanged = function (newValue, oldValue) {
        if (oldValue == map.getUi().TAB_ID_PRESENTER) {
            // closing tab
            self.stopPresenting();
        } else if (newValue == map.getUi().TAB_ID_PRESENTER) {
            // opening tab
            // show slides (see layouts.slideTemplate, binding of visible attr)
            self.diagramAspectRatio = $('#diagram').width() / $('#diagram').height();
            console.log('diagramAspectRatio: ' + self.diagramAspectRatio);

            $scope.map.getDiagram().updateAllTargetBindings();
            updateIdeaList();
            if (!self.currentSlideIndex && self.getSlideNodeDatas().length > 0) {
                self.currentSlideIndex = 1;
            }
            self.slideThumbnailSelected(1);
        }
    };

    this.handleDiagramEvent = function (eventName, e) {
        if (!map.getUi().currentTabIs(map.getUi().TAB_ID_PRESENTER)) {
            return;
        }

        if (eventName == 'SelectionDeleting') {
            var selection = e.subject;
            if (selection.count == 1) {
                var thing = selection.first();
                if (thing instanceof go.Node && thing.data.category == 'slide') {
                    if (!confirm('Delete this slide from the presentation?')) {
                        e.cancel = true;
                    }
                }
            }
        } else if (eventName == 'SelectionDeleted') {
            // if slide is deleted from canvas rather than by thumbnail x button, need to update indexes
            compactSlideIndexes();
        } else if (eventName == 'SelectionMoved' || eventName == 'PartResized') {
            // clear thumbnail cache
            thumbnailCache = [];
        } else if (eventName == 'ViewportBoundsChanged') {}
    };

    this.windowResized = _.debounce(function () {
        self.slideThumbnailSelected(self.currentSlideIndex);
    }, 1000);

    this.showSidebar = function () {
        return map.getUi().currentTabIs(map.getUi().TAB_ID_PRESENTER) && (!self.isPresenting || self.showTOC);
    };

    this.disableMapToolbarButtons = function () {
        return !map.getUi().currentTabIs(map.getUi().TAB_ID_PRESENTER) || self.isPresenting || !self.getCurrentSlideType().hasMapRegion;
    };

    // returns an array of node data objects (not the slide nodes themselves)
    this.getSlideNodeDatas = function () {
        var diagram = map.getDiagram();
        var nodes = diagram.model.nodeDataArray;
        var nodeDatas = _.filter(nodes, function (node) {
            return node.category == 'slide';
        });
        nodeDatas = _.sortBy(nodeDatas, function (nodeData) {
            return nodeData.index;
        });
        //console.log('getSlideNodeDatas, indexes: ' + _.pluck(slidesData, 'index'));
        return nodeDatas;
    };

    this.getSlideCount = function () {
        return self.getSlideNodeDatas().length;
    };

    this.getActivitySlideCount = function () {
        return _.where(self.getSlideNodeDatas(), { type: 'ACTIVITY_MAP' }).length;
    };

    this.getSlideType = function (typeName) {
        return _.findWhere(self.slideTypes, { name: typeName });
    };

    this.getCurrentSlideType = function () {
        var slide = findSlideByIndex(self.currentSlideIndex);
        if (slide) {
            return _.findWhere(self.slideTypes, { name: slide.data.type });
        } else {
            return {};
        }
    };

    function findSlideByIndex(index) {
        var diagram = map.getDiagram();
        var slideData = _.find(self.getSlideNodeDatas(), function (slideData) {
            return slideData.index == index;
        });
        if (slideData !== undefined) {
            return diagram.findNodeForKey(slideData.key);
        } else {
            return undefined;
        }
    }

    // increment is -1 or +1
    this.moveSlide = function (index, increment) {
        $scope.safeApply(function () {
            var diagram = map.getDiagram();
            var slide = findSlideByIndex(index);
            var neighbor = findSlideByIndex(index + increment);
            if (slide && neighbor) {
                //console.log('moveSlide: swapping ' + slide.data.key + ' with ' + neighbor.data.key);
                diagram.startTransaction('move slide');
                diagram.model.setDataProperty(slide.data, 'index', slide.data.index + increment);
                diagram.model.setDataProperty(neighbor.data, 'index', neighbor.data.index - increment);
                diagram.commitTransaction('move slide');
                thumbnailCache = [];
            }
        });
    };

    function compactSlideIndexes() {
        $scope.safeApply(function () {
            //console.log('compactSlideIndexes');
            var slidesData = self.getSlideNodeDatas();
            var diagram = map.getDiagram();
            var newIndex = 1;
            diagram.startTransaction('compact slide indexes');
            _.each(slidesData, function (slideData) {
                diagram.model.setDataProperty(slideData, 'index', newIndex);
                //console.log('compactSlideIndexes: set index for ' + slideData.key + ' to ' + newIndex);
                newIndex++;
            });
            diagram.commitTransaction('compact slide indexes');
        });
    }

    function getNewSlideKey() {
        var diagram = map.getDiagram();
        var i = 1;
        while (diagram.model.findNodeDataForKey('slide-' + i)) {
            i++;
        }
        return 'slide-' + i;
    }

    // NB: indexes (and keys?) must be 1-based, otherwise first slide gets screwed up
    // (somewhere the index shows up as '' instead of 0)
    function getNewSlideIndex() {
        var slides = self.getSlideNodeDatas();
        return slides.length + 1;
    }

    this.addSlide = function (typeName) {
        $scope.safeApply(function () {
            console.log('addSlide: ' + typeName);
            var diagram = map.getDiagram();

            var db = map.computeMapBounds();
            db.inflate(db.width / 20, db.height / 10);
            var newLoc = db.x + ' ' + db.y;
            var newIndex = getNewSlideIndex();

            var slideType = _.findWhere(self.slideTypes, { name: typeName });

            diagram.startTransaction('add slide');
            diagram.model.addNodeData({
                key: getNewSlideKey(),
                category: 'slide',
                index: newIndex,
                isGroup: false,
                width: db.width,
                height: db.height,
                loc: newLoc,
                level: 0,
                children: 0,
                type: typeName,
                title: '',
                notes: '',
                checks: [],
                hasRegion: slideType.hasMapRegion,
                isSummary: slideType.hasMapSummary,
                links: []
            });
            diagram.commitTransaction('add slide');
            thumbnailCache = [];

            self.slideThumbnailSelected(newIndex); // trigger display of edit form, zoom to map region if applicable
        });
    };

    this.duplicateSlide = function (index) {
        $scope.safeApply(function () {
            var diagram = map.getDiagram();
            var newIndex = getNewSlideIndex();
            var slide = findSlideByIndex(index);
            if (slide) {
                diagram.startTransaction('duplicate slide');

                // bump up indexes on subsequent slides to make room for new slide after current one
                _.each(self.getSlideNodeDatas(), function (slideData) {
                    if (slideData.index > index) {
                        diagram.model.setDataProperty(slideData, 'index', slideData.index + 1);
                    }
                });

                // NB: creating a new nodeData object here rather than copying and modifying, to avoid copying $$hashKey (??)
                diagram.model.addNodeData({
                    key: getNewSlideKey(),
                    category: 'slide',
                    index: index + 1,
                    isGroup: false,
                    width: slide.data.width,
                    height: slide.data.height,
                    loc: slide.data.loc,
                    level: 0,
                    children: 0,
                    type: slide.data.type,
                    title: slide.data.title + ' (Copy)',
                    notes: slide.data.notes,
                    checks: slide.data.checks, // clone?
                    hasRegion: slide.data.hasRegion,
                    isSummary: slide.data.isSummary,
                    links: slide.data.links // clone?
                });
                diagram.commitTransaction('duplicate slide');
                thumbnailCache = [];
            }
        });
    };

    this.removeSlide = function (index) {
        $scope.safeApply(function () {
            //console.log('removeSlide: ' + index);
            var diagram = map.getDiagram();
            var slide = findSlideByIndex(index);
            if (slide) {
                diagram.startTransaction('remove slide');
                diagram.model.removeNodeData(slide.data);
                diagram.commitTransaction('remove slide');
            }
            self.currentSlideIndex = null;
            thumbnailCache = [];
            compactSlideIndexes();
        });
    };

    var thumbnailCache = [];

    this.getSlideThumbnail = function (index) {
        return thumbnailCache[index];
    };

    this.createSlideThumbnails = function () {
        _.each(self.getSlideNodeDatas(), function (nd) {
            self.createSlideThumbnail(nd.index);
        });
    };

    this.createSlideThumbnail = function (index) {
        //console.log('createSlideThumbnail');

        var thumbWidth = 1000;
        var thumbHeight = 600;
        var diagram = map.getDiagram();

        var slide = findSlideByIndex(index);
        if (!slide) {
            return '';
        } else if (!slide.data.hasRegion && !slide.data.isSummary) {
            return '';
        } else {
            var db = diagram.documentBounds;
            var sb;
            if (slide.data.isSummary) {
                // for a summary slide we shoot the whole map
                sb = map.safeRect(map.computeMapBounds());
            } else {
                // otherwise just shoot the slide region
                sb = slide.part.actualBounds;
            }

            var imagePosition = new go.Point(sb.x, sb.y);
            //console.log('getSlideThumbnail, slide bounds: ' + sb + ', document bounds: ' + db + ', imagePosition: ' + imagePosition);

            var wScale = thumbWidth / sb.width;
            var hScale = thumbHeight / sb.height;
            var thumbScale = Math.min(wScale, hScale);
            console.log('scale: ' + wScale + ',' + hScale);

            var w = thumbScale * sb.width;
            var h = thumbScale * sb.height;
            //console.log('thumbnail w/h: ' + w + ',' + h);

            // hide slides temporarily while creating thumbnail
            self.isCreatingThumbnail = true;
            diagram.updateAllTargetBindings();

            diagram.scale = thumbScale;

            var imgData = diagram.makeImageData({
                size: new go.Size(w, h),
                position: imagePosition,
                scale: thumbScale
            });

            self.isCreatingThumbnail = false;
            diagram.updateAllTargetBindings();

            thumbnailCache[index] = imgData;

            return imgData;
        }
    };

    // gets a thumbnail of the whole map, for saving (see autosave.js)
    this.getMapThumbnail = function () {

        var diagram = map.getDiagram();
        var sb = map.safeRect(map.computeMapBounds());
        sb.grow(10, 10, 10, 10);
        var w = 150;
        var h = 100;

        // hide slides temporarily while creating thumbnail
        self.isCreatingThumbnail = true;
        diagram.updateAllTargetBindings();

        var imgData = diagram.makeImageData({
            scale: Math.min(h / sb.height, w / sb.width),
            position: new go.Point(sb.x, sb.y),
            size: new go.Size(w, h)
        });

        self.isCreatingThumbnail = false;
        diagram.updateAllTargetBindings();

        return imgData;
    };

    // called via ng-click on thumbnail
    this.slideThumbnailSelected = function (index) {
        //console.log('slideThumbnailSelected: ' + index);
        var diagram = map.getDiagram();
        var slide = findSlideByIndex(index);

        $scope.safeApply(function () {
            // NB: order of statements is important here, as selectSlide can trigger changedSelection with an empty selection sometimes... ??
            selectSlide(index);
            self.currentSlideIndex = index;
            diagram.updateAllTargetBindings(); // show/hide slide nodes - see templates.js: slideTemplate

            if (slide) {
                zoomToSlideInCenter(slide);

                if (self.isPresenting) {
                    self.showTOC = false;
                }
            }
        });
    };

    this.needsNarrowCanvas = function () {
        var slide = findSlideByIndex(self.currentSlideIndex);
        return map.getUi().currentTabIs(map.getUi().TAB_ID_PRESENTER) && slide != null && (slide.data.type == 'TITLE_BODY_MAP' || slide.data.type == 'ACTIVITY_MAP' || slide.data.type == 'MAP_SUMMARY');
    };

    // sets the slide node as selected in the diagram.
    function selectSlide(index) {
        $scope.safeApply(function () {
            //console.log('select slide: ' + index);
            var diagram = map.getDiagram();
            diagram.clearSelection();
            if (index) {
                var slide = findSlideByIndex(index);
                if (slide) {
                    slide.isSelected = true;
                }
            }
            // TODO: scroll to slide?
        });
    }

    this.playSlide = function (index) {
        var diagram = map.getDiagram();
        map.getUi().openTab(map.getUi().TAB_ID_PRESENTER);

        var slides = self.getSlideNodeDatas();
        if (slides.length) {
            self.showTOC = false;
            presentSlide(index);
        }
    };

    // increment is -1 or +1
    this.advanceSlide = function (increment) {
        //console.log('advanceSlide, currentSlideIndex: ' + self.currentSlideIndex);
        $scope.safeApply(function () {
            var slide = findSlideByIndex(self.currentSlideIndex);
            if (slide) {
                self.currentSlideIndex += increment;
                if (self.isPresenting) {
                    presentSlide(self.currentSlideIndex);
                }
            }
        });
    };

    function presentSlide(index) {
        //console.log('presentSlide');
        $scope.safeApply(function () {
            var diagram = map.getDiagram();
            var slide = findSlideByIndex(index);
            if (!slide) {
                return;
            }

            diagram.clearSelection();
            // NB: need to set this after clearSelection, as that will set it to null! (see changedSelection)
            self.currentSlideIndex = index;
            map.setEditingBlocked(true);
            //console.log('presentSlide, index: ' + index + ', slide: ' + slide + ', currentSlideIndex: ' + self.currentSlideIndex);

            maybeInitSlideBlocker();
            var blockerW = self.SLIDE_BLOCKER_WIDTH;

            if (slide.data.hasRegion) {
                zoomToSlideInCenter(slide);

                // show slide blocker
                self.slideBlocker.desiredSize = new go.Size(slide.actualBounds.width + 2 * blockerW, slide.actualBounds.height + 2 * blockerW);
                self.slideBlocker.location = new go.Point(slide.actualBounds.x - blockerW, slide.actualBounds.y - blockerW);
                self.slideBlocker.visible = true;
                //console.log('slideBlocker: ' + self.slideBlocker.actualBounds);
            } else if (slide.data.isSummary) {
                zoomToSlideInCenter(slide);
                self.slideBlocker.visible = false;
            } else {
                map.getUi().resetZoom();
                self.slideBlocker.visible = false;
            }

            self.isPresenting = true;
            $('body').addClass('presenter-playing');

            map.getDiagram().updateAllTargetBindings(); // hide slide nodes - see templates.js: slideTemplate
        });
    }

    // zoom the diagram to show the given slide in the center of the canvas
    function zoomToSlideInCenter(slide) {
        var diagram = map.getDiagram();

        window.setTimeout(function () {

            var halfWidth = slide.data.type != 'MAP_ONLY';
            var zoomRect = self.getLetterboxedRect(slide.actualBounds, halfWidth);
            zoomRect.inflate(zoomRect.width / 10, zoomRect.height / 10);
            diagram.zoomToRect(zoomRect, go.Diagram.Uniform);
        }, 100);
    }

    // Returns a rectangle containing the given rect, but with appropriate width or height added
    // to give it same aspect ratio as the diagram.
    this.getLetterboxedRect = function (rect, halfWidth) {

        // NB: we calculate the aspect ratio when the tab is opened,
        // rather than each time as the diagram size might be changing...
        var dar = halfWidth ? self.diagramAspectRatio / 2 : self.diagramAspectRatio;
        console.log('rect: ' + rect + ', dar: ' + dar);

        var rectAspectRatio = rect.width / rect.height;

        if (dar > rectAspectRatio) {
            // tall skinny rect, short wide target AR, so add side padding to the rect
            var lbw = rect.height * dar; // because lbw / lbh == dar == lbw / rect.height (lbh == rect.height)
            return rect.copy().inflate((lbw - rect.width) / 2, 0); // add half the width difference to each side of the rect
        } else {
            // short wide rect, tall skinny target AR, so add top/bottom padding to the rect
            var lbh = rect.width / dar; // because lbw / lbh == dar == lbh / rect.width (lbw == rect.width)
            return rect.copy().inflate(0, (lbh - rect.height) / 2); // add half the height difference to top/bottom of the rect
        }
    };

    this.stopPresenting = function () {
        $scope.safeApply(function () {
            //console.log('stopPresenting, currentSlideIndex: ' + self.currentSlideIndex);
            var diagram = map.getDiagram();

            if (self.slideBlocker) {
                self.slideBlocker.visible = false;
            }

            //self.currentSlideIndex = null;
            self.isPresenting = false;
            $('body').removeClass('presenter-playing');

            map.getDiagram().updateAllTargetBindings(); // show slide nodes

            diagram.clearSelection();
            map.setEditingBlocked(false);
            //map.getUi().resetZoom();
        });
    };
};

// adjust zooming of map region
//self.windowResized();

},{}],18:[function(require,module,exports){
// functions for sharing maps, with a modal dialog

'use strict';

window.SandbankSharing = {};

SandbankSharing = function ($scope, $http, $resource, $modal, $log) {

    this.openModal = function (_mapIds, _onUpdate) {
        var modalInstance = $modal.open({
            templateUrl: 'template_map_sharing_modal.html', // see views/shares/_template_map_sharing_modal
            backdrop: 'static',
            controller: sharingModalCtrl,
            windowClass: 'sharing-modal',
            resolve: {
                userId: function userId() {
                    return $scope.userId;
                },
                userProfile: function userProfile() {
                    return $scope.userProfile;
                },
                mapIds: function mapIds() {
                    return _mapIds;
                },
                onUpdate: function onUpdate() {
                    return _onUpdate;
                }
            }
        });

        modalInstance.result.then(function () {});
    };

    // --------------- controller for sharing modal ---------------------

    var sharingModalCtrl = function sharingModalCtrl($scope, $modalInstance, userId, userProfile, mapIds, onUpdate) {

        $scope.userId = userId;
        $scope.userProfile = userProfile;
        $scope.mapIds = mapIds;

        // all existing shares for selected maps
        // format: [{mapId:1, shareId:1, canEdit:true, userId:2, userEmail:'foo@bar.com', groupId:null, organizationId:null, isPublic:false }, ...]
        $scope.mapShares = [];

        // existing shares, grouped for display
        // format: [{name:'foo', userEmail:'foo@bar.com', userId: null, groupId: id, organizationId: null, isPublic:false, canEdit:true, mapIds:[1,2]}, ...]
        $scope.existingShares = [];

        // new shares added in the dialog
        // format: [{shareType:SHARE_TYPE_INDIVIDUAL, sharePermission:SHARE_PERMISSION_CANVIEW, userEmail:'foo@bar.com', groupId:null, organizationId:null, isPublic:false }, ...]
        $scope.newShares = [];

        // all updated shares, to be saved
        // format: [{mapId:1, canEdit:false, userEmail:'foo@bar.com', groupId:null, organizationId:null, isPublic:false }, ...]
        $scope.updatedShares = [];

        // indexes of users/groups/orgs - format: [{id:1, name:'foo'}, ...]
        $scope.users = [];
        $scope.groups = [];
        $scope.organizations = [];

        // constants
        $scope.SHARE_TYPE_INDIVIDUAL = 'One or more Individuals';
        $scope.SHARE_TYPE_GROUP = 'Group';
        $scope.SHARE_TYPE_ORGANIZATION = 'ThinkNation';
        $scope.SHARE_TYPE_PUBLIC = 'All MetaMap Users';

        $scope.shareTypes = [$scope.SHARE_TYPE_INDIVIDUAL,
        //$scope.SHARE_TYPE_GROUP,
        $scope.SHARE_TYPE_ORGANIZATION, $scope.SHARE_TYPE_PUBLIC];

        $scope.SHARE_PERMISSION_CANVIEW = 'Can view';
        $scope.SHARE_PERMISSION_CANEDIT = 'Can edit';

        $scope.sharePermissions = [$scope.SHARE_PERMISSION_CANVIEW, $scope.SHARE_PERMISSION_CANEDIT];

        $scope.canShareCultureMap = function (share) {
            return _.findWhere($scope.userProfile.memberships, {
                organizationId: share.organizationId,
                leader: true
            });
        };

        // get existing shares
        function loadShares(mapIds) {
            $http.get('/shares/map_shares.json?ids=' + mapIds.join(',')).then(function (response) {
                if (response.status === 200 || response.status === 204) {
                    $scope.mapShares = response.data.mapShares;
                    $scope.users = response.data.users;
                    $scope.groups = response.data.groups;
                    $scope.organizations = response.data.organizations;
                    initExistingShares();
                    if (!$scope.existingShares.length && $scope.canAddNewShare()) {
                        $scope.addNewShare();
                    }
                }
            }, function () {
                alert('Could not load sharing info');
            });
        }

        loadShares(mapIds);

        // group the existing shares by user, group, org and public
        function initExistingShares() {
            // find all emails that occur in a share
            var userEmails = _.without(_.uniq(_.pluck($scope.mapShares, 'userEmail')), null);
            // build an array of shares, one for each email, with the applicable map IDs
            var sharesByUserEmail = _.map(userEmails, function (email) {
                var user = _.findWhere($scope.users, {
                    email: email
                });
                return {
                    isDeleted: false,
                    userEmail: email,
                    userId: user ? user.id : null,
                    groupId: null,
                    organizationId: null,
                    isPublic: false,
                    isCultureMap: false,
                    name: email,
                    // NB: for this attribute we don't try to summarize the value for all the existing shares,
                    // because it would be too complicated to display...
                    canEdit: $scope.mapShares.length == 1 && $scope.mapShares[0].canEdit,
                    mapIds: _.pluck(_.where($scope.mapShares, {
                        userEmail: email
                    }), 'mapId')
                };
            });

            var groupIds = _.without(_.uniq(_.pluck($scope.mapShares, 'groupId')), null);
            var sharesByGroupId = _.map(groupIds, function (id) {
                var group = _.findWhere($scope.groups, {
                    id: id
                });
                return {
                    isDeleted: false,
                    userEmail: null,
                    userId: null,
                    groupId: id,
                    organizationId: null,
                    isPublic: false,
                    isCultureMap: false,
                    name: 'Group: ' + (group ? group.name : ''),
                    canEdit: $scope.mapShares.length == 1 && $scope.mapShares[0].canEdit,
                    mapIds: _.pluck(_.where($scope.mapShares, {
                        groupId: id
                    }), 'mapId')
                };
            });

            var organizationIds = _.without(_.uniq(_.pluck($scope.mapShares, 'organizationId')), null);
            var sharesByOrganizationId = _.map(organizationIds, function (id) {
                var organization = _.findWhere($scope.organizations, {
                    id: id
                });
                return {
                    isDeleted: false,
                    userEmail: null,
                    userId: null,
                    groupId: null,
                    organizationId: id,
                    isPublic: false,
                    isCultureMap: $scope.mapShares.length == 1 && $scope.mapShares[0].isCultureMap,
                    name: 'ThinkNation: ' + (organization ? organization.name : ''),
                    canEdit: $scope.mapShares.length == 1 && $scope.mapShares[0].canEdit,
                    mapIds: _.pluck(_.where($scope.mapShares, {
                        organizationId: id
                    }), 'mapId')
                };
            });

            // are any of the selected maps shared publicly?
            var publicShares = [];
            if (_.where($scope.mapShares, {
                isPublic: true
            }).length) {
                publicShares = [{
                    isDeleted: false,
                    userEmail: null,
                    userId: null,
                    groupId: null,
                    organizationId: null,
                    isPublic: true,
                    isCultureMap: false,
                    name: 'Everyone',
                    canEdit: false,
                    mapIds: _.pluck(_.where($scope.mapShares, {
                        isPublic: true
                    }), 'mapId')
                }];
            }

            $scope.existingShares = _.union(sharesByUserEmail, sharesByGroupId, sharesByOrganizationId, publicShares);
        }

        function buildUpdatedShares() {
            $scope.updatedShares = [];

            // for each selected map, decompose the existingShares (grouped by user/group/org/public) into individual shares for saving
            _.each(mapIds, function (id) {
                // get existing shares for this map
                var existingSharesForMapId = _.filter($scope.existingShares, function (existingShare) {
                    // existingShares format: [{name:'foo', userEmail:'foo@bar.com', userId: null, groupId: id, organizationId: null, isPublic:false, isCultureMap:false, canEdit:true, mapIds:[1,2]}, ...]
                    return _.contains(existingShare.mapIds, id);
                });
                // decompose these into individual shares
                _.each(existingSharesForMapId, function (es) {
                    $scope.updatedShares.push({
                        isNew: false,
                        isDeleted: es.isDeleted,
                        mapId: id,
                        userEmail: es.userEmail,
                        userId: es.userId,
                        groupId: es.groupId,
                        organizationId: es.organizationId,
                        isPublic: es.isPublic,
                        isCultureMap: es.isCultureMap,
                        canEdit: es.canEdit
                    });
                });
            });

            // add in the newShares (for each selected map)
            _.each(mapIds, function (id) {
                _.each($scope.newShares, function (ns) {
                    $scope.updatedShares.push({
                        isNew: true,
                        mapId: id,
                        userEmail: ns.shareType == $scope.SHARE_TYPE_INDIVIDUAL ? ns.userEmail : null,
                        groupId: ns.shareType == $scope.SHARE_TYPE_GROUP ? ns.groupId : null,
                        organizationId: ns.shareType == $scope.SHARE_TYPE_ORGANIZATION ? ns.organizationId : null,
                        isPublic: ns.shareType == $scope.SHARE_TYPE_PUBLIC,
                        isCultureMap: ns.isCultureMap,
                        canEdit: ns.shareType == $scope.SHARE_TYPE_PUBLIC ? false : ns.sharePermission == $scope.SHARE_PERMISSION_CANEDIT,
                        message: ns.message
                    });
                });
            });
        }

        function saveShares(onUpdate) {
            $http.put('/shares/update_map_shares', $scope.updatedShares).then(function (response) {
                onUpdate();
            }, function () {
                alert('Could not save sharing info');
            });
        }

        $scope.canDeleteExistingShare = function () {
            return $scope.canAddNewShare();
        };

        $scope.deleteExistingShare = function (share) {
            share.isDeleted = true;
        };

        $scope.canAddNewShare = function () {
            // make sure all maps are owned by the current user
            var mapUserIds = _.uniq(_.pluck($scope.mapShares, 'mapUserId'));
            return mapUserIds.length == 0 || mapUserIds.length == 1 && mapUserIds[0] == $scope.userId;
        };

        $scope.addNewShare = function () {
            // NB: isPublic and canEdit are set in buildUpdateShares
            $scope.newShares.push({
                shareType: $scope.SHARE_TYPE_INDIVIDUAL,
                sharePermission: $scope.SHARE_PERMISSION_CANVIEW,
                userEmail: '',
                groupId: $scope.groups.length ? $scope.groups[0].id : null,
                organizationId: $scope.organizations.length ? $scope.organizations[0].id : null,
                isCultureMap: false,
                message: ''
            });
        };

        $scope.deleteNewShare = function (share) {
            var i = _.indexOf($scope.newShares, share);
            $scope.newShares.splice(i, 1);
        };

        $scope.ok = function () {
            buildUpdatedShares();
            saveShares(onUpdate);
            $modalInstance.close();
        };

        $scope.cancel = function () {
            $modalInstance.dismiss('cancel');
        };
    };

    sharingModalCtrl.$inject = ['$scope', '$modalInstance', 'userId', 'userProfile', 'mapIds', 'onUpdate'];
};

},{}],19:[function(require,module,exports){
// common core standards tab -
// this is delegated to the SandbankCcsTagging module, which handles CCS
// for a map OR the user profile - see tagging_ccs.js

"use strict";

SandbankEditor.Standards = function ($scope, map) {

    var self = this;

    this.init = function () {};

    // called when a tab is opened or closed
    this.currentTabChanged = function (newValue, oldValue) {
        if (newValue == map.getUi().TAB_ID_STANDARDS) {
            // opening tab
            // if there are no links, show the modal
            if ($scope.canEdit && !$scope.ccsTagging.links.length) {
                $scope.ccsTagging.addLink();
            }
        }
        if (oldValue == map.getUi().TAB_ID_STANDARDS) {}
    };
};
// closing tab

},{}],20:[function(require,module,exports){
// functions for user-tagging maps, with a modal dialog

// NB: the complexity here is due to the need to show existing tags that may apply
// to any number of the selected maps, vs. new tags that will be added to all selected maps -
// the tagging info needs to be grouped and ungrouped when loading and saving to handle this.

'use strict';

window.SandbankTagging = {};

SandbankTagging = function ($scope, $http, $resource, $modal, $log) {

    this.openModal = function (_mapIds, _showDescription, _onUpdate) {
        var modalInstance = $modal.open({
            templateUrl: 'template_map_tagging_modal.html', // see views/user_tags/_template_map_tagging_modal
            backdrop: 'static',
            controller: tagsModalCtrl,
            windowClass: 'tags-modal',
            resolve: {
                mapIds: function mapIds() {
                    return _mapIds;
                },
                showDescription: function showDescription() {
                    return _showDescription;
                },
                onUpdate: function onUpdate() {
                    return _onUpdate;
                }
            }
        });

        modalInstance.result.then(function () {});
    };

    // --------------- controller for tags modal ---------------------

    var tagsModalCtrl = function tagsModalCtrl($scope, $modalInstance, mapIds, showDescription, onUpdate) {

        $scope.mapIds = mapIds;

        // all existing tags for selected maps - format: [{mapId: 1, tagId: 1, tagName:'foo'}, ...]
        $scope.mapUserTags = [];

        // existing tags, grouped for display - format: [{name:'foo', mapIds:[1,2]}, ...]
        $scope.existingTags = [];

        // new tags added in the dialog - format: [{name:'foo'}, ...]
        $scope.newTags = [];

        // all updated tags, to be saved - tags format: [{mapId: 1, userTags: "foo, bar, bam"}, ...]
        $scope.updatedTags = { description: '', tags: [] };

        $scope.showDescription = showDescription;

        function loadTags(mapIds) {
            $http.get('/user_tags/map_user_tags.json?ids=' + mapIds.join(',')).then(function (response) {
                $scope.mapUserTags = response.data.mapUserTags;
                // NB: the map description is always passed back if we only pass one map ID,
                // but we may not display it in the dialog - depends on the value of the showDescription flag.
                if (mapIds.length == 1) {
                    $scope.updatedTags.description = response.data.mapDescription;
                }
                initExistingTags();
                $scope.addNewTag();
            }, function () {
                alert('Could not load tags');
            });
        }

        loadTags(mapIds);

        function initExistingTags() {
            var tagNames = _.uniq(_.pluck($scope.mapUserTags, 'tagName')).sort();
            $scope.existingTags = _.map(tagNames, function (name) {
                var mapUserTagsForName = _.where($scope.mapUserTags, { tagName: name });
                var mapIds = _.pluck(mapUserTagsForName, 'mapId');
                return {
                    name: name,
                    mapIds: mapIds
                };
            });
        }

        function buildUpdatedTags() {
            $scope.updatedTags.tags = [];
            _.each(mapIds, function (id) {
                var existingTagsForId = _.filter($scope.existingTags, function (existingTag) {
                    // existingTag format: {name:'foo', mapIds:[1,2]}
                    return _.contains(existingTag.mapIds, id);
                });
                $scope.updatedTags.tags.push({
                    mapId: id,
                    userTags: _.union(_.pluck(existingTagsForId, 'name'), _.without(_.pluck($scope.newTags, 'name'), '') // remove empty tags
                    ).join(', ')
                });
            });
        }

        function saveTags(onUpdate) {
            $http.put('/user_tags/update_map_user_tags', [$scope.updatedTags]).then(function (response) {
                onUpdate();
            }, function () {
                alert('Could not save tags');
            });
        }

        $scope.deleteExistingTag = function (tag) {
            var i = _.indexOf($scope.existingTags, tag);
            $scope.existingTags.splice(i, 1);
        };

        $scope.addNewTag = function () {
            $scope.newTags.push({ name: '' });
        };

        $scope.tagSelected = function (item, model, label) {
            //console.log('tagSelected: ' + item + ', ' + model + ', ' + label);
            $scope.addNewTag();
        };

        $scope.editingTagKeypress = function (e) {
            if (e.which == 13) {
                $scope.addNewTag();
            }
        };

        $scope.deleteNewTag = function (tag) {
            var i = _.indexOf($scope.newTags, tag);
            $scope.newTags.splice(i, 1);
            if (!$scope.newTags.length) {
                $scope.addNewTag(); // always leave at least one tag field
            }
        };

        // tag autocomplete
        $scope.getUserTags = function (viewValue) {
            var url = '/user_tags/list.json?q=' + viewValue;
            return $http.get(url).then(function (response) {
                return response.data.tags;
            });
        };

        $scope.ok = function () {
            buildUpdatedTags();
            saveTags(onUpdate);
            $modalInstance.close();
        };

        $scope.cancel = function () {
            $modalInstance.dismiss('cancel');
        };
    };

    tagsModalCtrl.$inject = ['$scope', '$modalInstance', 'mapIds', 'showDescription', 'onUpdate'];
};

},{}],21:[function(require,module,exports){
// functions for admin-tagging maps, with a modal dialog

'use strict';

window.SandbankAdminTagging = {};

SandbankAdminTagging = function ($scope, $http, $resource, $modal, $log) {

    this.openModal = function (_mapId, _onUpdate) {
        var modalInstance = $modal.open({
            templateUrl: 'template_map_admin_tagging_modal.html', // see views/admin_tags/_template_map_admin_tagging_modal
            backdrop: 'static',
            controller: tagsModalCtrl,
            windowClass: 'tags-modal',
            resolve: {
                mapId: function mapId() {
                    return _mapId;
                },
                onUpdate: function onUpdate() {
                    return _onUpdate;
                }
            }
        });

        modalInstance.result.then(function () {});
    };

    // --------------- controller for tags modal ---------------------

    var tagsModalCtrl = function tagsModalCtrl($scope, $modalInstance, mapId, onUpdate) {

        $scope.mapId = mapId;

        // admin tags applied to the map
        $scope.mapAdminTags = [];
        // list of all admin tags
        $scope.adminTagList = [];

        // checkbox selections for admin tags - key (index): admin tag ID; value: true/false (if map has the admin tag)
        $scope.selectedAdminTags = [];

        function initSelectedAdminTags() {
            $scope.selectedAdminTags = [];
            _.each($scope.adminTagList, function (tag) {
                if (_.findWhere($scope.mapAdminTags, { id: tag.id })) {
                    $scope.selectedAdminTags[tag.id] = true;
                }
            });
        }

        function loadTags(mapId) {
            $http.get('/admin_tags/map_admin_tags.json?id=' + mapId).then(function (response) {
                $scope.mapAdminTags = response.data.mapAdminTags;
                $scope.adminTagList = response.data.adminTagList;
                initSelectedAdminTags();
            }, function () {
                alert('Could not load tags');
            });
        }

        loadTags(mapId);

        function saveTags(onUpdate) {
            var selectedTagNames = _.map($scope.adminTagList, function (tag) {
                return $scope.selectedAdminTags[tag.id] ? tag.name : null;
            });
            var tagList = _.without(selectedTagNames, null).join(',');

            $http.put('/admin_tags/update_map_admin_tags', [{ mapId: $scope.mapId, adminTags: tagList }]).then(function (response) {
                onUpdate();
            }, function () {
                alert('Could not save tags');
            });
        }

        $scope.ok = function () {
            saveTags(onUpdate);
            $modalInstance.close();
        };

        $scope.cancel = function () {
            $modalInstance.dismiss('cancel');
        };
    };

    tagsModalCtrl.$inject = ['$scope', '$modalInstance', 'mapId', 'onUpdate'];
};

},{}],22:[function(require,module,exports){
// functions for tagging maps or users with common core standards, with a modal dialog

'use strict';

window.SandbankCcsTagging = {};

SandbankCcsTagging = function ($scope, $http, $modal) {

    var self = this;

    // this is set in either user.js or editor.js, and tells us if we're
    // editing CCS tags for the current user or for the current map
    this.mapId = null;

    // the list of links to standards for this map or user.
    // each link is a wrapper for the standard, with this format:
    // { standard: { name: "K.CC.A.1", statement: "..." }, editing: false }
    this.links = [];

    this.addLink = function () {
        var link = {
            standard: null,
            editing: true
        };
        self.links.push(link);
        self.openModal(link);
    };

    this.deleteLink = function (link) {
        var i = _.indexOf(self.links, link);
        self.links.splice(i, 1);
        self.saveCcsTags();
    };

    this.editingALink = function () {
        return self.links && _.findWhere(self.links, {
            editing: true
        }) !== undefined;
    };

    // returns an list of names of the selected standards
    this.getLinkNames = function () {
        return _.map(self.links, function (link) {
            return link.standard.name;
        }).join(',');
    };

    this.loadCcsTags = function () {
        if (self.mapId) {
            $http.get('/common_core_standards/map_ccs_tags.json?id=' + self.mapId).then(function (response) {
                _.each(response.data.mapCcsTags, function (tag) {
                    self.links.push({
                        standard: tag,
                        editing: false
                    });
                });
            }, function () {});
        } else {
            _.each($scope.userProfile.userCcsTags, function (tag) {
                self.links.push({
                    standard: tag,
                    editing: false
                });
            });
        }
    };

    this.saveCcsTags = function () {
        if (self.mapId) {
            $http.put('/common_core_standards/update_map_ccs_tags', [{
                mapId: self.mapId,
                ccsTags: self.getLinkNames()
            }]).then(function (response) {}, function () {
                alert('Could not save Common Core Standards');
            });
        } else {
            $http.put('/common_core_standards/update_user_ccs_tags', [self.getLinkNames()]).then(function (response) {}, function () {
                $scope.profileEditStatus = 'Could not save CCS tags';
            });
        }
    };

    this.openModal = function (_link, _onUpdate) {
        var modalInstance = $modal.open({
            templateUrl: 'template_ccs_tagging_modal.html',
            backdrop: 'static',
            controller: ccsTagsModalCtrl,
            windowClass: 'standards-modal',
            resolve: {
                link: function link() {
                    return _link;
                },
                onUpdate: function onUpdate() {
                    return _onUpdate;
                }
            }
        });

        modalInstance.result.then(function () {});
    };

    // --------------- controller for tags modal ---------------------

    var ccsTagsModalCtrl = function ccsTagsModalCtrl($scope, $modalInstance, link, onUpdate) {

        // the list of all standards, which the user selects from
        $scope.standards = [];
        $scope.selection = {
            standard: link.standard
        };

        // TODO: cache these somehow??
        $scope.loadStandards = function () {
            var url = '/common_core_standards.json';
            $http.get(url).then(function (response) {
                $scope.standards = response.data.standards;
                $scope.applyFilters();
            });
        };

        $scope.loadStandards();

        $scope.filters = {
            // possible values for filter vars
            filteredStandardTypes: [], // these don't actually get filtered, but naming for consistency
            filteredGrades: [],
            filteredCategories: [],
            filteredStandards: [],

            // filter vars
            standardTypeFilter: null,
            gradeFilter: null,
            categoryFilter: null
        };

        // filter the drop-downs and the standards list according to current selections
        $scope.applyFilters = function () {
            // get standard types (e.g. 'Mathematics')
            $scope.filters.filteredStandardTypes = _.uniq(_.pluck($scope.standards, 'standard'));

            // get grade options for selected standard
            $scope.filters.filteredGrades = _.uniq(_.pluck(_.where($scope.standards, {
                standard: $scope.filters.standardTypeFilter
            }), 'grade'));

            // get category options for selected standard and grade
            $scope.filters.filteredCategories = _.uniq(_.pluck(_.where($scope.standards, {
                standard: $scope.filters.standardTypeFilter,
                grade: $scope.filters.gradeFilter
            }), 'category'));

            // get standards for selected standard, grade and category
            $scope.filters.filteredStandards = _.filter($scope.standards, function (std) {
                return (!$scope.filters.standardTypeFilter || std.standard == $scope.filters.standardTypeFilter) && (!$scope.filters.gradeFilter || std.grade == $scope.filters.gradeFilter) && (!$scope.filters.categoryFilter || std.category == $scope.filters.categoryFilter);
            });
        };

        // set the filter drop-downs to match the selected standard
        $scope.setFilters = function (link) {
            if (link.standard) {
                $scope.filters.standardTypeFilter = link.standard.standard;
                $scope.filters.gradeFilter = link.standard.grade;
                $scope.filters.categoryFilter = link.standard.category;
            } else {
                $scope.filters.standardTypeFilter = null;
                $scope.filters.gradeFilter = null;
                $scope.filters.categoryFilter = null;
            }
            $scope.applyFilters();
        };

        $scope.setFilters(link);

        $scope.ok = function () {
            link.standard = $scope.selection.standard;
            link.editing = false;
            $modalInstance.close();
            self.saveCcsTags();
        };

        $scope.cancel = function () {
            link.editing = false;
            // if we were adding a new link, get rid of it
            if (!link.standard) {
                self.deleteLink(link);
            }
            $modalInstance.dismiss('cancel');
        };
    };

    ccsTagsModalCtrl.$inject = ['$scope', '$modalInstance', 'link', 'onUpdate'];
};

// $scope.loadUserProfile();
// $scope.profileEditStatus = 'CCS Tags saved';

},{}],23:[function(require,module,exports){
// goJS templates used in the editor

'use strict';

SandbankEditor.Templates = function ($scope, map) {

    var self = this;

    // constants
    this.groupFillColor = '#f9f9f9';

    this.init = function () {};

    // initialize template-related stuff that depends on the diagram (and therefore can't go in init())
    this.initTemplates = function (diagram) {
        diagram.groupTemplate = self.groupTemplate;
        diagram.nodeTemplate = self.slideTemplate;
        diagram.linkTemplate = self.linkTemplate;
        diagram.linkTemplateMap.add('P', self.pLinkTemplate);
        diagram.linkTemplateMap.add('D', self.dLinkTemplate);

        self.setTemporaryLinkTemplates(diagram.toolManager.linkingTool);
        self.setTemporaryLinkTemplates(diagram.toolManager.relinkingTool);

        diagram.toolManager.linkingTool.portTargeted = function (realnode, realport, tempnode, tempport, toend) {
            self.handlePortTargeted(diagram.toolManager.linkingTool, realnode, realport, tempnode, tempport, toend);
        };

        diagram.toolManager.relinkingTool.portTargeted = function (realnode, realport, tempnode, tempport, toend) {
            self.handlePortTargeted(diagram.toolManager.relinkingTool, realnode, realport, tempnode, tempport, toend);
        };

        diagram.toolManager.relinkingTool.updateAdornments = function (part) {
            go.RelinkingTool.prototype.updateAdornments.call(this, part);
            var from = part.findAdornment('RelinkFrom');
            var to = part.findAdornment('RelinkTo');
            // if (from)
            //     console.log('relinkfrom: ' + from.part.width);
        };

        diagram.toolManager.linkingTool.linkValidation = self.validateLink;
        diagram.toolManager.relinkingTool.linkValidation = self.validateLink;
    };

    // convenient abbreviation for creating templates
    var mk = go.GraphObject.make;

    // DSRP colors (from _variables.scss)
    var colorD = '#f2624c';
    var colorS = '#96c93d';
    var colorR = '#4cbfc2';
    var colorP = '#fbaa36';
    var colorPLight = '#FDDDAF';
    var colorPDark = '#C9882B';

    var eyeSvgPath = 'M 256.00,96.00C 144.341,96.00, 47.559,161.021,0.00,256.00c 47.559,94.979, 144.341,160.00, 256.00,160.00c 111.657,0.00, 208.439-65.021, 256.00-160.00 C 464.442,161.021, 367.657,96.00, 256.00,96.00z M 382.225,180.852c 30.081,19.187, 55.571,44.887, 74.717,75.148 c-19.146,30.261-44.637,55.961-74.718,75.149C 344.427,355.257, 300.779,368.00, 256.00,368.00c-44.78,0.00-88.428-12.743-126.225-36.852 C 99.695,311.962, 74.205,286.262, 55.058,256.00c 19.146-30.262, 44.637-55.962, 74.717-75.148c 1.959-1.25, 3.938-2.461, 5.929-3.65 C 130.725,190.866, 128.00,205.613, 128.00,221.00c0.00,70.692, 57.308,128.00, 128.00,128.00s 128.00-57.308, 128.00-128.00c0.00-15.387-2.725-30.134-7.704-43.799 C 378.286,178.39, 380.265,179.602, 382.225,180.852z M 256.00,205.00c0.00,26.51-21.49,48.00-48.00,48.00s-48.00-21.49-48.00-48.00s 21.49-48.00, 48.00-48.00 S 256.00,178.49, 256.00,205.00z';
    var eyeBlockedSvgPath = 'M 419.661,148.208 C 458.483,175.723 490.346,212.754 512.00,256.00 C 464.439,350.979 367.657,416.00 256.00,416.00 C 224.717,416.00 194.604,410.894 166.411,401.458 L 205.389,362.48 C 221.918,366.13 238.875,368.00 256.00,368.00 C 300.779,368.00 344.427,355.257 382.223,331.148 C 412.304,311.96 437.795,286.26 456.941,255.999 C 438.415,226.716 413.934,201.724 385.116,182.752 L 419.661,148.208 ZM 256.00,349.00 C 244.638,349.00 233.624,347.512 223.136,344.733 L 379.729,188.141 C 382.51,198.627 384.00,209.638 384.00,221.00 C 384.00,291.692 326.692,349.00 256.00,349.00 ZM 480.00,0.00l-26.869,0.00 L 343.325,109.806C 315.787,100.844, 286.448,96.00, 256.00,96.00C 144.341,96.00, 47.559,161.021,0.00,256.00 c 21.329,42.596, 52.564,79.154, 90.597,106.534L0.00,453.131L0.00,480.00 l 26.869,0.00 L 480.00,26.869L 480.00,0.00 z M 208.00,157.00c 24.022,0.00, 43.923,17.647, 47.446,40.685 l-54.762,54.762C 177.647,248.923, 160.00,229.022, 160.00,205.00C 160.00,178.49, 181.49,157.00, 208.00,157.00z M 55.058,256.00 c 19.146-30.262, 44.637-55.962, 74.717-75.148c 1.959-1.25, 3.938-2.461, 5.929-3.65C 130.725,190.866, 128.00,205.613, 128.00,221.00 c0.00,29.262, 9.825,56.224, 26.349,77.781l-29.275,29.275C 97.038,309.235, 73.197,284.67, 55.058,256.00z';
    var paperclipSvgPath = 'M 348.916,163.524l-32.476-32.461L 154.035,293.434c-26.907,26.896-26.907,70.524,0.00,97.422 c 26.902,26.896, 70.53,26.896, 97.437,0.00l 194.886-194.854c 44.857-44.831, 44.857-117.531,0.00-162.363 c-44.833-44.852-117.556-44.852-162.391,0.00L 79.335,238.212l 0.017,0.016c-0.145,0.152-0.306,0.288-0.438,0.423 c-62.551,62.548-62.551,163.928,0.00,226.453c 62.527,62.528, 163.934,62.528, 226.494,0.00c 0.137-0.137, 0.258-0.284, 0.41-0.438l 0.016,0.017 l 139.666-139.646l-32.493-32.46L 273.35,432.208l-0.008,0.00 c-0.148,0.134-0.282,0.285-0.423,0.422 c-44.537,44.529-116.99,44.529-161.538,0.00c-44.531-44.521-44.531-116.961,0.00-161.489c 0.152-0.152, 0.302-0.291, 0.444-0.423l-0.023-0.03 l 204.64-204.583c 26.856-26.869, 70.572-26.869, 97.443,0.00c 26.856,26.867, 26.856,70.574,0.00,97.42L 218.999,358.375 c-8.968,8.961-23.527,8.961-32.486,0.00c-8.947-8.943-8.947-23.516,0.00-32.46L 348.916,163.524z';

    // footer for image export
    var _exportFooter = null;

    // ------------------- debug info for groups/links --------------------------------

    function groupInfo(obj) {
        return obj.data.text + '\n' + 'object: ' + obj + '\n' + 'key: ' + obj.data.key + '\n' + 'containingGroup: ' + obj.containingGroup + '\n' + 'layout: ' + obj.layout + '\n' + 'data.layout: ' + obj.data.layout + '\n' + 'position: ' + parseInt(obj.position.x, 10) + ', ' + parseInt(obj.position.y, 10) + '\n' + 'freehand position (data.loc): ' + go.Point.parse(obj.data.loc) + '\n' + 'width/height: ' + parseInt(obj.actualBounds.width, 10) + '/' + parseInt(obj.actualBounds.height, 10) + '\n' + 'getScale(): ' + map.getLayouts().getScale(obj) + '\n' + 'isLinkLabel: ' + obj.data.isLinkLabel + '\n' + 'labeledLink: ' + obj.labeledLink + '\n';
    }

    function nodeInfo(obj) {
        return 'object: ' + obj + '\n' + 'key: ' + obj.data.key + '\n' + 'position: ' + parseInt(obj.position.x, 10) + ', ' + parseInt(obj.position.y, 10) + '\n' + 'width/height: ' + parseInt(obj.actualBounds.width, 10) + '/' + parseInt(obj.actualBounds.height, 10) + '\n';
    }

    function linkInfo(obj) {
        var snpos = map.getLayouts().getSameNodesLinkPosition(obj);
        return '' + 'object: ' + obj + '\n' + 'fromNode: ' + obj.fromNode + '\n' + 'toNode: ' + obj.toNode + '\n' + 'labelNodes: ' + obj.labelNodes.count + '\n' + 'labelNodeIsVisible: ' + map.getLayouts().labelNodeIsVisible(obj) + '\n' + 'fromPortId: ' + obj.fromPortId + '\n' + 'toPortId: ' + obj.toPortId + '\n' + 'category: ' + (obj.data ? obj.data.category : '') + '\n' + 'containingGroup: ' + obj.containingGroup + '\n' + 'fromAndToNodesAreVisible: ' + map.getLayouts().fromAndToNodesAreVisible(obj) + '\n' + 'curve: ' + obj.curve + '\n' + 'curviness: ' + obj.curviness + '\n' + 'fromEndSegmentLength: ' + Math.round(obj.fromEndSegmentLength) + '\n' + 'toEndSegmentLength: ' + Math.round(obj.toEndSegmentLength) + '\n' + 'sameNodesLinkPosition: ' + snpos.index + ' of ' + snpos.count + '\n' +
        //+ 'geometry: ' + obj.geometry + "\n" +
        'getLinkStrokeWidth: ' + map.getLayouts().getLinkStrokeWidth(obj) + '\n';
    }

    // -----------------------------------------------------------------------------

    // NB: these are here because they are about colors;
    // similar functions that are scale-related are in layouts.js...
    function getGroupSelectionStroke(obj) {
        if (obj.isSelected) {
            if (map.getPerspectives().isInPEditorMode()) return colorP;else if (map.getPerspectives().isInDEditorMode()) return colorD;else return '#000';
        } else {
            return '#000';
        }
    }

    // OK, this isn't about colors, but it wants to be near the one above...
    function getGroupSelectionStrokeWidth(obj) {
        return obj.isSelected ? 3 : 1;
    }

    function getRLinkSelectionStroke(obj) {
        if (obj.isSelected || obj == map.getUi().mouseOverLink) {
            return colorR; // TODO: can P links be selected?
        } else {
            return '#000';
        }
    }

    // -----------------------------------------------------------------------------

    // callbacks to determine when the corners should be visible

    function showDCorner(group) {
        if (map.getPerspectives().isDEditorThing(group)) {
            // mark distinction thing
            return true;
        } else if (map.getPerspectives().isInPOrDEditorMode()) {
            // don't show any corners if in P/D editor mode
            return false;
        } else if (map.getPresenter().isCreatingThumbnail) {
            // don't show any corners if capturing thumbnail
            return false;
        } else {
            return group == map.getUi().mouseOverGroup || $scope.isTouchDevice() && group.isSelected || canDragSelectionToBecomeSistersOf(group, false) && (map.getUi().dragTargetPosition === null || cannotDragSelectionToBecomeOrderedSisterOf(group)); // not showing drag above/below indicators
        }
    }

    function showSCorner(group) {
        if (map.getPerspectives().isInPOrDEditorMode()) {
            // don't show any corners if in P/D editor mode
            return false;
        } else if (map.getPresenter().isCreatingThumbnail) {
            // don't show any corners if capturing thumbnail
            return false;
        } else {
            return group == map.getUi().mouseOverGroup || $scope.isTouchDevice() && group.isSelected || canDragSelectionToBecomeChildrenOf(group, false) && (map.getUi().dragTargetPosition === null || cannotDragSelectionToBecomeOrderedSisterOf(group)); // not showing drag above/below indicators
        }
    }

    function showRCorner(group) {
        if (map.getPerspectives().isInPOrDEditorMode()) {
            // don't show any corners if in P/D editor mode
            return false;
        } else if (map.getPresenter().isCreatingThumbnail) {
            // don't show any corners if capturing thumbnail
            return false;
        } else {
            return group == map.getUi().mouseOverGroup || $scope.isTouchDevice() && group.isSelected; // show corners on mouseover
        }
    }

    function showPCorner(group) {
        if (map.getPerspectives().isPEditorPoint(group)) {
            return true; // mark perspective point
        } else if (map.getPerspectives().isInPOrDEditorMode()) {
            // don't show any corners if in P/D editor mode
            return false;
        } else if (map.getPresenter().isCreatingThumbnail) {
            // don't show any corners if capturing thumbnail
            return false;
        } else {
            return group == map.getUi().mouseOverGroup || $scope.isTouchDevice() && group.isSelected; // show corners on mouseover
        }
    }

    // when a P link should be visible

    this.showPLink = function (link) {
        var mode = map.getUi().getMapEditorOptions().perspectiveMode;
        if (map.getPerspectives().isPEditorPoint(link.fromNode)) {
            // show P's when this link is from the current Point
            return true;
        } else if (map.getPerspectives().isInPOrDEditorMode()) {
            // don't show P's for non-Point things, even on mouseover
            return false;
        } else {
            return (mode == 'lines' || mode == 'both') && (link.fromNode == map.getUi().mouseOverGroup || map.pIsExpanded(link.fromNode));
        }
    };

    this.showPDot = function (link) {
        return true; // map.getUi().getMapEditorOptions().perspectiveMode != 'both';
    };

    // these functions are used in two modes:
    // 1. with isDropping == false, to highlight drop targets based on map.getUi().dragTargetGroup and map.getUi().dragTargetPosition,
    //    which are set on mouseDragEnter/mouseDragleave
    // 2. with isDropping == true, on drop, when the above indicators have gone away, but we know what the dropped
    //    and target groups are, and we want to know what the drop should do.

    function canDragSelectionToBecomeSistersOf(group, isDropping) {
        return (group == map.getUi().dragTargetGroup || isDropping) && map.thingsSelectedAreDescendantsOf(group);
    }

    function canDragSelectionToBecomeChildrenOf(group, isDropping) {
        return (group == map.getUi().dragTargetGroup || isDropping) && !map.thingsSelectedIncludeSlide() && !map.thingsSelectedAreDescendantsOf(group);
    }

    // side is map.LEFT or map.RIGHT
    function canDragSelectionToBecomeOrderedSisterOf(targetGroup, side, isDropping) {
        // must be dragging single group
        var draggedGroup = map.getUniqueThingSelected();
        if (!draggedGroup) {
            return false;
        }

        // dragged and target must be Sisters in inventory layout
        return (targetGroup == map.getUi().dragTargetGroup || isDropping) && (map.getUi().dragTargetPosition == side || isDropping) && map.getLayouts().areSistersInInventoryLayout(draggedGroup, targetGroup);
    }

    function cannotDragSelectionToBecomeOrderedSisterOf(targetGroup) {
        return !canDragSelectionToBecomeOrderedSisterOf(targetGroup, map.LEFT) && !canDragSelectionToBecomeOrderedSisterOf(targetGroup, map.RIGHT);
    }

    // handle drop on one of the three target regions (top, middle, bottom)
    // side is map.LEFT or map.RIGHT
    function handleGroupMouseDrop(event, dropTarget, side) {
        //console.log('dragAboveTarget.mouseDrop, target: ' + dropTarget + ', part: ' + dropTarget .part + ', show: ' + show);
        if (side !== null && canDragSelectionToBecomeOrderedSisterOf(dropTarget.part, side, true)) {
            map.addSelectedThingAsOrderedSisterOf(dropTarget.part, side);
        } else if (canDragSelectionToBecomeSistersOf(dropTarget.part, true)) {
            map.addSelectedThingsAsSistersOf(dropTarget.part);
        } else if (canDragSelectionToBecomeChildrenOf(dropTarget.part, true)) {
            map.addSelectedThingsAsChildrenOf(dropTarget.part);
        }
    }

    // when to show the R-thing knob on a link
    function showKnob(link) {
        return link == map.getUi().mouseOverLink;
    }

    // ---------------- components for main group template ------------------

    function dFlagMarker() {
        return mk(go.Shape, new go.Binding('fill', '', function (obj) {
            return obj.data.dflag ? '#000' : null;
        }).ofObject(), {
            name: 'dflag',
            position: new go.Point(0, 0),
            desiredSize: new go.Size(18, 18),
            geometry: go.Geometry.parse('F M0 1 L0 18 L18 0 L1 0z', true),
            cursor: 'pointer',
            pickable: false,
            stroke: null
        });
    }

    // "D" corner (top left, red)
    function cornerD() {
        return mk(go.Panel, go.Panel.Position, new go.Binding('opacity', '', function (obj) {
            return showDCorner(obj) ? 1 : 0;
        }).ofObject(), {
            name: 'cornerD',
            position: new go.Point(0, 0),
            desiredSize: new go.Size(50, 50),
            opacity: 0
        }, mk(go.Shape, {
            position: new go.Point(0, 0),
            desiredSize: new go.Size(50, 50),
            geometry: go.Geometry.parse('F M0 1 L0 50 L50 0 L1 0z', true),
            fill: colorD,
            stroke: null,
            cursor: 'pointer',
            click: function click(event, target) {
                //console.log('click, control:' + event.control + ', alt:' + event.alt + ', meta:' + event.meta);
                if (event.alt) {
                    // NB: a side effect of this will be to select just this group,
                    // which would not happen otherwise via control-click
                    map.getPerspectives().setDEditorThing(target.part);
                } else {
                    // handle single or double click
                    map.getUi().handleCornerClick('D', target.part);
                }
            },
            contextClick: function contextClick(event, target) {
                //console.log('contextClick:' + event);
                map.toggleDFlag(target.part);
            }
        }), mk(go.TextBlock, {
            text: 'D',
            stroke: 'white',
            font: '9px sans-serif',
            position: new go.Point(12, 15),
            pickable: false
        }));
    }

    // "S" corner (bottom left, green)
    function cornerS() {
        return mk(go.Panel, go.Panel.Position, new go.Binding('opacity', '', function (obj) {
            return showSCorner(obj) ? 1 : 0;
        }).ofObject(), {
            name: 'cornerS',
            position: new go.Point(0, 50),
            desiredSize: new go.Size(50, 50),
            opacity: 0
        }, mk(go.Shape, {
            position: new go.Point(0, 0),
            desiredSize: new go.Size(50, 50),
            geometry: go.Geometry.parse('F M0 0 L0 49 L1 50 L50 50z', true),
            fill: colorS,
            stroke: null,
            cursor: 'pointer',
            click: function click(event, target) {
                // handle single or double click
                map.getUi().handleCornerClick('S', target.part);
            }
        }),
        // expansion indicator
        mk(go.Shape, new go.Binding('position', '', function (obj) {
            return obj.isSubGraphExpanded ? new go.Point(4, 43) : new go.Point(5, 38);
        }).ofObject(), new go.Binding('angle', '', function (obj) {
            return obj.isSubGraphExpanded ? 90 : 0;
        }).ofObject(), {
            desiredSize: new go.Size(5, 10),
            geometry: go.Geometry.parse('F M0 0 L5 5 L0 10z', true),
            fill: '#333',
            stroke: null,
            cursor: 'pointer',
            pickable: false
        }), mk(go.TextBlock, {
            text: 'S',
            stroke: 'white',
            font: '9px sans-serif',
            position: new go.Point(12, 28),
            pickable: false
        }));
    }

    // show only when system is collapsed
    function sCollapsedMarker() {
        return mk(go.Shape, new go.Binding('visible', '', function (obj) {
            return !showSCorner(obj) && obj.memberParts.count > 0 && !obj.isSubGraphExpanded;
        }).ofObject(), {
            position: new go.Point(5, 88),
            desiredSize: new go.Size(5, 10),
            geometry: go.Geometry.parse('F M0 0 L5 5 L0 10z', true),
            fill: '#333',
            stroke: null,
            cursor: 'pointer',
            pickable: false
        });
    }

    // "R" corner (bottom right, blue)
    function cornerR() {
        return mk(go.Panel, go.Panel.Position, new go.Binding('opacity', '', function (obj) {
            return showRCorner(obj) ? 1 : 0;
        }).ofObject(), {
            name: 'cornerR',
            position: new go.Point(0, 0),
            desiredSize: new go.Size(100, 100),
            opacity: 0
        }, mk(go.Shape, {
            name: 'cornerRShape',
            // NB: this corner is done differently from the others:
            // 1. the overall shape is the size of the whole square, so the port falls in the middle instead of the corner;
            // 2. the geometry traces around the edges of the whole square, because otherwise the link line will
            //    show inside the main square if it's crossing one of the other 3 quadrants
            position: new go.Point(0, 0),
            desiredSize: new go.Size(100, 100),
            geometry: go.Geometry.parse('F' + 'M0 0 L0 100 ' + // top left to bottom left
            'L99 100 L100 99 L 100 0 ' + // bottom/right sides (round bottom right corner)
            'L 0 0 L 100 0 ' + // back to top left then top right
            'L 100 50 L 50 100 ' + // to midpoint of right side, midpoint of bottom side
            'L0 100z', // bottom left, return home
            true),
            fill: colorR,
            stroke: null,
            cursor: 'pointer',

            portId: 'R',
            fromLinkable: true,
            fromLinkableSelfNode: false,
            fromLinkableDuplicates: true,
            toLinkable: true,
            toLinkableSelfNode: false,
            toLinkableDuplicates: true,
            click: function click(event, target) {
                // handle single or double click
                map.getUi().handleCornerClick('R', target.part);
            }
        }), mk(go.TextBlock, {
            text: 'R',
            stroke: 'white',
            font: '9px sans-serif',
            pickable: false,
            position: new go.Point(82, 78)
        }));
    }

    function attachmentPaperClip() {
        return mk(go.Shape, new go.Binding('visible', '', function (obj) {
            return obj.data.attachments !== null && obj.data.attachments !== undefined && obj.data.attachments.length > 0;
        }).ofObject(), new go.Binding('geometry', '', function (obj) {
            return go.Geometry.parse(paperclipSvgPath, true);
        }).ofObject(), new go.Binding('desiredSize', '', function (obj) {
            return new go.Size(512, 512); // NB: the two icons don't scale to the same proportions for some reason - ??
        }).ofObject(), {
            position: new go.Point(46, 85),
            scale: 0.02,
            stroke: '#000',
            fill: '#000',
            click: function click(event, target) {
                console.log('clip clicked');
                map.getUi().toggleTab(map.getUi().TAB_ID_ATTACHMENTS);
            }
        });
    }

    function pEyeball() {
        return mk(go.Shape, new go.Binding('visible', '', function (obj) {
            return map.getPerspectives().isPerspectivePoint(obj);
        }).ofObject(), new go.Binding('geometry', '', function (obj) {
            return go.Geometry.parse(map.pIsExpanded(obj) ? eyeSvgPath : eyeBlockedSvgPath, true);
        }).ofObject(), new go.Binding('desiredSize', '', function (obj) {
            return new go.Size(512, map.pIsExpanded(obj) ? 440 : 512); // NB: the two icons don't scale to the same proportions for some reason - ??
        }).ofObject(), {
            position: new go.Point(87, 4),
            scale: 0.02,
            stroke: '#000',
            fill: '#000',
            pickable: false
        });
    }

    // P expansion indicator - this shows when the P corner is not visible, and only if the thing is a perspective point
    function pointMarker() {
        return pEyeball();
    }

    // P view indicator
    function viewMarker() {
        return mk(go.Shape, 'Border', new go.Binding('visible', '', function (obj) {
            return true;
        }).ofObject(), new go.Binding('fill', '', function (obj) {
            return getViewMarkerFill(obj);
        }).ofObject(), {
            position: new go.Point(0, 0),
            height: 18,
            width: 100,
            stroke: null
        });
    }

    function getViewMarkerFill(obj) {
        var weight = map.getPerspectives().getPerspectiveViewWeight(obj);

        if (weight == 3) {
            return colorPDark;
        } else if (weight == 2) {
            return colorP;
        } else if (weight == 1) {
            return colorPLight;
        } else {
            return 'transparent';
        }
    }

    // "P" corner (top right, orange)
    function cornerP() {
        return mk(go.Panel, go.Panel.Position, new go.Binding('opacity', '', function (obj) {
            return showPCorner(obj) ? 1 : 0;
        }).ofObject(), {
            name: 'cornerP',
            position: new go.Point(0, 0),
            desiredSize: new go.Size(100, 100),
            opacity: 0
        }, mk(go.Shape, {
            name: 'cornerPShape',
            position: new go.Point(0, 0),
            desiredSize: new go.Size(100, 100),
            // NB: this geometry covers the whole square; see note above for cornerR
            geometry: go.Geometry.parse('F' + 'M0 0 L0 100 L100 100' + // top left to bottom left to bottom right
            'L100 1 L99 0 L0 0' + // right/top sides (round top right corner)
            'L 50 0 L 100 50 ' + // to midpoint of top side, midpoint of right side
            'L100 100 0 100z', // bottom right, bottom left, return home
            true),

            fill: colorP,
            stroke: null,
            cursor: 'pointer',

            portId: 'P',
            fromLinkable: true,
            fromLinkableSelfNode: false,
            fromLinkableDuplicates: false,
            toLinkable: true,
            toLinkableSelfNode: false,
            toLinkableDuplicates: false,
            toMaxLinks: 1,
            click: function click(event, target) {
                // handle single or double click
                map.getUi().handleCornerClick('P', target.part);
            }
        }), pEyeball(), // P expansion indicator
        mk(go.TextBlock, {
            text: 'P',
            stroke: 'white',
            font: '9px sans-serif',
            pickable: false,
            position: new go.Point(81, 15)
        }));
    }

    function mainBorder() {
        return mk(go.Shape, 'Border', new go.Binding('stroke', '', getGroupSelectionStroke).ofObject(), new go.Binding('strokeWidth', '', getGroupSelectionStrokeWidth).ofObject(), {
            name: 'mainarea',
            position: new go.Point(0, 0),
            height: 100,
            width: 100,
            fill: null,
            //portId: "",
            cursor: 'pointer',
            fromLinkable: true,
            fromLinkableSelfNode: false,
            fromLinkableDuplicates: true,
            toLinkable: true,
            toLinkableSelfNode: false,
            toLinkableDuplicates: true
        });
    }

    // --------- handlers for mouse drag/drop actions on groups, which need to be replicated on different target parts -------

    // position is map.LEFT, null, or map.RIGHT
    function getGroupMouseDragEnterHandler(position) {
        return function (event, target, obj2) {
            //console.log('mouseDragEnter, e.dp: ' + event.documentPoint + ', target.part: ' + target.part + ', target bounds: ' + target.actualBounds);
            map.getUi().dragTargetGroup = target.part;
            map.getUi().dragTargetPosition = position;
            map.getDiagram().updateAllTargetBindings();
        };
    }

    var groupMouseDragLeaveHandler = function groupMouseDragLeaveHandler(event, target, obj2) {
        map.getUi().dragTargetGroup = null;
        map.getUi().dragTargetPosition = null;
        map.getDiagram().updateAllTargetBindings();
    };

    function getGroupMouseDropHandler(position) {
        return function (event, dropTarget) {
            handleGroupMouseDrop(event, dropTarget, position);
        };
    }

    var groupClickHandler = function groupClickHandler(event, target) {
        // handle single or double click
        map.getUi().handleCornerClick('', target);
    };

    // --------------- targets for dragging to D or S -----------------

    function dragAboveTarget() {
        return mk(go.Panel, go.Panel.Position, {
            position: new go.Point(0, 0),
            height: 25,
            width: 100,
            mouseDragEnter: getGroupMouseDragEnterHandler(map.LEFT),
            mouseDragLeave: groupMouseDragLeaveHandler,
            mouseDrop: getGroupMouseDropHandler(map.LEFT),
            click: groupClickHandler
        },
        // drag target region
        mk(go.Shape, 'Rectangle', {
            position: new go.Point(0, 0),
            height: 25,
            width: 100,
            cursor: 'pointer',
            stroke: null,
            fill: 'transparent'
        }),
        // drag indicator bar
        mk(go.Shape, 'Border', new go.Binding('visible', '', function (obj) {
            return canDragSelectionToBecomeOrderedSisterOf(obj.part, map.LEFT, false);
        }).ofObject(), {
            position: new go.Point(0, 0),
            height: 10,
            width: 100,
            stroke: null,
            fill: '#000'
        }));
    }

    function dragIntoTarget() {
        return mk(go.Panel, go.Panel.Position, {
            position: new go.Point(0, 25),
            height: 50,
            width: 100,
            mouseDragEnter: getGroupMouseDragEnterHandler(null),
            mouseDragLeave: groupMouseDragLeaveHandler,
            mouseDrop: getGroupMouseDropHandler(null),
            click: groupClickHandler
        }, mk(go.Shape, 'Rectangle', {
            position: new go.Point(0, 0),
            height: 50,
            width: 100,
            cursor: 'pointer',
            stroke: null,
            fill: 'transparent'
        }));
    }

    function dragBelowTarget() {
        return mk(go.Panel, go.Panel.Position, {
            position: new go.Point(0, 75),
            height: 25,
            width: 100,
            mouseDragEnter: getGroupMouseDragEnterHandler(map.RIGHT),
            mouseDragLeave: groupMouseDragLeaveHandler,
            mouseDrop: getGroupMouseDropHandler(map.RIGHT),
            click: groupClickHandler
        },
        // drag target region
        mk(go.Shape, 'Rectangle', {
            position: new go.Point(0, 0),
            height: 25,
            width: 100,
            cursor: 'pointer',
            stroke: null,
            fill: 'transparent'
        }),
        // drag indicator bar
        mk(go.Shape, 'Border', new go.Binding('visible', '', function (obj) {
            return canDragSelectionToBecomeOrderedSisterOf(obj.part, map.RIGHT, false);
        }).ofObject(), {
            position: new go.Point(0, 15),
            height: 10,
            width: 100,
            stroke: null,
            fill: '#000'
        }));
    }

    // Returns the TextBlock for the group title, for use in the main group template, inside the box.
    function groupInternalTextBlock() {
        return mk(go.Panel, go.Panel.Horizontal, {
            position: new go.Point(0, 0),
            desiredSize: new go.Size(100, 100)
        }, mk(go.TextBlock, new go.Binding('text', 'text').makeTwoWay(), new go.Binding('visible', '', function (group) {
            // always show text inside box for R-things, because external text will throw off layout
            return map.getLayouts().isNotWithinInventoryLayout(group) || map.getLayouts().isRThingWithinInventoryLayout(group);
        }).ofObject(), {
            width: 80,
            margin: 10,
            alignment: go.Spot.Center,
            textAlign: 'center',
            cursor: 'move',
            font: '10px sans-serif',
            isMultiline: true,
            wrap: go.TextBlock.WrapDesiredSize,

            mouseDragEnter: getGroupMouseDragEnterHandler(null),
            mouseDragLeave: groupMouseDragLeaveHandler,
            mouseDrop: getGroupMouseDropHandler(null),
            click: groupClickHandler,
            contextClick: function contextClick(event, target) {
                if (event.control) {
                    console.log(groupInfo(target.part));
                }
            }
        }));
    }

    // Returns a TextBlock for the group title, for use in the main group template, on the left or right.
    // visibleFn is a callback to be bound to the visibility attribute of the TextBlock.
    // textAlign is 'left' or 'right'.
    function groupExternalTextBlock(visibleFn, textAlign) {
        return mk(go.TextBlock, new go.Binding('text', 'text').makeTwoWay(), new go.Binding('visible', '', visibleFn).ofObject(), new go.Binding('scale', '', map.getLayouts().getExternalTextScale).ofObject(), {
            name: 'externaltext-' + textAlign, // NB: this screws up layouts for some reason - ??
            textAlign: textAlign,
            margin: 5,
            font: '10px sans-serif',
            isMultiline: true,
            click: groupClickHandler
        });
    }

    // -------------- group/Thing template --------------------

    this.groupTemplate = mk(go.Group, go.Panel.Vertical, new go.Binding('layout', 'layout', function (layoutName) {
        return map.getLayouts().getLayout(layoutName);
    }), new go.Binding('movable', '', function (obj) {
        return !obj.isLinkLabel;
    }).ofObject(), new go.Binding('isSubGraphExpanded', 'sExpanded'),
    // dim the thing if it's being dragged over another thing (drop to sister/child)
    new go.Binding('opacity', '', function (obj) {
        return obj.isSelected && map.getUi().dragTargetGroup ? 0.25 : 1;
    }).ofObject(), {
        locationObjectName: 'mainpanel',
        locationSpot: go.Spot.TopLeft,
        selectionAdorned: false,
        isSubGraphExpanded: true,
        layerName: 'Foreground',
        // highlight corners
        mouseEnter: function mouseEnter(event, target, obj2) {
            map.getUi().mouseOverGroup = target;
            map.getDiagram().updateAllTargetBindings();
        },
        // unhighlight corners
        mouseLeave: function mouseLeave(event, target, obj2) {
            map.getUi().mouseOverGroup = null;
            map.getDiagram().updateAllTargetBindings();
        }
        // containingGroupChanged: function(part, oldgroup, newgroup) {
        //     map.getDiagram().model.setDataProperty(part.data, 'level', map.computeLevel(part));
        //     //part.updateTargetBindings();  
        // }
    }, mk(go.Panel, go.Panel.Horizontal, groupExternalTextBlock(map.getLayouts().showLeftTextBlock, 'right'), mk(go.Panel, go.Panel.Position, {
        name: 'mainpanel'
    }, new go.Binding('scale', '', map.getLayouts().getScale).ofObject(),
    // drag area
    mk(go.Shape, 'Rectangle', {
        name: 'dragarea',
        position: new go.Point(0, 0),
        width: 100,
        height: 100,
        fill: self.groupFillColor,
        stroke: null,
        cursor: 'move',
        // show debug info
        contextClick: function contextClick(event, target) {
            if (event.control) {
                console.log(groupInfo(target.part));
            }
        }
    }), mk(go.Panel, go.Panel.Position, viewMarker(), dragAboveTarget(), dragIntoTarget(), dragBelowTarget(), groupInternalTextBlock(), cornerD(), dFlagMarker(), cornerS(), sCollapsedMarker(), cornerR(), pointMarker(), cornerP(), attachmentPaperClip(), mainBorder())), groupExternalTextBlock(map.getLayouts().showRightTextBlock, 'left')),

    // the placeholder normally holds the child nodes, but we just use a dummy placeholder
    mk(go.Shape, {
        name: 'placeholder',
        fill: 'transparent',
        stroke: null,
        desiredSize: new go.Size(0, 0)
    }));

    // ------------------- link template ---------------------------

    this.linkTemplate = mk(go.Link, {
        selectionAdorned: false,
        layerName: '',
        routing: go.Link.Normal,
        relinkableFrom: true,
        relinkableTo: true,
        mouseEnter: function mouseEnter(event, target, obj2) {
            map.getUi().mouseOverLink = target;
            map.getDiagram().updateAllTargetBindings();
        },
        mouseLeave: function mouseLeave(event, target, obj2) {
            map.getUi().mouseOverLink = null;
            map.getDiagram().updateAllTargetBindings();
        },
        mouseDragEnter: function mouseDragEnter(event, target, dragObject) {
            map.getUi().mouseOverLink = target;
            map.getDiagram().updateAllTargetBindings();
        },
        mouseDragLeave: function mouseDragLeave(event, dropTarget, dragObject) {
            map.getUi().mouseOverLink = null;
            map.getDiagram().updateAllTargetBindings();
        },
        mouseDrop: function mouseDrop(event, dropTarget) {
            var parts = map.getDiagram().selection;
            if (parts && parts.count == 1 && parts.first() instanceof go.Group) {
                map.addThingAsRThing(parts.first(), dropTarget);
            }
        },
        doubleClick: function doubleClick(event, target) {
            map.createRThing(target);
        },
        contextClick: function contextClick(event, target) {
            if (event.control) {
                console.log(linkInfo(target));
            }
        }
    }, mk(go.Shape, new go.Binding('stroke', '', getRLinkSelectionStroke).ofObject(), new go.Binding('strokeWidth', '', map.getLayouts().getLinkStrokeWidth).ofObject(), {
        name: 'LINKSHAPE'
    }),

    // show to/from arrowheads based on link "type" attribute
    mk(go.Shape, {
        fromArrow: 'Backward'
    }, new go.Binding('stroke', '', getRLinkSelectionStroke).ofObject(), new go.Binding('scale', '', map.getLayouts().getArrowheadScale).ofObject(), new go.Binding('visible', 'type', function (t) {
        return t == 'from' || t == 'toFrom';
    })), mk(go.Shape, {
        toArrow: 'Standard'
    }, new go.Binding('stroke', '', getRLinkSelectionStroke).ofObject(), new go.Binding('scale', '', map.getLayouts().getArrowheadScale).ofObject(), new go.Binding('visible', 'type', function (t) {
        return t == 'to' || t == 'toFrom';
    })), mk(go.Panel, go.Panel.Auto, // link label "knob"
    new go.Binding('opacity', '', function (obj) {
        return showKnob(obj) ? 1 : 0;
    }).ofObject(), new go.Binding('scale', '', map.getLayouts().getArrowheadScale).ofObject(), mk(go.Shape, {
        figure: 'Ellipse',
        fill: colorD,
        stroke: colorD,
        width: 12,
        height: 12
    })));

    this.pLinkTemplate = mk(go.Link, new go.Binding('opacity', '', function (obj) {
        return self.showPLink(obj) ? 1 : 0;
    }).ofObject(), {
        selectionAdorned: false,
        layerName: 'Background', // make P links fall behind R links
        routing: go.Link.Normal,
        contextClick: function contextClick(event, target) {
            if (event.control) {
                console.log(linkInfo(target));
            }
        }
    }, mk(go.Shape, new go.Binding('strokeWidth', '', map.getLayouts().getLinkStrokeWidth).ofObject(), {
        name: 'LINKSHAPE',
        stroke: colorPLight,
        fill: colorPLight
    }), mk(go.Shape,
    // new go.Binding('visible', '', function(obj) {
    //     return (self.showPDot(obj) ? 1 : 0);
    // }).ofObject(),
    new go.Binding('scale', '', map.getLayouts().getArrowheadScale).ofObject(), {
        toArrow: 'Circle',
        stroke: colorPLight,
        fill: colorPLight
    }));

    this.dLinkTemplate = mk(go.Link, {
        selectable: false
    }, mk(go.Shape, {
        name: 'LINKSHAPE',
        stroke: null
    }));

    // ----------- temporary link/node templates, for use when dragging to create R/P lines -------------

    // define initial temporary link templates - these will be modified when handlePortTargeted is called
    this.setTemporaryLinkTemplates = function (tool) {
        tool.temporaryLink = makeTemporaryLinkTemplate();
        tool.temporaryFromNode = makeTemporaryNodeTemplate();
        tool.temporaryToNode = makeTemporaryNodeTemplate();
    };

    function makeTemporaryLinkTemplate() {
        return mk(go.Link, {
            layerName: 'Tool'
        }, mk(go.Shape, {
            name: 'linkshape',
            strokeWidth: 2
        }));
    }

    function makeTemporaryNodeTemplate() {
        return mk(go.Group, {
            layerName: 'Tool'
        }, mk(go.Shape, 'Border', {
            name: 'border',
            strokeWidth: 3,
            fill: null
        }));
    }

    // change color and portId of temporary link templates based on the type of link being created/relinked
    this.handlePortTargeted = function (tool, realnode, realport, tempnode, tempport, toend) {
        // console.log('portTargeted, realport: ' + (realport ? realport.name : '') + ', tempport: ' + (tempport ? tempport.name : '')
        //     + ', originalFromPort: ' + (ltool.originalFromPort ? ltool.originalFromPort.name : '') + ', originalToPort: ' + ltool.originalToPort);

        var linkShape = tool.temporaryLink.findObject('linkshape');
        var fromBorder = tool.temporaryFromNode.findObject('border');
        var toBorder = tool.temporaryToNode.findObject('border');

        if (tool.originalFromPort && tool.originalFromPort.name == 'cornerPShape') {
            linkShape.stroke = colorP;
            fromBorder.stroke = colorP;
            toBorder.stroke = colorP;
            fromBorder.portId = 'P';
            toBorder.portId = 'P';
        } else if (tool.originalFromPort && tool.originalFromPort.name == 'cornerRShape') {
            linkShape.stroke = colorR;
            fromBorder.stroke = colorR;
            toBorder.stroke = colorR;
            fromBorder.portId = 'R';
            toBorder.portId = 'R';
        }
        tempnode.scale = map.getLayouts().getScale(realnode);
    };

    // prevent duplicate 'P' links in the same direction between the same two things
    this.validateLink = function (fromNode, fromPort, toNode, toPort) {
        // the P port is on top of the R port, so both P and R links get the toPort set to R by default.
        if (fromPort.portId == 'P') {
            // NB: findLinksTo would be simpler, but it doesn't seem to work... (?)
            var pLinks = toNode.findLinksBetween(fromNode, 'P', 'P');
            //console.log('validateLink, pLinks from ' + fromNode + ':' + fromPort + ' to ' + toNode + ':' + toPort + ' = ' + pLinks.count);
            if (pLinks.count) {
                while (pLinks.next()) {
                    var pLink = pLinks.value;
                    if (pLink.fromNode == fromNode && pLink.toNode == toNode) {
                        return false;
                    }
                }
            }
        }
        return true;
    };

    // ------------------- slide node template ----------------------

    function createSlideResizeHandle(alignment) {
        return mk(go.Shape, new go.Binding('desiredSize', '', function (obj) {
            var slide = obj.adornedObject;
            var size = Math.min(slide.width, slide.height) * 0.05;
            return new go.Size(size, size);
        }).ofObject(), {
            alignment: alignment,
            cursor: 'col-resize',
            fill: 'rgba(251,170,54,1)',
            stroke: null
        });
    }

    this.slideTemplate = mk(go.Node, go.Panel.Auto,
    // NB: unlike groups, slides just use a normal 2-way location binding
    new go.Binding('location', 'loc', go.Point.parse).makeTwoWay(go.Point.stringify), new go.Binding('width', 'width').makeTwoWay(), new go.Binding('height', 'height').makeTwoWay(), new go.Binding('visible', '', function (obj) {
        return obj.data.hasRegion && map.getUi().currentTabIs(map.getUi().TAB_ID_PRESENTER) && !map.getPresenter().isPresenting && !map.getPresenter().isCreatingThumbnail && map.getPresenter().currentSlideIndex == obj.data.index;
    }).ofObject(), {
        locationSpot: go.Spot.TopLeft,
        selectionAdorned: false,
        resizable: true,
        resizeAdornmentTemplate: mk(go.Adornment, 'Spot', mk(go.Placeholder), // takes size and position of adorned object                   
        createSlideResizeHandle(go.Spot.TopLeft), createSlideResizeHandle(go.Spot.Top), createSlideResizeHandle(go.Spot.TopRight), createSlideResizeHandle(go.Spot.Right), createSlideResizeHandle(go.Spot.BottomRight), createSlideResizeHandle(go.Spot.Bottom), createSlideResizeHandle(go.Spot.BottomLeft), createSlideResizeHandle(go.Spot.Left)),
        padding: 0,
        contextClick: function contextClick(event, target) {
            console.log(nodeInfo(target.part));
        }
    }, mk(go.Shape, 'Rectangle', {
        name: 'slideborder',
        fill: 'rgba(251,170,54,.1)',
        stroke: null
    }));

    // ------------------- export footer ----------------------

    // NB: this is not a template per se, in that it is added to the diagram
    // statically, rather than being bound to something in the model.
    // But we put it here because it is about creating parts and stuff.

    function createExportFooter() {
        return mk(go.Node, go.Panel.Spot, {
            layerName: 'Foreground',
            location: new go.Point(0, 0),
            scale: 1,
            opacity: 0,
            pickable: false,
            selectable: false
        }, mk(go.Shape, 'Rectangle', {
            name: 'rectangle',
            height: 60,
            fill: null,
            stroke: null
        }), mk(go.Picture, {
            source: 'assets/img/metamap-logo-50.png',
            alignment: go.Spot.TopLeft,
            alignmentFocus: go.Spot.TopLeft,
            width: 195,
            height: 50
        }), mk(go.TextBlock, {
            text: 'metamap.cabreraresearch.org',
            alignment: go.Spot.BottomLeft,
            alignmentFocus: go.Spot.BottomLeft,
            width: 200
        }), mk(go.TextBlock, {
            name: 'mapTitle',
            text: '',
            textAlign: 'right',
            alignment: go.Spot.TopRight,
            alignmentFocus: go.Spot.TopRight,
            width: 300
        }), mk(go.TextBlock, {
            name: 'authorName',
            text: '',
            textAlign: 'right',
            alignment: go.Spot.BottomRight,
            alignmentFocus: go.Spot.BottomRight,
            width: 300
        }));
    }

    // creates or refreshes the footer logo/text that is displayed in the image export
    this.addExportFooter = function () {
        if (!_exportFooter) {
            _exportFooter = createExportFooter();
            map.getDiagram().add(_exportFooter);
        }
    };

    this.showExportFooter = function () {
        var rect = map.computeMapBounds();
        // put footer at least 100 px below bottom of map; make it at least 500px wide
        var x = rect.x;
        var y = rect.y + rect.height + Math.max(100, rect.height / 5);
        var w = Math.max(500, rect.width);
        //console.log('showExportFooter, bounds rect: ' + rect + ', w: ' + w);
        _exportFooter.location = new go.Point(x, y);
        _exportFooter.findObject('rectangle').width = w;
        _exportFooter.findObject('mapTitle').text = 'Map Title: ' + $scope.mapTitle;
        _exportFooter.findObject('authorName').text = 'Author: ' + $scope.userName;
        _exportFooter.opacity = 1;
        _exportFooter.invalidateLayout();
    };

    this.hideExportFooter = function () {
        _exportFooter.opacity = 0;
    };
};
// show corners on mouseover
// drag to D (make it sisters)
// show corners on mouseover
// drag to S (make it children)

},{}],24:[function(require,module,exports){
'use strict';

SandbankEditor.Tests = function ($scope, map) {

    var self = this;

    this.TEST_STATUS_NOT_RUN = 'not-run';
    this.TEST_STATUS_PASSED = 'passed';
    this.TEST_STATUS_EXAMINE = 'examine';
    this.TEST_STATUS_FAILED = 'failed';

    this.currentTest = null;

    this.init = function () {};

    this.runTest = function (name) {
        $scope.safeApply(function () {
            var diagram = map.getDiagram();
            var test = _.findWhere(self.tests, { name: name });
            test.status = self.TEST_STATUS_NOT_RUN;
            self.currentTest = test;
            diagram.clear();
            test.run(diagram);
            if (test.check === undefined) {
                test.status = self.TEST_STATUS_EXAMINE;
            } else {
                test.failReason = test.check(diagram);
                if (_.isString(test.failReason)) {
                    test.status = self.TEST_STATUS_FAILED;
                } else {
                    test.status = self.TEST_STATUS_PASSED;
                }
            }
        });
    };

    this.createGeneratorTest = function (name, mapItFn) {
        return {
            name: 'ThinkQ: ' + name,
            run: function run(diagram) {
                self.runGeneratorTest(mapItFn);
            }
        };
    };

    this.runGeneratorTest = function (mapItFn) {
        var diagram = map.getDiagram();
        var generator = map.getGenerator();
        generator.concept1 = 'CONCEPT 1';
        generator.concept2 = 'CONCEPT 2';
        generator.mapIt(mapItFn);
    };

    this.tests = [
    // {
    //     name: '[Failed test]',
    //     run: function(diagram) {
    //     },
    //     check: function(diagram) {
    //         return 'This test failed - this is only a test.';
    //     }
    // },
    {
        name: 'Reset map',
        run: function run(diagram) {
            diagram.toolManager.clickCreatingTool.insertPart(new go.Point(0, 0));
            map.refresh();
        },
        check: function check(diagram) {
            return diagram.findTopLevelGroups().count == 1;
        }
    }, {
        name: 'Create Sister',
        run: function run(diagram) {
            diagram.toolManager.clickCreatingTool.insertPart(new go.Point(0, 0));
            var group = diagram.findTopLevelGroups().first();
            map.createSister(group);
        },
        check: function check(diagram) {
            return diagram.findTopLevelGroups().count == 2;
        }
    }, {
        name: 'Create R to Sister',
        run: function run(diagram) {
            diagram.toolManager.clickCreatingTool.insertPart(new go.Point(0, 0));
            var group = diagram.findTopLevelGroups().first();
            map.createRToSister(group);
        }
    }, {
        name: 'Create Child',
        run: function run(diagram) {
            diagram.toolManager.clickCreatingTool.insertPart(new go.Point(0, 0));
            var group = diagram.findTopLevelGroups().first();
            map.createChild(group);
        }
    }, {
        name: 'Create 3 children and switch to freehand',
        run: function run(diagram) {
            diagram.toolManager.clickCreatingTool.insertPart(new go.Point(0, 0));
            var group = diagram.findTopLevelGroups().first();
            map.createChild(group);
            map.createChild(group);
            map.createChild(group);
            // diagram.model.setDataProperty(group.data, 'layout', 'freehand');
            group.isSelected = true;
            map.getUi().setSelectedThingsLayout('freehand');
        },
        check: function check(diagram) {
            if (diagram.findTopLevelGroups().count != 1) {
                return 'Top level group count is not 1';
            }
            var group = diagram.findTopLevelGroups().first();
            if (group.memberParts.count != 3) {
                return 'Parent data children is not 3';
            }
            return true;
        }
    }, {
        name: 'Drag RTBB into outline S',
        instructions: 'Drag the preselected RTBB into Whole (S), then do an Undo',
        run: function run(diagram) {
            var whole = map.createThing(0, 0, 'Whole', 'left');
            var part1 = map.createThing(250, 0, 'Part 1');
            var subpart11 = map.createChild(part1, 'Subpart 1.1');
            var part2 = map.createThing(500, 0, 'Part 2');
            var rThing = map.createRLinkWithRThing(part1, part2, 'Rthing');
            map.refresh();
            diagram.clearSelection();
            part1.isSelected = true;
            part2.isSelected = true;
        }
    }, {
        name: 'Drag RTBB into freehand S',
        instructions: 'Drag the preselected RTBB into Whole (S) and examine layout',
        run: function run(diagram) {
            var whole = map.createThing(0, 0, 'Whole', 'freehand');
            var oldPart1 = map.createChild(whole, 'Old Part 1');
            var part1 = map.createThing(250, 30, 'Part 1');
            var subpart11 = map.createChild(part1, 'Subpart 1.1');
            var part2 = map.createThing(500, 70, 'Part 2');
            var rThing = map.createRLinkWithRThing(part1, part2, 'Rthing');
            map.refresh();
            diagram.clearSelection();
            part1.isSelected = true;
            part2.isSelected = true;
        }
    }, {
        name: 'Create RTBB in outline and switch to freehand',
        instructions: 'Check auto-generated freehand layout of parts',
        run: function run(diagram) {
            var whole = map.createThing(0, 0, 'Whole', 'left');
            var part1 = map.createChild(whole, 'Part 1');
            var subpart11 = map.createChild(part1, 'Subpart 1.1');
            var part2 = map.createChild(whole, 'Part 2');
            var rThing = map.createRLinkWithRThing(part1, part2, 'Rthing');
            whole.isSelected = true;
            map.getUi().setSelectedThingsLayout('freehand');
            //diagram.model.setDataProperty(whole.data, 'layout', 'freehand');
            //map.refresh();
            diagram.clearSelection();
        }
    },

    // create RTBB in freehand, add part in outline, switch back to freehand
    // create RTBB in freehand, drag in part in outline, switch back to freehand

    {
        name: 'Drag RTBB out of S',
        instructions: 'Drag the preselected RTBB onto Whole (D)',
        run: function run(diagram) {
            var whole = map.createThing(0, 0, 'Whole', 'left');
            var part1 = map.createChild(whole, 'Part 1');
            var subpart11 = map.createChild(part1, 'Subpart 1.1');
            var part2 = map.createChild(whole, 'Part 2');
            var rThing = map.createRLinkWithRThing(part1, part2, 'Rthing');
            map.refresh();
            diagram.clearSelection();
            part1.isSelected = true;
            part2.isSelected = true;
        }
    }, {
        name: 'Drag RTBB out of freehand S',
        instructions: 'Drag the preselected RTBB onto Whole (D)',
        run: function run(diagram) {
            var whole = map.createThing(0, 0, 'Whole', 'freehand');
            var part1 = map.createChild(whole, 'Part 1', 10, 120);
            var subpart11 = map.createChild(part1, 'Subpart 1.1');
            var part2 = map.createChild(whole, 'Part 2', 110, 150);
            var rThing = map.createRLinkWithRThing(part1, part2, 'Rthing');
            map.refresh();
            diagram.clearSelection();
            part1.isSelected = true;
            part2.isSelected = true;
        }
    }, {
        name: 'Drag RTBB out of 2nd level S',
        instructions: 'Drag the preselected RTBB onto Whole (D) of Part 1',
        run: function run(diagram) {
            var whole = map.createThing(0, 0, 'Whole', 'left');
            var part1 = map.createChild(whole, 'Part 1');
            var subpart11 = map.createChild(part1, 'Subpart 1.1');
            var subpart12 = map.createChild(part1, 'Subpart 1.2');
            var rThing = map.createRLinkWithRThing(subpart11, subpart12, 'Rthing');
            var part2 = map.createChild(whole, 'Part 2');
            map.refresh();
            diagram.clearSelection();
            subpart11.isSelected = true;
            subpart12.isSelected = true;
        }
    }, {
        name: 'Drag RTBB out of 2nd level freehand S',
        instructions: 'Drag the preselected RTBB onto Whole (D) of Part 1',
        run: function run(diagram) {
            var whole = map.createThing(0, 0, 'Whole', 'freehand');
            var part1 = map.createChild(whole, 'Part 1', 0, 120);
            var subpart11 = map.createChild(part1, 'Subpart 1.1', 10, 180);
            var subpart12 = map.createChild(part1, 'Subpart 1.2', 20, 220);
            var rThing = map.createRLinkWithRThing(subpart11, subpart12, 'Rthing');
            var part2 = map.createChild(whole, 'Part 2', 0, 300);
            map.refresh();
            diagram.clearSelection();
            subpart11.isSelected = true;
            subpart12.isSelected = true;
        }
    }, {
        name: 'Rchannel',
        instructions: 'Note that R-things are in part-whole relation',
        run: function run(diagram) {
            var thing1 = map.createThing(0, 0, 'Whole 1', 'right');
            var child11 = map.createChild(thing1, 'Part 1.1');
            var thing2 = map.createThing(250, 0, 'Whole 2');
            var child21 = map.createChild(thing2, 'Part 2.1');

            var rThing1 = map.createRLinkWithRThing(thing1, thing2, 'Rthing 1-2');
            var rThing11 = map.createRLinkWithRThing(child11, child21, 'Rthing 1.1 - 2.1');
            console.log('Rchannel, rThing11: ' + rThing11);

            diagram.clearSelection();
            rThing11.isSelected = true;
            map.addSelectedThingsAsChildrenOf(rThing1);
        }
    }, {
        name: 'Disappearing parts on new idea creation',
        instructions: 'Create a new top-level idea - Part 1.1 should not disappear temporarily',
        run: function run(diagram) {
            var thing1 = map.createThing(0, 0, 'Whole 1', 'right');
            var child11 = map.createChild(thing1, 'Part 1.1');
        }
    }, {
        name: 'Drag top-level thing into freehand system',
        instructions: 'Drag New Part into Whole; examine resulting part layout',
        run: function run(diagram) {
            var thing1 = map.createThing(0, 0, 'Whole', 'freehand');
            var child11 = map.createChild(thing1, 'Part');
            var newPart = map.createThing(250, 0, 'New Part', 'left');
        }
    }, {
        name: 'Drag top-level RTBB into freehand system',
        instructions: 'Drag preselected RTBB into Whole; examine resulting part layout',
        run: function run(diagram) {
            var thing1 = map.createThing(0, 0, 'Whole', 'freehand');
            var child11 = map.createChild(thing1, 'Part');
            var bar = map.createThing(250, 0, 'Bar', 'left');
            var bell = map.createThing(500, 0, 'Bell', 'left');
            var rThing = map.createRLinkWithRThing(bar, bell, 'Rthing');
            map.refresh();
            diagram.clearSelection();
            bar.isSelected = true;
            bell.isSelected = true;
        }
    }, {
        name: 'Drag R-thing square into freehand system',
        instructions: 'Drag preselected square into Whole; examine resulting part layout',
        run: function run(diagram) {
            var whole = map.createThing(-100, 50, 'Whole', 'freehand');
            var child11 = map.createChild(whole, 'Part');
            var part11 = map.createThing(250, 0, 'Part11', 'left');
            var part12 = map.createThing(500, 0, 'Part12', 'left');
            var part21 = map.createThing(250, 250, 'Part21', 'left');
            var part22 = map.createThing(500, 250, 'Part22', 'left');

            var rThing11_12 = map.createRLinkWithRThing(part11, part12, 'Rthing 11-12');
            var rThing11_21 = map.createRLinkWithRThing(part11, part21, 'Rthing 11-21');
            var rThing12_22 = map.createRLinkWithRThing(part12, part22, 'Rthing 12-22');
            var rThing21_22 = map.createRLinkWithRThing(part21, part22, 'Rthing 21-22');
            map.refresh();
            diagram.clearSelection();
            part11.isSelected = true;
            part12.isSelected = true;
            part21.isSelected = true;
            part22.isSelected = true;
        }
    }, {
        name: 'Drag R-thing square out of freehand system',
        instructions: 'Drag preselected square onto D of Whole; examine resulting layout',
        run: function run(diagram) {
            var whole = map.createThing(-100, 50, 'Whole', 'freehand');
            var child11 = map.createChild(whole, 'Part');
            var part11 = map.createChild(whole, 'Part11', 10, 190);
            var part12 = map.createChild(whole, 'Part12', 120, 190);
            var part21 = map.createChild(whole, 'Part21', 10, 300);
            var part22 = map.createChild(whole, 'Part22', 120, 300);

            var rThing11_12 = map.createRLinkWithRThing(part11, part12, 'Rthing 11-12');
            var rThing11_21 = map.createRLinkWithRThing(part11, part21, 'Rthing 11-21');
            var rThing12_22 = map.createRLinkWithRThing(part12, part22, 'Rthing 12-22');
            var rThing21_22 = map.createRLinkWithRThing(part21, part22, 'Rthing 21-22');
            map.refresh();
            diagram.clearSelection();
            part11.isSelected = true;
            part12.isSelected = true;
            part21.isSelected = true;
            part22.isSelected = true;
        }
    }, {
        name: 'Drag 2nd level part to D of parent',
        instructions: 'Drag Subpart 1.1 onto D of Part 1; it should appear below Part 1',
        run: function run(diagram) {
            var whole = map.createThing(0, 0, 'Whole', 'left');
            var part1 = map.createChild(whole, 'Part 1');
            var subpart11 = map.createChild(part1, 'Subpart 1.1');
            var part2 = map.createChild(whole, 'Part 2');
            map.refresh();
            diagram.clearSelection();
        }
    }, {
        name: 'Invisible R-thing in 2nd level of outline',
        instructions: 'R-thing between Subparts 1.1 and 1.2 should be visible',
        run: function run(diagram) {
            var whole = map.createThing(0, 0, 'Whole', 'left');
            var part1 = map.createChild(whole, 'Part 1');
            var subpart11 = map.createChild(part1, 'Subpart 1.1');
            var subpart12 = map.createChild(part1, 'Subpart 1.2');
            var rThing = map.createRLinkWithRThing(subpart11, subpart12, 'Rthing');
            rThing.desiredSize = new go.Size(30, 30);
            map.refresh();
            console.log('rThing actualBounds: ' + rThing.actualBounds + ', scale: ' + rThing.scale + ', desiredSize: ' + rThing.desiredSize);
            console.log('Whole desiredSize: ' + whole.desiredSize);
            diagram.clearSelection();
        }
    }, {
        name: 'R-thing between ideas in same location (error)',
        instructions: 'This should trigger an error',
        run: function run(diagram) {
            // try {
            var part1 = map.createThing(0, 0, 'Part 1', 'left');
            var part2 = map.createThing(0, 0, 'Part 2', 'left');
            var rThing = map.createRLinkWithRThing(part1, part2, 'Rthing');
            map.refresh();
            // } catch(e) {
            //     alert(e.message);
            // }
        }
    },
    // {
    //     name: 'Fix bad R-thing leading to infinite loop',
    //     instructions: 'Map should display and not trigger infinite loop; model should be fixed so that r-thing is not Part 1.1 or Part 1.2',
    //     run: function(diagram) {
    //         var thing1 = map.createThing(-100, 0, 'Thing1', 'freehand');
    //         var child11 = map.createChild(thing1, 'Part 1.1');
    //         var child12 = map.createChild(thing1, 'Part 1.2');
    //         var rThing = map.createRLinkWithRThing(child11, child12, 'Rthing');
    //         var rLink = rThing.labeledLink;
    //         rLink.data.labelKeys = [child11.data.key];
    //         map.checkModel();
    //         map.refresh();
    //     }
    // },
    {
        name: 'Drag to create R-line',
        instructions: 'Drag from the R-corner of Thing1 to Thing2; temporary drag line and square should be R-color; created line should be an R-line',
        run: function run(diagram) {
            var thing1 = map.createThing(-100, 0, 'Thing1', 'freehand');
            var thing2 = map.createThing(100, 0, 'Thing2', 'freehand');
        }
    }, {
        name: 'Drag to create P-line',
        instructions: 'Drag from the P-corner of Thing1 to Thing2; temporary drag line and square should be P-color; created line should be a P-line',
        run: function run(diagram) {
            var thing1 = map.createThing(-100, 0, 'Thing1', 'freehand');
            var thing2 = map.createThing(100, 0, 'Thing2', 'freehand');
        }
    }, {
        name: 'Relink from-port of R-line',
        instructions: 'Move the start of the R-link from Thing 1 to Thing 3; make sure it does not turn into a P-link',
        run: function run(diagram) {
            var thing1 = map.createThing(-100, 0, 'Thing1', 'freehand');
            var thing2 = map.createThing(300, 0, 'Thing2', 'freehand');
            var thing3 = map.createThing(100, 200, 'Thing3', 'freehand');
            var rlink = map.createRLink(thing1, thing2);
        }
    }, {
        name: 'Relink to-port of R-line',
        instructions: 'Move the end of the R-link from Thing 2 to Thing 3; make sure it does not turn into a P-link',
        run: function run(diagram) {
            var thing1 = map.createThing(-100, 0, 'Thing1', 'freehand');
            var thing2 = map.createThing(300, 0, 'Thing2', 'freehand');
            var thing3 = map.createThing(100, 200, 'Thing3', 'freehand');
            var rlink = map.createRLink(thing1, thing2);
        }
    }, {
        name: 'Showing parts of parts of a freehand whole',
        instructions: 'Whole, Part 1 and Subpart 1.1 should all be visible',
        run: function run(diagram) {
            var whole = map.createThing(0, 0, 'Whole', 'freehand');
            var part1 = map.createChild(whole, 'Part 1');
            var subpart11 = map.createChild(part1, 'Subpart 1.1');
            map.refresh();
            diagram.clearSelection();
        }
    }

    // self.createGeneratorTest('WHAT_IS', map.getGenerator().WHAT_IS),
    // self.createGeneratorTest('PARTS_OF', map.getGenerator().PARTS_OF),
    // self.createGeneratorTest('PART_OF', map.getGenerator().PART_OF),
    // self.createGeneratorTest('PARTS_HAVE_PARTS', map.getGenerator().PARTS_HAVE_PARTS),
    // self.createGeneratorTest('POINT_FOR', map.getGenerator().POINT_FOR),
    // self.createGeneratorTest('HAS_MULTIPLE_PS', map.getGenerator().HAS_MULTIPLE_PS),
    // self.createGeneratorTest('R_TO', map.getGenerator().R_TO),
    // self.createGeneratorTest('R_EXISTS', map.getGenerator().R_EXISTS),
    // self.createGeneratorTest('WHAT_IS_R', map.getGenerator().WHAT_IS_R),
    // self.createGeneratorTest('DISTINGUISH_BETWEEN', map.getGenerator().DISTINGUISH_BETWEEN),
    // self.createGeneratorTest('IS_R_BETWEEN', map.getGenerator().IS_R_BETWEEN),
    // self.createGeneratorTest('CAN_BE_P', map.getGenerator().CAN_BE_P),
    // self.createGeneratorTest('MULTIPLE_PS_ARE', map.getGenerator().MULTIPLE_PS_ARE),
    // self.createGeneratorTest('P_PARTS', map.getGenerator().P_PARTS),
    // self.createGeneratorTest('COMPARE_CONTRAST', map.getGenerator().COMPARE_CONTRAST),
    // self.createGeneratorTest('R_PARTS', map.getGenerator().R_PARTS),
    // self.createGeneratorTest('PARTS_HAVE_RS', map.getGenerator().PARTS_HAVE_RS),
    // self.createGeneratorTest('PART_RS_EXIST', map.getGenerator().PART_RS_EXIST),
    // self.createGeneratorTest('PART_RS_ARE', map.getGenerator().PART_RS_ARE),
    // self.createGeneratorTest('WHAT_ABOUT', map.getGenerator().WHAT_ABOUT)

    // computePartsBounds

    // createRThing
    // addSelectedThingsAsChildrenOf
    // addSelectedThingAsOrderedSisterOf
    // addSelectedThingsAsSistersOf
    // addThingAsRThing
    // toggleDFlag
    // toggleSExpansion
    // togglePExpansion

    // presenter: select first slide and hit play; make sure first slide notes appear

    ];
};

},{}],25:[function(require,module,exports){
// controller for list of top maps

'use strict';

window.TopMapsCtrl = function ($scope, $http, $resource, $modal, $log) {

    $scope.topMaps = [];
    $scope.users = [];

    // NB: this is duplicated in feed.js, but we repeat it here to make this controller independent
    $scope.organizations = [];

    $scope.organizationId = '';

    // ---------------- map data -----------------

    $scope.loadTopMaps = function () {
        //startSpinner();
        $http.get('/maps/top_maps.json?organizationId=' + $scope.organizationId).then(function (response) {
            $scope.organizations = response.data.organizations;
            $scope.topMaps = response.data.topMaps;
            $scope.users = response.data.users;
            //  stopSpinner();
        }, function () {
            //stopSpinner();
            alert('Could not load list of top maps');
        });
    };

    $scope.loadTopMaps();

    // -------------- view helpers -----------------

    $scope.getUserName = function (userId) {
        var user = _.findWhere($scope.users, {
            id: userId
        });
        return user ? user.name : '';
    };
};

window.TopMapsCtrl.$inject = ['$scope', '$http', '$resource', '$modal', '$log'];

},{}],26:[function(require,module,exports){
'use strict';

SandbankEditor.Tutorial = function () {

    /** like jQuery $() but starting from #tutorial */
    function $ui(sel) {
        return sel ? $('#tutorial').find(sel) : $('#tutorial');
    }

    /** current section number (div.tutorial-section) */
    var _section = 0;

    /** current card-number (div.tutorial-card) in the current section */
    var _card = 0;

    /** total number of sections */
    var NUM_SECTIONS = $ui('.tutorial-section').length;

    /** total number of cards in each section */
    var NUM_CARDS = $.map($ui('.tutorial-section'), function (section) {
        return $(section).find('.tutorial-card').length;
    });

    /** update the tutorial view */
    function _update() {
        $ui('.tutorial-card').hide();

        var $section = $ui('.tutorial-section').eq(_section),
            $card = $section.find('.tutorial-card').eq(_card);

        $ui().attr('class', $card.attr('data-class'));

        $ui('.prev-btn').toggle(_card > 0);
        $ui('.next-btn').toggle(_card < NUM_CARDS[_section]);

        var $progress = $ui('.tutorial-progress');

        $progress.find('.title').text($section.attr('data-title'));
        $progress.find('.card').text(_card + 1);
        $progress.find('.total').text(NUM_CARDS[_section]);

        $card.show('fast');
    }

    /** start the tutorial */
    function start(section, card) {
        _section = section || 0;
        _card = card || 0;
        _update();
        $ui().show();
    }

    /** button: go to the next card */
    function next() {
        if (_card + 1 === NUM_CARDS[_section]) {
            _card = 0;
            _section++;
        } else {
            _card++;
        }
        _update();
    }

    /** button: go to the previous card */
    function prev() {
        _card--;
        _update();
    }

    /** button: close the tutorial */
    function close() {
        $ui().hide('fast');
    }

    /** hook up the buttons */
    function _initControls() {
        function onclick(sel, fn) {
            $ui(sel).click(function () {
                fn.apply(this, arguments);
                return false;
            });
        }

        onclick('.prev-btn', prev);
        onclick('.next-btn, .start-btn', next);
        onclick('.skip-btn, .done-btn', close);
    }

    _initControls();

    // Public interface:

    this.start = start;
};

},{}],27:[function(require,module,exports){
'use strict';

SandbankEditor.UI = function ($scope, $timeout, $http, $resource, $modal, $log, map) {

    var self = this;

    // ----------- tab ("slider") IDs - tabs are rendered in views/maps/_form --------------
    //this.TAB_ID_HISTORY = 'history-tab';
    this.TAB_ID_PRESENTER = 'presenter-tab';
    this.TAB_ID_ANALYTICS_MAP = 'analytics-tab-map';
    this.TAB_ID_ANALYTICS_THING = 'analytics-tab-thing';
    this.TAB_ID_PERSPECTIVES = 'perspectives-tab';
    this.TAB_ID_DISTINCTIONS = 'distinctions-tab';
    this.TAB_ID_ATTACHMENTS = 'attachments-tab';
    this.TAB_ID_GENERATOR = 'generator-tab';
    this.TAB_ID_STANDARDS = 'standards-tab';

    this.init = function () {};

    // ------------ editor options for map/user ----------

    var mapEditorOptions = {};

    var defaultEditorOptions = {
        // noArrows, to, from, toFrom
        defaultRelationshipDirection: 'noArrows',
        // left, right, stacked, freehand
        defaultThingLayout: 'left',
        // lines, spotlight, both
        perspectiveMode: 'lines'
    };

    // called when map is loaded to set stored options for map
    this.setMapEditorOptions = function (options) {
        mapEditorOptions = options;
    };

    // returns appropriate values from the user profile or the default options if options are not set for the map
    this.getMapEditorOptions = function () {
        var profileOptions = $scope.userProfile ? $scope.userProfile.editorOptions : null;
        var vals = [mapEditorOptions, profileOptions, defaultEditorOptions];
        mapEditorOptions = _.find(vals, function (val) {
            return !_.isEmpty(val);
        });
        return mapEditorOptions;
    };

    // saves default options for the user (map options are saved in autosave.js)
    function saveUserEditorOptions(options) {
        var data = {
            user: {
                editor_options: JSON.stringify(options)
            }
        };

        startSpinner();
        $http.put('/users/' + $scope.userId + '.json', data).then(function (response) {
            stopSpinner();
        }, function () {
            stopSpinner();
            $scope.profileEditStatus = 'Could not save editor options';
        });
    }

    // options modal

    $scope.editorOptions = new SandbankEditorOptions($scope, $http, $resource, $modal, $log);

    this.editOptions = function () {
        $scope.editorOptions.openModal(mapEditorOptions, function (options) {
            // onSaveDefaults
            saveUserEditorOptions(options);
        }, function (options) {
            // onUpdate
            mapEditorOptions = options;
            map.getAutosave().saveNow('edit_options');
        });
    };

    // ------------ state model ----------

    this.state = {};

    var defaultState = {
        showNavigator: false,
        currentTab: null,
        perspectivePointKey: null,
        distinctionThingKey: null
    };

    this.setStateData = function (data) {};

    // TODO: Save state more frequently?? Currently it is only saved when autosave is triggered by other actions...

    this.getStateData = function () {
        return self.state;
    };

    // ----------- temporary state flags ------------

    this.zoomingToRegion = false;

    this.mouseOverGroup = null;
    this.mouseOverLink = null;

    this.dragTargetGroup = null;
    this.dragTargetPosition = null;

    this.helpTip = null;

    // ----------- handle bottom tabs ("sliders") -------------

    // in the following functions, ID is e.g. 'history-tab' (ID of one of the .bottom-tab's)

    // this is called by map.currentTabChanged, which is triggered by a $scope.$watch
    this.currentTabChanged = function (newValue, oldValue) {
        //console.log('ui, currentTabChanged: ' + newValue);
        self.state.currentTab = newValue;
    };

    this.currentTabIs = function (tabID) {
        return $scope.currentTab == tabID;
    };

    this.openTab = function (tabID) {};

    this.closeTab = function (tabID) {};

    this.disableTab = function (tabID) {
        // prevent opening other tabs when in P or D editor
        if ($scope.currentTab == self.TAB_ID_PERSPECTIVES || $scope.currentTab == self.TAB_ID_DISTINCTIONS) {
            return true;
        }
        return false;
    };

    this.toggleTab = function (tabID) {};

    this.toggleNavigator = function () {};

    this.toggleZoomingToRegion = function () {};

    // ----------------- zooming functions -------------------

    this.canZoomIn = function () {
        return map.getDiagram().scale < 32;
    };

    this.canZoomOut = function () {
        return map.getDiagram().scale > 0.25;
    };

    this.zoomIn = function () {
        var diagram = map.getDiagram();
        if (diagram.scale < 32) {
            var vb = diagram.viewportBounds.copy();
            diagram.scale = diagram.scale * 2;
            diagram.centerRect(vb);
        }
    };

    this.zoomOut = function () {
        var diagram = map.getDiagram();
        if (diagram.scale > 0.25) {
            var vb = diagram.viewportBounds.copy();
            diagram.scale = diagram.scale / 2;
            diagram.centerRect(vb);
        }
    };

    this.maybeZoomToRegion = function () {
        var diagram = map.getDiagram();
        // this flag is set by the toolbar button
        if (self.zoomingToRegion) {
            self.zoomingToRegion = false;
            console.log('zoomToRegion, selection count: ' + diagram.selection.count);
            var rect = diagram.computePartsBounds(diagram.selection);
            diagram.zoomToRect(rect);
        }
        //$scope.safeApply();
    };

    this.resetZoom = function () {
        var diagram = map.getDiagram();
        //var rect = diagram.computePartsBounds(diagram.nodes).copy();
        var rect = map.safeRect(map.computeMapBounds());
        //console.log('resetZoom, bounds: ' + rect);
        if (rect.width) {
            rect.inflate(rect.width / 5, rect.height / 5);
        }
        diagram.zoomToRect(rect);
        diagram.alignDocument(go.Spot.Center, go.Spot.Center);
        if (diagram.scale > 1) {
            diagram.scale = 1;
        }
    };

    // ------------ thing options (layout) ----------------

    this.getSelectedThingsOrDefaultLayout = function () {
        var sl = self.getSelectedThingsLayout();
        if (sl) {
            return sl;
        } else {
            return mapEditorOptions.defaultThingLayout;
        }
    };

    // returns a non-null value only if all selected items are groups with the same layout
    this.getSelectedThingsLayout = function () {
        var diagram = map.getDiagram();
        if (diagram === null || diagram.selection.count < 1) return null;

        var layout = null;
        var it = diagram.selection.iterator;
        while (it.next()) {
            if (!it.value instanceof go.Group) return null;
            var group = it.value;
            //console.log('getSelectedThingsLayout, it.value: ' + group);
            var groupLayout = group.data ? group.data.layout : null;
            if (layout !== null && groupLayout != layout) return null;
            layout = groupLayout;
        }
        //console.log('getSelectedThingsLayout: ' + layout);

        return layout;
    };

    // sets the layout of all selected things to the given layout
    this.setSelectedThingsLayout = function (layoutName) {
        var diagram = map.getDiagram();
        var it = diagram.selection.iterator;
        while (it.next()) {
            if (it.value instanceof go.Group) {
                var group = it.value;
                diagram.model.setDataProperty(group.data, 'layout', layoutName);
                map.getLayouts().setDescendantLayouts(group, group.data.layout);
                map.refresh();
            }
        }
    };

    // ------------ relationship options (direction) ----------------

    this.getSelectedRelationshipsOrDefaultDirection = function () {
        var sd = self.getSelectedRelationshipsDirection();
        if (sd) {
            return sd;
        } else {
            return mapEditorOptions.defaultRelationshipDirection;
        }
    };

    // returns a non-null value only if all selected items are relationships with the same direction
    this.getSelectedRelationshipsDirection = function () {
        var diagram = map.getDiagram();
        if (diagram === null || diagram.selection.count < 1) return null;

        var type = null;
        var it = diagram.selection.iterator;
        while (it.next()) {
            if (!it.value instanceof go.Link) return null;
            var link = it.value;
            var linkType = link.data ? link.data.type : null;
            if (type !== null && linkType != type) return null;
            type = linkType;
        }

        return type;
    };

    // sets the direction of all selected relationships to the given direction
    this.setSelectedRelationshipsDirection = function (direction) {
        var diagram = map.getDiagram();
        //diagram.model.startTransaction("change relationship direction");
        var it = diagram.selection.iterator;
        while (it.next()) {
            if (it.value instanceof go.Link) {
                //diagram.model.startTransaction("change link type");
                diagram.model.setDataProperty(it.value.data, 'type', direction);
                //diagram.model.commitTransaction("change link type");
            }
        }
        //diagram.commitTransaction("change relationship direction");
    };

    // ------- handle corner clicks and double clicks --------

    var _cornerClicked = null;
    var _cornerFunction = null;
    var _cornerTimeout = 300;

    this.handleCornerClick = function (corner, thing) {
        //console.log('handleCornerClick: corner = ' + corner + ', cornerClicked = ' + _cornerClicked);
        // assume it's a single click, and set handler
        _cornerFunction = getCornerFunction(corner, 1);
        // already clicked, so it's a double click; change handler
        if (_cornerClicked == corner) {
            _cornerFunction = getCornerFunction(corner, 2);
            console.log('handleCornerClick: double click on ' + corner);
            return;
        }
        // remember that at least one click has happened for the current corner
        _cornerClicked = corner;

        // set timer to invoke whatever handler we have ready to go (unless another click happens within the interval)
        var timer = setTimeout(function () {
            // ding! invoke it
            if (_cornerFunction == self.showCornerTip) {
                _cornerFunction(thing, corner);
            } else {
                _cornerFunction(thing); // don't pass the corner arg to things like createChild that have a different second arg
            }
            // reset handler and clicked flag
            _cornerFunction = getCornerFunction(corner, 1);
            _cornerClicked = null;
        }, _cornerTimeout);
    };

    function getCornerFunction(corner, clicks) {
        if (corner == 'D') {
            return clicks == 1 ? self.showCornerTip : map.createSister;
        } else if (corner == 'S') {
            return clicks == 1 ? map.toggleSExpansion : map.createChild;
        } else if (corner == 'R') {
            return clicks == 1 ? self.showCornerTip : map.createRToSister;
        } else if (corner == 'P') {
            return clicks == 1 ? map.togglePExpansion : map.getPerspectives().setPEditorPoint;
        } else if (corner === '') {
            // click on text
            return clicks == 1 ? self.showCornerTip : editText;
        } else {
            return function () {
                console.log('getCornerFunction: no function found for corner: ' + corner + '!');
            };
        }
    }

    // NB: in this case the thing is actually the TextBox, except in outline layout it is a Panel if the box is double-clicked...
    function editText(thing, corner) {
        if (!$scope.canEdit) {
            return null;
        }

        console.log('editText, thing: ' + thing);
        if (thing instanceof go.Panel) {
            // outline layout
            var part = thing.part;
            console.log('editText, part: ' + part);
            if (part instanceof go.Group && part.data && (part.data.layout == 'left' || part.data.layout == 'right')) {
                var textBlockName = 'externaltext-' + part.data.layout;
                var text = thing.part.findObject(textBlockName);
                if (text) {
                    thing = text;
                }
            }
        }
        map.getDiagram().commandHandler.editTextBlock(thing);
    }

    // ---------------- help tip functions - see also user.js, views/maps/help_tab ---------------

    // shows thingTip or one of the cornerXTips
    this.showCornerTip = function (thing, corner) {
        //console.log('showCornerTip');
        if (corner === '') {
            self.showHelpTip('thingTip');
        } else {
            self.showHelpTip('corner' + corner + 'Tip');
        }
    };

    this.showHelpTip = function (tip) {
        //console.log('showHelpTip: ' + tip);

        // don't show help if in presenter
        if (self.currentTabIs(self.TAB_ID_PRESENTER)) {
            return;
        }

        self.helpTip = tip;
        //$scope.safeApply();
        $('#help-tip').show();

        setTimeout(function () {
            $('#help-tip').fadeOut(500, function () {
                self.helpTip = null;
                //$scope.safeApply();
            });
        }, 5000);
    };

    // ------------ edit map UserTags ---------------

    $scope.tagging = new SandbankTagging($scope, $http, $resource, $modal, $log);

    this.editUserTags = function () {
        $scope.tagging.openModal([$scope.mapId], true, // show description field
        function () {
            map.getAutosave().saveNow('edit_usertags');
        } // on update
        );
    };

    // ------------ edit map sharing ---------------

    $scope.sharing = new SandbankSharing($scope, $http, $resource, $modal, $log);

    this.editMapShares = function () {
        $scope.sharing.openModal([$scope.mapId], function () {} // on update
        );
    };

    // ------------ print/export to image ---------------

    this.printSlides = function () {
        startSpinner();
        map.getPresenter().createSlideThumbnails();
        stopSpinner();
        setTimeout(function () {
            window.print();
        }, 500);
    };

    var MILLION = 1000 * 1000;

    this.exportToImage = function (format) {

        $scope.imageExportLoading = true;
        $('#export-image img').remove();
        map.getTemplates().showExportFooter();

        var rect = map.getDiagram().computePartsBounds(map.getDiagram().nodes).copy();

        var imageMB = rect.width * rect.height * 4 / MILLION; // 4 bytes/pixel
        //console.log('imageMB: ' + imageMB);

        // make the max size of the image 10MB
        // pngSize = imageMB * scale * scale
        // so max scale = sqrt(pngSize / imageMB)
        // These calculations don't seem to be right, but in practice using 500 here
        // we get a scale of 2.43 for an image 19984 x 3424 pixels
        // which results in a file size of 1.88 MB at 32 bits/pixel...
        // OR 28380 x 5196 pixels, scale = 3.41 => file size = 3.49 MB
        var scale = 4;
        if (imageMB) {
            scale = Math.min(4, Math.sqrt(50 / imageMB));
        }

        //console.log('image dimensions: ' + rect.width + ' x ' + rect.height + ', image bytes: ' + (rect.width * rect.height * 4) +
        //        ', imageMB: ' + imageMB + ', scale: ' + scale);

        $scope.showImageExport = true;

        var partsToExport = new go.List();
        partsToExport.addAll(map.getDiagram().nodes);
        partsToExport.addAll(map.getDiagram().links);
        partsToExport.remove(map.getPresenter().slideBlocker);

        var doImage = $timeout(function () {
            var img = map.getDiagram().makeImage({
                parts: partsToExport,
                maxSize: new go.Size((rect.width + 200) * scale, (rect.height + 200) * scale),
                scale: scale,
                padding: 100 * scale,
                background: '#ffffff'
            });

            $('#export-image').append(img);
            $scope.imageExportLoading = false;

            map.getTemplates().hideExportFooter();
        }, 100);
    };

    // --------- utils -------------

    this.splitLines = function (text) {
        return text.split(/\n/);
    };
};

//$scope.safeApply(function() {
//    self.state = data || defaultState;
//    //$scope.currentTab = self.state.currentTab;
//});

//$scope.safeApply(function() {
//    $scope.currentTab = tabID;
//});

//$scope.safeApply(function() {
//    self.state.currentTab = null; // TODO: trigger autosave
//    $scope.currentTab = null;
//});

//$scope.safeApply(function() {
//    if ($scope.currentTab == tabID) {
//        $scope.currentTab = null;
//    } else if (!self.disableTab(tabID)) {
//        $scope.currentTab = tabID;
//    }
//});

//$scope.safeApply(function() {
//    self.state.showNavigator = !self.state.showNavigator;
//});

//$scope.safeApply(function() {
//    self.zoomingToRegion = !self.zoomingToRegion;
//});

},{}],28:[function(require,module,exports){
'use strict';

window.Sandbank = {};

// the topmost controller for the app

window.UserCtrl = function ($rootScope, $scope, $http, $modal, $upload) {

    // query string params
    $scope.params = URI(window.location).query(true);

    // auto-open thinkquery?
    $scope.thinkquery = $scope.params.thinkquery ? true : false;

    $scope.userId = window.userId; // set in layouts/user
    $scope.userIsAdmin = window.userIsAdmin;
    $scope.userName = '';
    $scope.userProfile = null;
    $scope.profileEditStatus = '';
    $scope.password = '';
    $scope.passwordConfirm = '';

    $scope.getNewWindowName = function (action, mapId) {
        if (action == 'VIEW_MAP') {
            return 'VIEW_MAP_' + mapId;
        }
    };

    // show/hide tests UI and model debug form
    $scope.showTests = false;
    $scope.showModel = false;

    $scope.toggleShowTests = function () {
        $scope.showTests = !$scope.showTests;
    };
    $scope.toggleShowModel = function () {
        $scope.showModel = !$scope.showModel;
    };

    $scope.setUserId = function (id) {
        $scope.userId = id;
    };

    function init() {
        window.addEventListener('resize', fixRowHeights);
    }

    // make all cells in a row the same height
    function fixRowHeights() {}

    $scope.loadUserProfile = function (callback) {
        if ($scope.userId) {
            var url = '/users/' + $scope.userId + '/profile.json';
            window.startSpinner();
            $http.get(url).then(function (response) {
                // success
                $scope.userProfile = response.data;
                initSelectedAdminTags();
                initSelectedFollowableOrgs();
                if ($scope.ccsTagging) {
                    $scope.ccsTagging.loadCcsTags();
                }
                window.stopSpinner();
                if (callback) {
                    callback.call();
                }
                fixRowHeights();
            }, function (reason) {
                // error
                window.stopSpinner();
                alert('Could not load user profile data');
            });
        }
    };

    $scope.loadUserProfile();

    // -------------- courses/subscriptions ------------------

    // open the Stripe Checkout dialog and get a token
    // NB: amount is stored in the Stripe plan definition
    $scope.addSubscription = function (plan) {
        var handler = StripeCheckout.configure({
            key: $scope.userProfile.account.stripeKey,
            name: 'Subscribe to MetaMap',
            image: '/assets/badge-logo-64.png',
            description: plan.name,
            panelLabel: 'Pay {{amount}}/' + plan.interval,
            amount: plan.price,
            allowRememberMe: false,
            email: $scope.userProfile.user.email,
            token: function token(_token, args) {
                console.log('token: ', _token);
                window.startSpinner();
                $http.post('/charges/subscribe', {
                    plan_id: plan.code,
                    token_id: _token.id
                }).then(function (response) {
                    $scope.loadUserProfile(function () {
                        alertify.success('Subscription created');
                    });
                }, function () {
                    $scope.loadUserProfile(function () {
                        alertify.error('Subscription could not be created');
                    });
                });
            }
        });
        handler.open();
    };

    // for buy-course-button directive
    $scope.getBuyButtonLabel = function (id) {
        var course;
        if (course = getFreeCourse(id)) {
            return 'Free';
        } else if (course = getEnrolledCourse(id)) {
            return 'Enrolled';
        } else if (course = getEnrollableCourse(id)) {
            return 'Enroll - $' + (course.price / 100).toFixed(2);
        } else {
            return '';
        }
    };

    $scope.getCourseStatusSummary = function (id) {
        var course = $scope.getCourse(id);
        if (course) {
            var text = course.stepsCompleted + ' of ' + course.steps + ' steps completed';
            if (course.enrolment) {
                text = 'Enrolled ' + course.enrolment.date + (course.enrolment.stripeData.refunded ? ' (Refunded)' : '') + ' - ' + text;
            }
            return course.code + ' - ' + text;
        } else {
            return null;
        }
    };

    $scope.getCourseCompletedPercent = function (id) {
        var course = $scope.getCourse(id);
        if (course) {
            return course.stepsCompletedPercent;
        } else {
            return null;
        }
    };

    $scope.maybeBuyCourse = function (id) {
        var course;
        if (course = getFreeCourse(id)) {
            window.location.href = '/courses/' + course.id;
        } else if (course = getEnrolledCourse(id)) {
            window.location.href = '/courses/' + course.id;
        } else if (course = getEnrollableCourse(id)) {
            $scope.buyCourse(course);
        }
    };

    $scope.getCourse = function (id) {
        var course;
        if (course = getFreeCourse(id)) {
            return course;
        } else if (course = getEnrolledCourse(id)) {
            return course;
        } else if (course = getEnrollableCourse(id)) {
            return course;
        }
        return null;
    };

    function getFreeCourse(id) {
        return $scope.userProfile && _.find($scope.userProfile.freeAccessibleCourses, function (course) {
            return course.id == id && course.enrolment == undefined;
        });
    }

    function getEnrolledCourse(id) {
        return $scope.userProfile && _.find($scope.userProfile.freeAccessibleCourses, function (course) {
            return course.id == id && course.enrolment !== undefined;
        });
    }

    function getEnrollableCourse(id) {
        return $scope.userProfile && _.find($scope.userProfile.nonFreeAccessibleCourses, function (course) {
            return course.id == id;
        });
    }

    // open the Stripe Checkout dialog and get a token
    // NB: amount is passed from our course definition
    $scope.buyCourse = function (course) {
        var handler = StripeCheckout.configure({
            key: $scope.userProfile.account.stripeKey,
            name: 'Enroll in Course',
            image: '/assets/badge-logo-64.png',
            description: course.code,
            amount: course.price,
            allowRememberMe: false,
            email: $scope.userProfile.user.email,
            token: function token(_token2, args) {
                console.log('token: ', _token2);
                window.startSpinner();
                $http.post('/charges/buy_course', {
                    course_code: course.code,
                    course_price: course.price,
                    token_id: _token2.id
                }).then(function (response) {
                    $scope.loadUserProfile(function () {
                        alertify.success('Course purchased');
                    });

                    // reload page to handle stripe bug (?) - links not clickable
                    window.setTimeout(function () {
                        window.location.reload();
                    }, 1000);
                }, function (response) {
                    $scope.loadUserProfile(function () {
                        alertify.error('Course purchase could not be completed');
                        console.log('stripe error: ', response);
                    });
                });
            }
        });
        handler.open();
    };

    $scope.cancelSubscription = function (subscription) {
        window.startSpinner();
        $http['delete']('/charges/unsubscribe?subscription_id=' + subscription.id).then(function (response) {
            $scope.loadUserProfile(function () {
                alertify.success('Subscription cancelled');
            });
        }, function () {
            $scope.loadUserProfile(function () {
                alertify.error('Subscription could not be cancelled');
            });
        });
    };

    // debug/test only
    $scope.clearCustomer = function () {
        window.startSpinner();
        $http['delete']('/charges/clear_customer').then(function (response) {
            $scope.loadUserProfile(function () {
                alertify.success('Customer cleared');
            });
        }, function () {
            $scope.loadUserProfile(function () {
                alertify.error('Customer could not be cleared');
            });
        });
    };

    // -------------- points and badges ----------------

    $scope.hasCurrentBadge = function (key, level) {
        return $scope.userProfile && $scope.userProfile.badges.current[key] == level;
    };

    $scope.hasNewBadge = function (key, level) {
        return $scope.userProfile && $scope.userProfile.badges['new'][key] == level;
    };

    $scope.hasNewBadges = function () {
        return $scope.userProfile && _.keys($scope.userProfile.badges['new']).length > 0;
    };

    $scope.getBadgeDefinition = function (key) {
        return _.findWhere($scope.userProfile.badges.definitions, {
            key: key
        });
    };

    // -------------- tutorial -----------------

    try {
        $scope.tutorialEnabled = function () {
            return window.mapData !== undefined;
        };

        // start tutorial:
        var _tutorial = new SandbankEditor.Tutorial();

        $scope.startTutorial = function () {
            _tutorial.start();
        };
    } catch (e) {}

    // -------------- feedback form -----------------

    $scope.feedback = '';

    $scope.toggleFeedback = function () {
        $('#feedback-dropdown').slideToggle('fast').find('textarea').get(0).focus();
    };

    $scope.submitFeedback = function () {
        if ($scope.feedback === '') {
            return; // empty input...
        }

        $.ajax({
            type: 'POST',
            url: '/users/feedback',
            data: {
                url: window.location.href,
                feedback: $scope.feedback
            },
            success: function success() {
                $scope.feedback = '';
                alert('Thank you for your feedback!');
            },
            error: function error() {
                console.error('error sending feedback: ', arguments);
            }
        });

        $('#feedback-dropdown').slideToggle('fast');
    };

    // --------- user's user tags -----------

    // NB: this is similar to maps tagging in tagging.js - but simpler, as we do not have to deal with
    // multiple taggable items, which means tracking existing vs. new tags, etc...

    $scope.newTag = {
        name: ''
    };

    // tag autocomplete
    $scope.getUserTags = function (viewValue) {
        var url = '/user_tags/list.json?q=' + viewValue;
        return $http.get(url).then(function (response) {
            return response.data.tags;
        });
    };

    $scope.updateUserUserTags = function () {
        var tagList = _.pluck($scope.userProfile.userTags, 'name').join(',');
        $http.put('/user_tags/update_user_user_tags', [tagList]).then(function (response) {
            $scope.loadUserProfile();
            $scope.profileEditStatus = 'Tags saved';
        }, function () {
            $scope.profileEditStatus = 'Could not save tags';
        });
    };

    $scope.deleteTag = function (tag) {
        var i = _.indexOf($scope.userProfile.userTags, tag);
        $scope.userProfile.userTags.splice(i, 1);
        $scope.updateUserUserTags();
    };

    $scope.tagSelected = function (item, model, label) {
        //console.log('tagSelected: ', item, model, label);
        $scope.addTag(item.name);
    };

    $scope.editingTagKeypress = function (e) {
        if (e.which == 13) {
            $scope.addTag($scope.newTag.name);
        }
    };

    $scope.addTag = function (tagName) {
        $scope.userProfile.userTags.push({
            name: tagName
        });
        $scope.newTag.name = '';
        $scope.updateUserUserTags();
    };

    // --------- user's/map's CCS tags -----------

    // this manages CCS tags for either the current user or the current map,
    // depending which page we're on - mapId gets overridden in editor.js if we're editing a map

    try {
        $scope.ccsTagging = new SandbankCcsTagging($scope, $http, $modal);
        $scope.ccsTagging.mapId = null;
    } catch (e) {}

    // --------- user's admin tags -----------

    // key (index): admin tag ID; value: true/false (if user follows the admin tag)
    $scope.selectedUserAdminTags = [];

    function initSelectedAdminTags() {
        $scope.selectedUserAdminTags = [];
        _.each($scope.userProfile.adminTags, function (tag) {
            if (_.findWhere($scope.userProfile.userAdminTags, {
                id: tag.id
            })) {
                $scope.selectedUserAdminTags[tag.id] = true;
            }
        });
    }

    $scope.updateUserAdminTags = function () {
        var selectedTagNames = _.map($scope.userProfile.adminTags, function (tag) {
            return $scope.selectedUserAdminTags[tag.id] ? tag.name : null;
        });
        var tagList = _.without(selectedTagNames, null).join(',');
        $http.put('/admin_tags/update_user_admin_tags', [tagList]).then(function (response) {
            $scope.loadUserProfile();
            $scope.profileEditStatus = 'Interests saved';
        }, function () {
            $scope.profileEditStatus = 'Could not save interests';
        });
    };

    // --------- user's followed orgs -----------

    // key (index): org ID; value: true/false (if user follows the org)
    $scope.selectedFollowableOrganizations = [];

    $scope.userIsFollowingOrg = function (id) {
        return $scope.selectedFollowableOrganizations[id];
    };

    $scope.toggleUserFollowingOrg = function (id) {
        if (!$scope.selectedFollowableOrganizations[id] || confirm('Stop following this ThinkNation?')) {
            $scope.selectedFollowableOrganizations[id] = !$scope.selectedFollowableOrganizations[id];
            $scope.updateFollowedOrganizations();
        }
    };

    function initSelectedFollowableOrgs() {
        $scope.selectedFollowableOrganizations = [];
        _.each($scope.userProfile.followedOrganizations, function (org) {
            if (_.findWhere($scope.userProfile.followableOrganizations, {
                id: org.id
            })) {
                $scope.selectedFollowableOrganizations[org.id] = true;
            }
        });
    }

    $scope.updateFollowedOrganizations = function () {
        var selectedOrgIds = _.map($scope.userProfile.followableOrganizations, function (org) {
            return $scope.selectedFollowableOrganizations[org.id] ? org.id : null;
        });
        var orgIdList = _.without(selectedOrgIds, null).join(',');
        $http.put('/organization_follows/update_user_organization_follows', [orgIdList]).then(function (response) {
            $scope.loadUserProfile();
            $scope.profileEditStatus = 'ThinkNations saved';
        }, function () {
            $scope.profileEditStatus = 'Could not save ThinkNations';
        });
    };

    // --------- user's org memberships -----------

    $scope.joinNation = new SandbankJoinNation($scope, $http, $modal);

    function getMembershipForOrg(id) {
        return _.findWhere($scope.userProfile.memberships, {
            organizationId: id
        });
    }

    $scope.userIsMemberOfOrg = function (id) {
        if ($scope.userProfile) {
            return getMembershipForOrg(id) != undefined;
        } else {
            return false;
        }
    };

    $scope.toggleUserMemberOfOrg = function (id, name) {
        if ($scope.userIsMemberOfOrg(id)) {
            if (confirm('Remove your membership in this ThinkNation?')) {
                var membership = getMembershipForOrg(id);
                $http['delete']('/memberships/' + membership.id + '.json').then(function (response) {
                    $scope.loadUserProfile();
                });
            }
        } else {
            $scope.joinNation.openModal(id, name);
        }
    };

    // ------------ following other users ---------------

    $scope.followUser = function (user) {
        $http.post('/user_follows.json', {
            followee_id: user.id
        }).then(function (response) {
            user.followId = response.data;
            alertify.success('You are now following ' + user.name);
        }, function () {});
    };

    $scope.unfollowUser = function (user) {
        $http['delete']('/user_follows/' + user.followId + '.json').then(function (response) {
            user.followId = null;
            alertify.success('You are no longer following ' + user.name);
        }, function () {});
    };

    // ------------ following tags ---------------

    function followTag(controller, tag) {
        $http.post('/' + controller + '/' + tag.id + '/follow.json', {
            id: tag.id
        }).then(function (response) {
            tag.following = true;
            alertify.success('You are now following ' + tag.name);
        }, function () {});
    }

    function unfollowTag(controller, tag) {
        $http['delete']('/' + controller + '/' + tag.id + '/unfollow.json').then(function (response) {
            tag.following = false;
            alertify.success('You are no longer following ' + tag.name);
        }, function () {});
    }

    $scope.followUserTag = function (tag) {
        followTag('user_tags', tag);
    };
    $scope.unfollowUserTag = function (tag) {
        unfollowTag('user_tags', tag);
    };

    $scope.followAdminTag = function (tag) {
        followTag('admin_tags', tag);
    };
    $scope.unfollowAdminTag = function (tag) {
        unfollowTag('admin_tags', tag);
    };

    $scope.followCcsTag = function (tag) {
        followTag('common_core_standards', tag);
    };
    $scope.unfollowCcsTag = function (tag) {
        unfollowTag('common_core_standards', tag);
    };

    // ------------ auto-save user profile ---------------

    // don't let autosave be triggered more than every N milliseconds...
    $scope.autosave = _.debounce(autosaveNow, 2000);

    function autosaveNow() {
        //console.log('autosaving user profile');
        var data = {
            email: $scope.userProfile.user.email,
            alt_email: $scope.userProfile.user.altEmail,
            first_name: $scope.userProfile.user.firstName,
            last_name: $scope.userProfile.user.lastName,
            about_me: $scope.userProfile.user.aboutMe
        };
        if ($scope.passwordsMatch() && $scope.password.length) {
            data.password = $scope.password;
            data.password_confirmation = $scope.password;
        }

        startSpinner();
        $scope.profileEditStatus = 'Saving...';
        $http.put('/users/' + $scope.userId, data).then(function (response) {
            stopSpinner();
            if (_.has(data, 'password')) {
                $scope.profileEditStatus = 'Profile and password saved';
                console.log($scope.profileEditStatus);
            } else {
                $scope.profileEditStatus = 'Profile saved';
                console.log($scope.profileEditStatus);
            }
        }, function () {
            stopSpinner();
            $scope.profileEditStatus = 'Could not save profile';
        });
    }

    $scope.passwordsMatch = function () {
        return !$scope.password.length && !$scope.passwordConfirm.length || $scope.password == $scope.passwordConfirm;
    };

    // ------------ upload avatar ---------------

    // using: https://github.com/danialfarid/angular-file-upload
    $scope.onAvatarFileSelect = function ($files) {
        startSpinner();
        //$files: an array of files selected, each file has name, size, and type.
        for (var i = 0; i < $files.length; i++) {
            var file = $files[i];
            $scope.upload = $upload.upload({
                url: 'users/' + userId,
                method: 'PUT',
                withCredentials: true,
                file: file, // or list of files: $files for html5 only
                fileFormDataName: 'user[avatar]'
            }).success(function (data, status, headers, config) {
                $scope.loadUserProfile();
                $scope.profileEditStatus = 'Photo updated';
                stopSpinner();
            }).error(function () {
                stopSpinner();
                $scope.profileEditStatus = 'Error: Could not upload photo';
            })
            //.then(success, error, progress);
            ;
        }
    };

    // --------------- view helpers -------------------

    // returns e.g. "a day ago"
    // (NB: now is obtained from the DB to ensure that we have both dates in UTC;
    //    also, SQL vs. ruby dates need to be coerced into a similar format, both in UTC - see feed.json.jbuilder)
    $scope.getEventTime = function (t, now) {
        var time = moment(t, 'YYYY-MM-DD HH:mm:ss.SSS');
        var nowtime = moment(now, 'YYYY-MM-DD HH:mm:ss.SSS');
        // console.log('t:       ' + t);
        // console.log('now:     ' + now);
        // console.log('time:    ' + time.format()); // + ' ' + time.isValid());
        // console.log('nowtime: ' + nowtime.format()); // + ' ' + nowtime.isValid());
        return time.from(nowtime);
    };

    // --------------- notifications -------------------

    $scope.getNotificationFeedUrl = function (notification) {
        if (notification.actions.length) {
            var action = notification.actions[0];
            if (action.action == 'LIKE') {
                return '/social?like_id=' + action.likeId;
            } else if (action.action == 'COMMENT') {
                return '/social?comment_id=' + action.commentId;
            } else if (action.action == 'SHARE_INDIVIDUAL') {
                return '/maps/' + action.mapId;
            } else if (action.action == 'SHARE_PUBLIC') {
                return '/social?share_id=' + action.shareId;
            }
        }
        return '';
    };

    $scope.deleteNotification = function (notification) {
        $http['delete']('/notifications/' + notification.id + '.json').then(function (response) {
            // success
            notification.deleted = true;
        }, function (reason) {
            // error
            alert('Could not delete notification');
        });
    };

    $scope.notificationVerb = function (action) {
        var verbs = {
            LIKE: 'liked this:',
            COMMENT: 'commented on this:',
            SHARE_INDIVIDUAL: 'shared a MetaMap with you',
            SHARE_PUBLIC: 'shared a MetaMap with everyone',
            MAP_FOLLOW: 'followed a MetaMap:',
            USER_FOLLOW: 'followed you'
        };
        return verbs[action];
    };

    // ------------ utility functions ---------------

    // handy function for use with ng-class on radio buttons
    $scope.classIf = function (klass, b) {
        //console.log('classIf: ' + klass + ', ' + b);
        return b ? klass : '';
    };

    // avoid '$apply already in progress' error (source: https://coderwall.com/p/ngisma)
    $scope.safeApply = function (fn) {
        //console.log('safeApply on scope: ' + $scope);

        // TODO? restore non-Angular version of this method
        //var phase = this.$root.$$phase;
        //if (phase == '$apply' || phase == '$digest') {
        if (fn && typeof fn === 'function') {
            fn();
        }
        //} else {
        //    this.$apply(fn);
        //}
    };

    // source: http://ctrlq.org/code/19616-detect-touch-screen-javascript
    $scope.isTouchDevice = function () {
        return 'ontouchstart' in window || navigator.MaxTouchPoints > 0 || navigator.msMaxTouchPoints > 0;
    };

    init();
};

window.UserCtrl.$inject = ['$rootScope', '$scope', '$http', '$modal', '$upload'];

// window.setTimeout(function() {
//     $('.row-height').each(function() { 
//         var highestBox = 0;
//         $('> div', this).each(function(){
//             if ($(this).height() > highestBox)
//                 highestBox = $(this).height();
//         }); 
//         $('> div', this).height(highestBox);
//     });       
// }, 300);

},{}],29:[function(require,module,exports){
'use strict';

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

var Auth0 = (function () {
    function Auth0() {
        _classCallCheck(this, Auth0);

        this.lock = new Auth0Lock('wsOnart23yViIShqT4wfJ18w2vt2cl32', 'metamap.auth0.com');
        this.lock.on('loading ready', function () {
            for (var _len = arguments.length, e = Array(_len), _key = 0; _key < _len; _key++) {
                e[_key] = arguments[_key];
            }
        });
    }

    _createClass(Auth0, [{
        key: 'login',
        value: function login() {
            var that = this;

            var promise = new Promise(function (fulfill, reject) {
                that.getSession().then(function (profile) {
                    if (profile) {
                        fulfill(profile);
                    } else {
                        that.lock.show({
                            closable: false,
                            loginAfterSignup: true,
                            authParams: {
                                scope: 'openid offline_access'
                            }
                        }, function (err, profile, id_token, ctoken, opt, refresh_token) {
                            if (err) {
                                reject(err);
                            } else {
                                localforage.setItem('id_token', id_token);
                                localforage.setItem('profile', profile);
                                localforage.setItem('refresh_token', refresh_token);
                                that.profile = profile;
                                fulfill(profile);
                            }
                        });
                    }
                });
            });
            return promise;
        }
    }, {
        key: 'getSession',
        value: function getSession() {
            var that = this;
            var getProfile = function getProfile(id_token, fulfill, reject) {
                return that.lock.getProfile(id_token, function (err, profile) {
                    if (err) {
                        reject(err);
                    } else {
                        localforage.setItem('id_token', id_token);
                        localforage.setItem('profile', profile);
                        fulfill(profile, id_token);
                    }
                });
            };
            var promise = new Promise(function (fulfill, reject) {
                var fulfilled = false;
                localforage.getItem('refresh_token').then(function (token) {
                    if (token) {
                        that.lock.getClient().refreshToken(token, function (a, tokObj) {
                            getProfile(tokObj.id_token, fulfill, reject);
                        }, function (error) {
                            reject(error);
                        });
                    } else {
                        localforage.getItem('id_token').then(function (id_token) {
                            if (token) {
                                getProfile(id_token, fulfill, reject);
                            } else {
                                fulfill(null);
                            }
                        });
                    }
                });
            });
            return promise;
        }
    }, {
        key: 'logout',
        value: function logout() {
            localforage.removeItem('id_token');
            localforage.removeItem('refresh_token');
            window.location.reload();
        }
    }]);

    return Auth0;
})();

module.exports = Auth0;

},{}],30:[function(require,module,exports){
'use strict';

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

var MetaFire = (function () {
    function MetaFire() {
        _classCallCheck(this, MetaFire);

        this.fb = new Firebase('https://popping-fire-897.firebaseio.com');
    }

    _createClass(MetaFire, [{
        key: 'init',
        value: function init() {
            var _this = this;

            var that = this;
            var ret = new Promise(function (fulfill, reject) {
                localforage.getItem('id_token').then(function (id_token) {
                    MetaMap.Auth0.getSession().then(function (profile) {

                        MetaMap.Auth0.lock.getClient().getDelegationToken({
                            target: profile.clientID,
                            id_token: id_token,
                            api_type: 'firebase'
                        }, function (err, delegationResult) {
                            that.firebase_token = delegationResult.id_token;
                            localforage.setItem('firebase_token', that.firebase_token);
                            _this.fb.authWithCustomToken(that.firebase_token, function (error, authData) {
                                if (error) {
                                    reject(error);
                                } else {
                                    fulfill(authData);
                                }
                            });
                        });
                    });
                });
            });
            return ret;
        }
    }, {
        key: 'getChild',
        value: function getChild(path) {
            return this.fb.child(path);
        }
    }, {
        key: 'getData',
        value: function getData(path) {
            var child = this.fb;
            if (path) {
                child = this.getChild(path);
            }
            var promise = new Promise(function (resolve, reject) {
                child.on('value', function (snapshot) {
                    resolve(snapshot.val());
                }, function (error) {
                    reject(error);
                });
            });

            return promise;
        }
    }, {
        key: 'setData',
        value: function setData(data, path) {
            var child = this.fb;
            if (path) {
                child = this.getChild(path);
            }
            return child.set(data);
        }
    }, {
        key: 'logout',
        value: function logout() {
            this.fb.unauth();
        }
    }]);

    return MetaFire;
})();

module.exports = MetaFire;

},{}],31:[function(require,module,exports){
'use strict';

var googleAnalytics = function googleAnalytics(config) {
    var apiKey, e, r;
    if (config == null) {
        config = {};
    }
    apiKey = config.GOOGLE_ANALYTICS_TRACKING_ID;
    if (apiKey && window.location.hostname !== 'localhost') {
        window.GoogleAnalyticsObject = 'ga';
        window.ga || (window.ga = function () {
            (window.ga.q = window.ga.q || []).push(arguments);
        });
        window.ga.ga = +new Date();
        e = document.createElement('script');
        r = document.getElementsByTagName('script')[0];
        e.src = '//www.google-analytics.com/analytics.js';
        r.parentNode.insertBefore(e, r);
        ga('create', apiKey);
        return ga('send', 'pageview');
    }
};

module.exports = googleAnalytics;

},{}],32:[function(require,module,exports){
"use strict";

var newRelic = function newRelic(config) {
    var appId, licenseKey;
    if (config == null) {
        config = {};
    }
    licenseKey = config.NEW_RELIC_LICENSE_KEY;
    appId = config.NEW_RELIC_APPLICATION_ID;
    if (licenseKey && appId && window.location.hostname !== "localhost") {
        return (window.NREUM || (NREUM = {}), __nr_require = (function (t, e, n) {
            function r(n) {
                if (!e[n]) {
                    var o = e[n] = { exports: {} };t[n][0].call(o.exports, function (e) {
                        var o = t[n][1][e];return r(o ? o : e);
                    }, o, o.exports);
                }return e[n].exports;
            }if ("function" == typeof __nr_require) return __nr_require;for (var o = 0; o < n.length; o++) r(n[o]);return r;
        })({ QJf3ax: [function (t, e) {
                function n(t) {
                    function e(e, n, a) {
                        t && t(e, n, a), a || (a = {});for (var c = s(e), f = c.length, u = i(a, o, r), d = 0; f > d; d++) c[d].apply(u, n);return u;
                    }function a(t, e) {
                        f[t] = s(t).concat(e);
                    }function s(t) {
                        return f[t] || [];
                    }function c() {
                        return n(e);
                    }var f = {};return { on: a, emit: e, create: c, listeners: s, _events: f };
                }function r() {
                    return {};
                }var o = "nr@context",
                    i = t("gos");e.exports = n();
            }, { gos: "7eSDFh" }], ee: [function (t, e) {
                e.exports = t("QJf3ax");
            }, {}], 3: [function (t) {
                function e(t, e, n, i, s) {
                    try {
                        c ? c -= 1 : r("err", [s || new UncaughtException(t, e, n)]);
                    } catch (f) {
                        try {
                            r("ierr", [f, new Date().getTime(), !0]);
                        } catch (u) {}
                    }return "function" == typeof a ? a.apply(this, o(arguments)) : !1;
                }function UncaughtException(t, e, n) {
                    this.message = t || "Uncaught error with no additional information", this.sourceURL = e, this.line = n;
                }function n(t) {
                    r("err", [t, new Date().getTime()]);
                }var r = t("handle"),
                    o = t(5),
                    i = t("ee"),
                    a = window.onerror,
                    s = !1,
                    c = 0;t("loader").features.err = !0, window.onerror = e, NREUM.noticeError = n;try {
                    throw new Error();
                } catch (f) {
                    "stack" in f && (t(1), t(4), "addEventListener" in window && t(2), window.XMLHttpRequest && XMLHttpRequest.prototype && XMLHttpRequest.prototype.addEventListener && t(3), s = !0);
                }i.on("fn-start", function () {
                    s && (c += 1);
                }), i.on("fn-err", function (t, e, r) {
                    s && (this.thrown = !0, n(r));
                }), i.on("fn-end", function () {
                    s && !this.thrown && c > 0 && (c -= 1);
                }), i.on("internal-error", function (t) {
                    r("ierr", [t, new Date().getTime(), !0]);
                });
            }, { 1: 8, 2: 5, 3: 9, 4: 7, 5: 21, ee: "QJf3ax", handle: "D5DuLP", loader: "G9z0Bl" }], 4: [function (t) {
                function e() {}if (window.performance && window.performance.timing && window.performance.getEntriesByType) {
                    var n = t("ee"),
                        r = t("handle"),
                        o = t(2);t("loader").features.stn = !0, t(1), n.on("fn-start", function (t) {
                        var e = t[0];e instanceof Event && (this.bstStart = Date.now());
                    }), n.on("fn-end", function (t, e) {
                        var n = t[0];n instanceof Event && r("bst", [n, e, this.bstStart, Date.now()]);
                    }), o.on("fn-start", function (t, e, n) {
                        this.bstStart = Date.now(), this.bstType = n;
                    }), o.on("fn-end", function (t, e) {
                        r("bstTimer", [e, this.bstStart, Date.now(), this.bstType]);
                    }), n.on("pushState-start", function () {
                        this.time = Date.now(), this.startPath = location.pathname + location.hash;
                    }), n.on("pushState-end", function () {
                        r("bstHist", [location.pathname + location.hash, this.startPath, this.time]);
                    }), "addEventListener" in window.performance && (window.performance.addEventListener("webkitresourcetimingbufferfull", function () {
                        r("bstResource", [window.performance.getEntriesByType("resource")]), window.performance.webkitClearResourceTimings();
                    }, !1), window.performance.addEventListener("resourcetimingbufferfull", function () {
                        r("bstResource", [window.performance.getEntriesByType("resource")]), window.performance.clearResourceTimings();
                    }, !1)), document.addEventListener("scroll", e, !1), document.addEventListener("keypress", e, !1), document.addEventListener("click", e, !1);
                }
            }, { 1: 6, 2: 8, ee: "QJf3ax", handle: "D5DuLP", loader: "G9z0Bl" }], 5: [function (t, e) {
                function n(t) {
                    i.inPlace(t, ["addEventListener", "removeEventListener"], "-", r);
                }function r(t) {
                    return t[1];
                }var o = (t(1), t("ee").create()),
                    i = t(2)(o),
                    a = t("gos");if ((e.exports = o, n(window), "getPrototypeOf" in Object)) {
                    for (var s = document; s && !s.hasOwnProperty("addEventListener");) s = Object.getPrototypeOf(s);s && n(s);for (var c = XMLHttpRequest.prototype; c && !c.hasOwnProperty("addEventListener");) c = Object.getPrototypeOf(c);c && n(c);
                } else XMLHttpRequest.prototype.hasOwnProperty("addEventListener") && n(XMLHttpRequest.prototype);o.on("addEventListener-start", function (t) {
                    if (t[1]) {
                        var e = t[1];"function" == typeof e ? this.wrapped = t[1] = a(e, "nr@wrapped", function () {
                            return i(e, "fn-", null, e.name || "anonymous");
                        }) : "function" == typeof e.handleEvent && i.inPlace(e, ["handleEvent"], "fn-");
                    }
                }), o.on("removeEventListener-start", function (t) {
                    var e = this.wrapped;e && (t[1] = e);
                });
            }, { 1: 21, 2: 22, ee: "QJf3ax", gos: "7eSDFh" }], 6: [function (t, e) {
                var n = (t(2), t("ee").create()),
                    r = t(1)(n);e.exports = n, r.inPlace(window.history, ["pushState"], "-");
            }, { 1: 22, 2: 21, ee: "QJf3ax" }], 7: [function (t, e) {
                var n = (t(2), t("ee").create()),
                    r = t(1)(n);e.exports = n, r.inPlace(window, ["requestAnimationFrame", "mozRequestAnimationFrame", "webkitRequestAnimationFrame", "msRequestAnimationFrame"], "raf-"), n.on("raf-start", function (t) {
                    t[0] = r(t[0], "fn-");
                });
            }, { 1: 22, 2: 21, ee: "QJf3ax" }], 8: [function (t, e) {
                function n(t, e, n) {
                    var r = t[0];"string" == typeof r && (r = new Function(r)), t[0] = o(r, "fn-", null, n);
                }var r = (t(2), t("ee").create()),
                    o = t(1)(r);e.exports = r, o.inPlace(window, ["setTimeout", "setInterval", "setImmediate"], "setTimer-"), r.on("setTimer-start", n);
            }, { 1: 22, 2: 21, ee: "QJf3ax" }], 9: [function (t, e) {
                function n() {
                    c.inPlace(this, d, "fn-");
                }function r(t, e) {
                    c.inPlace(e, ["onreadystatechange"], "fn-");
                }function o(t, e) {
                    return e;
                }var i = t("ee").create(),
                    a = t(1),
                    s = t(2),
                    c = s(i),
                    f = s(a),
                    u = window.XMLHttpRequest,
                    d = ["onload", "onerror", "onabort", "onloadstart", "onloadend", "onprogress", "ontimeout"];e.exports = i, window.XMLHttpRequest = function (t) {
                    var e = new u(t);try {
                        i.emit("new-xhr", [], e), f.inPlace(e, ["addEventListener", "removeEventListener"], "-", function (t, e) {
                            return e;
                        }), e.addEventListener("readystatechange", n, !1);
                    } catch (r) {
                        try {
                            i.emit("internal-error", [r]);
                        } catch (o) {}
                    }return e;
                }, window.XMLHttpRequest.prototype = u.prototype, c.inPlace(XMLHttpRequest.prototype, ["open", "send"], "-xhr-", o), i.on("send-xhr-start", r), i.on("open-xhr-start", r);
            }, { 1: 5, 2: 22, ee: "QJf3ax" }], 10: [function (t) {
                function e(t) {
                    if ("string" == typeof t && t.length) return t.length;if ("object" != typeof t) return void 0;if ("undefined" != typeof ArrayBuffer && t instanceof ArrayBuffer && t.byteLength) return t.byteLength;if ("undefined" != typeof Blob && t instanceof Blob && t.size) return t.size;if ("undefined" != typeof FormData && t instanceof FormData) return void 0;try {
                        return JSON.stringify(t).length;
                    } catch (e) {
                        return void 0;
                    }
                }function n(t) {
                    var n = this.params,
                        r = this.metrics;if (!this.ended) {
                        this.ended = !0;for (var i = 0; c > i; i++) t.removeEventListener(s[i], this.listener, !1);if (!n.aborted) {
                            if ((r.duration = new Date().getTime() - this.startTime, 4 === t.readyState)) {
                                n.status = t.status;var a = t.responseType,
                                    f = "arraybuffer" === a || "blob" === a || "json" === a ? t.response : t.responseText,
                                    u = e(f);if ((u && (r.rxSize = u), this.sameOrigin)) {
                                    var d = t.getResponseHeader("X-NewRelic-App-Data");d && (n.cat = d.split(", ").pop());
                                }
                            } else n.status = 0;r.cbTime = this.cbTime, o("xhr", [n, r, this.startTime]);
                        }
                    }
                }function r(t, e) {
                    var n = i(e),
                        r = t.params;r.host = n.hostname + ":" + n.port, r.pathname = n.pathname, t.sameOrigin = n.sameOrigin;
                }if (window.XMLHttpRequest && XMLHttpRequest.prototype && XMLHttpRequest.prototype.addEventListener && !/CriOS/.test(navigator.userAgent)) {
                    t("loader").features.xhr = !0;var o = t("handle"),
                        i = t(2),
                        a = t("ee"),
                        s = ["load", "error", "abort", "timeout"],
                        c = s.length,
                        f = t(1);t(4), t(3), a.on("new-xhr", function () {
                        this.totalCbs = 0, this.called = 0, this.cbTime = 0, this.end = n, this.ended = !1, this.xhrGuids = {};
                    }), a.on("open-xhr-start", function (t) {
                        this.params = { method: t[0] }, r(this, t[1]), this.metrics = {};
                    }), a.on("open-xhr-end", function (t, e) {
                        "loader_config" in NREUM && "xpid" in NREUM.loader_config && this.sameOrigin && e.setRequestHeader("X-NewRelic-ID", NREUM.loader_config.xpid);
                    }), a.on("send-xhr-start", function (t, n) {
                        var r = this.metrics,
                            o = t[0],
                            i = this;if (r && o) {
                            var f = e(o);f && (r.txSize = f);
                        }this.startTime = new Date().getTime(), this.listener = function (t) {
                            try {
                                "abort" === t.type && (i.params.aborted = !0), ("load" !== t.type || i.called === i.totalCbs && (i.onloadCalled || "function" != typeof n.onload)) && i.end(n);
                            } catch (e) {
                                try {
                                    a.emit("internal-error", [e]);
                                } catch (r) {}
                            }
                        };for (var u = 0; c > u; u++) n.addEventListener(s[u], this.listener, !1);
                    }), a.on("xhr-cb-time", function (t, e, n) {
                        this.cbTime += t, e ? this.onloadCalled = !0 : this.called += 1, this.called !== this.totalCbs || !this.onloadCalled && "function" == typeof n.onload || this.end(n);
                    }), a.on("xhr-load-added", function (t, e) {
                        var n = "" + f(t) + !!e;this.xhrGuids && !this.xhrGuids[n] && (this.xhrGuids[n] = !0, this.totalCbs += 1);
                    }), a.on("xhr-load-removed", function (t, e) {
                        var n = "" + f(t) + !!e;this.xhrGuids && this.xhrGuids[n] && (delete this.xhrGuids[n], this.totalCbs -= 1);
                    }), a.on("addEventListener-end", function (t, e) {
                        e instanceof XMLHttpRequest && "load" === t[0] && a.emit("xhr-load-added", [t[1], t[2]], e);
                    }), a.on("removeEventListener-end", function (t, e) {
                        e instanceof XMLHttpRequest && "load" === t[0] && a.emit("xhr-load-removed", [t[1], t[2]], e);
                    }), a.on("fn-start", function (t, e, n) {
                        e instanceof XMLHttpRequest && ("onload" === n && (this.onload = !0), ("load" === (t[0] && t[0].type) || this.onload) && (this.xhrCbStart = new Date().getTime()));
                    }), a.on("fn-end", function (t, e) {
                        this.xhrCbStart && a.emit("xhr-cb-time", [new Date().getTime() - this.xhrCbStart, this.onload, e], e);
                    });
                }
            }, { 1: "XL7HBI", 2: 11, 3: 9, 4: 5, ee: "QJf3ax", handle: "D5DuLP", loader: "G9z0Bl" }], 11: [function (t, e) {
                e.exports = function (t) {
                    var e = document.createElement("a"),
                        n = window.location,
                        r = {};e.href = t, r.port = e.port;var o = e.href.split("://");return (!r.port && o[1] && (r.port = o[1].split("/")[0].split("@").pop().split(":")[1]), r.port && "0" !== r.port || (r.port = "https" === o[0] ? "443" : "80"), r.hostname = e.hostname || n.hostname, r.pathname = e.pathname, r.protocol = o[0], "/" !== r.pathname.charAt(0) && (r.pathname = "/" + r.pathname), r.sameOrigin = !e.hostname || e.hostname === document.domain && e.port === n.port && e.protocol === n.protocol, r);
                };
            }, {}], gos: [function (t, e) {
                e.exports = t("7eSDFh");
            }, {}], "7eSDFh": [function (t, e) {
                function n(t, e, n) {
                    if (r.call(t, e)) return t[e];var o = n();if (Object.defineProperty && Object.keys) try {
                        return (Object.defineProperty(t, e, { value: o, writable: !0, enumerable: !1 }), o);
                    } catch (i) {}return (t[e] = o, o);
                }var r = Object.prototype.hasOwnProperty;e.exports = n;
            }, {}], D5DuLP: [function (t, e) {
                function n(t, e, n) {
                    return r.listeners(t).length ? r.emit(t, e, n) : (o[t] || (o[t] = []), void o[t].push(e));
                }var r = t("ee").create(),
                    o = {};e.exports = n, n.ee = r, r.q = o;
            }, { ee: "QJf3ax" }], handle: [function (t, e) {
                e.exports = t("D5DuLP");
            }, {}], XL7HBI: [function (t, e) {
                function n(t) {
                    var e = typeof t;return !t || "object" !== e && "function" !== e ? -1 : t === window ? 0 : i(t, o, function () {
                        return r++;
                    });
                }var r = 1,
                    o = "nr@id",
                    i = t("gos");e.exports = n;
            }, { gos: "7eSDFh" }], id: [function (t, e) {
                e.exports = t("XL7HBI");
            }, {}], loader: [function (t, e) {
                e.exports = t("G9z0Bl");
            }, {}], G9z0Bl: [function (t, e) {
                function n() {
                    var t = l.info = NREUM.info;if (t && t.licenseKey && t.applicationID && f && f.body) {
                        s(h, function (e, n) {
                            e in t || (t[e] = n);
                        }), l.proto = "https" === p.split(":")[0] || t.sslForHttp ? "https://" : "http://", a("mark", ["onload", i()]);var e = f.createElement("script");e.src = l.proto + t.agent, f.body.appendChild(e);
                    }
                }function r() {
                    "complete" === f.readyState && o();
                }function o() {
                    a("mark", ["domContent", i()]);
                }function i() {
                    return new Date().getTime();
                }var a = t("handle"),
                    s = t(1),
                    c = window,
                    f = c.document,
                    u = "addEventListener",
                    d = "attachEvent",
                    p = ("" + location).split("?")[0],
                    h = { beacon: "bam.nr-data.net", errorBeacon: "bam.nr-data.net", agent: "js-agent.newrelic.com/nr-515.min.js" },
                    l = e.exports = { offset: i(), origin: p, features: {} };f[u] ? (f[u]("DOMContentLoaded", o, !1), c[u]("load", n, !1)) : (f[d]("onreadystatechange", r), c[d]("onload", n)), a("mark", ["firstbyte", i()]);
            }, { 1: 20, handle: "D5DuLP" }], 20: [function (t, e) {
                function n(t, e) {
                    var n = [],
                        o = "",
                        i = 0;for (o in t) r.call(t, o) && (n[i] = e(o, t[o]), i += 1);return n;
                }var r = Object.prototype.hasOwnProperty;e.exports = n;
            }, {}], 21: [function (t, e) {
                function n(t, e, n) {
                    e || (e = 0), "undefined" == typeof n && (n = t ? t.length : 0);for (var r = -1, o = n - e || 0, i = Array(0 > o ? 0 : o); ++r < o;) i[r] = t[e + r];return i;
                }e.exports = n;
            }, {}], 22: [function (t, e) {
                function n(t) {
                    return !(t && "function" == typeof t && t.apply && !t[i]);
                }var r = t("ee"),
                    o = t(1),
                    i = "nr@wrapper",
                    a = Object.prototype.hasOwnProperty;e.exports = function (t) {
                    function e(t, e, r, a) {
                        function nrWrapper() {
                            var n, i, s, f;try {
                                i = this, n = o(arguments), s = r && r(n, i) || {};
                            } catch (d) {
                                u([d, "", [n, i, a], s]);
                            }c(e + "start", [n, i, a], s);try {
                                return f = t.apply(i, n);
                            } catch (p) {
                                throw (c(e + "err", [n, i, p], s), p);
                            } finally {
                                c(e + "end", [n, i, f], s);
                            }
                        }return n(t) ? t : (e || (e = ""), nrWrapper[i] = !0, f(t, nrWrapper), nrWrapper);
                    }function s(t, r, o, i) {
                        o || (o = "");var a,
                            s,
                            c,
                            f = "-" === o.charAt(0);for (c = 0; c < r.length; c++) s = r[c], a = t[s], n(a) || (t[s] = e(a, f ? s + o : o, i, s, t));
                    }function c(e, n, r) {
                        try {
                            t.emit(e, n, r);
                        } catch (o) {
                            u([o, e, n, r]);
                        }
                    }function f(t, e) {
                        if (Object.defineProperty && Object.keys) try {
                            var n = Object.keys(t);return (n.forEach(function (n) {
                                Object.defineProperty(e, n, { get: function get() {
                                        return t[n];
                                    }, set: function set(e) {
                                        return (t[n] = e, e);
                                    } });
                            }), e);
                        } catch (r) {
                            u([r]);
                        }for (var o in t) a.call(t, o) && (e[o] = t[o]);return e;
                    }function u(e) {
                        try {
                            t.emit("internal-error", e);
                        } catch (n) {}
                    }return (t || (t = r), e.inPlace = s, e.flag = i, e);
                };
            }, { 1: 21, ee: "QJf3ax" }] }, {}, ["G9z0Bl", 3, 10, 4]));
        ;NREUM.info = { beacon: "bam.nr-data.net", errorBeacon: "bam.nr-data.net", licenseKey: licenseKey, applicationID: appId, sa: 1, agent: "js-agent.newrelic.com/nr-515.min.js" };
    }
};

module.exports = newRelic;

},{}],33:[function(require,module,exports){
'use strict';

var rayGun = function rayGun(config) {
    var apiKey;
    if (config == null) {
        config = {};
    }
    apiKey = config.RAYGUN_API_KEY;
    if (apiKey && window.location.hostname !== 'localhost') {
        if (Raygun != null) {
            Raygun.init(apiKey, {
                ignore3rdPartyErrors: true
            }).attach();
        }
        return Raygun != null ? Raygun.filterSensitiveData(['password']) : void 0;
    }
};

module.exports = rayGun;

},{}],34:[function(require,module,exports){
'use strict';

var userSnap = function userSnap(config) {
    var apiKey = '032baf87-8545-4ebc-a557-934859371fa5.js',
        s,
        x;
    if (config == null) {
        config = {};
    }
    apiKey = config.USER_SNAP_API_KEY;
    if (apiKey && window.location.hostname !== 'localhost') {
        window.usersnapconfig = {
            mode: 'report',
            shortcut: true,
            beforeOpen: function beforeOpen(obj) {
                return UserSnap.setEmailBox(Doc.app.user.userName);
            }
        };
        s = document.createElement('script');
        s.type = 'text/javascript';
        s.async = true;
        s.src = '//api.usersnap.com/load/' + apiKey + '.js';
        x = document.getElementsByTagName('head')[0];
        return x.appendChild(s);
    }
};

module.exports = userSnap;

},{}],35:[function(require,module,exports){
var riot = require('riot');
riot.tag('page-actions', '<div class="page-actions"> <div class="btn-group"> <button type="button" class="btn red-haze btn-sm dropdown-toggle" data-toggle="dropdown" data-hover="dropdown" data-close-others="true"> <span class="hidden-sm hidden-xs">Actions&nbsp;</span><i class="fa fa-angle-down"></i> </button> <ul class="dropdown-menu" role="menu"> <li class="start active "> <a href="javascript:;"> <i class="fa fa-pencil-square-o"> New Map </i> </a> </li> <li> <a href="javascript:;"> <i class="fa fa-print"> Export/Print </i> </a> </li> <li> <a href="javascript:;"> <i class="fa fa-tag"> Tag Map </i> </a> </li> <li> <a href="javascript:;"> <i class="fa fa-copy"></i> Duplicate Map </a> </li> <li> <a href="javascript:;"> <i class="fa fa-users"></i> Share Map </a> </li> <li class="divider"> </li> <li> <a href="javascript:;"> <i class="fa fa-gear"></i> Settings </a> </li> </ul> </div> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Page Title </span> </div>', function(opts) {
});
},{"riot":"riot"}],36:[function(require,module,exports){
var riot = require('riot');
riot.tag('page-body', '<div class="page-header-fixed page-sidebar-closed-hide-logo page-sidebar-closed-hide-logo"> <page-header></page-header> <div class="clearfix"> </div> <page-container></page-container> <page-footer></page-footer> </div>', function(opts) {
});
},{"riot":"riot"}],37:[function(require,module,exports){
var riot = require('riot');
riot.tag('page-container', '<div class="page-container"> <page-sidebar></page-sidebar> <page-content></page-content> </div>', function(opts) {
});
},{"riot":"riot"}],38:[function(require,module,exports){
var riot = require('riot');
riot.tag('page-content', '<div class="page-content-wrapper"> <div class="page-content"> <div class="page-head"> <div class="map-editor ng-scope" id="app-container" ng-controller="MapEditorCtrl"> <div id="map-menu-bar"> <ul class="map-actions"> <li> <a href="#" ng-click="map.getUi().editOptions()" ng-disabled="!canEdit">Options</a> </li> <li> <a href="#" ng-click="map.getUi().editUserTags()" ng-disabled="!canEdit">Tag</a> </li> <li> <a href="#" ng-click="map.getUi().editMapShares()" ng-disabled="!canEdit">Share</a> </li> <li ng-show="!map.getUi().currentTabIs(map.getUi().TAB_ID_PRESENTER)" class=""> <a href="#" ng-click="map.getUi().exportToImage(map.EXPORT_FORMAT_PNG)">Export</a> </li> <li class="presenter-link"> <button ng-click="map.getUi().toggleTab(map.getUi().TAB_ID_PRESENTER)" ng-show="canEdit &amp;&amp; !map.getPresenter().isPresenting" title="Edit Presentation" type="button" class="">Present</button> <button ng-click="map.getPresenter().playSlide(1)" ng-disabled="map.getUi().disableTab(map.getUi().TAB_ID_PRESENTER) || map.getPresenter().getSlideNodeDatas().length == 0" ng-show="!canEdit &amp;&amp; !map.getUi().currentTabIs(map.getUi().TAB_ID_PRESENTER)" title="View Presentation" type="button" class="ng-hide" disabled="disabled">Present</button> </li> <li> <form action="http://www.cabreraresearch.org/maps/5549/save_copy" id="save-copy-form" method="POST" target="_blank" class="ng-pristine ng-valid"> <input id="save-copy" type="submit" value="Duplicate"> </form> </li> <li> <a href="/maps/new" target="_blank">New</a> </li> </ul> <span id="map-title-display" ng-click="maybeStartEditingTitle()" ng-show="!editingTitle" popover="Click to edit title" popover-placement="right" popover-trigger="mouseenter" class="ng-scope ng-binding">Untitled Map</span> <input id="map-title-edit" ng-blur="doneEditingTitle()" ng-keypress="editingTitleKeypress($event)" ng-model="mapTitle" ng-show="editingTitle" type="text" class="ng-pristine ng-valid ng-hide"> <span id="map-edit-status" popover="Every change you make is automatically saved." popover-placement="right" popover-trigger="mouseenter" class="ng-scope ng-binding" data-skip="true">Last updated a few seconds ago </span> </div> <div id="main-toolbar" ng-show="!map.getPresenter().isPresenting" class=""> <div ng-show="!map.getUi().currentTabIs(map.getUi().TAB_ID_PRESENTER)" class=""> <div class="toolbar-section-basic toolbar-section"> <div class="toolbar"> <div class="tooltip-wrapper" data-placement="bottom" data-toggle="tooltip" title="Copy"> <button class="btn" ng-click="map.getDiagram().commandHandler.copySelection()" ng-disabled="!canEdit || !map.getDiagram().commandHandler.canCopySelection()" type="button" disabled="disabled"> <i class="icon icon-copy"></i> </button> </div> <div class="tooltip-wrapper" data-placement="bottom" data-toggle="tooltip" title="Paste"> <button class="btn" ng-click="map.getDiagram().commandHandler.pasteSelection()" ng-disabled="!map.getDiagram().commandHandler.canPasteSelection()" type="button" disabled="disabled"> <i class="icon icon-paste"></i> </button> </div> <div class="tooltip-wrapper" data-placement="bottom" data-toggle="tooltip" title="Delete"> <button class="btn" ng-click="map.getDiagram().commandHandler.deleteSelection()" ng-disabled="!map.getDiagram().commandHandler.canDeleteSelection()" type="button" disabled="disabled"> <i class="icon icon-delete"></i> </button> </div> <div class="tooltip-wrapper" data-placement="bottom" data-toggle="tooltip" title="Undo"> <button class="btn" ng-click="map.undo()" ng-disabled="!map.canUndo()" type="button" disabled="disabled"> <i class="icon icon-undo"></i> </button> </div> <div class="tooltip-wrapper" data-placement="bottom" data-toggle="tooltip" title="Redo"> <button class="btn" ng-click="map.redo()" ng-disabled="!map.canRedo()" type="button" disabled="disabled"> <i class="icon icon-redo"></i> </button> </div> </div> </div> <div class="toolbar-section-navigation toolbar-section"> <div class="toolbar"> <div class="tooltip-wrapper" data-placement="bottom" data-toggle="tooltip" title="Reset zoom"> <button class="btn" ng-click="map.getUi().resetZoom()" type="button"> <i class="icon icon-zoom-reset"></i> </button> </div> <div class="tooltip-wrapper" data-placement="bottom" data-toggle="tooltip" title="Zoom to region"> <button class="btn" ng-click="map.getUi().toggleZoomingToRegion()" type="button"> <i class="icon icon-zoom-to-region"></i> </button> </div> <div class="tooltip-wrapper" data-placement="bottom" data-toggle="tooltip" title="Zoom out"> <button class="btn" ng-click="map.getUi().zoomOut()" ng-disabled="!map.getUi().canZoomOut()" type="button"> <i class="icon icon-zoomout"></i> </button> </div> <div class="tooltip-wrapper" data-placement="bottom" data-toggle="tooltip" title="Zoom in"> <button class="btn" ng-click="map.getUi().zoomIn()" ng-disabled="!map.getUi().canZoomIn()" type="button"> <i class="icon icon-zoomin"></i> </button> </div> </div> </div> <div class="toolbar-section-thing-options toolbar-section"> <div class="toolbar"> <div class="menu-part-layout btn-group toggle-menu"> <div class="tooltip-wrapper" data-placement="right" data-toggle="tooltip" title="Part Layout"> <button class="btn dropdown-toggle" ng-disabled="!canEdit" type="button"> <i class="icon icon-left" ng-class="\'icon-\' + map.getUi().getSelectedThingsOrDefaultLayout()"></i> </button> </div> <ul class="dropdown-menu"> <li> <div class="tooltip-wrapper" data-placement="right" data-toggle="tooltip" title="Left Outline Layout"> <button class="btn" ng-class="classIf(\'active\', map.getSelectedThingsLayout() == \'left\')" ng-click="map.getUi().setSelectedThingsLayout(\'left\')" ng-disabled="!canEdit || map.getLayouts().disableLayoutForSelectedThings(\'left\')" type="button" disabled="disabled"> <i class="icon icon-left"></i> </button> </div> </li> <li> <div class="tooltip-wrapper" data-placement="right" data-toggle="tooltip" title="Right Outline Layout"> <button class="btn" ng-class="classIf(\'active\', map.getSelectedThingsLayout() == \'right\')" ng-click="map.getUi().setSelectedThingsLayout(\'right\')" ng-disabled="!canEdit || map.getLayouts().disableLayoutForSelectedThings(\'right\')" type="button" disabled="disabled"> <i class="icon icon-right"></i> </button> </div> </li> <li> <div class="tooltip-wrapper" data-placement="right" data-toggle="tooltip" title="Stacked Layout"> <button class="btn" ng-class="classIf(\'active\', map.getSelectedThingsLayout() == \'stacked\')" ng-click="map.getUi().setSelectedThingsLayout(\'stacked\')" ng-disabled="!canEdit || map.getLayouts().disableLayoutForSelectedThings(\'stacked\')" type="button" disabled="disabled"> <i class="icon icon-stacked"></i> </button> </div> </li> <li> <div class="tooltip-wrapper" data-placement="right" data-toggle="tooltip" title="Freehand Layout"> <button class="btn" ng-class="classIf(\'active\', map.getSelectedThingsLayout() == \'freehand\')" ng-click="map.getUi().setSelectedThingsLayout(\'freehand\')" ng-disabled="!canEdit || map.getLayouts().disableLayoutForSelectedThings(\'freehand\')" type="button" disabled="disabled"> <i class="icon icon-freehand"></i> </button> </div> </li> </ul> </div> <div class="menu-r-type btn-group toggle-menu"> <div class="tooltip-wrapper" data-placement="right" data-toggle="tooltip" title="Relationship Type"> <button class="btn dropdown-toggle" ng-disabled="!canEdit" type="button"> <i class="icon icon-arrow-noArrows" ng-class="\'icon-arrow-\' + map.getUi().getSelectedRelationshipsOrDefaultDirection()"></i> </button> </div> <ul class="dropdown-menu"> <li> <div class="tooltip-wrapper" data-placement="right" data-toggle="tooltip" title="No Arrows"> <button class="btn" ng-class="classIf(\'active\', map.getUi().getSelectedRelationshipsDirection() == \'noArrows\')" ng-click="map.getUi().setSelectedRelationshipsDirection(\'noArrows\')" ng-disabled="!canEdit || !map.relationshipsSelected()" type="button" disabled="disabled"> <i class="icon icon-arrow-noArrows"></i> </button> </div> </li> <li> <div class="tooltip-wrapper" data-placement="right" data-toggle="tooltip" title="To"> <button class="btn" ng-class="classIf(\'active\', map.getUi().getSelectedRelationshipsDirection() == \'to\')" ng-click="map.getUi().setSelectedRelationshipsDirection(\'to\')" ng-disabled="!canEdit || !map.relationshipsSelected()" type="button" disabled="disabled"> <i class="icon icon-arrow-to"></i> </button> </div> </li> <li> <div class="tooltip-wrapper" data-placement="right" data-toggle="tooltip" title="From"> <button class="btn" ng-class="classIf(\'active\', map.getUi().getSelectedRelationshipsDirection() == \'from\')" ng-click="map.getUi().setSelectedRelationshipsDirection(\'from\')" ng-disabled="!canEdit || !map.relationshipsSelected()" type="button" disabled="disabled"> <i class="icon icon-arrow-from"></i> </button> </div> </li> <li> <div class="tooltip-wrapper" data-placement="right" data-toggle="tooltip" title="To/From"> <button class="btn" ng-class="classIf(\'active\', map.getUi().getSelectedRelationshipsDirection() == \'toFrom\')" ng-click="map.getUi().setSelectedRelationshipsDirection(\'toFrom\')" ng-disabled="!canEdit || !map.relationshipsSelected()" type="button" disabled="disabled"> <i class="icon icon-arrow-toFrom"></i> </button> </div> </li> </ul> </div> <div class="tooltip-wrapper" data-placement="bottom" data-toggle="tooltip" title="Attachments"> <button class="btn" ng-class="classIf(\'active\', map.getUi().currentTabIs(map.getUi().TAB_ID_ATTACHMENTS))" ng-click="map.getUi().toggleTab(map.getUi().TAB_ID_ATTACHMENTS)" ng-disabled="!map.thingSelected() || map.disableTab(map.getUi().TAB_ID_ATTACHMENTS)" type="button" disabled="disabled"> <i class="icon icon-attachments"></i> </button> </div> </div> </div> <div class="toolbar-section-think-better toolbar-section"> <div class="toolbar"> <div class="tooltip-wrapper" data-placement="bottom" data-toggle="tooltip" title="Idea Analytics"> <button class="btn" ng-class="classIf(\'active\', map.getUi().currentTabIs(map.getUi().TAB_ID_ANALYTICS_THING))" ng-click="map.getUi().toggleTab(map.getUi().TAB_ID_ANALYTICS_THING)" ng-disabled="map.getUi().disableTab(map.getUi().TAB_ID_ANALYTICS_THING)" type="button"> <i class="icon icon-analytics-thing"></i> </button> </div> <div class="tooltip-wrapper" data-placement="bottom" data-toggle="tooltip" title="Map Analytics"> <button class="btn" ng-class="classIf(\'active\', map.getUi().currentTabIs(map.getUi().TAB_ID_ANALYTICS_MAP))" ng-click="map.getUi().toggleTab(map.getUi().TAB_ID_ANALYTICS_MAP)" ng-disabled="map.getUi().disableTab(map.getUi().TAB_ID_ANALYTICS_MAP)" type="button"> <i class="icon icon-analytics-map"></i> </button> </div> </div> <div class="toolbar"> <div class="tooltip-wrapper" data-placement="bottom" data-toggle="tooltip" title="ThinkQuery"> <button class="btn" ng-class="classIf(\'active\', map.getUi().currentTabIs(map.getUi().TAB_ID_GENERATOR))" ng-click="map.getUi().toggleTab(map.getUi().TAB_ID_GENERATOR)" ng-disabled="!canEdit || map.getUi().disableTab(map.getUi().TAB_ID_GENERATOR)" type="button"> <i class="icon icon-generator"></i> </button> </div> <div class="tooltip-wrapper" data-placement="bottom" data-toggle="tooltip" title="Common Core Standards"> <button class="btn" ng-class="classIf(\'active\', map.getUi().currentTabIs(map.getUi().TAB_ID_STANDARDS))" ng-click="map.getUi().toggleTab(map.getUi().TAB_ID_STANDARDS)" ng-disabled="map.getUi().disableTab(map.getUi().TAB_ID_STANDARDS)" type="button"> <i class="icon icon-standards"></i> </button> </div>  <button class="btn ng-scope" ng-click="toggleShowTests()" ng-if="userIsAdmin" title="TESTS" type="button"> <i class="icon icon-tests"></i> </button>   <button class="btn ng-scope" ng-click="toggleShowModel()" ng-if="userIsAdmin" title="MODEL" type="button"> <i class="icon icon-model"></i> </button>  </div> </div> </div>  <div id="presenter-toolbar-top">   </div>  </div> <div id="diagram"> </div> <div id="generator-tab" ng-controller="GeneratorCtrl" ng-show="map.getUi().currentTabIs(map.getUi().TAB_ID_GENERATOR)" class="ng-scope ng-hide"> <div class="tab-close-button"> <button class="close" ng-click="map.getUi().closeTab(map.getUi().TAB_ID_GENERATOR)" type="button"></button> </div> <h2 class="tab-title ng-scope" tooltip="ThinkQuery is a powerful tool to help you ask better, deeper questions than just Who, What, When, Where, Why. It gives you all the tools you need to ask deeper questions about any topic. Every question can be mapped with the click of a button. And, it\'s as easy as doing a Google search. Enter your ThinkQuery above." tooltip-placement="bottom">ThinkQuery</h2> <div id="inputs"> <input ng-model="concept1" placeholder="Enter any word or concept" type="text" class="ng-pristine ng-valid"> <input ng-model="concept2" placeholder="Optional: Enter any word or concept" type="text" class="ng-pristine ng-valid"> <button class="btn" id="swap" ng-click="swapConcepts()" type="button">Swap</button> <div id="select-prompt" ng-show="sandbox &amp;&amp; (concept1 || concept2)" class="ng-hide">Select a query below...</div> <button class="btn" ng-click="mapIt(selectedQuestion)" ng-disabled="!selectedQuestion" ng-show="!sandbox" type="button" disabled="disabled">Map IT!</button> <button class="btn ng-hide" ng-click="surpriseMe()" ng-show="concept1 || concept2" type="button">Surprise Me!</button> </div> <div id="questions" ng-show="concept1 || concept2" class="ng-hide"> <h4 class="iconD">Distinctions</h4> <div class="question-list"> <div class="question" ng-class="classIf(\'selected\', selectedQuestion == queries.WHAT_IS)" ng-click="selectQuestion(queries.WHAT_IS)"> <div class="question-number">1</div> <div class="generator-text"> What is <div class="concept-echo ng-binding" ng-bind="echoConcept1()">...</div>? </div> </div> <div class="question" ng-class="classIf(\'selected\', selectedQuestion == queries.WHAT_IS_NOT)" ng-click="selectQuestion(queries.WHAT_IS_NOT)"> <div class="question-number">2</div> <div class="generator-text"> What is-not&nbsp;<div class="concept-echo ng-binding" ng-bind="echoConcept1()">...</div>? </div> </div> <div class="question" ng-class="classIf(\'selected\', selectedQuestion == queries.DISTINGUISH_BETWEEN)" ng-click="selectQuestion(queries.DISTINGUISH_BETWEEN)"> <div class="question-number">3</div> <div class="generator-text" data-skip="true"> How would you distinguish between <div class="concept-echo ng-binding" ng-bind="echoConcept1()">...</div> and&nbsp;<div class="concept-echo ng-binding" ng-bind="echoConcept2()">...</div>? </div> </div> <div class="question" ng-class="classIf(\'selected\', selectedQuestion == queries.COMPARE_CONTRAST)" ng-click="selectQuestion(queries.COMPARE_CONTRAST)"> <div class="question-number">4</div> <div class="generator-text" data-skip="true"> Can you compare and contrast <div class="concept-echo ng-binding" ng-bind="echoConcept1()">...</div> and <div class="concept-echo ng-binding" ng-bind="echoConcept2()">...</div>? </div> </div> </div> <h4 class="iconS">Systems</h4> <div class="question-list"> <div class="question" ng-class="classIf(\'selected\', selectedQuestion == queries.PARTS_OF)" ng-click="selectQuestion(queries.PARTS_OF)"> <div class="question-number">5</div> <div class="generator-text" data-skip="true"> What are the parts of <div class="concept-echo ng-binding" ng-bind="echoConcept1()">...</div>? </div> </div> <div class="question" ng-class="classIf(\'selected\', selectedQuestion == queries.PART_OF)" ng-click="selectQuestion(queries.PART_OF)"> <div class="question-number">6</div> <div class="generator-text"> What is <div class="concept-echo ng-binding" ng-bind="echoConcept1()">...</div> a part of? </div> </div> <div class="question" ng-class="classIf(\'selected\', selectedQuestion == queries.PARTS_HAVE_PARTS)" ng-click="selectQuestion(queries.PARTS_HAVE_PARTS)"> <div class="question-number">7</div> <div class="generator-text" data-skip="true"> Can you name some of the parts of the parts of <div class="concept-echo ng-binding" ng-bind="echoConcept1()">...</div> ? </div> </div> <div class="question" ng-class="classIf(\'selected\', selectedQuestion == queries.R_PARTS)" ng-click="selectQuestion(queries.R_PARTS)"> <div class="question-number">8</div> <div class="generator-text" data-skip="true"> What are the parts of the relationship between <div class="concept-echo ng-binding" ng-bind="echoConcept1()">...</div> and <div class="concept-echo ng-binding" ng-bind="echoConcept2()">...</div>? </div> </div> <div class="question" ng-class="classIf(\'selected\', selectedQuestion == queries.P_PARTS)" ng-click="selectQuestion(queries.P_PARTS)"> <div class="question-number">9</div> <div class="generator-text" data-skip="true"> What are the parts of <div class="concept-echo ng-binding" ng-bind="echoConcept1()">...</div> when looked at from the viewpoint of <div class="concept-echo ng-binding" ng-bind="echoConcept2()">...</div>? </div> </div> </div> <h4 class="iconR">Relationships</h4> <div class="question-list"> <div class="question" ng-class="classIf(\'selected\', selectedQuestion == queries.RS_TO_AND_BY)" ng-click="selectQuestion(queries.RS_TO_AND_BY)"> <div class="question-number">10</div> <div class="generator-text" data-skip="true"> What ideas are related <em>to </em><div class="concept-echo ng-binding" ng-bind="echoConcept1()">...</div> and what ideas are related <em>by </em><div class="concept-echo ng-binding" ng-bind="echoConcept1()">...</div>? </div> </div> <div class="question" ng-class="classIf(\'selected\', selectedQuestion == queries.WHAT_IS_R)" ng-click="selectQuestion(queries.WHAT_IS_R)"> <div class="question-number">11</div> <div class="generator-text" data-skip="true"> What idea relates <div class="concept-echo ng-binding" ng-bind="echoConcept1()">...</div> and <div class="concept-echo ng-binding" ng-bind="echoConcept2()">...</div>? </div> </div> <div class="question" ng-class="classIf(\'selected\', selectedQuestion == queries.PART_RS_ARE)" ng-click="selectQuestion(queries.PART_RS_ARE)"> <div class="question-number">12</div> <div class="generator-text" data-skip="true"> How are the parts of <div class="concept-echo ng-binding" ng-bind="echoConcept1()">...</div> related? </div> </div> <div class="question" ng-class="classIf(\'selected\', selectedQuestion == queries.PART_RS_EXIST)" ng-click="selectQuestion(queries.PART_RS_EXIST)"> <div class="question-number">13</div> <div class="generator-text" data-skip="true"> How are the parts of <div class="concept-echo ng-binding" ng-bind="echoConcept1()">...</div> related to the parts of <div class="concept-echo ng-binding" ng-bind="echoConcept2()">...</div>? </div> </div> <div class="question" ng-class="classIf(\'selected\', selectedQuestion == queries.RS_WITH_OTHERS)" ng-click="selectQuestion(queries.RS_WITH_OTHERS)"> <div class="question-number">14</div> <div class="generator-text" data-skip="true"> What are the relationships among <div class="concept-echo ng-binding" ng-bind="echoConcept1()">...</div> and <div class="concept-echo ng-binding" ng-bind="echoConcept2()">...</div> and other things? </div> </div> </div> <h4 class="iconP">Perspectives</h4> <div class="question-list"> <div class="question" ng-class="classIf(\'selected\', selectedQuestion == queries.PARTS_OF_P)" ng-click="selectQuestion(queries.PARTS_OF_P)"> <div class="question-number">15</div> <div class="generator-text" data-skip="true"> What are the parts of the viewpoint <div class="concept-echo ng-binding" ng-bind="echoConcept1()">...</div> when looking at <div class="concept-echo ng-binding" ng-bind="echoConcept2()">...</div>? </div> </div> <div class="question" ng-class="classIf(\'selected\', selectedQuestion == queries.POINT_FOR)" ng-click="selectQuestion(queries.POINT_FOR)"> <div class="question-number">16</div> <div class="generator-text"> How are <div class="concept-echo ng-binding" ng-bind="echoConcept1()">...</div> and <div class="concept-echo ng-binding" ng-bind="echoConcept2()">...</div> related when looking at them from a new perspective? </div> </div> <div class="question" ng-class="classIf(\'selected\', selectedQuestion == queries.HAS_MULTIPLE_PS)" ng-click="selectQuestion(queries.HAS_MULTIPLE_PS)"> <div class="question-number">17</div> <div class="generator-text"> Can you think of <div class="concept-echo ng-binding" ng-bind="echoConcept1()">...</div> from multiple perspectives? </div> </div> <div class="question" ng-class="classIf(\'selected\', selectedQuestion == queries.PARTS_FROM_MULTIPLE_PS)" ng-click="selectQuestion(queries.PARTS_FROM_MULTIPLE_PS)"> <div class="question-number">18</div> <div class="generator-text" data-skip="true"> What are the parts of <div class="concept-echo ng-binding" ng-bind="echoConcept1()">...</div> when looked at from multiple viewpoints? </div> </div> </div> <h4 class="iconD iconS iconR iconP">D + S + R + P</h4> <div class="question-list"> <div class="question" ng-class="classIf(\'selected\', selectedQuestion == queries.WHAT_ABOUT)" ng-click="selectQuestion(queries.WHAT_ABOUT)"> <div class="question-number">19</div> <div class="generator-text" data-skip="true"> Tell me all you know about <div class="concept-echo ng-binding" ng-bind="echoConcept1()">...</div> by DRSP\'ing it? </div> </div> </div> </div> </div> <div id="presenter-tab">     <div class="slide-sidebar ng-hide" ng-show="map.getPresenter().showSidebar()"> <div class="slides-list">  </div> </div>    </div> <div id="navigator"> <div id="overview-diagram" ng-show="map.getUi().state.showNavigator" class="ng-hide" style="position: relative; -webkit-tap-highlight-color: rgba(255, 255, 255, 0);"> <canvas width="278" height="148" tabindex="0" style="position: absolute; top: 0px; left: 0px; z-index: 2; -webkit-user-select: none;" data-skip="true">This text is displayed if your browser does not support the Canvas HTML element.</canvas> <div style="position: absolute; overflow: auto; width: 278px; height: 148px; z-index: 1;"> <div style="position: absolute; width: 1px; height: 1px;"></div> </div> <div style="position: absolute; overflow: auto; width: 278px; height: 148px; z-index: 1;"> <div style="position: absolute; width: 1px; height: 1px;"></div> </div> </div> <div id="zoom-to-region-prompt" ng-show="map.getUi().zoomingToRegion" class="ng-hide"> <h4>Zoom to Region</h4> <p data-skip="true">Click-hold and drag to select the region to zoom to.</p> <button class="btn btn-mini" ng-click="map.getUi().toggleZoomingToRegion()" title="Cancel Zoom to Region" type="button">Cancel</button> </div> </div> <div id="export-image-popup" ng-show="showImageExport" class="ng-hide"> <div class="tab-close-button"> <button class="close" ng-click="showImageExport = false" type="button"></button> </div> <h2>Export Image</h2> <div class="instructions ng-hide" ng-show="!imageExportLoading" data-skip="true">To save an image of this map to your computer, right-click on the image below and select the Save Image command from your browser\'s pop-up menu.</div> <div id="export-image-wrapper"> <div id="export-image"> <div id="loading" ng-show="imageExportLoading" class="">Generating Image...</div> </div> </div> </div> <div id="tests" ng-show="showTests" class="ng-hide"> <h2>Tests</h2>  <div class="test ng-scope" ng-repeat="test in map.getTests().tests"> <span class="test-status not-run ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_NOT_RUN"></span> <span class="test-status passed ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_PASSED"></span> <span class="test-status examine ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_EXAMINE"></span> <span class="test-status failed ng-scope ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_FAILED" popover="" popover-placement="right" popover-trigger="mouseenter"></span> <button ng-click="map.getTests().runTest(test.name)" ng-style="" type="button" class="ng-binding">Reset map</button> <div class="test-instructions ng-binding ng-hide" ng-show="map.getTests().currentTest == test &amp;&amp; test.instructions"></div> </div>  <div class="test ng-scope" ng-repeat="test in map.getTests().tests"> <span class="test-status not-run ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_NOT_RUN"></span> <span class="test-status passed ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_PASSED"></span> <span class="test-status examine ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_EXAMINE"></span> <span class="test-status failed ng-scope ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_FAILED" popover="" popover-placement="right" popover-trigger="mouseenter"></span> <button ng-click="map.getTests().runTest(test.name)" ng-style="" type="button" class="ng-binding">Create Sister</button> <div class="test-instructions ng-binding ng-hide" ng-show="map.getTests().currentTest == test &amp;&amp; test.instructions"></div> </div>  <div class="test ng-scope" ng-repeat="test in map.getTests().tests"> <span class="test-status not-run ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_NOT_RUN"></span> <span class="test-status passed ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_PASSED"></span> <span class="test-status examine ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_EXAMINE"></span> <span class="test-status failed ng-scope ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_FAILED" popover="" popover-placement="right" popover-trigger="mouseenter"></span> <button ng-click="map.getTests().runTest(test.name)" ng-style="" type="button" class="ng-binding">Create R to Sister</button> <div class="test-instructions ng-binding ng-hide" ng-show="map.getTests().currentTest == test &amp;&amp; test.instructions"></div> </div>  <div class="test ng-scope" ng-repeat="test in map.getTests().tests"> <span class="test-status not-run ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_NOT_RUN"></span> <span class="test-status passed ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_PASSED"></span> <span class="test-status examine ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_EXAMINE"></span> <span class="test-status failed ng-scope ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_FAILED" popover="" popover-placement="right" popover-trigger="mouseenter"></span> <button ng-click="map.getTests().runTest(test.name)" ng-style="" type="button" class="ng-binding">Create Child</button> <div class="test-instructions ng-binding ng-hide" ng-show="map.getTests().currentTest == test &amp;&amp; test.instructions"></div> </div>  <div class="test ng-scope" ng-repeat="test in map.getTests().tests"> <span class="test-status not-run ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_NOT_RUN"></span> <span class="test-status passed ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_PASSED"></span> <span class="test-status examine ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_EXAMINE"></span> <span class="test-status failed ng-scope ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_FAILED" popover="" popover-placement="right" popover-trigger="mouseenter"></span> <button ng-click="map.getTests().runTest(test.name)" ng-style="" type="button" class="ng-binding" data-skip="true">Create 3 children and switch to freehand</button> <div class="test-instructions ng-binding ng-hide" ng-show="map.getTests().currentTest == test &amp;&amp; test.instructions"></div> </div>  <div class="test ng-scope" ng-repeat="test in map.getTests().tests"> <span class="test-status not-run ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_NOT_RUN"></span> <span class="test-status passed ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_PASSED"></span> <span class="test-status examine ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_EXAMINE"></span> <span class="test-status failed ng-scope ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_FAILED" popover="" popover-placement="right" popover-trigger="mouseenter"></span> <button ng-click="map.getTests().runTest(test.name)" ng-style="" type="button" class="ng-binding" data-skip="true">Drag RTBB into outline S</button> <div class="test-instructions ng-binding ng-hide" ng-show="map.getTests().currentTest == test &amp;&amp; test.instructions" data-skip="true">Drag the preselected RTBB into Whole (S), then do an Undo</div> </div>  <div class="test ng-scope" ng-repeat="test in map.getTests().tests"> <span class="test-status not-run ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_NOT_RUN"></span> <span class="test-status passed ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_PASSED"></span> <span class="test-status examine ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_EXAMINE"></span> <span class="test-status failed ng-scope ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_FAILED" popover="" popover-placement="right" popover-trigger="mouseenter"></span> <button ng-click="map.getTests().runTest(test.name)" ng-style="" type="button" class="ng-binding" data-skip="true">Drag RTBB into freehand S</button> <div class="test-instructions ng-binding ng-hide" ng-show="map.getTests().currentTest == test &amp;&amp; test.instructions" data-skip="true">Drag the preselected RTBB into Whole (S) and examine layout</div> </div>  <div class="test ng-scope" ng-repeat="test in map.getTests().tests"> <span class="test-status not-run ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_NOT_RUN"></span> <span class="test-status passed ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_PASSED"></span> <span class="test-status examine ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_EXAMINE"></span> <span class="test-status failed ng-scope ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_FAILED" popover="" popover-placement="right" popover-trigger="mouseenter"></span> <button ng-click="map.getTests().runTest(test.name)" ng-style="" type="button" class="ng-binding" data-skip="true">Create RTBB in outline and switch to freehand</button> <div class="test-instructions ng-binding ng-hide" ng-show="map.getTests().currentTest == test &amp;&amp; test.instructions" data-skip="true">Check auto-generated freehand layout of parts</div> </div>  <div class="test ng-scope" ng-repeat="test in map.getTests().tests"> <span class="test-status not-run ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_NOT_RUN"></span> <span class="test-status passed ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_PASSED"></span> <span class="test-status examine ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_EXAMINE"></span> <span class="test-status failed ng-scope ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_FAILED" popover="" popover-placement="right" popover-trigger="mouseenter"></span> <button ng-click="map.getTests().runTest(test.name)" ng-style="" type="button" class="ng-binding" data-skip="true">Drag RTBB out of S</button> <div class="test-instructions ng-binding ng-hide" ng-show="map.getTests().currentTest == test &amp;&amp; test.instructions" data-skip="true">Drag the preselected RTBB onto Whole (D)</div> </div>  <div class="test ng-scope" ng-repeat="test in map.getTests().tests"> <span class="test-status not-run ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_NOT_RUN"></span> <span class="test-status passed ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_PASSED"></span> <span class="test-status examine ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_EXAMINE"></span> <span class="test-status failed ng-scope ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_FAILED" popover="" popover-placement="right" popover-trigger="mouseenter"></span> <button ng-click="map.getTests().runTest(test.name)" ng-style="" type="button" class="ng-binding" data-skip="true">Drag RTBB out of freehand S</button> <div class="test-instructions ng-binding ng-hide" ng-show="map.getTests().currentTest == test &amp;&amp; test.instructions" data-skip="true">Drag the preselected RTBB onto Whole (D)</div> </div>  <div class="test ng-scope" ng-repeat="test in map.getTests().tests"> <span class="test-status not-run ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_NOT_RUN"></span> <span class="test-status passed ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_PASSED"></span> <span class="test-status examine ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_EXAMINE"></span> <span class="test-status failed ng-scope ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_FAILED" popover="" popover-placement="right" popover-trigger="mouseenter"></span> <button ng-click="map.getTests().runTest(test.name)" ng-style="" type="button" class="ng-binding" data-skip="true">Drag RTBB out of 2nd level S</button> <div class="test-instructions ng-binding ng-hide" ng-show="map.getTests().currentTest == test &amp;&amp; test.instructions" data-skip="true">Drag the preselected RTBB onto Whole (D) of Part 1</div> </div>  <div class="test ng-scope" ng-repeat="test in map.getTests().tests"> <span class="test-status not-run ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_NOT_RUN"></span> <span class="test-status passed ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_PASSED"></span> <span class="test-status examine ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_EXAMINE"></span> <span class="test-status failed ng-scope ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_FAILED" popover="" popover-placement="right" popover-trigger="mouseenter"></span> <button ng-click="map.getTests().runTest(test.name)" ng-style="" type="button" class="ng-binding" data-skip="true">Drag RTBB out of 2nd level freehand S</button> <div class="test-instructions ng-binding ng-hide" ng-show="map.getTests().currentTest == test &amp;&amp; test.instructions" data-skip="true">Drag the preselected RTBB onto Whole (D) of Part 1</div> </div>  <div class="test ng-scope" ng-repeat="test in map.getTests().tests"> <span class="test-status not-run ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_NOT_RUN"></span> <span class="test-status passed ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_PASSED"></span> <span class="test-status examine ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_EXAMINE"></span> <span class="test-status failed ng-scope ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_FAILED" popover="" popover-placement="right" popover-trigger="mouseenter"></span> <button ng-click="map.getTests().runTest(test.name)" ng-style="" type="button" class="ng-binding">Rchannel</button> <div class="test-instructions ng-binding ng-hide" ng-show="map.getTests().currentTest == test &amp;&amp; test.instructions" data-skip="true">Note that R-things are in part-whole relation</div> </div>  <div class="test ng-scope" ng-repeat="test in map.getTests().tests"> <span class="test-status not-run ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_NOT_RUN"></span> <span class="test-status passed ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_PASSED"></span> <span class="test-status examine ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_EXAMINE"></span> <span class="test-status failed ng-scope ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_FAILED" popover="" popover-placement="right" popover-trigger="mouseenter"></span> <button ng-click="map.getTests().runTest(test.name)" ng-style="" type="button" class="ng-binding" data-skip="true">Disappearing parts on new idea creation</button> <div class="test-instructions ng-binding ng-hide" ng-show="map.getTests().currentTest == test &amp;&amp; test.instructions" data-skip="true">Create a new top-level idea - Part 1.1 should not disappear temporarily</div> </div>  <div class="test ng-scope" ng-repeat="test in map.getTests().tests"> <span class="test-status not-run ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_NOT_RUN"></span> <span class="test-status passed ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_PASSED"></span> <span class="test-status examine ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_EXAMINE"></span> <span class="test-status failed ng-scope ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_FAILED" popover="" popover-placement="right" popover-trigger="mouseenter"></span> <button ng-click="map.getTests().runTest(test.name)" ng-style="" type="button" class="ng-binding" data-skip="true">Drag top-level thing into freehand system</button> <div class="test-instructions ng-binding ng-hide" ng-show="map.getTests().currentTest == test &amp;&amp; test.instructions" data-skip="true">Drag New Part into Whole; examine resulting part layout</div> </div>  <div class="test ng-scope" ng-repeat="test in map.getTests().tests"> <span class="test-status not-run ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_NOT_RUN"></span> <span class="test-status passed ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_PASSED"></span> <span class="test-status examine ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_EXAMINE"></span> <span class="test-status failed ng-scope ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_FAILED" popover="" popover-placement="right" popover-trigger="mouseenter"></span> <button ng-click="map.getTests().runTest(test.name)" ng-style="" type="button" class="ng-binding" data-skip="true">Drag top-level RTBB into freehand system</button> <div class="test-instructions ng-binding ng-hide" ng-show="map.getTests().currentTest == test &amp;&amp; test.instructions" data-skip="true">Drag preselected RTBB into Whole; examine resulting part layout</div> </div>  <div class="test ng-scope" ng-repeat="test in map.getTests().tests"> <span class="test-status not-run ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_NOT_RUN"></span> <span class="test-status passed ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_PASSED"></span> <span class="test-status examine ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_EXAMINE"></span> <span class="test-status failed ng-scope ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_FAILED" popover="" popover-placement="right" popover-trigger="mouseenter"></span> <button ng-click="map.getTests().runTest(test.name)" ng-style="" type="button" class="ng-binding" data-skip="true">Drag R-thing square into freehand system</button> <div class="test-instructions ng-binding ng-hide" ng-show="map.getTests().currentTest == test &amp;&amp; test.instructions" data-skip="true">Drag preselected square into Whole; examine resulting part layout</div> </div>  <div class="test ng-scope" ng-repeat="test in map.getTests().tests"> <span class="test-status not-run ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_NOT_RUN"></span> <span class="test-status passed ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_PASSED"></span> <span class="test-status examine ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_EXAMINE"></span> <span class="test-status failed ng-scope ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_FAILED" popover="" popover-placement="right" popover-trigger="mouseenter"></span> <button ng-click="map.getTests().runTest(test.name)" ng-style="" type="button" class="ng-binding" data-skip="true">Drag R-thing square out of freehand system</button> <div class="test-instructions ng-binding ng-hide" ng-show="map.getTests().currentTest == test &amp;&amp; test.instructions" data-skip="true">Drag preselected square onto D of Whole; examine resulting layout</div> </div>  <div class="test ng-scope" ng-repeat="test in map.getTests().tests"> <span class="test-status not-run ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_NOT_RUN"></span> <span class="test-status passed ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_PASSED"></span> <span class="test-status examine ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_EXAMINE"></span> <span class="test-status failed ng-scope ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_FAILED" popover="" popover-placement="right" popover-trigger="mouseenter"></span> <button ng-click="map.getTests().runTest(test.name)" ng-style="" type="button" class="ng-binding" data-skip="true">Drag 2nd level part to D of parent</button> <div class="test-instructions ng-binding ng-hide" ng-show="map.getTests().currentTest == test &amp;&amp; test.instructions" data-skip="true">Drag Subpart 1.1 onto D of Part 1; it should appear below Part 1</div> </div>  <div class="test ng-scope" ng-repeat="test in map.getTests().tests"> <span class="test-status not-run ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_NOT_RUN"></span> <span class="test-status passed ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_PASSED"></span> <span class="test-status examine ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_EXAMINE"></span> <span class="test-status failed ng-scope ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_FAILED" popover="" popover-placement="right" popover-trigger="mouseenter"></span> <button ng-click="map.getTests().runTest(test.name)" ng-style="" type="button" class="ng-binding" data-skip="true">Invisible R-thing in 2nd level of outline</button> <div class="test-instructions ng-binding ng-hide" ng-show="map.getTests().currentTest == test &amp;&amp; test.instructions" data-skip="true">R-thing between Subparts 1.1 and 1.2 should be visible</div> </div>  <div class="test ng-scope" ng-repeat="test in map.getTests().tests"> <span class="test-status not-run ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_NOT_RUN"></span> <span class="test-status passed ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_PASSED"></span> <span class="test-status examine ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_EXAMINE"></span> <span class="test-status failed ng-scope ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_FAILED" popover="" popover-placement="right" popover-trigger="mouseenter"></span> <button ng-click="map.getTests().runTest(test.name)" ng-style="" type="button" class="ng-binding" data-skip="true">R-thing between ideas in same location (error)</button> <div class="test-instructions ng-binding ng-hide" ng-show="map.getTests().currentTest == test &amp;&amp; test.instructions" data-skip="true">This should trigger an error</div> </div>  <div class="test ng-scope" ng-repeat="test in map.getTests().tests"> <span class="test-status not-run ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_NOT_RUN"></span> <span class="test-status passed ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_PASSED"></span> <span class="test-status examine ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_EXAMINE"></span> <span class="test-status failed ng-scope ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_FAILED" popover="" popover-placement="right" popover-trigger="mouseenter"></span> <button ng-click="map.getTests().runTest(test.name)" ng-style="" type="button" class="ng-binding">Drag to create R-line</button> <div class="test-instructions ng-binding ng-hide" ng-show="map.getTests().currentTest == test &amp;&amp; test.instructions" data-skip="true">Drag from the R-corner of Thing1 to Thing2; temporary drag line and square should be R-color; created line should be an R-line</div> </div>  <div class="test ng-scope" ng-repeat="test in map.getTests().tests"> <span class="test-status not-run ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_NOT_RUN"></span> <span class="test-status passed ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_PASSED"></span> <span class="test-status examine ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_EXAMINE"></span> <span class="test-status failed ng-scope ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_FAILED" popover="" popover-placement="right" popover-trigger="mouseenter"></span> <button ng-click="map.getTests().runTest(test.name)" ng-style="" type="button" class="ng-binding">Drag to create P-line</button> <div class="test-instructions ng-binding ng-hide" ng-show="map.getTests().currentTest == test &amp;&amp; test.instructions" data-skip="true">Drag from the P-corner of Thing1 to Thing2; temporary drag line and square should be P-color; created line should be a P-line</div> </div>  <div class="test ng-scope" ng-repeat="test in map.getTests().tests"> <span class="test-status not-run ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_NOT_RUN"></span> <span class="test-status passed ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_PASSED"></span> <span class="test-status examine ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_EXAMINE"></span> <span class="test-status failed ng-scope ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_FAILED" popover="" popover-placement="right" popover-trigger="mouseenter"></span> <button ng-click="map.getTests().runTest(test.name)" ng-style="" type="button" class="ng-binding">Relink from-port of R-line</button> <div class="test-instructions ng-binding ng-hide" ng-show="map.getTests().currentTest == test &amp;&amp; test.instructions" data-skip="true">Move the start of the R-link from Thing 1 to Thing 3; make sure it does not turn into a P-link</div> </div>  <div class="test ng-scope" ng-repeat="test in map.getTests().tests"> <span class="test-status not-run ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_NOT_RUN"></span> <span class="test-status passed ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_PASSED"></span> <span class="test-status examine ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_EXAMINE"></span> <span class="test-status failed ng-scope ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_FAILED" popover="" popover-placement="right" popover-trigger="mouseenter"></span> <button ng-click="map.getTests().runTest(test.name)" ng-style="" type="button" class="ng-binding">Relink to-port of R-line</button> <div class="test-instructions ng-binding ng-hide" ng-show="map.getTests().currentTest == test &amp;&amp; test.instructions" data-skip="true">Move the end of the R-link from Thing 2 to Thing 3; make sure it does not turn into a P-link</div> </div>  <div class="test ng-scope" ng-repeat="test in map.getTests().tests"> <span class="test-status not-run ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_NOT_RUN"></span> <span class="test-status passed ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_PASSED"></span> <span class="test-status examine ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_EXAMINE"></span> <span class="test-status failed ng-scope ng-hide" ng-show="test.status == map.getTests().TEST_STATUS_FAILED" popover="" popover-placement="right" popover-trigger="mouseenter"></span> <button ng-click="map.getTests().runTest(test.name)" ng-style="" type="button" class="ng-binding" data-skip="true">Showing parts of parts of a freehand whole</button> <div class="test-instructions ng-binding ng-hide" ng-show="map.getTests().currentTest == test &amp;&amp; test.instructions" data-skip="true">Whole, Part 1 and Subpart 1.1 should all be visible</div> </div>  </div> <div id="model-debug" ng-show="showModel" class="ng-hide"> <strong>Model</strong> <button ng-click="map.loadModel()" type="button">Capture</button> <button ng-click="map.saveModel()" type="button">Render</button> <br> <textarea id="map-model-debug"></textarea> </div> <div id="help-tip" ng-show="map.getUi().helpTip != null" class="ng-hide"> <div class="iconHelp ng-hide" id="help-canvasTip" ng-show="map.getUi().helpTip == \'canvasTip\'" data-skip="true"> <strong>Canvas: </strong>Double-click to create a new idea  Mouse over an idea to reveal basic functions. </div> <div class="iconHelp ng-hide" id="help-thingTip" ng-show="map.getUi().helpTip == \'thingTip\'" data-skip="true"> <strong>Idea: </strong>To edit text, double-click on the label  To see more help tips, click on any colored corner. </div> <div class="iconHelp ng-hide" id="help-relationshipTip" ng-show="map.getUi().helpTip == \'relationshipTip\'" data-skip="true"> <strong>Relationship line: </strong>Double-click to add a new idea to the relationship  Use the toolbar to add arrows. </div> <div class="iconD ng-hide" id="help-cornerDTip" ng-show="map.getUi().helpTip == \'cornerDTip\'" data-skip="true"> <strong>Red corner (D): </strong>Double-click to create a new idea  Right-click to mark with a distinction flag. </div> <div class="iconS ng-hide" id="help-cornerSTip" ng-show="map.getUi().helpTip == \'cornerSTip\'" data-skip="true"> <strong>Green corner (S): </strong>Double-click to add a part  Single-click to show/hide parts. </div> <div class="iconR ng-hide" id="help-cornerRTip" ng-show="map.getUi().helpTip == \'cornerRTip\'" data-skip="true"> <strong>Blue corner (R): </strong>Double-click to create a new related idea  Drag to relate to an existing idea. </div> <div class="iconP ng-hide" id="help-cornerPTip" ng-show="map.getUi().helpTip == \'cornerPTip\'" data-skip="true"> <strong>Orange corner (P): </strong>Drag to create a perspective  Double-click to open Perspective Editor. </div> </div> <div id="tutorial"> <div class="cover"></div> <div id="tutorial-box"> </div> </div> <div id="attachments-tab" ng-show="map.getUi().currentTabIs(map.getUi().TAB_ID_ATTACHMENTS)" class="ng-hide">  <div class="tab-close-button"> <button type="button" class="close" ng-click="map.getUi().closeTab(map.getUi().TAB_ID_ATTACHMENTS)"></button> </div> <h2 class="tab-title">Attachments</h2>  <div class="attachment-list ng-scope attachments-type-note" ng-repeat="type in map.getAttachments().attachmentTypes" ng-class="\'attachments-type-\' + type.name"> <h4 class="ng-binding">Notes</h4> <div class="item-actions">  <button type="button" class="btn btn-mini add-item" ng-click="map.getAttachments().addAttachment(type.name)" ng-disabled="!canEdit || map.getAttachments().editingAnItem()"> Add Item </button> </div> <div class="item-list"> <ul>  </ul> </div> </div>  <div class="attachment-list ng-scope attachments-type-link" ng-repeat="type in map.getAttachments().attachmentTypes" ng-class="\'attachments-type-\' + type.name"> <h4 class="ng-binding">Web Links</h4> <div class="item-actions">  <button type="button" class="btn btn-mini add-item" ng-click="map.getAttachments().addAttachment(type.name)" ng-disabled="!canEdit || map.getAttachments().editingAnItem()"> Add Item </button> </div> <div class="item-list"> <ul>  </ul> </div> </div>  <div class="attachment-list ng-scope attachments-type-task" ng-repeat="type in map.getAttachments().attachmentTypes" ng-class="\'attachments-type-\' + type.name"> <h4 class="ng-binding">Tasks</h4> <div class="item-actions">  <button type="button" class="btn btn-mini add-item" ng-click="map.getAttachments().addAttachment(type.name)" ng-disabled="!canEdit || map.getAttachments().editingAnItem()"> Add Item </button> </div> <div class="item-list"> <ul>  </ul> </div> </div>  <div class="attachment-list ng-scope attachments-type-map" ng-repeat="type in map.getAttachments().attachmentTypes" ng-class="\'attachments-type-\' + type.name"> <h4 class="ng-binding">Linked MetaMaps</h4> <div class="item-actions">  <button type="button" class="btn btn-mini add-item" ng-click="map.getAttachments().addAttachment(type.name)" ng-disabled="!canEdit || map.getAttachments().editingAnItem()"> Add Item </button> </div> <div class="item-list"> <ul>  </ul> </div> </div>  </div> <div id="editor-footer">  <div id="analytics-tab-map" class="bottom-tab analytics-tab" ng-class="classIf(\'expanded\', map.getUi().currentTabIs(map.getUi().TAB_ID_ANALYTICS_MAP))"> <div class="bottom-tab-inner">  <div class="tab-close-button"> <button type="button" class="close" ng-click="map.getUi().closeTab(map.getUi().TAB_ID_ANALYTICS_MAP)"></button> </div>  <div> <div class="analytics-big-analytics"> <div class="analytics-subject-wrapper">   <div id="analytics-big-analytics-map"></div> <div id="analytics-big-analytics-arrow"></div> <div class="analytics-map-analytics-intro">In this MetaMap...</div>  </div>  <div class="big-analytic-wrapper"> <a href="#" class="analytic-popover popover-top ng-scope" popover-trigger="mouseenter" popover-placement="top" popover="Note how many distinctly different ideas you\'ve created."> <div class="big-analytic iconD"> <div class="big-analytic-prefix"> You made </div> <span class="big-analytic-value ng-binding"> </span> <div class="big-analytic-suffix"> <ng-pluralize count="map.getAnalytics().mapAnalytics.COUNT_THINGS" when="{\'one\': \'idea!\', \'other\': \'ideas!\'}"></ng-pluralize> </div> </div> </a> </div>  <div class="big-analytic-wrapper"> <a href="#" class="analytic-popover popover-top ng-scope" popover-trigger="mouseenter" popover-placement="top" popover="Breaking your ideas into parts helps you to understand them better."> <div class="big-analytic iconD iconS"> <div class="big-analytic-prefix"> You made </div> <span class="big-analytic-value ng-binding"> </span> <div class="big-analytic-suffix"> <ng-pluralize count="map.getAnalytics().mapAnalytics.COUNT_SYSTEMS" when="{\'one\': \'idea into a system!\', \'other\': \'ideas into systems!\'}"></ng-pluralize> </div> </div> </a> </div>  <div class="big-analytic-wrapper"> <a href="#" class="analytic-popover popover-top ng-scope" popover-trigger="mouseenter" popover-placement="top" popover="See how many ideas you\'ve related on your map."> <div class="big-analytic iconR"> <div class="big-analytic-prefix"> You made </div> <span class="big-analytic-value ng-binding"> </span> <div class="big-analytic-suffix"> <ng-pluralize count="map.getAnalytics().mapAnalytics.COUNT_RELATIONSHIPS" when="{\'one\': \'relationship!\', \'other\': \'relationships!\'}"></ng-pluralize> </div> </div> </a> </div>  <div class="big-analytic-wrapper"> <a href="#" class="analytic-popover popover-top ng-scope" popover-trigger="mouseenter" popover-placement="top" popover="Any idea can also be a viewpoint on other ideas."> <div class="big-analytic iconD iconP"> <div class="big-analytic-prefix"> You made </div> <span class="big-analytic-value ng-binding"> </span> <div class="big-analytic-suffix"> <ng-pluralize count="map.getAnalytics().mapAnalytics.COUNT_PERSPECTIVES" when="{\'one\': \'idea into a viewpoint!\', \'other\': \'ideas into viewpoints!\'}"></ng-pluralize> </div> </div> </a> </div>  <div class="big-analytic-wrapper"> <a href="#" class="analytic-popover popover-top ng-scope" popover-trigger="mouseenter" popover-placement="top" popover="Every relationship can also be a new idea."> <div class="big-analytic iconD iconR"> <div class="big-analytic-prefix"> You made </div> <span class="big-analytic-value ng-binding"> </span> <div class="big-analytic-suffix"> <ng-pluralize count="map.getAnalytics().mapAnalytics.COUNT_RTHINGS" when="{\'one\': \'relationship into an idea!\', \'other\': \'relationships into ideas!\'}"></ng-pluralize> </div> </div> </a> </div>  <div class="big-analytic-wrapper"> <a href="#" class="analytic-popover popover-top ng-scope" popover-trigger="mouseenter" popover-placement="top" popover="Ideas that are acting as relationships can also have parts."> <div class="big-analytic iconD iconS iconR"> <div class="big-analytic-prefix"> You made </div> <span class="big-analytic-value ng-binding"> </span> <div class="big-analytic-suffix"> <ng-pluralize count="map.getAnalytics().mapAnalytics.COUNT_SYSTEM_RTHINGS" when="{\'one\': \'relationship into a system!\', \'other\': \'relationships into systems!\'}"></ng-pluralize> </div> </div> </a> </div>  <div class="big-analytic-wrapper"> <a href="#" class="analytic-popover popover-top ng-scope" popover-trigger="mouseenter" popover-placement="top" popover="Even viewpoints can be broken into parts."> <div class="big-analytic iconD iconS iconP"> <div class="big-analytic-prefix"> You made </div> <span class="big-analytic-value ng-binding"> </span> <div class="big-analytic-suffix"> <ng-pluralize count="map.getAnalytics().mapAnalytics.COUNT_SYSTEM_PERSPECTIVES" when="{\'one\': \'viewpoint into a system!\', \'other\': \'viewpoints into systems!\'}"></ng-pluralize> </div> </div> </a> </div>  <div class="big-analytic-wrapper"> <a href="#" class="analytic-popover popover-top ng-scope" popover-trigger="mouseenter" popover-placement="top" popover="Gain clarity by making sure each idea is distinguished from other ideas."> <div class="big-analytic iconD"> <div class="big-analytic-prefix"> You made </div> <span class="big-analytic-value ng-binding"> </span> <div class="big-analytic-suffix"> <ng-pluralize count="map.getAnalytics().mapAnalytics.COUNT_DISTINCTIONS" when="{\'one\': \'advanced distinction!\', \'other\': \'advanced distinctions!\'}"></ng-pluralize> </div> </div> </a> </div> </div> </div> </div> </div>  <div id="analytics-tab-thing" class="bottom-tab analytics-tab" ng-class="classIf(\'expanded\', map.getUi().currentTabIs(map.getUi().TAB_ID_ANALYTICS_THING))"> <div class="bottom-tab-inner">  <div class="tab-close-button"> <button type="button" class="close" ng-click="map.getUi().closeTab(map.getUi().TAB_ID_ANALYTICS_THING)"></button> </div>  <div ng-show="!map.thingSelected() &amp;&amp; !map.relationshipSelected()" class=""> <div id="analytics-nothing-selected" data-skip="true"> Select an Idea or a Relationship to view analytics for it. </div> </div> <div ng-show="map.thingSelected()" class="ng-hide"> <div class="analytics-big-analytics thing-analytics"> <div class="analytics-subject-wrapper">  <div class="analytics-current-thing"> <span class="ng-binding"></span> </div> <div class="analytics-thing-intro">is...</div> <div id="analytics-big-analytics-arrow"></div>  </div> <div class="big-analytic-wrapper"> <a href="#" class="analytic-popover popover-top ng-scope" popover-trigger="mouseenter" popover-placement="top" popover="It is implied that every idea is distinct from every other idea."> <div class="big-analytic iconD"> <div class="big-analytic-prefix"> Distinct from </div> <span class="big-analytic-value ng-binding"> 0 </span> <div class="big-analytic-suffix"> <ng-pluralize count="map.getAnalytics().contextualAnalytics.distinctFrom" when="{\'one\': \'other idea\', \'other\': \'other ideas\'}">other ideas</ng-pluralize> </div> </div> </a> </div> <div class="big-analytic-wrapper"> <a href="#" class="analytic-popover popover-top ng-scope" popover-trigger="mouseenter" popover-placement="top" popover="Making distinctions explicit is an advanced skill used for construct validity."> <div class="big-analytic iconD"> <div class="big-analytic-prefix"> Distinct from </div> <span class="big-analytic-value ng-binding"> 0 </span> <div class="big-analytic-suffix"> <ng-pluralize count="map.getAnalytics().contextualAnalytics.intentionallyDistinctFrom" when="{\'one\': \'other idea (advanced)\', \'other\': \'other ideas (advanced)\'}">other ideas (advanced)</ng-pluralize> </div> </div> </a> </div> <div class="big-analytic-wrapper"> <a href="#" class="analytic-popover popover-top ng-scope" popover-trigger="mouseenter" popover-placement="top" popover="Every idea can be part of a larger idea."> <div class="big-analytic iconS"> <div class="big-analytic-prefix"> Part of </div> <span class="big-analytic-value ng-binding"> 0 </span> <div class="big-analytic-suffix"> <ng-pluralize count="map.getAnalytics().contextualAnalytics.partOf" when="{\'one\': \'whole system\', \'other\': \'whole systems\'}">whole systems</ng-pluralize> </div> </div> </a> </div> <div class="big-analytic-wrapper"> <a href="#" class="analytic-popover popover-top ng-scope" popover-trigger="mouseenter" popover-placement="top" popover="Every idea can have parts, making it a whole."> <div class="big-analytic iconS"> <div class="big-analytic-prefix"> A whole with </div> <span class="big-analytic-value ng-binding"> 0 </span> <div class="big-analytic-suffix"> <ng-pluralize count="map.getAnalytics().contextualAnalytics.includesParts" when="{\'one\': \'part\', \'other\': \'parts\'}">parts</ng-pluralize> </div> </div> </a> </div> <div class="big-analytic-wrapper"> <a href="#" class="analytic-popover popover-top ng-scope" popover-trigger="mouseenter" popover-placement="top" popover="Every idea can be related to other ideas."> <div class="big-analytic iconR"> <div class="big-analytic-prefix"> Related to </div> <span class="big-analytic-value ng-binding"> 0 </span> <div class="big-analytic-suffix"> <ng-pluralize count="map.getAnalytics().contextualAnalytics.relatedTo" when="{\'one\': \'other idea\', \'other\': \'other ideas\'}">other ideas</ng-pluralize> </div> </div> </a> </div> <div class="big-analytic-wrapper"> <a href="#" class="analytic-popover popover-top ng-scope" popover-trigger="mouseenter" popover-placement="top" popover="Ideas can act as a relationship between other ideas, too."> <div class="big-analytic iconR"> <div class="big-analytic-prefix"> Relates </div> <span class="big-analytic-value ng-binding"> </span> <div class="big-analytic-suffix"> ideas  </div> </div> </a> </div> <div class="big-analytic-wrapper"> <a href="#" class="analytic-popover popover-top ng-scope" popover-trigger="mouseenter" popover-placement="top" popover="Every idea can be a point of view on other ideas."> <div class="big-analytic iconP"> <div class="big-analytic-prefix"> A point on </div> <span class="big-analytic-value ng-binding"> 0 </span> <div class="big-analytic-suffix"> <ng-pluralize count="map.getAnalytics().contextualAnalytics.lookingAt" when="{\'one\': \'view\', \'other\': \'views\'}">views</ng-pluralize> </div> </div> </a> </div> <div class="big-analytic-wrapper"> <a href="#" class="analytic-popover popover-top ng-scope" popover-trigger="mouseenter" popover-placement="top" popover="Every idea can be looked at differently from the point of view of other ideas."> <div class="big-analytic iconP"> <div class="big-analytic-prefix"> Viewed from </div> <span class="big-analytic-value ng-binding"> 0 </span> <div class="big-analytic-suffix"> <ng-pluralize count="map.getAnalytics().contextualAnalytics.lookedAtFrom" when="{\'one\': \'point of view\', \'other\': \'points of view\'}">points of view</ng-pluralize> </div> </div> </a> </div> </div> </div>  <div ng-show="map.relationshipSelected()" class="ng-hide"> <div class="analytics-big-analytics relationship-analytics"> <div class="analytics-subject-wrapper">  <div class="analytics-subject analytics-relationship-intro">This relationship...</div> <div class="analytics-subject-relationship-model"> <div class="analytics-subject-relationship-from-thing"> <span class="ng-binding"></span> </div> <div class="analytics-subject-relationship-connector"></div> <div class="analytics-subject-relationship-from-thing"> <span class="ng-binding"></span> </div> <div id="analytics-big-analytics-arrow"></div> </div>  </div> <div class="big-analytic-wrapper"> <a href="#" class="analytic-popover popover-top ng-scope" popover-trigger="mouseenter" popover-placement="top" popover="Every relationship can be made into a distinct idea!"> <div class="big-analytic iconD"> <div class="big-analytic-prefix">Converted to an idea?</div> <div class="true ng-hide" ng-show="map.getAnalytics().contextualAnalytics.isRThing"> <div class="big-analytic-relationship-graphic"> <div class="thing-left thing"></div> <div class="thing-connector converted-thing-true"></div> <div class="thing-right thing"></div> </div> <span class="big-analytic-result">Yes</span> </div> <div class="false" ng-hide="map.getAnalytics().contextualAnalytics.isRThing"> <div class="big-analytic-relationship-graphic"> <div class="thing-left thing"></div> <div class="thing-connector converted-thing-false"></div> <div class="thing-right thing"></div> </div> <span class="big-analytic-result">No</span> </div> </div> </a> </div> <div class="big-analytic-wrapper"> <a href="#" class="analytic-popover popover-top ng-scope" popover-trigger="mouseenter" popover-placement="top" popover="Once you\'ve made your relationship into an idea, you can add parts..."> <div class="big-analytic iconD"> <div class="big-analytic-prefix">Converted to a system?</div> <div class="true ng-hide" ng-show="map.getAnalytics().contextualAnalytics.isRSystem"> <div class="big-analytic-relationship-graphic"> <div class="thing-left thing"></div> <div class="thing-connector converted-system-true"> <div class="child-left"></div> <div class="child-right"></div> </div> <div class="thing-right thing"></div> </div> <span class="big-analytic-result">Yes</span> </div> <div class="false" ng-hide="map.getAnalytics().contextualAnalytics.isRSystem"> <div class="big-analytic-relationship-graphic"> <div class="thing-left thing"></div> <div class="thing-connector converted-system-false"></div> <div class="thing-right thing"></div> </div> <span class="big-analytic-result">No</span> </div> </div> </a> </div> <div class="big-analytic-wrapper"> <a href="#" class="analytic-popover popover-top ng-scope" popover-trigger="mouseenter" popover-placement="top" popover="Once you\'ve made your relationship into an idea, you can make it a viewpoint, too."> <div class="big-analytic iconD"> <div class="big-analytic-prefix">Converted to a viewpoint?</div> <div class="true ng-hide" ng-show="map.getAnalytics().contextualAnalytics.isRPoint"> <div class="big-analytic-relationship-graphic"> <div class="thing-left thing"></div> <div class="thing-connector converted-view-true"> <div class="child-perspective"></div> </div> <div class="thing-right thing"></div> </div> <span class="big-analytic-result">Yes</span> </div> <div class="false" ng-hide="map.getAnalytics().contextualAnalytics.isRPoint"> <div class="big-analytic-relationship-graphic"> <div class="thing-left thing"></div> <div class="thing-connector converted-view-false"></div> <div class="thing-right thing"></div> </div> <span class="big-analytic-result">No</span> </div> </div> </a> </div> </div> </div> </div> </div> <div id="perspectives-tab" class="bottom-tab" ng-class="classIf(\'expanded\', map.getUi().currentTabIs(map.getUi().TAB_ID_PERSPECTIVES))"> <div class="bottom-tab-inner">  <div class="tab-close-button"> <button type="button" class="close" ng-click="map.getUi().closeTab(map.getUi().TAB_ID_PERSPECTIVES)"></button> </div> <div class="btn-group"> <button type="button" class="btn" id="make-perspective-button" ng-click="map.getUi().closeTab(map.getUi().TAB_ID_PERSPECTIVES)">Done. Make a Perspective</button> </div> <h2>Create a Perspective</h2> <div class="body-text" data-skip="true"> You have selected the "point" of a Perspective. Now select one or more ideas that make up the "view" of the perspective (every Perspective is made up of a point and a view). Select a thing or control-select or drag-select to choose multiple views. Select again to de-select. Then click the Make a Perspective button when done. </div> </div> </div> <div id="distinctions-tab" class="bottom-tab" ng-class="classIf(\'expanded\', map.getUi().currentTabIs(map.getUi().TAB_ID_DISTINCTIONS))"> <div class="bottom-tab-inner">  <div class="tab-close-button"> <button type="button" class="close" ng-click="map.getUi().closeTab(map.getUi().TAB_ID_DISTINCTIONS)"></button> </div> <div class="btn-group"> <button type="button" class="btn" id="make-distinction-button" ng-click="map.getUi().closeTab(map.getUi().TAB_ID_DISTINCTIONS)">Done. Make a Distinction</button> </div> <h2>Make an [advanced] Distinction</h2> <div class="body-text" data-skip="true"> To distinguish this thing explicitly from one or more other things (every Distinction is made up of "thing" and "other"), select one or more things. Select a thing or control-select or drag-select to choose multiple "others". Select again to de-select. Then click the Make an Advanced Distinction button when done. </div> </div> </div> <div id="standards-tab" class="bottom-tab" ng-class="classIf(\'expanded\', map.getUi().currentTabIs(map.getUi().TAB_ID_STANDARDS))">  <div class="tab-close-button"> <button type="button" class="close" ng-click="map.getUi().closeTab(map.getUi().TAB_ID_STANDARDS)"></button> </div> <h2 class="tab-title">Common Core Standards</h2> <div class="item-actions">  <button type="button" class="btn btn-mini add-item popover-right ng-scope" popover-trigger="mouseenter" popover-placement="right" popover="Add new item" ng-click="ccsTagging.addLink()" ng-disabled="!canEdit || ccsTagging.editingAnItem()"> Add Item </button> </div> <div class="item-list"> <ul>  </ul> </div>  </div> </div> <div id="presenter-print-view">  </div> </div> </div> </div> </div>', function(opts) {
});
},{"riot":"riot"}],39:[function(require,module,exports){
var riot = require('riot');
riot.tag('page-footer', '<div class="page-footer"> <div class="page-footer-inner"> 2015 &copy; Cabrera Research Lab </div> <div class="scroll-to-top"> <i class="icon-arrow-up"></i> </div> </div>', function(opts) {
});
},{"riot":"riot"}],40:[function(require,module,exports){
var riot = require('riot');
riot.tag('page-header', '<div id="header-top" class="page-header navbar navbar-fixed-top"> <div id="header-content" class="page-header-inner"> <page-logo></page-logo> <page-actions></page-actions> <div class="page-top"> <page-search></page-search> <page-topmenu></page-topmenu> </div> </div> </div>', function(opts) {
});
},{"riot":"riot"}],41:[function(require,module,exports){
var riot = require('riot');
riot.tag('page-logo', '<div class="page-logo"> <a href="index.html"> <img src="assets/img/metamap_cloud.png" alt="logo" class="logo-default"> </a> <div class="menu-toggler sidebar-toggler">  </div> </div> <a href="javascript:;" class="menu-toggler responsive-toggler" data-toggle="collapse" data-target=".navbar-collapse"> </a>', function(opts) {
});
},{"riot":"riot"}],42:[function(require,module,exports){
var riot = require('riot');
riot.tag('page-search', ' <form class="search-form" action="extra_search.html" method="GET"> <div class="input-group"> <input type="text" class="form-control input-sm" placeholder="Search..." name="query"> <span class="input-group-btn"> <a href="javascript:;" class="btn submit"><i class="fa fa-search"></i></a> </span> </div> </form>', function(opts) {
});
},{"riot":"riot"}],43:[function(require,module,exports){
var riot = require('riot');
riot.tag('page-sidebar', '<div class="page-sidebar-wrapper">   <div class="page-sidebar navbar-collapse collapse">        <ul class="page-sidebar-menu " data-keep-expanded="false" data-auto-scroll="true" data-slide-speed="200"> <li onclick="{ parent.click }" each="{ data }"> <a if="{ icon }" href="javascript:;"> <i class="{ icon }" riot-style="color:#{ color };"></i> <span class="title">{ title }</span> <span class="{ arrow: menu.length }"></span> </a> <ul if="{ menu.length }" class="sub-menu"> <li each="{ menu }"> <a href="javascript:;"> <i class="{ icon }"></i> <span class="title">{ title }</span> </a> </li> </ul> </li> </ul> </div> </div>', function(opts) {

this.click = function () {
    console.log('foo');
};

var that = this;
that.data = [];
that.MetaMap = MetaMap;
that.MetaMap.MetaFire.getData('menu/sidebar').then(function (data) {
    that.data = data;
    that.update();
});
});
},{"riot":"riot"}],44:[function(require,module,exports){
var riot = require('riot');
riot.tag('page-topmenu', '<div class="top-menu"> <ul class="nav navbar-nav pull-right"> <li class="separator hide"> </li>  <li class="dropdown dropdown-extended dropdown-notification dropdown" id="header_notification_bar"> <a href="javascript:;" class="dropdown-toggle" data-toggle="dropdown" data-hover="dropdown" data-close-others="true"> <i class="fa fa-bell-o"></i> <span class="badge badge-success"> 1 </span> </a> <ul class="dropdown-menu"> <li class="external"> <h3> <span class="bold">1 pending</span> notification </h3> <a href="javascript:;">view all</a> </li> <li> <ul class="dropdown-menu-list scroller" style="height: 250px;" data-handle-color="#637283"> <li> <a href="javascript:;"> <span class="time">just now</span> <span class="details"> <span class="label label-sm label-icon label-success"> <i class="fa fa-plus"></i> </span> New user registered. </span> </a> </li> </ul> </li> </ul> </li> <li class="separator hide"> </li>  <li class="dropdown dropdown-extended dropdown-notification dropdown" id="header_points_bar"> <a href="javascript:;" class="dropdown-toggle" data-toggle="dropdown" data-hover="dropdown" data-close-others="true"> <i class="fa fa-trophy"></i> <span class="badge badge-success"> 3 </span> </a> <ul class="dropdown-menu"> <li class="external"> <h3> <span class="bold">3 new</span> achievements </h3> <a href="javascript:;">view all</a> </li> <li> <ul class="dropdown-menu-list scroller" style="height: 250px;" data-handle-color="#637283"> <li> <a href="javascript:;"> <span class="time">just now</span> <span class="details"> <span class="label label-sm label-icon label-success"> <i class="fa fa-plus"></i> </span> Created a perspective circle! </span> </a> </li> </ul> </li> </ul> </li>  <li class="separator hide"> </li>  <li class="dropdown" id="header_dashboard_bar"> <a class="dropdown-toggle" href="javascript:;"> <i class="fa fa-home"></i> </a> </li> <li class="separator hide"> </li>  <li class="dropdown dropdown-extended dropdown-notification dropdown" id="header_help_bar"> <a href="javascript:;" class="dropdown-toggle" data-toggle="dropdown" data-hover="dropdown" data-close-others="true"> <i class="fa fa-graduation-cap"></i> </a> <ul class="dropdown-menu"> <li> <ul class="dropdown-menu-list scroller" style="height: 270px;" data-handle-color="#637283"> <li> <a href="javascript:;"> <i class="fa fa-lightbulb-o"></i> <span class="title">Tutorial</span> </a> </li> <li> <a href="javascript:;"> <i class="fa fa-question"></i> <span class="title">FAQ</span> </a> </li> <li> <a href="javascript:;"> <i class="fa fa-life-ring"></i> <span class="title">Support</span> </a> </li> <li> <a href="javascript:;" onclick="UserSnap.openReportWindow();"> <i class="fa fa-frown-o"></i> <span class="title">Feedback</span> </a> </li> <li> <a href="javascript:;"> <i class="fa fa-bullseye"></i> <span class="title">Inline Training</span> </a> </li> <li> <a href="javascript:;"> <i class="fa fa-laptop"></i> <span class="title">Online Training</span> </a> </li> </ul> </li> </ul> </li> <li class="separator hide"> </li> <li onclick="{ once }" class="dropdown dropdown-user dropdown"> <a href="javascript:;" class="dropdown-toggle" data-toggle="dropdown" data-hover="dropdown" data-close-others="true"> <span class="username username-hide-on-mobile"> { username } </span>  <img alt="" height="39" width="39" class="img-circle" riot-src="{ picture }"> </a> <ul onclick="{ parent.log }" class="dropdown-menu dropdown-menu-default"> <li> <a href="javascript:;"> <i class="fa fa-user"></i> My Profile </a> </li> <li onclick="{ parent.log }" onmouseenter="{ parent.log }"> <a href="javascript:;" onclick="{ parent.log }"> <i class="fa fa-sign-out" onclick="{ parent.log }"></i> Log Out </a> </li> </ul> </li> </ul> </div>', function(opts) {
this.username = '';
this.picture = '';

this.once = function () {
        console.log('foo');
};

var that = this;
localforage.getItem('profile').then(function (profile) {
        that.username = profile.nickname;
        that.picture = profile.picture || 'assets/admin/layout4/img/avatar.jpg';
        that.update();
});

this.logout = function () {
        debugger;
        MetaMap.Auth0.logout();
};
});
},{"riot":"riot"}]},{},[1])(1)
});
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJDOi9HaXRodWIvTWV0YU1hcC9zcmMvZW50cnkuanMiLCJDOi9HaXRodWIvTWV0YU1hcC9zcmMvTWV0YU1hcC5qcyIsIkM6L0dpdGh1Yi9NZXRhTWFwL3NyYy9qcy9jYW52YXMvYW5hbHl0aWNzLmpzIiwiQzovR2l0aHViL01ldGFNYXAvc3JjL2pzL2NhbnZhcy9hdHRhY2htZW50cy5qcyIsIkM6L0dpdGh1Yi9NZXRhTWFwL3NyYy9qcy9jYW52YXMvYXV0b3NhdmUuanMiLCJDOi9HaXRodWIvTWV0YU1hcC9zcmMvanMvY2FudmFzL2VkaXRvci5qcyIsIkM6L0dpdGh1Yi9NZXRhTWFwL3NyYy9qcy9jYW52YXMvZWRpdG9yX29wdGlvbnMuanMiLCJDOi9HaXRodWIvTWV0YU1hcC9zcmMvanMvY2FudmFzL2ZlZWQuanMiLCJDOi9HaXRodWIvTWV0YU1hcC9zcmMvanMvY2FudmFzL2dlbmVyYXRvci5qcyIsIkM6L0dpdGh1Yi9NZXRhTWFwL3NyYy9qcy9jYW52YXMvZ29yZ2VzX2dyaWQuanMiLCJDOi9HaXRodWIvTWV0YU1hcC9zcmMvanMvY2FudmFzL2hpc3RvcnkuanMiLCJDOi9HaXRodWIvTWV0YU1hcC9zcmMvanMvY2FudmFzL2pvaW5fbmF0aW9uLmpzIiwiQzovR2l0aHViL01ldGFNYXAvc3JjL2pzL2NhbnZhcy9sYXlvdXRzLmpzIiwiQzovR2l0aHViL01ldGFNYXAvc3JjL2pzL2NhbnZhcy9tYXAuanMiLCJDOi9HaXRodWIvTWV0YU1hcC9zcmMvanMvY2FudmFzL21hcHMuanMiLCJDOi9HaXRodWIvTWV0YU1hcC9zcmMvanMvY2FudmFzL3BlcnNwZWN0aXZlcy5qcyIsIkM6L0dpdGh1Yi9NZXRhTWFwL3NyYy9qcy9jYW52YXMvcHJlc2VudGVyLmpzIiwiQzovR2l0aHViL01ldGFNYXAvc3JjL2pzL2NhbnZhcy9zaGFyaW5nLmpzIiwiQzovR2l0aHViL01ldGFNYXAvc3JjL2pzL2NhbnZhcy9zdGFuZGFyZHMuanMiLCJDOi9HaXRodWIvTWV0YU1hcC9zcmMvanMvY2FudmFzL3RhZ2dpbmcuanMiLCJDOi9HaXRodWIvTWV0YU1hcC9zcmMvanMvY2FudmFzL3RhZ2dpbmdfYWRtaW4uanMiLCJDOi9HaXRodWIvTWV0YU1hcC9zcmMvanMvY2FudmFzL3RhZ2dpbmdfY2NzLmpzIiwiQzovR2l0aHViL01ldGFNYXAvc3JjL2pzL2NhbnZhcy90ZW1wbGF0ZXMuanMiLCJDOi9HaXRodWIvTWV0YU1hcC9zcmMvanMvY2FudmFzL3Rlc3RzLmpzIiwiQzovR2l0aHViL01ldGFNYXAvc3JjL2pzL2NhbnZhcy90b3BfbWFwcy5qcyIsIkM6L0dpdGh1Yi9NZXRhTWFwL3NyYy9qcy9jYW52YXMvdHV0b3JpYWwuanMiLCJDOi9HaXRodWIvTWV0YU1hcC9zcmMvanMvY2FudmFzL3VpLmpzIiwiQzovR2l0aHViL01ldGFNYXAvc3JjL2pzL2NhbnZhcy91c2VyLmpzIiwiQzovR2l0aHViL01ldGFNYXAvc3JjL2pzL2ludGVncmF0aW9ucy9hdXRoMC5qcyIsIkM6L0dpdGh1Yi9NZXRhTWFwL3NyYy9qcy9pbnRlZ3JhdGlvbnMvZmlyZWJhc2UuanMiLCJDOi9HaXRodWIvTWV0YU1hcC9zcmMvanMvaW50ZWdyYXRpb25zL2dvb2dsZWFuYWx5dGljcy5qcyIsIkM6L0dpdGh1Yi9NZXRhTWFwL3NyYy9qcy9pbnRlZ3JhdGlvbnMvbmV3cmVsaWMuanMiLCJDOi9HaXRodWIvTWV0YU1hcC9zcmMvanMvaW50ZWdyYXRpb25zL3JheWd1bi5qcyIsIkM6L0dpdGh1Yi9NZXRhTWFwL3NyYy9qcy9pbnRlZ3JhdGlvbnMvdXNlcnNuYXAuanMiLCJzcmMvdGFncy9wYWdlLWFjdGlvbnMudGFnIiwic3JjL3RhZ3MvcGFnZS1ib2R5LnRhZyIsInNyYy90YWdzL3BhZ2UtY29udGFpbmVyLnRhZyIsInNyYy90YWdzL3BhZ2UtY29udGVudC50YWciLCJzcmMvdGFncy9wYWdlLWZvb3Rlci50YWciLCJzcmMvdGFncy9wYWdlLWhlYWRlci50YWciLCJzcmMvdGFncy9wYWdlLWxvZ28udGFnIiwic3JjL3RhZ3MvcGFnZS1zZWFyY2gudGFnIiwic3JjL3RhZ3MvcGFnZS1zaWRlYmFyLnRhZyIsInNyYy90YWdzL3BhZ2UtdG9wbWVudS50YWciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7OztBQ0NBLE9BQU8sQ0FBQyx5QkFBeUIsQ0FBQyxDQUFDO0FBQ25DLE9BQU8sQ0FBQyxtQ0FBbUMsQ0FBQyxDQUFDO0FBQzdDLE9BQU8sQ0FBQyw0QkFBNEIsQ0FBQyxDQUFDO0FBQ3RDLE9BQU8sQ0FBQywwQkFBMEIsQ0FBQyxDQUFDO0FBQ3BDLE9BQU8sQ0FBQyw0QkFBNEIsQ0FBQyxDQUFDOztBQUV0QyxPQUFPLENBQUMseUJBQXlCLENBQUMsQ0FBQztBQUNuQyxPQUFPLENBQUMsMkJBQTJCLENBQUMsQ0FBQztBQUNyQyxPQUFPLENBQUMseUJBQXlCLENBQUMsQ0FBQztBQUNuQyxPQUFPLENBQUMsd0JBQXdCLENBQUMsQ0FBQztBQUNsQyxPQUFPLENBQUMsd0JBQXdCLENBQUMsQ0FBQztBQUNsQyxPQUFPLENBQUMsc0JBQXNCLENBQUMsQ0FBQztBQUNoQyxPQUFPLENBQUMsd0JBQXdCLENBQUMsQ0FBQztBQUNsQyxPQUFPLENBQUMseUJBQXlCLENBQUMsQ0FBQztBQUNuQyxPQUFPLENBQUMseUJBQXlCLENBQUMsQ0FBQztBQUNuQyxPQUFPLENBQUMsc0JBQXNCLENBQUMsQ0FBQzs7QUFFaEMsT0FBTyxDQUFDLHVCQUF1QixDQUFDLENBQUM7QUFDakMsT0FBTyxDQUFDLHFCQUFxQixDQUFDLENBQUM7QUFDL0IsT0FBTyxDQUFDLDRCQUE0QixDQUFDLENBQUM7QUFDdEMsT0FBTyxDQUFDLCtCQUErQixDQUFDLENBQUM7QUFDekMsT0FBTyxDQUFDLHlCQUF5QixDQUFDLENBQUM7QUFDbkMsT0FBTyxDQUFDLDBCQUEwQixDQUFDLENBQUM7QUFDcEMsT0FBTyxDQUFDLDRCQUE0QixDQUFDLENBQUM7QUFDdEMsT0FBTyxDQUFDLHlCQUF5QixDQUFDLENBQUM7QUFDbkMsT0FBTyxDQUFDLDBCQUEwQixDQUFDLENBQUM7QUFDcEMsT0FBTyxDQUFDLHdCQUF3QixDQUFDLENBQUM7QUFDbEMsT0FBTyxDQUFDLHdCQUF3QixDQUFDLENBQUM7QUFDbEMsT0FBTyxDQUFDLDRCQUE0QixDQUFDLENBQUM7QUFDdEMsT0FBTyxDQUFDLG9CQUFvQixDQUFDLENBQUM7QUFDOUIsT0FBTyxDQUFDLHFCQUFxQixDQUFDLENBQUM7QUFDL0IsT0FBTyxDQUFDLHFCQUFxQixDQUFDLENBQUM7QUFDL0IsT0FBTyxDQUFDLHlCQUF5QixDQUFDLENBQUM7QUFDbkMsT0FBTyxDQUFDLDZCQUE2QixDQUFDLENBQUM7QUFDdkMsT0FBTyxDQUFDLDBCQUEwQixDQUFDLENBQUM7QUFDcEMsT0FBTyxDQUFDLHdCQUF3QixDQUFDLENBQUM7QUFDbEMsT0FBTyxDQUFDLDBCQUEwQixDQUFDLENBQUM7QUFDcEMsT0FBTyxDQUFDLHdCQUF3QixDQUFDLENBQUM7QUFDbEMsT0FBTyxDQUFDLDhCQUE4QixDQUFDLENBQUM7QUFDeEMsT0FBTyxDQUFDLDRCQUE0QixDQUFDLENBQUM7QUFDdEMsT0FBTyxDQUFDLDBCQUEwQixDQUFDLENBQUM7QUFDcEMsT0FBTyxDQUFDLHNCQUFzQixDQUFDLENBQUM7QUFDaEMsT0FBTyxDQUFDLG1CQUFtQixDQUFDLENBQUM7O0FBRTdCLElBQUksRUFBRSxHQUFHLE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQzs7QUFFOUIsTUFBTSxDQUFDLE9BQU8sR0FBRyxJQUFJLEVBQUUsRUFBRSxDQUFDOzs7Ozs7Ozs7QUMvQzFCLElBQUksUUFBUSxHQUFHLE9BQU8sQ0FBQyw0QkFBNEIsQ0FBQyxDQUFDO0FBQ3JELElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQyx5QkFBeUIsQ0FBQyxDQUFDO0FBQy9DLElBQUksUUFBUSxHQUFHLE9BQU8sQ0FBQyw0QkFBNEIsQ0FBQyxDQUFDOztJQUUvQyxPQUFPO0FBRUcsYUFGVixPQUFPLEdBRU07OEJBRmIsT0FBTzs7QUFHTCxZQUFJLENBQUMsUUFBUSxHQUFHLElBQUksUUFBUSxFQUFFLENBQUM7QUFDL0IsWUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLEtBQUssRUFBRSxDQUFDO0FBQ3pCLGdCQUFRLEVBQUUsQ0FBQztLQUNkOztpQkFOQyxPQUFPOztlQVFMLGdCQUFHOzs7QUFDSCxnQkFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEVBQUUsQ0FBQyxJQUFJLENBQUMsVUFBQyxPQUFPLEVBQUs7QUFDakMsb0JBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDaEIsaUJBQUMsQ0FBQyxLQUFLLENBQUMsWUFBWTtBQUNoQiw0QkFBUSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ2hCLDBCQUFNLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDZCx3QkFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1oseUJBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNiLHlCQUFLLENBQUMsbUJBQW1CLEVBQUUsQ0FBQztpQkFDL0IsRUFBRSxHQUFHLENBQUMsQ0FBQztBQUNSLHNCQUFLLFFBQVEsQ0FBQyxJQUFJLEVBQUUsQ0FBQzthQUN4QixDQUFDLENBQUM7U0FDTjs7O2VBRUssa0JBQUc7QUFDTCxnQkFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEVBQUUsQ0FBQztBQUN2QixnQkFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQztTQUN2Qjs7O1dBekJDLE9BQU87OztBQTRCYixNQUFNLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQzs7Ozs7OztBQzlCekIsY0FBYyxDQUFDLFNBQVMsR0FBRyxVQUFVLE1BQU0sRUFBRSxLQUFLLEVBQUUsR0FBRyxFQUFFOztBQUVyRCxRQUFJLElBQUksR0FBRyxJQUFJLENBQUM7O0FBRWhCLFFBQUksQ0FBQyxJQUFJLEdBQUcsWUFBWSxFQUN2QixDQUFDOztBQUVGLFFBQUksQ0FBQyxrQkFBa0IsR0FBRyxVQUFVLFNBQVMsRUFBRSxDQUFDLEVBQUU7QUFDOUMsWUFBSSxTQUFTLElBQUksa0JBQWtCLEVBQUU7QUFDakMsZ0JBQUksR0FBRyxDQUFDLEtBQUssRUFBRSxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFFLENBQUMsc0JBQXNCLENBQUMsRUFBRTtBQUM5RCxvQkFBSSxDQUFDLHlCQUF5QixFQUFFLENBQUM7YUFDcEM7U0FDSjtLQUNKLENBQUM7OztBQUdGLFFBQUksQ0FBQyxpQkFBaUIsR0FBRyxVQUFTLFFBQVEsRUFBRSxRQUFRLEVBQUU7QUFDbEQsWUFBSSxRQUFRLElBQUksR0FBRyxDQUFDLEtBQUssRUFBRSxDQUFDLHNCQUFzQixFQUFFOztBQUNoRCxnQkFBSSxDQUFDLHlCQUF5QixFQUFFLENBQUM7U0FDcEM7S0FDSixDQUFDOzs7QUFHRixRQUFJLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQzs7Ozs7O0FBTXpCLFFBQUksQ0FBQyxtQkFBbUIsR0FBRztBQUN2QixpQkFBUyxFQUFFLEVBQUU7OztBQUdiLG9CQUFZLEVBQUUsQ0FBQztBQUNmLGlDQUF5QixFQUFFLENBQUM7QUFDNUIsY0FBTSxFQUFFLENBQUM7QUFDVCxxQkFBYSxFQUFFLENBQUM7QUFDaEIsaUJBQVMsRUFBRSxDQUFDO0FBQ1osc0JBQWMsRUFBRSxDQUFDO0FBQ2pCLGlCQUFTLEVBQUUsQ0FBQztBQUNaLG9CQUFZLEVBQUUsQ0FBQzs7O0FBR2Ysc0JBQWMsRUFBRSxFQUFFO0FBQ2xCLG9CQUFZLEVBQUUsRUFBRTtBQUNoQixnQkFBUSxFQUFFLEtBQUs7QUFDZixpQkFBUyxFQUFFLEtBQUs7QUFDaEIsZ0JBQVEsRUFBRSxLQUFLO0FBQ2YsZUFBTyxFQUFFLEtBQUs7S0FDakIsQ0FBQzs7QUFFRixRQUFJLENBQUMseUJBQXlCLEdBQUcsWUFBWTs7QUFFekMsWUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxZQUFZLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxDQUFDLHNCQUFzQixDQUFDLEVBQUU7QUFDL0QsbUJBQVE7U0FDWDs7QUFFRCxZQUFJLE9BQU8sR0FBRyxHQUFHLENBQUMsVUFBVSxFQUFFLENBQUM7QUFDL0IsWUFBSSxJQUFJLEdBQUcsT0FBTyxDQUFDLFNBQVMsQ0FBQyxLQUFLLEVBQUUsQ0FBQztBQUNyQyxZQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsbUJBQW1CLENBQUM7O0FBRWpDLFlBQUksSUFBSSxJQUFJLElBQUksWUFBWSxFQUFFLENBQUMsS0FBSyxFQUFFO0FBQ2xDLGdCQUFJLEtBQUssR0FBRyxJQUFJLENBQUM7OztBQUdqQixhQUFDLENBQUMsU0FBUyxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDOzs7QUFHOUIsYUFBQyxDQUFDLFlBQVksR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsYUFBYSxFQUFFLEVBQUMsT0FBTyxFQUFFLElBQUksRUFBQyxDQUFDLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQzs7O0FBR2xGLGdCQUFJLEtBQUssR0FBRyxDQUFDLENBQUM7QUFDZCxnQkFBSSxNQUFNLEdBQUcsS0FBSyxDQUFDO0FBQ25CLG1CQUFPLE1BQU0sR0FBRyxrQkFBa0IsQ0FBQyxNQUFNLENBQUMsRUFBRTtBQUN4QyxxQkFBSyxFQUFFLENBQUM7YUFDWDtBQUNELGFBQUMsQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDOzs7QUFHakIsYUFBQyxDQUFDLGFBQWEsR0FBRyxXQUFXLENBQUMsS0FBSyxDQUFDLENBQUM7OztBQUdyQyxhQUFDLENBQUMsU0FBUyxHQUFHLENBQUMsQ0FBQztBQUNoQixhQUFDLENBQUMsU0FBUyxHQUFHLENBQUMsQ0FBQztBQUNoQixhQUFDLENBQUMsWUFBWSxHQUFHLENBQUMsQ0FBQztBQUNuQixhQUFDLENBQUMseUJBQXlCLEdBQUcsQ0FBQyxDQUFDO0FBQ2hDLGdCQUFJLEtBQUssR0FBRyxLQUFLLENBQUMsY0FBYyxDQUFDO0FBQ2pDLGdCQUFJLG1CQUFtQixHQUFHLEVBQUUsQ0FBQztBQUM3QixtQkFBTyxLQUFLLENBQUMsSUFBSSxFQUFFLEVBQUU7QUFDakIsb0JBQUksSUFBSSxHQUFHLEtBQUssQ0FBQyxLQUFLLENBQUM7O0FBRXZCLG9CQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxJQUFJLEdBQUcsRUFBRTtBQUMzQix3QkFBSSxJQUFJLENBQUMsUUFBUSxJQUFJLEtBQUssRUFBRTtBQUN4Qix5QkFBQyxDQUFDLFNBQVMsRUFBRSxDQUFDO3FCQUNqQixNQUNJLElBQUksSUFBSSxDQUFDLE1BQU0sSUFBSSxLQUFLLEVBQUU7QUFDM0IseUJBQUMsQ0FBQyxZQUFZLEVBQUUsQ0FBQztxQkFDcEI7aUJBQ0o7O3FCQUVJLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLElBQUksR0FBRyxFQUFFO0FBQ2hDLHFCQUFDLENBQUMseUJBQXlCLEVBQUUsQ0FBQztpQkFDakM7O3FCQUVJLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRTs7QUFFMUIsd0JBQUksSUFBSSxDQUFDLFFBQVEsSUFBSSxLQUFLLEVBQUU7QUFDeEIsMkNBQW1CLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO3FCQUNsRCxNQUNJLElBQUksSUFBSSxDQUFDLE1BQU0sSUFBSSxLQUFLLEVBQUU7QUFDM0IsMkNBQW1CLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO3FCQUNwRDtpQkFDSjthQUNKO0FBQ0QsYUFBQyxDQUFDLFNBQVMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLG1CQUFtQixDQUFDLENBQUMsTUFBTSxDQUFDOzs7QUFHakQsYUFBQyxDQUFDLGNBQWMsR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDO1NBQ3hDLE1BQ0ksSUFBSSxJQUFJLElBQUksSUFBSSxZQUFZLEVBQUUsQ0FBQyxJQUFJLEVBQUU7QUFDdEMsZ0JBQUksR0FBRyxHQUFHLElBQUksQ0FBQzs7O0FBR2YsYUFBQyxDQUFDLGNBQWMsR0FBRyxHQUFHLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7QUFDMUMsYUFBQyxDQUFDLFlBQVksR0FBRyxHQUFHLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7OztBQUd0QyxhQUFDLENBQUMsUUFBUSxHQUFHLEdBQUcsQ0FBQyxhQUFhLENBQUM7OztBQUcvQixhQUFDLENBQUMsU0FBUyxHQUFHLEdBQUcsQ0FBQyxhQUFhLElBQUksV0FBVyxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsS0FBSyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUM7OztBQUczRSxhQUFDLENBQUMsUUFBUSxHQUFHLEdBQUcsQ0FBQyxhQUFhLElBQUksT0FBTyxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQzs7O0FBR2xFLGFBQUMsQ0FBQyxPQUFPLEdBQUcsR0FBRyxDQUFDLGFBQWEsSUFBSSxNQUFNLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDO1NBQ25FO0tBQ0osQ0FBQzs7O0FBR0YsYUFBUyxrQkFBa0IsQ0FBQyxLQUFLLEVBQUU7QUFDL0IsZUFBTyxLQUFLLENBQUMsZUFBZSxJQUFJLHdCQUF3QixDQUFDLEtBQUssQ0FBQyxDQUFDO0tBQ25FOzs7QUFHRCxhQUFTLHdCQUF3QixDQUFDLEtBQUssRUFBRTtBQUNyQyxZQUFJLEtBQUssQ0FBQyxXQUFXLEVBQUU7QUFDbkIsZ0JBQUksVUFBVSxHQUFHLEtBQUssQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDLGVBQWUsQ0FBQztBQUM1RCxnQkFBSSxRQUFRLEdBQUcsS0FBSyxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsZUFBZSxDQUFDO0FBQ3hELGdCQUFJLFVBQVUsS0FBSyxJQUFJLElBQUksUUFBUSxLQUFLLElBQUksSUFBSSxVQUFVLElBQUksUUFBUSxFQUFFO0FBQ3BFLHVCQUFPLFVBQVUsQ0FBQzthQUNyQjtTQUNKO0FBQ0QsZUFBTyxJQUFJLENBQUM7S0FDZjs7O0FBR0QsYUFBUyxXQUFXLENBQUMsS0FBSyxFQUFFO0FBQ3hCLFlBQUksS0FBSyxHQUFHLENBQUMsQ0FBQztBQUNkLFlBQUksRUFBRSxHQUFHLGVBQWUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxRQUFRLENBQUM7QUFDekMsZUFBTyxFQUFFLENBQUMsSUFBSSxFQUFFLEVBQUU7QUFDZCxnQkFBSSxJQUFJLEdBQUcsRUFBRSxDQUFDLEtBQUssQ0FBQztBQUNwQixpQkFBSyxJQUFJLENBQUMsR0FBRyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDbEM7O0FBRUQsZUFBTyxLQUFLLENBQUM7S0FDaEI7OztBQUdELGFBQVMsZUFBZSxDQUFDLEtBQUssRUFBRTtBQUM1QixZQUFJLE9BQU8sR0FBRyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUM1QixZQUFJLEVBQUUsR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDO0FBQzNCLGVBQU8sRUFBRSxDQUFDLElBQUksRUFBRSxFQUFFO0FBQ2QsZ0JBQUksSUFBSSxHQUFHLEVBQUUsQ0FBQyxLQUFLLENBQUM7QUFDcEIsZ0JBQUksSUFBSSxZQUFZLEVBQUUsQ0FBQyxLQUFLLEVBQUU7QUFDMUIsdUJBQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDbEIsb0JBQUksTUFBTSxHQUFHLGtCQUFrQixDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ3RDLG9CQUFJLE1BQU0sRUFBRTtBQUNSLDJCQUFPLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDO2lCQUN2QjthQUNKO1NBQ0o7QUFDRCxlQUFPLE9BQU8sQ0FBQztLQUNsQjs7O0FBR0QsYUFBUyxrQkFBa0IsQ0FBQyxLQUFLLEVBQUU7QUFDL0IsWUFBSSxFQUFFLEdBQUcsS0FBSyxDQUFDLGNBQWMsRUFBRSxDQUFDO0FBQ2hDLGVBQU8sRUFBRSxDQUFDLElBQUksRUFBRSxFQUFFO0FBQ2QsZ0JBQUksSUFBSSxHQUFHLEVBQUUsQ0FBQyxLQUFLLENBQUM7QUFDcEIsZ0JBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsZUFBZSxJQUFJLEtBQUssQ0FBQyxlQUFlLEVBQUU7QUFDbkYsdUJBQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLEVBQUUsQ0FBQzthQUNsQztTQUNKO0FBQ0QsZUFBTyxJQUFJLENBQUM7S0FDZjs7QUFFRCxhQUFTLE9BQU8sQ0FBQyxLQUFLLEVBQUU7QUFDcEIsWUFBSSxFQUFFLEdBQUcsS0FBSyxDQUFDLGNBQWMsRUFBRSxDQUFDO0FBQ2hDLGVBQU8sRUFBRSxDQUFDLElBQUksRUFBRSxFQUFFO0FBQ2QsZ0JBQUksSUFBSSxHQUFHLEVBQUUsQ0FBQyxLQUFLLENBQUM7QUFDcEIsZ0JBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLElBQUksR0FBRyxFQUFFO0FBQzNCLHVCQUFPLElBQUksQ0FBQzthQUNmO1NBQ0o7QUFDRCxlQUFPLEtBQUssQ0FBQztLQUNoQjs7QUFFRCxhQUFTLE1BQU0sQ0FBQyxLQUFLLEVBQUU7QUFDbkIsWUFBSSxFQUFFLEdBQUcsS0FBSyxDQUFDLGFBQWEsRUFBRSxDQUFDO0FBQy9CLGVBQU8sRUFBRSxDQUFDLElBQUksRUFBRSxFQUFFO0FBQ2QsZ0JBQUksSUFBSSxHQUFHLEVBQUUsQ0FBQyxLQUFLLENBQUM7QUFDcEIsZ0JBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLElBQUksR0FBRyxFQUFFO0FBQzNCLHVCQUFPLElBQUksQ0FBQzthQUNmO1NBQ0o7QUFDRCxlQUFPLEtBQUssQ0FBQztLQUNoQjtDQUNKLENBQUM7Ozs7Ozs7QUMzTkYsTUFBTSxDQUFDLGNBQWMsQ0FBQyxXQUFXLEdBQUcsVUFBVSxNQUFNLEVBQUUsS0FBSyxFQUFFLFNBQVMsRUFBRSxHQUFHLEVBQUU7O0FBRXpFLFFBQUksSUFBSSxHQUFHLElBQUksQ0FBQzs7QUFFaEIsUUFBSSxDQUFDLGFBQWEsR0FBRyxJQUFJLENBQUM7QUFDMUIsUUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUM7O0FBRXhCLFFBQUksQ0FBQyxlQUFlLEdBQUcsQ0FDbkIsRUFBQyxJQUFJLEVBQUUsTUFBTSxFQUFFLGFBQWEsRUFBRSxNQUFNLEVBQUUsV0FBVyxFQUFFLE9BQU8sRUFBQyxFQUMzRCxFQUFDLElBQUksRUFBRSxNQUFNLEVBQUUsYUFBYSxFQUFFLFVBQVUsRUFBRSxXQUFXLEVBQUUsV0FBVyxFQUFDLEVBQ25FLEVBQUMsSUFBSSxFQUFFLE1BQU0sRUFBRSxhQUFhLEVBQUUsTUFBTSxFQUFFLFdBQVcsRUFBRSxPQUFPLEVBQUMsRUFDM0QsRUFBQyxJQUFJLEVBQUUsS0FBSyxFQUFFLGFBQWEsRUFBRSxnQkFBZ0IsRUFBRSxXQUFXLEVBQUUsaUJBQWlCLEVBQUM7OztLQUdqRixDQUFDOztBQUVGLFFBQUksQ0FBQyxJQUFJLEdBQUcsWUFBWSxFQUN2QixDQUFDOztBQUVGLFFBQUksQ0FBQyxrQkFBa0IsR0FBRyxVQUFVLFNBQVMsRUFBRSxDQUFDLEVBQUU7QUFDOUMsWUFBSSxTQUFTLElBQUksa0JBQWtCLEVBQUU7QUFDakMsZ0JBQUksR0FBRyxDQUFDLEtBQUssRUFBRSxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFFLENBQUMsa0JBQWtCLENBQUMsRUFBRTtBQUMxRCxvQkFBSSxDQUFDLGNBQWMsRUFBRSxDQUFDO0FBQ3RCLG9CQUFJLENBQUMsZUFBZSxFQUFFLENBQUM7QUFDdkIsb0JBQUksQ0FBQyw0QkFBNEIsRUFBRSxDQUFDO2FBQ3ZDO1NBQ0o7S0FDSixDQUFDOzs7QUFHRixRQUFJLENBQUMsaUJBQWlCLEdBQUcsVUFBUyxRQUFRLEVBQUUsUUFBUSxFQUFFO0FBQ2xELFlBQUksUUFBUSxJQUFJLEdBQUcsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxrQkFBa0IsRUFBRTs7QUFDNUMsZ0JBQUksQ0FBQyw0QkFBNEIsRUFBRSxDQUFDO1NBQ3ZDO0FBQ0QsWUFBSSxRQUFRLElBQUksR0FBRyxDQUFDLEtBQUssRUFBRSxDQUFDLGtCQUFrQixFQUFFOztBQUM1QyxnQkFBSSxDQUFDLGVBQWUsRUFBRSxDQUFDO1NBQzFCO0tBQ0osQ0FBQzs7QUFFRixRQUFJLENBQUMsNEJBQTRCLEdBQUcsWUFBVztBQUMzQyxjQUFNLENBQUMsU0FBUyxDQUFDLFlBQVc7QUFDeEIsZ0JBQUksR0FBRyxDQUFDLGFBQWEsRUFBRSxFQUFFO0FBQ3JCLG9CQUFJLENBQUMsYUFBYSxHQUFHLEdBQUcsQ0FBQyxzQkFBc0IsRUFBRSxDQUFDO0FBQ2xELG9CQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQztBQUN2RCxvQkFBSSxJQUFJLENBQUMsV0FBVyxLQUFLLFNBQVMsRUFBRTtBQUNoQyx3QkFBSSxDQUFDLFdBQVcsR0FBRyxFQUFFLENBQUM7aUJBQ3pCO2FBQ0o7U0FDSixDQUFDLENBQUM7S0FDTixDQUFDOzs7QUFHRixRQUFJLENBQUMsY0FBYyxHQUFHLFlBQVc7QUFDN0IsY0FBTSxDQUFDLFNBQVMsQ0FBQyxZQUFXO0FBQ3hCLGdCQUFJLElBQUksQ0FBQyxXQUFXLEVBQUU7QUFDbEIsaUJBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxVQUFVLEdBQUcsRUFBRTtBQUFFLHVCQUFHLENBQUMsT0FBTyxHQUFHLEtBQUssQ0FBQztpQkFBRSxDQUFDLENBQUM7YUFDckU7U0FDSixDQUFDLENBQUM7S0FDTixDQUFDOztBQUVGLFFBQUksQ0FBQyxhQUFhLEdBQUcsWUFBVztBQUM1QixlQUFPLElBQUksQ0FBQyxXQUFXLElBQUksQ0FBQyxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFLEVBQUMsT0FBTyxFQUFFLElBQUksRUFBQyxDQUFDLEtBQUssU0FBUyxDQUFDO0tBQzNGLENBQUM7OztBQUdGLFFBQUksQ0FBQyxZQUFZLEdBQUcsVUFBUyxVQUFVLEVBQUU7QUFDckMsY0FBTSxDQUFDLFNBQVMsQ0FBQyxZQUFXO0FBQ3hCLGdCQUFJLENBQUMsY0FBYyxFQUFFLENBQUM7QUFDdEIsc0JBQVUsQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDO1NBQzdCLENBQUMsQ0FBQztLQUNOLENBQUM7O0FBRUYsUUFBSSxDQUFDLFFBQVEsR0FBRyxVQUFTLFVBQVUsRUFBRTtBQUNqQyxjQUFNLENBQUMsU0FBUyxDQUFDLFlBQVc7QUFDeEIsc0JBQVUsQ0FBQyxPQUFPLEdBQUcsS0FBSyxDQUFDO0FBQzNCLGdCQUFJLENBQUMsZUFBZSxFQUFFLENBQUM7U0FDMUIsQ0FBQyxDQUFDO0tBQ04sQ0FBQzs7QUFFRixRQUFJLENBQUMsZUFBZSxHQUFHLFlBQVc7QUFDOUIsY0FBTSxDQUFDLFNBQVMsQ0FBQyxZQUFXO0FBQ3hCLG1CQUFPLENBQUMsR0FBRyxDQUFDLDZCQUE2QixHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQztBQUNoRSxnQkFBSSxJQUFJLENBQUMsYUFBYSxFQUFFO0FBQ3BCLG1CQUFHLENBQUMsVUFBVSxFQUFFLENBQUMsS0FBSyxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksRUFBRSxhQUFhLEVBQUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO0FBQ2pHLG9CQUFJLENBQUMsYUFBYSxDQUFDLG9CQUFvQixFQUFFLENBQUM7YUFDN0M7QUFDRCxlQUFHLENBQUMsV0FBVyxFQUFFLENBQUMsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUM7U0FDakQsQ0FBQyxDQUFDO0tBQ04sQ0FBQzs7QUFFRixRQUFJLENBQUMsZUFBZSxHQUFHLFVBQVUsSUFBSSxFQUFFO0FBQ25DLFlBQUksSUFBSSxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxFQUFDLElBQUksRUFBRSxJQUFJLEVBQUMsQ0FBQyxDQUFDO0FBQ25ELGVBQU8sSUFBSSxDQUFDO0tBQ2YsQ0FBQzs7QUFFRixRQUFJLENBQUMsYUFBYSxHQUFHLFVBQVUsSUFBSSxFQUFFO0FBQ2pDLFlBQUksSUFBSSxHQUFHLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLENBQUM7QUFDekMsWUFBSSxJQUFJLElBQUksTUFBTSxFQUFFO0FBQ2hCLGdCQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQztTQUNoRSxNQUNJLElBQUksSUFBSSxJQUFJLE1BQU0sRUFBRTtBQUNyQixnQkFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUM7U0FDakUsTUFDSSxJQUFJLElBQUksSUFBSSxNQUFNLEVBQUU7QUFDckIsZ0JBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLEVBQUUsSUFBSSxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQztTQUN2RCxNQUNJLElBQUksSUFBSSxJQUFJLEtBQUssRUFBRTtBQUNwQixnQkFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsRUFBRSxJQUFJLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDO1NBQ3ZELE1BQ0ksSUFBSSxJQUFJLElBQUksS0FBSyxFQUFFO0FBQ3BCLGdCQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxFQUFFLE1BQU0sRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLEVBQUUsRUFBRyxFQUFFLENBQUMsQ0FBQyxDQUFDO1NBQzNFO0tBQ0osQ0FBQzs7QUFFRixRQUFJLENBQUMsT0FBTyxHQUFHLFVBQVMsVUFBVSxFQUFFO0FBQ2hDLFlBQUksVUFBVSxDQUFDLElBQUksSUFBSSxNQUFNLEVBQUU7QUFDM0IsbUJBQU8sVUFBVSxDQUFDLEtBQUssSUFBSSxVQUFVLENBQUMsR0FBRyxJQUFJLFVBQVUsQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLEtBQUssRUFBRSxJQUFJLFVBQVUsQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLEtBQUssRUFBRSxDQUFDO1NBQy9HLE1BQ0ksSUFBSSxVQUFVLENBQUMsSUFBSSxJQUFJLE1BQU0sRUFBRTtBQUNoQyxtQkFBTyxVQUFVLENBQUMsSUFBSSxJQUFJLFVBQVUsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLEtBQUssRUFBRSxDQUFDO1NBQzNELE1BQ0ksSUFBSSxVQUFVLENBQUMsSUFBSSxJQUFJLE1BQU0sRUFBRTtBQUNoQyxtQkFBTyxVQUFVLENBQUMsSUFBSSxJQUFJLFVBQVUsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLEtBQUssRUFBRSxDQUFDO1NBQzNELE1BQ0ksSUFBSSxVQUFVLENBQUMsSUFBSSxJQUFJLEtBQUssRUFBRTtBQUMvQixtQkFBTyxVQUFVLENBQUMsSUFBSSxJQUFJLFVBQVUsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLEtBQUssRUFBRSxDQUFDO1NBQzNELE1BQ0ksSUFBSSxVQUFVLENBQUMsSUFBSSxJQUFJLEtBQUssRUFBRTtBQUMvQixtQkFBTyxVQUFVLENBQUMsTUFBTSxJQUFJLFVBQVUsQ0FBQyxNQUFNLENBQUMsRUFBRSxLQUFLLElBQUksSUFBSSxVQUFVLENBQUMsTUFBTSxDQUFDLEVBQUUsS0FBSyxTQUFTLENBQUM7U0FDbkc7S0FDSixDQUFDOztBQUVGLFFBQUksQ0FBQyxnQkFBZ0IsR0FBRyxVQUFVLEdBQUcsRUFBRTtBQUNuQyxZQUFJLFNBQVMsR0FBRyxDQUFDLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxlQUFlLEVBQUUsRUFBRSxJQUFJLEVBQUUsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsYUFBYSxDQUFDO0FBQ3BGLFlBQUksT0FBTyxDQUFFLFNBQVMsR0FBRyxTQUFTLEdBQUcsR0FBRyxDQUFDLEVBQUU7QUFDdkMsZ0JBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxHQUFHLENBQUMsQ0FBQztBQUN6QyxnQkFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1NBQ2pDO0tBQ0osQ0FBQzs7O0FBR0YsUUFBSSxDQUFDLFlBQVksR0FBRyxVQUFTLFNBQVMsRUFBRTs7QUFFcEMsWUFBSSxHQUFHLEdBQUcsMERBQTBELEdBQUcsU0FBUyxDQUFDO0FBQ2pGLGVBQU8sS0FBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBUyxRQUFRLEVBQUU7QUFDMUMsbUJBQU8sUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7U0FDN0IsQ0FBQyxDQUFDO0tBQ04sQ0FBQzs7QUFFRixRQUFJLENBQUMsZ0JBQWdCLEdBQUcsVUFBUyxTQUFTLEVBQUUsVUFBVSxFQUFFO0FBQ3BELGVBQU8sQ0FBQyxHQUFHLENBQUMsK0JBQStCLEdBQUcsU0FBUyxDQUFDLEVBQUUsR0FBRyxnQkFBZ0IsR0FBRyxVQUFVLENBQUMsQ0FBQztLQUMvRixDQUFDOztBQUVGLFFBQUksQ0FBQyxjQUFjLEdBQUcsVUFBVSxLQUFLLEVBQUU7QUFDbkMsZUFBUSxLQUFLLEdBQUcsS0FBSyxDQUFDLElBQUksR0FBRyxFQUFFLENBQUU7S0FDcEMsQ0FBQztDQUVMLENBQUM7Ozs7Ozs7QUM3SkYsY0FBYyxDQUFDLFFBQVEsR0FBRyxVQUFTLE1BQU0sRUFBRSxLQUFLLEVBQUUsR0FBRyxFQUFFOztBQUVuRCxRQUFJLElBQUksR0FBRyxJQUFJLENBQUM7O0FBRWhCLFFBQUksV0FBVyxHQUFHLEVBQUUsQ0FBQzs7QUFFckIsUUFBSSxDQUFDLGtCQUFrQixHQUFHLElBQUksQ0FBQzs7O0FBRy9CLFFBQUksQ0FBQyxJQUFJLEdBQUcsVUFBUyxVQUFVLEVBQUU7QUFDN0IsbUJBQVcsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7QUFDN0IsdUJBQWUsRUFBRSxDQUFDO0tBQ3JCLENBQUM7OztBQUdGLFFBQUksQ0FBQyxPQUFPLEdBQUcsVUFBUyxVQUFVLEVBQUU7QUFDaEMsbUJBQVcsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7QUFDN0IsZ0JBQVEsRUFBRSxDQUFDO0tBQ2QsQ0FBQzs7O0FBR0YsUUFBSSxlQUFlLEdBQUcsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLENBQUM7Ozs7QUFJakQsYUFBUyxRQUFRLEdBQUc7O0FBRWhCLFlBQUksTUFBTSxDQUFDLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLEVBQUU7QUFDbkMsbUJBQU87U0FDVjs7QUFFRCxZQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sRUFBRTtBQUNyQixtQkFBTyxDQUFDLEdBQUcsQ0FBQyw0QkFBNEIsQ0FBQyxDQUFDO0FBQzFDLG1CQUFPO1NBQ1Y7OztBQUdELFlBQUksVUFBVSxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7OztBQUdyQyxZQUFJLHNCQUFzQixHQUFHLENBQUMsQ0FBQyxPQUFPLENBQUMsVUFBVSxFQUFFLE1BQU0sQ0FBQyxDQUFDO0FBQzNELFlBQUksc0JBQXNCLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtBQUNuQyxzQkFBVSxHQUFHLHNCQUFzQixDQUFDO1NBQ3ZDOzs7QUFHRCxZQUFJLGVBQWUsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLFVBQVUsRUFBRSxVQUFTLEVBQUUsRUFBRTtBQUNqRCxtQkFBTyxDQUFDLENBQUMsTUFBTSxDQUFDLGtCQUFrQixFQUFFLEVBQUUsQ0FBQyxDQUFDO1NBQzNDLENBQUMsQ0FBQzs7O0FBR0gsWUFBSSxRQUFRLEdBQUc7QUFDWCxrQkFBTSxFQUFFLE1BQU0sQ0FBQyxRQUFRO0FBQ3ZCLGtCQUFNLEVBQUUsR0FBRyxDQUFDLFVBQVUsRUFBRSxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUU7QUFDdkMsd0JBQVksRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxZQUFZLEVBQUUsQ0FBQztBQUN4RCw0QkFBZ0IsRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO0FBQ25FLDhCQUFrQixFQUFFLEdBQUcsQ0FBQyxZQUFZLEVBQUUsQ0FBQyxhQUFhLEVBQUU7QUFDdEQsNkJBQWlCLEVBQUUsR0FBRyxDQUFDLFlBQVksRUFBRSxDQUFDLHFCQUFxQixFQUFFO0FBQzdELHlCQUFhLEVBQUUsVUFBVSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUM7QUFDbkMsZ0NBQW9CLEVBQUUsZUFBZSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7QUFDaEQsMkJBQWUsRUFBRSxHQUFHLENBQUMsWUFBWSxFQUFFLENBQUMsZUFBZSxFQUFFO1NBQ3hELENBQUM7QUFDRixZQUFJLEdBQUcsR0FBRyxNQUFNLENBQUMsTUFBTSxHQUFHLE9BQU8sQ0FBQzs7QUFFbEMsY0FBTSxDQUFDLGdCQUFnQixDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQztBQUN2QyxhQUFLLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxRQUFRLENBQUMsQ0FBQyxJQUFJLENBQ3pCLFVBQVMsUUFBUSxFQUFFO0FBQ2YsdUJBQVcsR0FBRyxFQUFFLENBQUM7QUFDakIsa0JBQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUM7O0FBRXhDLGtCQUFNLENBQUMsR0FBRyxDQUFDLGdCQUFnQixDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7U0FDbEQsRUFDRCxZQUFXO0FBQ1Asa0JBQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUM7U0FDL0MsQ0FBQyxDQUFDO0tBQ1Y7Ozs7QUFNRCxRQUFJLGtCQUFrQixHQUFHO0FBQ3JCLFlBQUksRUFBRSxlQUFlO0FBQ3JCLGlCQUFTLEVBQUUscUJBQXFCO0FBQ2hDLGtCQUFVLEVBQUUsc0JBQXNCO0FBQ2xDLHdCQUFnQixFQUFFLDRCQUE0QjtBQUM5QyxxQkFBYSxFQUFFLG1CQUFtQjtBQUNsQyxjQUFNLEVBQUUscUJBQXFCO0FBQzdCLGNBQU0sRUFBRSxnQkFBZ0I7QUFDeEIsY0FBTSxFQUFFLHNCQUFzQjtBQUM5QixjQUFNLEVBQUUscUJBQXFCO0FBQzdCLGlCQUFTLEVBQUUsYUFBYTtBQUN4QixvQkFBWSxFQUFFLGVBQWU7QUFDN0Isb0JBQVksRUFBRSxlQUFlO0FBQzdCLHdCQUFnQixFQUFFLG9CQUFvQjtBQUN0QyxzQkFBYyxFQUFFLHlCQUF5QjtBQUN6QyxzQkFBYyxFQUFFLGdDQUFnQztBQUNoRCxzQkFBYyxFQUFFLHVDQUF1QztLQUMxRCxDQUFDOzs7QUFHRixRQUFJLENBQUMsWUFBWSxHQUFHLFVBQVMsQ0FBQyxFQUFFOztBQUU1QixZQUFJLENBQUMsSUFBSSxDQUFDLGtCQUFrQixFQUFFO0FBQzFCLG1CQUFPO1NBQ1Y7O0FBRUQsWUFBSSxVQUFVLEdBQUcsSUFBSSxDQUFDO0FBQ3RCLFlBQUksaUJBQWlCLEdBQUcsSUFBSSxDQUFDOztBQUU3QixZQUFJLENBQUMsQ0FBQyxZQUFZLElBQUksTUFBTSxFQUFFOzs7QUFHMUIsc0JBQVUsR0FBRyxRQUFRLENBQUM7QUFDdEIsNkJBQWlCLEdBQUcsNEJBQTRCLENBQUM7U0FDcEQsTUFBTSxJQUFJLENBQUMsQ0FBQyxZQUFZLElBQUksUUFBUSxFQUFFOzs7QUFHbkMsc0JBQVUsR0FBRyxRQUFRLENBQUM7U0FDekIsTUFBTSxJQUFJLENBQUMsQ0FBQyxNQUFNLElBQUksRUFBRSxDQUFDLFlBQVksQ0FBQyxNQUFNLElBQUksY0FBYyxDQUFDLENBQUMsQ0FBQyxRQUFRLEVBQUUsVUFBVSxFQUFFLEdBQUcsQ0FBQyxFQUFFOzs7O0FBSTFGLHNCQUFVLEdBQUcsUUFBUSxDQUFDO1NBQ3pCLE1BQU0sSUFBSSxDQUFDLENBQUMsTUFBTSxJQUFJLEVBQUUsQ0FBQyxZQUFZLENBQUMsTUFBTSxJQUFJLGNBQWMsQ0FBQyxDQUFDLENBQUMsUUFBUSxFQUFFLFVBQVUsRUFBRSxHQUFHLENBQUMsRUFBRTs7O0FBRzFGLHNCQUFVLEdBQUcsUUFBUSxDQUFDO1NBQ3pCLE1BQU0sSUFBSSxDQUFDLENBQUMsWUFBWSxJQUFJLGVBQWUsRUFBRTs7Ozs7Ozs7Ozs7O0FBWTFDLGdCQUFJLEFBQUMsQ0FBQyxDQUFDLFFBQVEsSUFBSSxDQUFDLENBQUMsUUFBUSxDQUFDLFFBQVEsSUFBSSxHQUFHLElBQ3hDLENBQUMsQ0FBQyxRQUFRLElBQUksQ0FBQyxDQUFDLFFBQVEsQ0FBQyxRQUFRLElBQUksR0FBRyxBQUFDLEVBQUU7QUFDNUMsMEJBQVUsR0FBRyxRQUFRLENBQUM7YUFDekIsTUFBTSxJQUFJLEFBQUMsQ0FBQyxDQUFDLFFBQVEsSUFBSSxDQUFDLENBQUMsUUFBUSxDQUFDLFFBQVEsSUFBSSxHQUFHLElBQy9DLENBQUMsQ0FBQyxRQUFRLElBQUksQ0FBQyxDQUFDLFFBQVEsQ0FBQyxRQUFRLElBQUksR0FBRyxBQUFDLEVBQUU7QUFDNUMsMEJBQVUsR0FBRyxRQUFRLENBQUM7YUFDekI7U0FDSixNQUFNLElBQUksQ0FBQyxDQUFDLFlBQVksSUFBSSxVQUFVLEVBQUU7OztBQUdyQyxzQkFBVSxHQUFHLFFBQVEsQ0FBQztTQUN6QixNQUFNLElBQUksQ0FBQyxDQUFDLFlBQVksSUFBSSxPQUFPLEVBQUU7Ozs7Ozs7O0FBUWxDLHNCQUFVLEdBQUcsUUFBUSxDQUFDO1NBQ3pCLE1BQU0sSUFBSSxDQUFDLENBQUMsWUFBWSxJQUFJLGVBQWUsSUFBSSxDQUFDLENBQUMsTUFBTSxJQUFJLEVBQUUsQ0FBQyxZQUFZLENBQUMsTUFBTSxJQUFJLGNBQWMsQ0FBQyxDQUFDLENBQUMsUUFBUSxFQUFFLFNBQVMsRUFBRSxJQUFJLENBQUMsRUFBRTs7Ozs7QUFLL0gsc0JBQVUsR0FBRyxXQUFXLENBQUM7U0FDNUIsTUFBTSxJQUFJLENBQUMsQ0FBQyxZQUFZLElBQUksTUFBTSxFQUFFOzs7QUFHakMsc0JBQVUsR0FBRyxjQUFjLENBQUM7QUFDNUIsNkJBQWlCLEdBQUcsZUFBZSxDQUFDO1NBQ3ZDLE1BQU0sSUFBSSxDQUFDLENBQUMsWUFBWSxJQUFJLGVBQWUsSUFBSSxDQUFDLENBQUMsTUFBTSxJQUFJLEVBQUUsQ0FBQyxZQUFZLENBQUMsTUFBTSxJQUFJLGNBQWMsQ0FBQyxDQUFDLENBQUMsUUFBUSxFQUFFLFNBQVMsRUFBRSxJQUFJLENBQUMsRUFBRTs7O0FBRy9ILHNCQUFVLEdBQUcsY0FBYyxDQUFDO1NBQy9CLE1BQU0sSUFBSSxDQUFDLENBQUMsWUFBWSxJQUFJLGVBQWUsSUFBSSxDQUFDLENBQUMsTUFBTSxJQUFJLEVBQUUsQ0FBQyxZQUFZLENBQUMsTUFBTSxJQUFJLGNBQWMsQ0FBQyxDQUFDLENBQUMsUUFBUSxFQUFFLFNBQVMsRUFBRSxLQUFLLENBQUMsRUFBRTs7O0FBR2hJLHNCQUFVLEdBQUcsZ0JBQWdCLENBQUM7U0FDakMsTUFBTSxJQUFJLENBQUMsQ0FBQyxZQUFZLElBQUksZUFBZSxJQUFJLENBQUMsQ0FBQyxNQUFNLElBQUksRUFBRSxDQUFDLFlBQVksQ0FBQyxNQUFNLElBQUksY0FBYyxDQUFDLENBQUMsQ0FBQyxRQUFRLEVBQUUsU0FBUyxFQUFFLEtBQUssQ0FBQyxFQUFFOzs7QUFHaEksc0JBQVUsR0FBRyxnQkFBZ0IsQ0FBQztTQUNqQyxNQUFNLElBQUksQ0FBQyxDQUFDLFlBQVksSUFBSSxLQUFLLElBQUksQ0FBQyxDQUFDLFlBQVksSUFBSSxPQUFPLElBQUksQ0FBQyxDQUFDLFlBQVksSUFBSSxRQUFRLEVBQUU7Ozs7Ozs7O0FBUTNGLHNCQUFVLEdBQUcsTUFBTSxDQUFDO1NBQ3ZCLE1BQU0sSUFBSSxDQUFDLENBQUMsWUFBWSxJQUFJLE9BQU8sSUFBSSxDQUFDLENBQUMsWUFBWSxJQUFJLFVBQVUsRUFBRTs7QUFFbEUsc0JBQVUsR0FBRyxJQUFJLENBQUM7U0FDckIsTUFBTSxJQUFJLENBQUMsQ0FBQyxZQUFZLElBQUksYUFBYSxFQUFFOztBQUV4QyxzQkFBVSxHQUFHLGtCQUFrQixDQUFDO1NBQ25DLE1BQU0sSUFBSSxDQUFDLENBQUMsWUFBWSxJQUFJLFdBQVcsSUFBSSxDQUFDLENBQUMsWUFBWSxJQUFJLFdBQVcsRUFBRTs7QUFFdkUsc0JBQVUsR0FBRyxNQUFNLENBQUM7U0FDdkIsTUFBTSxJQUFJLENBQUMsQ0FBQyxZQUFZLElBQUksY0FBYyxJQUFJLENBQUMsQ0FBQyxZQUFZLElBQUksY0FBYyxFQUFFO0FBQzdFLHNCQUFVLEdBQUcsV0FBVyxDQUFDO0FBQ3pCLGVBQUcsQ0FBQyxPQUFPLEVBQUUsQ0FBQztTQUNqQixNQUFNLElBQUksQ0FBQyxDQUFDLE1BQU0sSUFBSSxFQUFFLENBQUMsWUFBWSxDQUFDLFdBQVcsRUFBRTtBQUNoRCxtQkFBTyxDQUFDLEdBQUcsQ0FBQyw2QkFBNkIsR0FBRyxDQUFDLENBQUMsV0FBVyxHQUNyRCxZQUFZLEdBQUcsQ0FBQyxDQUFDLE1BQU0sR0FDdkIsY0FBYyxHQUFHLENBQUMsQ0FBQyxRQUFRLEdBQzNCLGVBQWUsR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsR0FBRyxJQUFJLEdBQzVDLGNBQWMsR0FBRyxDQUFDLENBQUMsUUFBUSxHQUMzQixlQUFlLEdBQUcsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLEdBQUcsSUFBSSxHQUM1QyxrQkFBa0IsR0FBRyxDQUFDLENBQUMsWUFBWSxDQUN0QyxDQUFDO1NBQ0w7O0FBRUQsWUFBSSxVQUFVLEVBQUU7QUFDWixlQUFHLENBQUMsWUFBWSxFQUFFLENBQUMseUJBQXlCLEVBQUUsQ0FBQzs7QUFFL0MsZ0JBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7U0FDekI7S0FDSixDQUFDOzs7QUFHRixhQUFTLGNBQWMsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRTtBQUNyQyxlQUFPLEdBQUcsS0FBSyxJQUFJLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLElBQUksS0FBSyxDQUFDO0tBQ3pFO0NBR0osQ0FBQzs7Ozs7OztBQ3BPRixNQUFNLENBQUMsY0FBYyxHQUFHLEVBQUUsQ0FBQzs7QUFFM0IsTUFBTSxDQUFDLGFBQWEsR0FBRyxVQUFTLFVBQVUsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLFNBQVMsRUFBRSxRQUFRLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRTs7QUFFMUYsVUFBTSxDQUFDLEdBQUcsR0FBRyxJQUFJLGNBQWMsQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRSxTQUFTLEVBQUUsUUFBUSxFQUFFLE1BQU0sRUFBRSxJQUFJLENBQUMsQ0FBQzs7O0FBR3RGLFFBQUksUUFBUSxHQUFHLE1BQU0sQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQztBQUMzQyxVQUFNLENBQUMsT0FBTyxHQUFHLFFBQVEsQ0FBQyxPQUFPLENBQUM7QUFDbEMsVUFBTSxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUM7QUFDekMsVUFBTSxDQUFDLEtBQUssR0FBRyxRQUFRLENBQUMsRUFBRSxDQUFDO0FBQzNCLFVBQU0sQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDLElBQUksQ0FBQztBQUNoQyxVQUFNLENBQUMsV0FBVyxHQUFHLFFBQVEsQ0FBQyxRQUFRLENBQUM7QUFDdkMsVUFBTSxDQUFDLE1BQU0sR0FBRyxRQUFRLENBQUMsR0FBRyxDQUFDO0FBQzdCLFVBQU0sQ0FBQyxPQUFPLEdBQUcsUUFBUSxDQUFDLE9BQU8sQ0FBQztBQUNsQyxVQUFNLENBQUMsU0FBUyxHQUFHLFFBQVEsQ0FBQyxTQUFTLENBQUM7QUFDdEMsVUFBTSxDQUFDLFNBQVMsR0FBRyxRQUFRLENBQUMsU0FBUyxDQUFDO0FBQ3RDLFVBQU0sQ0FBQyxhQUFhLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQzs7QUFFOUMsVUFBTSxDQUFDLFlBQVksR0FBRyxLQUFLLENBQUM7O0FBRTVCLFVBQU0sQ0FBQyxlQUFlLEdBQUcsS0FBSyxDQUFDO0FBQy9CLFVBQU0sQ0FBQyxrQkFBa0IsR0FBRyxJQUFJLENBQUM7O0FBRWpDLFVBQU0sQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDOzs7QUFHekIsVUFBTSxDQUFDLFVBQVUsQ0FBQyxLQUFLLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQzs7QUFFdkMsVUFBTSxDQUFDLHNCQUFzQixHQUFHLFlBQVc7QUFDdkMsWUFBSSxNQUFNLENBQUMsT0FBTyxFQUFFO0FBQ2hCLGtCQUFNLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQztTQUM5QjtLQUNKLENBQUM7O0FBRUYsVUFBTSxDQUFDLGdCQUFnQixHQUFHLFlBQVc7O0FBRWpDLGNBQU0sQ0FBQyxZQUFZLEdBQUcsS0FBSyxDQUFDO0FBQzVCLGNBQU0sQ0FBQyxHQUFHLENBQUMsV0FBVyxFQUFFLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO0tBQy9DLENBQUM7O0FBRUYsVUFBTSxDQUFDLG9CQUFvQixHQUFHLFVBQVMsQ0FBQyxFQUFFO0FBQ3RDLFlBQUksQ0FBQyxDQUFDLEtBQUssSUFBSSxFQUFFLEVBQUU7QUFDZixrQkFBTSxDQUFDLGdCQUFnQixFQUFFLENBQUM7U0FDN0I7S0FDSixDQUFDOztBQUVGLFVBQU0sQ0FBQyxLQUFLLEdBQUcsWUFBVztBQUN0QixjQUFNLENBQUMsS0FBSyxFQUFFLENBQUM7S0FDbEIsQ0FBQzs7OztBQUlGLFVBQU0sQ0FBQyxjQUFjLEdBQUcsWUFBVztBQUMvQixZQUFJLGFBQWEsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDO0FBQzVCLHVCQUFXLEVBQUUsa0NBQWtDO0FBQy9DLG9CQUFRLEVBQUUsUUFBUTtBQUNsQixzQkFBVSxFQUFFLG9CQUFvQjtBQUNoQyx1QkFBVyxFQUFFLG9CQUFvQjtBQUNqQyxtQkFBTyxFQUFFO0FBQ0wsMEJBQVUsRUFBRSxzQkFBVztBQUNuQiwyQkFBTyxNQUFNLENBQUM7aUJBQ2pCO0FBQ0QsbUJBQUcsRUFBRSxlQUFXO0FBQ1osMkJBQU8sTUFBTSxDQUFDLEdBQUcsQ0FBQztpQkFDckI7QUFDRCwyQkFBVyxFQUFFLHVCQUFXO0FBQ3BCLDJCQUFPLE1BQU0sQ0FBQyxXQUFXLENBQUM7aUJBQzdCO2FBQ0o7U0FDSixDQUFDLENBQUM7O0FBRUgscUJBQWEsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFlBQVcsRUFBRSxDQUFDLENBQUM7S0FDNUMsQ0FBQzs7QUFFRixRQUFJLG9CQUFvQixHQUFHLFNBQXZCLG9CQUFvQixDQUFZLE1BQU0sRUFBRSxjQUFjLEVBQUUsVUFBVSxFQUFFLEdBQUcsRUFBRSxXQUFXLEVBQUU7O0FBRXRGLGNBQU0sQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDO0FBQ2pCLGNBQU0sQ0FBQyxXQUFXLEdBQUcsV0FBVyxDQUFDOztBQUVqQyxjQUFNLENBQUMsT0FBTyxHQUFHLEdBQUcsQ0FBQyxVQUFVLEVBQUUsQ0FBQyxLQUFLLENBQUMsTUFBTSxFQUFFLENBQUM7QUFDakQsY0FBTSxDQUFDLFlBQVksR0FBRyxHQUFHLENBQUMsWUFBWSxFQUFFLENBQUMsZUFBZSxFQUFFLENBQUM7O0FBRTNELGlCQUFTLG1CQUFtQixHQUFHO0FBQzNCLG1CQUFPO0FBQ0gscUJBQUssRUFBRSxFQUFFO0FBQ1Qsd0JBQVEsRUFBRSxFQUFFO2FBQ2YsQ0FBQztTQUNMOzs7QUFHRCxpQkFBUyxvQkFBb0IsR0FBRztBQUM1QixtQkFBTztBQUNILHFCQUFLLEVBQUUsRUFBRTtBQUNULDBCQUFVLEVBQUUsRUFBRTtBQUNkLHlCQUFTLEVBQUUsRUFBRTtBQUNiLHdCQUFRLEVBQUUsRUFBRTtBQUNaLHFDQUFxQixFQUFFLEVBQUU7YUFDNUIsQ0FBQztTQUNMOztBQUVELGNBQU0sQ0FBQyxTQUFTLEdBQUcsbUJBQW1CLEVBQUUsQ0FBQztBQUN6QyxjQUFNLENBQUMsVUFBVSxHQUFHLEVBQUUsQ0FBQzs7QUFFdkIsY0FBTSxDQUFDLFVBQVUsR0FBRyxvQkFBb0IsRUFBRSxDQUFDO0FBQzNDLGNBQU0sQ0FBQyxZQUFZLEdBQUcsb0JBQW9CLEVBQUUsQ0FBQzs7QUFFN0MsY0FBTSxDQUFDLE9BQU8sR0FBRyxZQUFXO0FBQ3hCLGtCQUFNLENBQUMsV0FBVyxHQUFHLG1CQUFtQixFQUFFLENBQUM7QUFDM0MsaUJBQUssQ0FBQyxJQUFJLENBQUMsZUFBZSxFQUFFO0FBQ3hCLG9CQUFJLEVBQUUsTUFBTSxDQUFDLFNBQVM7YUFDekIsQ0FBQyxDQUFDLElBQUksQ0FDSCxVQUFTLFFBQVEsRUFBRTs7QUFFZiwwQkFBVSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0FBQ3ZDLDBCQUFVLENBQUMsZUFBZSxDQUFDLFlBQVc7QUFDbEMsMEJBQU0sQ0FBQyxXQUFXLEdBQUcsVUFBVSxDQUFDLFdBQVcsQ0FBQztpQkFDL0MsQ0FBQyxDQUFDO2FBQ04sRUFDRCxVQUFTLFFBQVEsRUFBRTs7QUFFZixzQkFBTSxDQUFDLFVBQVUsR0FBRyxRQUFRLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQzthQUMzQyxDQUFDLENBQUM7U0FDVixDQUFDOztBQUVGLGNBQU0sQ0FBQyxRQUFRLEdBQUcsWUFBVztBQUN6QixrQkFBTSxDQUFDLFlBQVksR0FBRyxvQkFBb0IsRUFBRSxDQUFDO0FBQzdDLGlCQUFLLENBQUMsSUFBSSxDQUFDLGFBQWEsRUFBRTtBQUN0QixvQkFBSSxFQUFFLE1BQU0sQ0FBQyxVQUFVO2FBQzFCLENBQUMsQ0FBQyxJQUFJLENBQ0gsVUFBUyxRQUFRLEVBQUU7O0FBRWYsMEJBQVUsQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ3BDLDBCQUFVLENBQUMsZUFBZSxDQUFDLFlBQVc7QUFDbEMsMEJBQU0sQ0FBQyxXQUFXLEdBQUcsVUFBVSxDQUFDLFdBQVcsQ0FBQztpQkFDL0MsQ0FBQyxDQUFDO2FBQ04sRUFDRCxVQUFTLFFBQVEsRUFBRTs7QUFFZixpQkFBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsRUFBRSxVQUFTLEdBQUcsRUFBRTtBQUN4QywwQkFBTSxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQUMsR0FBRyxRQUFRLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztpQkFDNUQsQ0FBQyxDQUFDO2FBQ04sQ0FBQyxDQUFDO1NBQ1YsQ0FBQzs7QUFFRixjQUFNLENBQUMsTUFBTSxHQUFHLFlBQVc7QUFDdkIsMEJBQWMsQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUM7U0FDcEMsQ0FBQztLQUNMLENBQUM7O0FBRUYsd0JBQW9CLENBQUMsT0FBTyxHQUFHLENBQUMsUUFBUSxFQUFFLGdCQUFnQixFQUFFLFlBQVksRUFBRSxLQUFLLEVBQUUsYUFBYSxDQUFDLENBQUM7Ozs7QUFJaEcsVUFBTSxDQUFDLFVBQVUsR0FBRyxFQUFFLENBQUM7O0FBRXZCLFVBQU0sQ0FBQyxZQUFZLEdBQUcsRUFBRSxDQUFDO0FBQ3pCLFVBQU0sQ0FBQyxTQUFTLEdBQUcsV0FBVyxDQUFDO0FBQy9CLFVBQU0sQ0FBQyxNQUFNLEdBQUcsV0FBVyxDQUFDO0FBQzVCLFVBQU0sQ0FBQyxPQUFPLEdBQUcsbUJBQW1CLENBQUM7QUFDckMsVUFBTSxDQUFDLFdBQVcsR0FBRyw0QkFBNEIsQ0FBQzs7QUFFbEQsVUFBTSxDQUFDLGdCQUFnQixHQUFHLFVBQVMsQ0FBQyxFQUFFOztBQUVsQyxjQUFNLENBQUMsVUFBVSxHQUFHLENBQUMsQ0FBQztBQUN0QixZQUFJLENBQUMsSUFBSSxNQUFNLENBQUMsV0FBVyxFQUFFO0FBQ3pCLGlCQUFLLENBQUMsb0VBQW9FLENBQUMsQ0FBQztTQUMvRSxNQUFNLElBQUksQ0FBQyxJQUFJLE1BQU0sQ0FBQyxZQUFZLEVBQUU7QUFDakMsZ0JBQUksSUFBSSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUMsT0FBTyxFQUFFLENBQUM7QUFDOUMsZ0JBQUksRUFBRSxHQUFHLEVBQUUsQ0FBQztBQUNaLGdCQUFJLE1BQU0sQ0FBQyxTQUFTLElBQUksTUFBTSxDQUFDLE1BQU0sRUFBRTtBQUNuQyxrQkFBRSxHQUFHLE9BQU8sQ0FBQzthQUNoQixNQUFNLElBQUksTUFBTSxDQUFDLGFBQWEsRUFBRTtBQUM3QixrQkFBRSxHQUFHLEtBQUssR0FBRyxNQUFNLENBQUMsYUFBYSxDQUFDO2FBQ3JDOzs7QUFHRCxrQkFBTSxDQUFDLFVBQVUsR0FBRyxlQUFlLEdBQUcsSUFBSSxHQUFHLEdBQUcsR0FBRyxFQUFFLENBQUM7U0FDekQ7OztBQUFBLEtBR0osQ0FBQzs7OztBQUtGLGFBQVMsSUFBSSxHQUFHO0FBQ1osY0FBTSxDQUFDLFNBQVMsQ0FBQyxZQUFXO0FBQ3hCLGtCQUFNLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDOztBQUVsQixnQkFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLEVBQUU7O0FBRWpCLG9CQUFJLFFBQVEsR0FBRyxFQUFFLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsUUFBUSxFQUFFLGtCQUFrQixFQUFFO0FBQ2hFLDRCQUFRLEVBQUUsTUFBTSxDQUFDLEdBQUcsQ0FBQyxVQUFVLEVBQUU7QUFDakMsb0NBQWdCLEVBQUUsRUFBRSxDQUFDLElBQUksQ0FBQyxNQUFNO2lCQUNuQyxDQUFDLENBQUM7QUFDSCxvQkFBSSxPQUFPLEdBQUcsUUFBUSxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsS0FBSyxFQUFFLENBQUM7QUFDNUMsdUJBQU8sQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO2FBQzNCOztBQUVELGdCQUFJLE1BQU0sQ0FBQyxNQUFNLEVBQUU7QUFDZixzQkFBTSxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQzthQUNyQixNQUFNO0FBQ0gsc0JBQU0sQ0FBQyxHQUFHLENBQUMsY0FBYyxFQUFFLENBQUM7YUFDL0I7O0FBRUQsd0JBQVksRUFBRSxDQUFDO0FBQ2YsNEJBQWdCLEVBQUUsQ0FBQztBQUNuQiwyQkFBZSxFQUFFLENBQUM7U0FDckIsQ0FBQyxDQUFDO0tBQ047Ozs7QUFJRCxhQUFTLFlBQVksR0FBRzs7Ozs7O0FBTXBCLFlBQUksQ0FBQyxNQUFNLENBQUMsYUFBYSxFQUFFLEVBQUU7Ozs7Ozs7Ozs7O0FBV3pCLGFBQUMsQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDLEtBQUssQ0FDekIsWUFBVztBQUNQLGlCQUFDLENBQUMsd0JBQXdCLENBQUMsQ0FBQyxRQUFRLENBQUMsYUFBYSxDQUFDLENBQUM7YUFDdkQsRUFDRCxZQUFXO0FBQ1AsaUJBQUMsQ0FBQyx3QkFBd0IsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxhQUFhLENBQUMsQ0FBQzthQUMxRCxDQUNKLENBQUM7U0FDTDtLQUNKOztBQUVELGFBQVMsZ0JBQWdCLEdBQUc7O0FBRXhCLFlBQUk7O0FBRUEsaUJBQUssQ0FBQyxnQ0FBZ0MsQ0FBQyxZQUFZLENBQUMsQ0FBQztBQUNyRCxtQkFBTyxDQUFDLGNBQWMsR0FBRyxZQUFZLENBQUM7U0FDekMsQ0FBQyxPQUFPLENBQUMsRUFBRSxFQUVYOzs7O0FBSUQsaUJBQVMsV0FBVyxHQUFHO0FBQ25CLG1CQUFPLDBFQUEwRSxHQUM3RSxtRkFBbUYsQ0FBQztTQUMzRjs7Ozs7O0FBTUQsU0FBQyxDQUFDLGlCQUFpQixDQUFDLENBQUMsS0FBSyxDQUFDLFlBQVc7QUFDbEMsYUFBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLE1BQU0sQ0FBQyxjQUFjLEVBQUUsV0FBVyxDQUFDLENBQUM7U0FDakQsQ0FBQyxDQUFDO0tBQ047O0FBRUQsYUFBUyxlQUFlLEdBQUc7QUFDdkIsWUFBSSxTQUFTLEdBQUcsQ0FBQyxDQUFDOztBQUVsQixTQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxDQUFDLFNBQVMsRUFBRSxVQUFTLEtBQUssRUFBRTtBQUN0QyxnQkFBSSxLQUFLLENBQUMsT0FBTyxLQUFLLFNBQVMsRUFBRTtBQUM3QixvQkFBSSxDQUFDLENBQUMsQ0FBQyxhQUFhLENBQUMsQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLEVBQUU7O0FBRWhDLHlCQUFLLENBQUMsY0FBYyxFQUFFLENBQUM7QUFDdkIseUJBQUssQ0FBQyxlQUFlLEVBQUUsQ0FBQztpQkFDM0I7YUFDSjtTQUNKLENBQUMsQ0FBQztLQUNOOztBQUVELFFBQUksRUFBRSxDQUFDO0NBQ1YsQ0FBQzs7QUFFRixNQUFNLENBQUMsYUFBYSxDQUFDLE9BQU8sR0FBRyxDQUFDLFlBQVksRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLFdBQVcsRUFBRSxVQUFVLEVBQUUsUUFBUSxFQUFFLE1BQU0sQ0FBQyxDQUFDOzs7Ozs7O0FDL1I1RyxNQUFNLENBQUMscUJBQXFCLEdBQUcsRUFBRSxDQUFDOztBQUVsQyxxQkFBcUIsR0FBRyxVQUFTLE1BQU0sRUFBRSxLQUFLLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUU7O0FBRXJFLFFBQUksQ0FBQyxTQUFTLEdBQUcsVUFBUyxRQUFPLEVBQUUsZUFBYyxFQUFFLFNBQVEsRUFBRTtBQUN6RCxZQUFJLGFBQWEsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDO0FBQzVCLHVCQUFXLEVBQUUsb0NBQW9DO0FBQ2pELG9CQUFRLEVBQUUsUUFBUTtBQUNsQixzQkFBVSxFQUFFLGdCQUFnQjtBQUM1Qix1QkFBVyxFQUFFLGVBQWU7QUFDNUIsbUJBQU8sRUFBRTtBQUNMLHVCQUFPLEVBQUUsbUJBQVc7QUFDaEIsMkJBQU8sUUFBTyxDQUFDO2lCQUNsQjtBQUNELDhCQUFjLEVBQUUsMEJBQVc7QUFDdkIsMkJBQU8sZUFBYyxDQUFDO2lCQUN6QjtBQUNELHdCQUFRLEVBQUUsb0JBQVc7QUFDakIsMkJBQU8sU0FBUSxDQUFDO2lCQUNuQjthQUNKO1NBQ0osQ0FBQyxDQUFDOztBQUVILHFCQUFhLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxZQUFXLEVBQUUsQ0FBQyxDQUFDO0tBQzVDLENBQUM7Ozs7QUFLRixRQUFJLGdCQUFnQixHQUFHLFNBQW5CLGdCQUFnQixDQUFZLE1BQU0sRUFBRSxjQUFjLEVBQUUsT0FBTyxFQUFFLGNBQWMsRUFBRSxRQUFRLEVBQUU7O0FBRXZGLGNBQU0sQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDOztBQUV6QixjQUFNLENBQUMsV0FBVyxHQUFHO0FBQ2pCLGlCQUFLLEVBQUUsS0FBSztTQUNmLENBQUM7O0FBRUYsY0FBTSxDQUFDLEVBQUUsR0FBRyxZQUFXO0FBQ25CLG9CQUFRLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0FBQ3pCLGdCQUFJLE1BQU0sQ0FBQyxXQUFXLENBQUMsS0FBSyxFQUFFO0FBQzFCLDhCQUFjLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDO2FBQ2xDO0FBQ0QsMEJBQWMsQ0FBQyxLQUFLLEVBQUUsQ0FBQztTQUMxQixDQUFDOztBQUVGLGNBQU0sQ0FBQyxNQUFNLEdBQUcsWUFBVztBQUN2QiwwQkFBYyxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQztTQUNwQyxDQUFDO0tBQ0wsQ0FBQzs7QUFFRixvQkFBZ0IsQ0FBQyxPQUFPLEdBQUcsQ0FBQyxRQUFRLEVBQUUsZ0JBQWdCLEVBQUUsU0FBUyxFQUFFLGdCQUFnQixFQUFFLFVBQVUsQ0FBQyxDQUFDO0NBQ3BHLENBQUM7Ozs7Ozs7QUNqREYsTUFBTSxDQUFDLFlBQVksR0FBRyxVQUFTLE1BQU0sRUFBRSxLQUFLLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUU7O0FBRW5FLFVBQU0sQ0FBQyxrQkFBa0IsR0FBRyxJQUFJLENBQUM7QUFDakMsVUFBTSxDQUFDLFdBQVcsR0FBRyxLQUFLLENBQUM7O0FBRTNCLFVBQU0sQ0FBQyxNQUFNLEdBQUcsRUFBRSxDQUFDO0FBQ25CLFVBQU0sQ0FBQyxhQUFhLEdBQUcsRUFBRSxDQUFDO0FBQzFCLFVBQU0sQ0FBQyxTQUFTLEdBQUcsRUFBRSxDQUFDOztBQUV0QixVQUFNLENBQUMsV0FBVyxHQUFHLENBQUM7QUFDbEIsWUFBSSxFQUFFLGFBQWE7QUFDbkIsYUFBSyxFQUFFLGFBQWE7S0FDdkIsRUFBRTtBQUNDLFlBQUksRUFBRSxZQUFZO0FBQ2xCLGFBQUssRUFBRSxZQUFZO0tBQ3RCLEVBQUU7QUFDQyxZQUFJLEVBQUUsZ0JBQWdCO0FBQ3RCLGFBQUssRUFBRSxnQkFBZ0I7S0FDMUIsQ0FBQyxDQUFDOztBQUVILFVBQU0sQ0FBQyxPQUFPLEdBQUcsQ0FBQztBQUNkLFlBQUksRUFBRSxLQUFLO0FBQ1gsYUFBSyxFQUFFLGlCQUFpQjtLQUMzQixFQUFFO0FBQ0MsWUFBSSxFQUFFLGVBQWU7QUFDckIsYUFBSyxFQUFFLGVBQWU7S0FDekIsRUFBRTtBQUNDLFlBQUksRUFBRSxZQUFZO0FBQ2xCLGFBQUssRUFBRSxrQkFBaUI7S0FDM0IsRUFBRTtBQUNDLFlBQUksRUFBRSxpQkFBaUI7QUFDdkIsYUFBSyxFQUFFLHlCQUF5QjtLQUNuQyxFQUFFO0FBQ0MsWUFBSSxFQUFFLGFBQWE7QUFDbkIsYUFBSyxFQUFFLDBCQUEwQjtLQUNwQyxDQUFDLENBQUM7O0FBRUgsYUFBUyxzQkFBc0IsR0FBRztBQUM5QixlQUFPO0FBQ0gsZ0JBQUksRUFBRSxFQUFFO0FBQ1IsMEJBQWMsRUFBRSxFQUFFO0FBQ2xCLHNCQUFVLEVBQUUsRUFBRTtBQUNkLGdCQUFJLEVBQUUsRUFBRTtBQUNSLHFCQUFTLEVBQUUsRUFBRTtBQUNiLHNCQUFVLEVBQUUsS0FBSztBQUNqQiw4QkFBa0IsRUFBRSxLQUFLO0FBQ3pCLGtCQUFNLEVBQUUsYUFBYTtBQUNyQixrQkFBTSxFQUFFLEtBQUs7U0FDaEIsQ0FBQztLQUNMOztBQUVELFVBQU0sQ0FBQyxZQUFZLEdBQUcsc0JBQXNCLEVBQUUsQ0FBQzs7QUFFL0MsVUFBTSxDQUFDLHlCQUF5QixHQUFHLFlBQVc7QUFDMUMsWUFBSSxFQUFFLEdBQUcsTUFBTSxDQUFDLFlBQVksQ0FBQztBQUM3QixlQUFPLE9BQU8sR0FBRyxFQUFFLENBQUMsSUFBSSxHQUNwQixrQkFBa0IsR0FBRyxFQUFFLENBQUMsY0FBYyxHQUN0QyxjQUFjLEdBQUcsRUFBRSxDQUFDLFVBQVUsR0FDOUIsUUFBUSxHQUFHLEVBQUUsQ0FBQyxJQUFJLEdBQ2xCLGFBQWEsR0FBRyxFQUFFLENBQUMsU0FBUyxHQUM1QixjQUFjLEdBQUcsRUFBRSxDQUFDLFVBQVUsR0FDOUIsc0JBQXNCLEdBQUcsRUFBRSxDQUFDLGtCQUFrQixHQUM5QyxVQUFVLEdBQUcsRUFBRSxDQUFDLE1BQU0sR0FDdEIsVUFBVSxHQUFHLEVBQUUsQ0FBQyxNQUFNLENBQUM7S0FDOUIsQ0FBQzs7OztBQUlGLFVBQU0sQ0FBQywyQkFBMkIsR0FBRyxZQUFXO0FBQzVDLFlBQUksTUFBTSxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxNQUFNLEVBQUUsU0FBUyxFQUFFLE9BQU8sQ0FBQyxFQUFFLFVBQVMsTUFBTSxFQUFFO0FBQzlELG1CQUFPLE1BQU0sR0FBRyxNQUFNLElBQ2pCLENBQUMsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRSxNQUFNLEdBQUcsS0FBSyxDQUFDLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDLEdBQUcsTUFBTSxDQUFBLEFBQUMsQ0FBQztTQUN2RixDQUFDLENBQUM7QUFDSCxlQUFPLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7S0FDM0IsQ0FBQzs7O0FBR0YsVUFBTSxDQUFDLG1CQUFtQixHQUFHLFlBQVc7QUFDcEMsZUFBTyxDQUFDLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsWUFBWSxDQUFDLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQyxZQUFZLENBQUMsSUFBSSxJQUFJLENBQUM7S0FDcEYsQ0FBQzs7OztBQUlGLFVBQU0sQ0FBQyxVQUFVLEdBQUcsRUFBRSxDQUFDOztBQUV2QixVQUFNLENBQUMsUUFBUSxHQUFHLFVBQVMsU0FBUyxFQUFFOztBQUVsQyxZQUFJLFNBQVMsRUFBRTtBQUNYLGtCQUFNLENBQUMsVUFBVSxJQUFJLFNBQVMsQ0FBQztTQUNsQzs7QUFFRCxjQUFNLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQztBQUMxQixvQkFBWSxFQUFFLENBQUM7QUFDZixhQUFLLENBQUMsR0FBRyxDQUFDLGtCQUFrQixHQUN4QixNQUFNLENBQUMseUJBQXlCLEVBQUUsR0FBRyxHQUFHLEdBQ3hDLE1BQU0sQ0FBQywyQkFBMkIsRUFBRSxHQUFHLFNBQVMsR0FBRyxNQUFNLENBQUMsVUFBVSxDQUN2RSxDQUFDLElBQUksQ0FBQyxVQUFTLFFBQVEsRUFBRTtBQUNsQixrQkFBTSxDQUFDLE1BQU0sR0FBRyxRQUFRLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQztBQUNyQyxrQkFBTSxDQUFDLGFBQWEsR0FBRyxRQUFRLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQztBQUNuRCxrQkFBTSxDQUFDLFNBQVMsR0FBRyxRQUFRLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQztBQUMzQyx1QkFBVyxFQUFFLENBQUM7QUFDZCxrQkFBTSxDQUFDLFdBQVcsR0FBRyxLQUFLLENBQUM7U0FDOUIsRUFDRCxZQUFXO0FBQ1AsdUJBQVcsRUFBRSxDQUFDO0FBQ2Qsa0JBQU0sQ0FBQyxXQUFXLEdBQUcsS0FBSyxDQUFDO0FBQzNCLGlCQUFLLENBQUMsNkJBQTZCLENBQUMsQ0FBQztTQUN4QyxDQUFDLENBQUM7S0FDVixDQUFDOztBQUVGLFVBQU0sQ0FBQyxRQUFRLEVBQUUsQ0FBQzs7OztBQUlsQixVQUFNLENBQUMsVUFBVSxHQUFHLFlBQVc7QUFDM0IsZUFBTyxDQUFDLEdBQUcsQ0FBQyxhQUFhLENBQUMsQ0FBQztBQUMzQixZQUFJLENBQUMsTUFBTSxDQUFDLFdBQVcsRUFBRTtBQUNyQixrQkFBTSxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQztTQUN2QjtLQUNKLENBQUM7Ozs7QUFJRixVQUFNLENBQUMsUUFBUSxHQUFHLFlBQVc7QUFDekIsY0FBTSxDQUFDLFFBQVEsRUFBRSxDQUFDO0tBQ3JCLENBQUM7O0FBRUYsVUFBTSxDQUFDLFdBQVcsR0FBRyxZQUFXO0FBQzVCLGNBQU0sQ0FBQyxZQUFZLEdBQUcsc0JBQXNCLEVBQUUsQ0FBQztBQUMvQyxjQUFNLENBQUMsa0JBQWtCLEdBQUcsS0FBSyxDQUFDO0FBQ2xDLGNBQU0sQ0FBQyxRQUFRLEVBQUUsQ0FBQztLQUNyQixDQUFDOzs7O0FBSUYsVUFBTSxDQUFDLGdCQUFnQixHQUFHLFVBQVMsS0FBSyxFQUFFO0FBQ3RDLGVBQU8sS0FBSyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsTUFBTSxHQUM1QixLQUFLLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxNQUFNLEdBQzFCLEtBQUssQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQztLQUNoQyxDQUFDOzs7OztBQUtGLFVBQU0sQ0FBQyxlQUFlLEdBQUcsRUFBRSxDQUFDO0FBQzVCLFVBQU0sQ0FBQyxXQUFXLEdBQUcsRUFBRSxDQUFDOzs7OztBQUt4QixVQUFNLENBQUMsVUFBVSxHQUFHLFVBQVMsVUFBVSxFQUFFO0FBQ3JDLFlBQUksS0FBSyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUM7QUFDdEMsWUFBSSxLQUFLLEdBQUcsS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUM7QUFDekIsWUFBSSxPQUFPLEdBQUcsTUFBTSxDQUFDLFdBQVcsQ0FBQyxVQUFVLENBQUMsQ0FBQztBQUM3QyxhQUFLLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRTtBQUNwQixrQkFBTSxFQUFFLEtBQUs7QUFDYixnQkFBSSxFQUFFLE9BQU87U0FDaEIsQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFTLFFBQVEsRUFBRTtBQUNuQixpQkFBSyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDO0FBQ3BCLHdCQUFRLEVBQUUsTUFBTSxDQUFDLE1BQU07QUFDdkIsb0JBQUksRUFBRSxPQUFPO0FBQ2IseUJBQVMsRUFBRSxLQUFLLENBQUMsR0FBRztBQUNwQixzQkFBTSxFQUFFO0FBQ0osc0JBQUUsRUFBRSxNQUFNLENBQUMsTUFBTTtBQUNqQix3QkFBSSxFQUFFLE1BQU0sQ0FBQyxRQUFRO0FBQ3JCLDBCQUFNLEVBQUUsTUFBTSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsTUFBTTtpQkFDekM7OztBQUFBLGFBR0osQ0FBQyxDQUFDO0FBQ0gsa0JBQU0sQ0FBQyxXQUFXLENBQUMsVUFBVSxDQUFDLEdBQUcsRUFBRSxDQUFDO1NBQ3ZDLEVBQ0QsWUFBVztBQUNQLGlCQUFLLENBQUMsNkJBQTZCLENBQUMsQ0FBQztTQUN4QyxDQUFDLENBQUM7S0FDVixDQUFDOztBQUVGLFVBQU0sQ0FBQyxhQUFhLEdBQUcsVUFBUyxVQUFVLEVBQUUsU0FBUyxFQUFFOztBQUVuRCxZQUFJLEtBQUssR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDO0FBQ3RDLFlBQUksS0FBSyxHQUFHLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDO0FBQ3pCLGFBQUssVUFBTyxDQUFDLFlBQVksR0FBRyxTQUFTLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBUyxRQUFRLEVBQUU7QUFDdkQsaUJBQUssQ0FBQyxHQUFHLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxRQUFRLEVBQUUsVUFBUyxHQUFHLEVBQUU7QUFDNUQsdUJBQU8sR0FBRyxDQUFDLEVBQUUsSUFBSSxTQUFTLENBQUE7YUFDN0IsQ0FBQyxDQUFDO1NBQ04sRUFDRCxZQUFXO0FBQ1AsaUJBQUssQ0FBQywrQkFBK0IsQ0FBQyxDQUFDO1NBQzFDLENBQUMsQ0FBQztLQUNWLENBQUM7O0FBRUYsVUFBTSxDQUFDLGVBQWUsR0FBRyxVQUFTLFVBQVUsRUFBRTtBQUMxQyxjQUFNLENBQUMsZUFBZSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLGVBQWUsQ0FBQyxVQUFVLENBQUMsQ0FBQztBQUN6RSxjQUFNLENBQUMsVUFBVSxDQUFDLFlBQVc7QUFDekIsYUFBQyxDQUFDLGVBQWUsR0FBRyxVQUFVLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQztTQUMzQyxFQUFFLEdBQUcsQ0FBQyxDQUFDO0tBQ1gsQ0FBQTs7OztBQUlELFVBQU0sQ0FBQyxPQUFPLEdBQUcsVUFBUyxHQUFHLEVBQUU7QUFDM0IsYUFBSyxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUU7QUFDakIsa0JBQU0sRUFBRSxHQUFHLENBQUMsRUFBRTtTQUNqQixDQUFDLENBQUMsSUFBSSxDQUFDLFVBQVMsUUFBUSxFQUFFOztBQUVuQixlQUFHLENBQUMsU0FBUyxHQUFHLFFBQVEsQ0FBQyxJQUFJLENBQUM7U0FDakMsRUFDRCxZQUFXLEVBQUUsQ0FBQyxDQUFDO0tBQ3RCLENBQUM7Ozs7QUFJRixVQUFNLENBQUMsWUFBWSxHQUFHLFVBQVMsR0FBRyxFQUFFO0FBQ2hDLGFBQUssQ0FBQyxJQUFJLENBQUMsY0FBYyxFQUFFO0FBQ3ZCLGtCQUFNLEVBQUUsR0FBRyxDQUFDLEVBQUU7U0FDakIsQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFTLFFBQVEsRUFBRTtBQUNuQixlQUFHLENBQUMsV0FBVyxHQUFHLFFBQVEsQ0FBQyxJQUFJLENBQUM7U0FDbkMsRUFDRCxZQUFXLEVBQUUsQ0FBQyxDQUFDO0tBQ3RCLENBQUM7Q0FFTCxDQUFDOztBQUVGLE1BQU0sQ0FBQyxZQUFZLENBQUMsT0FBTyxHQUFHLENBQUMsUUFBUSxFQUFFLE9BQU8sRUFBRSxXQUFXLEVBQUUsUUFBUSxFQUFFLE1BQU0sQ0FBQyxDQUFDOzs7Ozs7O0FDL05qRixJQUFJLGFBQWEsR0FBRyxTQUFoQixhQUFhLENBQWEsTUFBTSxFQUFFOztBQUVsQyxRQUFJLEdBQUcsR0FBRyxNQUFNLENBQUMsR0FBRyxDQUFDO0FBQ3JCLFFBQUksT0FBTyxHQUFHLE1BQU0sQ0FBQyxHQUFHLENBQUMsVUFBVSxFQUFFLENBQUM7O0FBRXRDLFVBQU0sQ0FBQyxRQUFRLEdBQUcsRUFBRSxDQUFDO0FBQ3JCLFVBQU0sQ0FBQyxRQUFRLEdBQUcsRUFBRSxDQUFDOztBQUVyQixVQUFNLENBQUMsWUFBWSxHQUFHLFlBQVc7QUFDN0IsZUFBTyxNQUFNLENBQUMsUUFBUSxJQUFJLEtBQUssQ0FBQztLQUNuQyxDQUFDOztBQUVGLFVBQU0sQ0FBQyxZQUFZLEdBQUcsWUFBVztBQUM3QixlQUFPLE1BQU0sQ0FBQyxRQUFRLElBQUksS0FBSyxDQUFDO0tBQ25DLENBQUM7O0FBRUYsVUFBTSxDQUFDLFlBQVksR0FBRyxZQUFXO0FBQzdCLFlBQUksR0FBRyxHQUFHLE1BQU0sQ0FBQyxRQUFRLENBQUM7QUFDMUIsY0FBTSxDQUFDLFFBQVEsR0FBRyxNQUFNLENBQUMsUUFBUSxDQUFDO0FBQ2xDLGNBQU0sQ0FBQyxRQUFRLEdBQUcsR0FBRyxDQUFDO0FBQ3RCLGNBQU0sQ0FBQyxTQUFTLEVBQUUsQ0FBQztLQUN0QixDQUFDOztBQUVGLFVBQU0sQ0FBQyxLQUFLLEdBQUcsVUFBUyxRQUFRLEVBQUU7QUFDOUIsb0JBQVksRUFBRSxDQUFDO0FBQ2YsZUFBTyxHQUFHLEdBQUcsQ0FBQyxVQUFVLEVBQUUsQ0FBQztBQUMzQixXQUFHLENBQUMsV0FBVyxFQUFFLENBQUMsa0JBQWtCLEdBQUcsS0FBSyxDQUFDOztBQUU3QyxZQUFJLE1BQU0sQ0FBQyxPQUFPLEVBQUU7QUFDaEIsbUJBQU8sQ0FBQyxLQUFLLEVBQUUsQ0FBQztTQUNuQjs7O0FBR0QsWUFBSSxFQUFFLEdBQUcsR0FBRyxDQUFDLGdCQUFnQixFQUFFLENBQUM7QUFDaEMsWUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsS0FBSyxHQUFHLEdBQUcsQ0FBQztBQUM5QixZQUFJLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDO0FBQ2IsWUFBSSxLQUFLLENBQUMsQ0FBQyxDQUFDLElBQUksS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFO0FBQ3RCLGFBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1NBQ2I7Ozs7QUFJRCxnQkFBUSxDQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQztBQUNkLGVBQU8sQ0FBQyxjQUFjLEVBQUUsQ0FBQzs7QUFFekIsZUFBTyxDQUFDLHVCQUF1QixFQUFFLENBQUM7QUFDbEMsZUFBTyxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsQ0FBQzs7QUFFNUIsV0FBRyxDQUFDLEtBQUssRUFBRSxDQUFDLFNBQVMsRUFBRSxDQUFDOztBQUV4QixXQUFHLENBQUMsV0FBVyxFQUFFLENBQUMsa0JBQWtCLEdBQUcsSUFBSSxDQUFDO0FBQzVDLFdBQUcsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztBQUN6QyxtQkFBVyxFQUFFLENBQUM7S0FDakIsQ0FBQzs7QUFFRixVQUFNLENBQUMsZ0JBQWdCLEdBQUcsSUFBSSxDQUFDOztBQUUvQixVQUFNLENBQUMsY0FBYyxHQUFHLFVBQVMsUUFBUSxFQUFFO0FBQ3ZDLGNBQU0sQ0FBQyxnQkFBZ0IsR0FBRyxRQUFRLENBQUM7QUFDbkMsWUFBSSxNQUFNLENBQUMsT0FBTyxFQUFFO0FBQ2hCLGtCQUFNLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1NBQzFCO0tBQ0osQ0FBQzs7QUFFRixVQUFNLENBQUMsVUFBVSxHQUFHLFlBQVc7QUFDM0IsWUFBSSxJQUFJLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUM7QUFDbEMsWUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQztBQUNyQyxZQUFJLFFBQVEsR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ3ZDLGNBQU0sQ0FBQyxnQkFBZ0IsR0FBRyxRQUFRLENBQUM7QUFDbkMsY0FBTSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQzs7QUFFdkIsU0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDLE9BQU8sQ0FBQyxFQUFFLFNBQVMsRUFBRSxDQUFDLEdBQUcsRUFBRSxFQUFFLEVBQUUsSUFBSSxDQUFDLENBQUM7S0FDeEQsQ0FBQzs7OztBQUlGLFVBQU0sQ0FBQyxPQUFPLEdBQUc7O0FBRWIsZUFBTyxFQUFFLGlCQUFTLENBQUMsRUFBRSxDQUFDLEVBQUU7O0FBQ3BCLGdCQUFJLE1BQU0sR0FBRyxHQUFHLENBQUMsV0FBVyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsTUFBTSxDQUFDLFlBQVksRUFBRSxDQUFDLENBQUM7QUFDMUQsbUJBQU8sQ0FBQyxLQUFLLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsT0FBTyxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQzFELGVBQUcsQ0FBQyxXQUFXLENBQUMsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUFDO0FBQy9CLGVBQUcsQ0FBQyxXQUFXLENBQUMsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUFDO0FBQy9CLGVBQUcsQ0FBQyxXQUFXLENBQUMsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUFDO1NBQ2xDOztBQUVELG1CQUFXLEVBQUUscUJBQVMsQ0FBQyxFQUFFLENBQUMsRUFBRTs7QUFDeEIsZ0JBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQyxXQUFXLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxNQUFNLENBQUMsWUFBWSxFQUFFLENBQUMsQ0FBQztBQUMxRCxtQkFBTyxDQUFDLEtBQUssQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxPQUFPLEVBQUUsSUFBSSxDQUFDLENBQUM7QUFDMUQsZUFBRyxDQUFDLFdBQVcsQ0FBQyxNQUFNLEVBQUUsU0FBUyxDQUFDLENBQUM7QUFDbkMsZUFBRyxDQUFDLFdBQVcsQ0FBQyxNQUFNLEVBQUUsU0FBUyxDQUFDLENBQUM7QUFDbkMsZUFBRyxDQUFDLFdBQVcsQ0FBQyxNQUFNLEVBQUUsU0FBUyxDQUFDLENBQUM7U0FDdEM7O0FBRUQsMkJBQW1CLEVBQUUsNkJBQVMsQ0FBQyxFQUFFLENBQUMsRUFBRTs7QUFDaEMsZ0JBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQyxXQUFXLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxNQUFNLENBQUMsWUFBWSxFQUFFLENBQUMsQ0FBQztBQUMxRCxtQkFBTyxDQUFDLEtBQUssQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxPQUFPLEVBQUUsSUFBSSxDQUFDLENBQUM7QUFDMUQsZUFBRyxDQUFDLFdBQVcsQ0FBQyxNQUFNLEVBQUUsS0FBSyxDQUFDLENBQUM7QUFDL0IsZUFBRyxDQUFDLFdBQVcsQ0FBQyxNQUFNLEVBQUUsS0FBSyxDQUFDLENBQUM7QUFDL0IsZUFBRyxDQUFDLFdBQVcsQ0FBQyxNQUFNLEVBQUUsS0FBSyxDQUFDLENBQUM7O0FBRS9CLGdCQUFJLE1BQU0sR0FBRyxHQUFHLENBQUMsV0FBVyxDQUFDLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxZQUFZLEVBQUUsQ0FBQyxDQUFDO0FBQ2hFLG1CQUFPLENBQUMsS0FBSyxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLE9BQU8sRUFBRSxJQUFJLENBQUMsQ0FBQztBQUMxRCxlQUFHLENBQUMsV0FBVyxDQUFDLE1BQU0sRUFBRSxLQUFLLENBQUMsQ0FBQztBQUMvQixlQUFHLENBQUMsV0FBVyxDQUFDLE1BQU0sRUFBRSxLQUFLLENBQUMsQ0FBQztBQUMvQixlQUFHLENBQUMsV0FBVyxDQUFDLE1BQU0sRUFBRSxLQUFLLENBQUMsQ0FBQztTQUNsQzs7QUFFRCx3QkFBZ0IsRUFBRSwwQkFBUyxDQUFDLEVBQUUsQ0FBQyxFQUFFOztBQUM3QixnQkFBSSxNQUFNLEdBQUcsR0FBRyxDQUFDLFdBQVcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUMsRUFBRSxNQUFNLENBQUMsWUFBWSxFQUFFLENBQUMsQ0FBQztBQUNoRSxnQkFBSSxNQUFNLEdBQUcsR0FBRyxDQUFDLFdBQVcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUMsRUFBRSxNQUFNLENBQUMsWUFBWSxFQUFFLENBQUMsQ0FBQztBQUNoRSxtQkFBTyxDQUFDLEtBQUssQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxPQUFPLEVBQUUsSUFBSSxDQUFDLENBQUM7QUFDMUQsbUJBQU8sQ0FBQyxLQUFLLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsT0FBTyxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQzFELGdCQUFJLE9BQU8sR0FBRyxHQUFHLENBQUMscUJBQXFCLENBQUMsTUFBTSxFQUFFLE1BQU0sRUFBRSxVQUFVLENBQUMsQ0FBQztBQUNwRSxnQkFBSSxPQUFPLEdBQUcsR0FBRyxDQUFDLHFCQUFxQixDQUFDLE1BQU0sRUFBRSxNQUFNLEVBQUUsU0FBUyxDQUFDLENBQUM7QUFDbkUsbUJBQU8sQ0FBQyxLQUFLLENBQUMsZUFBZSxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsSUFBSSxFQUFFLE1BQU0sRUFBRSxRQUFRLENBQUMsQ0FBQztBQUMxRSxtQkFBTyxDQUFDLEtBQUssQ0FBQyxlQUFlLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxJQUFJLEVBQUUsTUFBTSxFQUFFLFFBQVEsQ0FBQyxDQUFDO1NBQzdFOztBQUVELGdCQUFRLEVBQUUsa0JBQVMsQ0FBQyxFQUFFLENBQUMsRUFBRTs7QUFDckIsZ0JBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQyxXQUFXLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxNQUFNLENBQUMsWUFBWSxFQUFFLENBQUMsQ0FBQztBQUMxRCxlQUFHLENBQUMsV0FBVyxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztBQUNqQyxlQUFHLENBQUMsV0FBVyxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztBQUNqQyxlQUFHLENBQUMsV0FBVyxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztTQUNwQzs7QUFFRCxlQUFPLEVBQUUsaUJBQVMsQ0FBQyxFQUFFLENBQUMsRUFBRTs7QUFDcEIsZ0JBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQyxXQUFXLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxVQUFVLENBQUMsQ0FBQztBQUMvQyxlQUFHLENBQUMsV0FBVyxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsWUFBWSxFQUFFLENBQUMsQ0FBQztTQUNsRDs7QUFFRCx3QkFBZ0IsRUFBRSwwQkFBUyxDQUFDLEVBQUUsQ0FBQyxFQUFFOztBQUM3QixnQkFBSSxNQUFNLEdBQUcsR0FBRyxDQUFDLFdBQVcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxZQUFZLEVBQUUsQ0FBQyxDQUFDO0FBQzFELGdCQUFJLE1BQU0sR0FBRyxHQUFHLENBQUMsV0FBVyxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztBQUM5QyxlQUFHLENBQUMsV0FBVyxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztBQUNqQyxlQUFHLENBQUMsV0FBVyxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztBQUNqQyxnQkFBSSxNQUFNLEdBQUcsR0FBRyxDQUFDLFdBQVcsQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7QUFDOUMsZUFBRyxDQUFDLFdBQVcsQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7QUFDakMsZUFBRyxDQUFDLFdBQVcsQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7U0FDcEM7O0FBRUQsZUFBTyxFQUFFLGlCQUFTLENBQUMsRUFBRSxDQUFDLEVBQUU7O0FBQ3BCLGdCQUFJLE1BQU0sR0FBRyxHQUFHLENBQUMsV0FBVyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsTUFBTSxDQUFDLFlBQVksRUFBRSxDQUFDLENBQUM7QUFDMUQsZ0JBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQyxXQUFXLENBQUMsQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDLEVBQUUsTUFBTSxDQUFDLFlBQVksRUFBRSxDQUFDLENBQUM7QUFDaEUsZ0JBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQyxxQkFBcUIsQ0FBQyxNQUFNLEVBQUUsTUFBTSxFQUFFLGVBQWUsQ0FBQyxDQUFDO0FBQ3hFLGVBQUcsQ0FBQyxXQUFXLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0FBQ2pDLGVBQUcsQ0FBQyxXQUFXLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1NBQ3BDOztBQUVELGVBQU8sRUFBRSxpQkFBUyxDQUFDLEVBQUUsQ0FBQyxFQUFFOztBQUNwQixnQkFBSSxNQUFNLEdBQUcsR0FBRyxDQUFDLFdBQVcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUMsRUFBRSxNQUFNLENBQUMsWUFBWSxFQUFFLENBQUMsQ0FBQztBQUNoRSxnQkFBSSxNQUFNLEdBQUcsR0FBRyxDQUFDLFdBQVcsQ0FBQyxNQUFNLEVBQUUsOEJBQThCLEdBQUcsTUFBTSxDQUFDLFlBQVksRUFBRSxHQUFHLEdBQUcsQ0FBQyxDQUFDO0FBQ25HLGdCQUFJLE1BQU0sR0FBRyxHQUFHLENBQUMsV0FBVyxDQUFDLE1BQU0sRUFBRSw4QkFBOEIsR0FBRyxNQUFNLENBQUMsWUFBWSxFQUFFLEdBQUcsR0FBRyxDQUFDLENBQUM7QUFDbkcsZ0JBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQyxXQUFXLENBQUMsTUFBTSxFQUFFLDhCQUE4QixHQUFHLE1BQU0sQ0FBQyxZQUFZLEVBQUUsR0FBRyxHQUFHLENBQUMsQ0FBQztBQUNuRyxnQkFBSSxNQUFNLEdBQUcsR0FBRyxDQUFDLFdBQVcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxZQUFZLEVBQUUsQ0FBQyxDQUFDO0FBQzFELGVBQUcsQ0FBQyxXQUFXLENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQyxDQUFDO0FBQ2hDLGVBQUcsQ0FBQyxXQUFXLENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQyxDQUFDO0FBQ2hDLGVBQUcsQ0FBQyxXQUFXLENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQyxDQUFDO0FBQ2hDLGVBQUcsQ0FBQyxXQUFXLENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQyxDQUFDO1NBQ25DOztBQUVELG9CQUFZLEVBQUUsc0JBQVMsQ0FBQyxFQUFFLENBQUMsRUFBRTs7QUFDekIsZ0JBQUksUUFBUSxHQUFHLEdBQUcsQ0FBQyxXQUFXLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxlQUFlLENBQUMsQ0FBQztBQUN0RCxnQkFBSSxRQUFRLEdBQUcsR0FBRyxDQUFDLFdBQVcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUMsR0FBRyxFQUFFLEVBQUUsZUFBZSxDQUFDLENBQUM7QUFDakUsZ0JBQUksUUFBUSxHQUFHLEdBQUcsQ0FBQyxXQUFXLENBQUMsQ0FBQyxHQUFHLEVBQUUsRUFBRSxDQUFDLEdBQUcsR0FBRyxFQUFFLGVBQWUsQ0FBQyxDQUFDO0FBQ2pFLGdCQUFJLEtBQUssR0FBRyxHQUFHLENBQUMsV0FBVyxDQUFDLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQyxHQUFHLEdBQUcsRUFBRSxNQUFNLENBQUMsWUFBWSxFQUFFLENBQUMsQ0FBQztBQUNyRSxlQUFHLENBQUMsV0FBVyxDQUFDLFFBQVEsRUFBRSxLQUFLLENBQUMsQ0FBQztBQUNqQyxlQUFHLENBQUMsV0FBVyxDQUFDLFFBQVEsRUFBRSxLQUFLLENBQUMsQ0FBQztBQUNqQyxlQUFHLENBQUMsV0FBVyxDQUFDLFFBQVEsRUFBRSxLQUFLLENBQUMsQ0FBQzs7QUFFakMsZ0JBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQyxXQUFXLENBQUMsQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDLEdBQUcsR0FBRyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0FBQ3hELGdCQUFJLE1BQU0sR0FBRyxHQUFHLENBQUMsV0FBVyxDQUFDLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQyxHQUFHLEdBQUcsRUFBRSxPQUFPLENBQUMsQ0FBQztBQUN4RCxlQUFHLENBQUMscUJBQXFCLENBQUMsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNLENBQUMsWUFBWSxFQUFFLENBQUMsQ0FBQztTQUNwRTs7QUFFRCxpQkFBUyxFQUFFLG1CQUFTLENBQUMsRUFBRSxDQUFDLEVBQUU7O0FBQ3RCLGdCQUFJLE1BQU0sR0FBRyxHQUFHLENBQUMsV0FBVyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsTUFBTSxDQUFDLFlBQVksRUFBRSxDQUFDLENBQUM7QUFDMUQsZ0JBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQyxXQUFXLENBQUMsQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDLEVBQUUsTUFBTSxDQUFDLFlBQVksRUFBRSxDQUFDLENBQUM7QUFDaEUsZUFBRyxDQUFDLHFCQUFxQixDQUFDLE1BQU0sRUFBRSxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7U0FDdEQ7O0FBRUQsbUJBQVcsRUFBRSxxQkFBUyxDQUFDLEVBQUUsQ0FBQyxFQUFFOztBQUN4QixnQkFBSSxNQUFNLEdBQUcsR0FBRyxDQUFDLFdBQVcsQ0FBQyxDQUFDLEdBQUcsRUFBRSxFQUFFLENBQUMsRUFBRSxNQUFNLENBQUMsWUFBWSxFQUFFLEVBQUUsVUFBVSxDQUFDLENBQUM7QUFDM0UsZ0JBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQyxXQUFXLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0FBQzlDLGdCQUFJLE1BQU0sR0FBRyxHQUFHLENBQUMsV0FBVyxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztBQUM5QyxnQkFBSSxNQUFNLEdBQUcsR0FBRyxDQUFDLFdBQVcsQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7QUFDOUMsbUJBQU8sQ0FBQyxLQUFLLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsS0FBSyxFQUFFLFNBQVMsQ0FBQyxDQUFDO0FBQzdELG1CQUFPLENBQUMsS0FBSyxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLEtBQUssRUFBRSxRQUFRLENBQUMsQ0FBQztBQUM1RCxtQkFBTyxDQUFDLEtBQUssQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxLQUFLLEVBQUUsUUFBUSxDQUFDLENBQUM7QUFDNUQsZUFBRyxDQUFDLHFCQUFxQixDQUFDLE1BQU0sRUFBRSxNQUFNLEVBQUUsZUFBZSxDQUFDLENBQUM7QUFDM0QsZUFBRyxDQUFDLHFCQUFxQixDQUFDLE1BQU0sRUFBRSxNQUFNLEVBQUUsZUFBZSxDQUFDLENBQUM7QUFDM0QsZUFBRyxDQUFDLHFCQUFxQixDQUFDLE1BQU0sRUFBRSxNQUFNLEVBQUUsZUFBZSxDQUFDLENBQUM7U0FDOUQ7O0FBRUQscUJBQWEsRUFBRSx1QkFBUyxDQUFDLEVBQUUsQ0FBQyxFQUFFOztBQUMxQixnQkFBSSxNQUFNLEdBQUcsR0FBRyxDQUFDLFdBQVcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxZQUFZLEVBQUUsRUFBRSxPQUFPLENBQUMsQ0FBQztBQUNuRSxnQkFBSSxPQUFPLEdBQUcsR0FBRyxDQUFDLFdBQVcsQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7QUFDL0MsZ0JBQUksT0FBTyxHQUFHLEdBQUcsQ0FBQyxXQUFXLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0FBQy9DLGdCQUFJLE9BQU8sR0FBRyxHQUFHLENBQUMsV0FBVyxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztBQUMvQyxnQkFBSSxNQUFNLEdBQUcsR0FBRyxDQUFDLFdBQVcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUMsRUFBRSxNQUFNLENBQUMsWUFBWSxFQUFFLENBQUMsQ0FBQztBQUNoRSxnQkFBSSxPQUFPLEdBQUcsR0FBRyxDQUFDLFdBQVcsQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7QUFDL0MsZ0JBQUksT0FBTyxHQUFHLEdBQUcsQ0FBQyxXQUFXLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0FBQy9DLGdCQUFJLE9BQU8sR0FBRyxHQUFHLENBQUMsV0FBVyxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztBQUMvQyxlQUFHLENBQUMsV0FBVyxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsQ0FBQztBQUNoQyxlQUFHLENBQUMscUJBQXFCLENBQUMsT0FBTyxFQUFFLE9BQU8sRUFBRSxlQUFlLENBQUMsQ0FBQztBQUM3RCxlQUFHLENBQUMscUJBQXFCLENBQUMsT0FBTyxFQUFFLE9BQU8sRUFBRSxlQUFlLENBQUMsQ0FBQztBQUM3RCxlQUFHLENBQUMscUJBQXFCLENBQUMsT0FBTyxFQUFFLE9BQU8sRUFBRSxlQUFlLENBQUMsQ0FBQztTQUNoRTs7QUFFRCxzQkFBYyxFQUFFLHdCQUFTLENBQUMsRUFBRSxDQUFDLEVBQUU7O0FBQzNCLGdCQUFJLE1BQU0sR0FBRyxHQUFHLENBQUMsV0FBVyxDQUFDLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxZQUFZLEVBQUUsQ0FBQyxDQUFDO0FBQ2hFLGdCQUFJLE1BQU0sR0FBRyxHQUFHLENBQUMsV0FBVyxDQUFDLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxZQUFZLEVBQUUsQ0FBQyxDQUFDO0FBQ2hFLGdCQUFJLE1BQU0sR0FBRyxHQUFHLENBQUMsV0FBVyxDQUFDLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQyxHQUFHLEdBQUcsRUFBRSxlQUFlLENBQUMsQ0FBQztBQUNoRSxnQkFBSSxNQUFNLEdBQUcsR0FBRyxDQUFDLFdBQVcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUMsR0FBRyxHQUFHLEVBQUUsZUFBZSxDQUFDLENBQUM7QUFDaEUsZUFBRyxDQUFDLHFCQUFxQixDQUFDLE1BQU0sRUFBRSxNQUFNLEVBQUUsZUFBZSxDQUFDLENBQUM7QUFDM0QsZUFBRyxDQUFDLHFCQUFxQixDQUFDLE1BQU0sRUFBRSxNQUFNLEVBQUUsZUFBZSxDQUFDLENBQUM7QUFDM0QsZUFBRyxDQUFDLHFCQUFxQixDQUFDLE1BQU0sRUFBRSxNQUFNLEVBQUUsZUFBZSxDQUFDLENBQUM7QUFDM0QsZUFBRyxDQUFDLHFCQUFxQixDQUFDLE1BQU0sRUFBRSxNQUFNLEVBQUUsZUFBZSxDQUFDLENBQUM7QUFDM0QsZUFBRyxDQUFDLHFCQUFxQixDQUFDLE1BQU0sRUFBRSxNQUFNLEVBQUUsZUFBZSxDQUFDLENBQUM7U0FDOUQ7O0FBRUQsa0JBQVUsRUFBRSxvQkFBUyxDQUFDLEVBQUUsQ0FBQyxFQUFFOztBQUN2QixnQkFBSSxNQUFNLEdBQUcsR0FBRyxDQUFDLFdBQVcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUMsRUFBRSxNQUFNLENBQUMsWUFBWSxFQUFFLENBQUMsQ0FBQztBQUNoRSxnQkFBSSxNQUFNLEdBQUcsR0FBRyxDQUFDLFdBQVcsQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7QUFDOUMsZ0JBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQyxXQUFXLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0FBQzlDLGdCQUFJLE1BQU0sR0FBRyxHQUFHLENBQUMsV0FBVyxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztBQUM5QyxnQkFBSSxNQUFNLEdBQUcsR0FBRyxDQUFDLFdBQVcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUMsRUFBRSxNQUFNLENBQUMsWUFBWSxFQUFFLENBQUMsQ0FBQztBQUNoRSxlQUFHLENBQUMsV0FBVyxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsQ0FBQztTQUNuQzs7QUFFRCxpQkFBUyxFQUFFLG1CQUFTLENBQUMsRUFBRSxDQUFDLEVBQUU7O0FBQ3RCLGdCQUFJLEtBQUssR0FBRyxHQUFHLENBQUMsV0FBVyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsaUJBQWlCLENBQUMsQ0FBQztBQUNyRCxnQkFBSSxNQUFNLEdBQUcsR0FBRyxDQUFDLFdBQVcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUMsR0FBRyxHQUFHLEVBQUUsTUFBTSxDQUFDLFlBQVksRUFBRSxDQUFDLENBQUM7QUFDdEUsZ0JBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQyxXQUFXLENBQUMsQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDLEdBQUcsR0FBRyxFQUFFLE1BQU0sQ0FBQyxZQUFZLEVBQUUsQ0FBQyxDQUFDO0FBQ3RFLGdCQUFJLE1BQU0sR0FBRyxHQUFHLENBQUMscUJBQXFCLENBQUMsTUFBTSxFQUFFLE1BQU0sRUFBRSxlQUFlLENBQUMsQ0FBQztBQUN4RSxlQUFHLENBQUMsV0FBVyxDQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsQ0FBQztTQUNsQzs7QUFFRCx1QkFBZSxFQUFFLHlCQUFTLENBQUMsRUFBRSxDQUFDLEVBQUU7O0FBQzVCLGdCQUFJLE1BQU0sR0FBRyxHQUFHLENBQUMsV0FBVyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxFQUFFLFlBQVksQ0FBQyxDQUFDO0FBQ3RELGdCQUFJLE1BQU0sR0FBRyxHQUFHLENBQUMsV0FBVyxDQUFDLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQyxFQUFFLFlBQVksQ0FBQyxDQUFDO0FBQ3ZELGdCQUFJLE1BQU0sR0FBRyxHQUFHLENBQUMsV0FBVyxDQUFDLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQyxHQUFHLEVBQUUsRUFBRSxZQUFZLENBQUMsQ0FBQztBQUM1RCxnQkFBSSxJQUFJLEdBQUcsR0FBRyxDQUFDLFdBQVcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUMsR0FBRyxHQUFHLEVBQUUsTUFBTSxDQUFDLFlBQVksRUFBRSxDQUFDLENBQUM7QUFDcEUsZUFBRyxDQUFDLFdBQVcsQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLENBQUM7QUFDOUIsZUFBRyxDQUFDLFdBQVcsQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLENBQUM7QUFDOUIsZUFBRyxDQUFDLFdBQVcsQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLENBQUM7U0FDakM7O0FBRUQsOEJBQXNCLEVBQUUsZ0NBQVMsQ0FBQyxFQUFFLENBQUMsRUFBRTs7QUFDbkMsZ0JBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQyxXQUFXLENBQUMsQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDLEVBQUUsWUFBWSxDQUFDLENBQUM7QUFDdkQsZ0JBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQyxXQUFXLENBQUMsQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDLEdBQUcsR0FBRyxFQUFFLFlBQVksQ0FBQyxDQUFDO0FBQzdELGdCQUFJLE1BQU0sR0FBRyxHQUFHLENBQUMsV0FBVyxDQUFDLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQyxHQUFHLEdBQUcsRUFBRSxZQUFZLENBQUMsQ0FBQztBQUM3RCxnQkFBSSxLQUFLLEdBQUcsR0FBRyxDQUFDLFdBQVcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUMsR0FBRyxFQUFFLEVBQUUsTUFBTSxDQUFDLFlBQVksRUFBRSxDQUFDLENBQUM7QUFDcEUsZ0JBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQyxXQUFXLENBQUMsS0FBSyxFQUFFLDJCQUEyQixDQUFDLENBQUM7QUFDakUsZ0JBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQyxX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QUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxBQUFDLE9BQU8sQ0FBQyxDQUFBO1NBQUUsQ0FBQSxDQUFDLEVBQUUsTUFBTSxFQUFFLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQyxFQUFFO0FBQUUseUJBQVMsQ0FBQyxDQUFDLENBQUMsRUFBRTtBQUFFLDZCQUFTLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRTtBQUFFLHlCQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsR0FBRyxFQUFFLENBQUEsQUFBQyxDQUFDLEFBQUMsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxBQUFDLE9BQU8sQ0FBQyxDQUFBO3FCQUFFLEFBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRTtBQUFFLHlCQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQTtxQkFBRSxBQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsRUFBRTtBQUFFLCtCQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUE7cUJBQUUsQUFBQyxTQUFTLENBQUMsR0FBRztBQUFFLCtCQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQTtxQkFBRSxBQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQyxBQUFDLE9B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YyxDQUFDLFNBQVMsSUFBSSxjQUFjLENBQUMsU0FBUyxDQUFDLGdCQUFnQixJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUEsQUFBQyxDQUFBO2lCQUFFLEFBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxVQUFVLEVBQUUsWUFBWTtBQUFFLHFCQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQSxBQUFDLENBQUE7aUJBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsUUFBUSxFQUFFLFVBQVUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUU7QUFBRSxxQkFBQyxLQUFLLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBLEFBQUMsQ0FBQTtpQkFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxRQUFRLEVBQUUsWUFBWTtBQUFFLHFCQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQSxBQUFDLENBQUE7aUJBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsZ0JBQWdCLEVBQUUsVUFBVSxDQUFDLEVBQUU7QUFBRSxxQkFBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUMsRUFBRSxBQUFDLElBQUksSUFBSSxFQUFBLENBQUUsT0FBTyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBO2lCQUFFLENBQUMsQ0FBQTthQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLFFBQVEsRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLFVBQVUsQ0FBQyxFQUFFO0FBQUUseUJBQVMsQ0FBQyxHQUFHLEVBQUcsQUFBQyxJQUFJLE1BQU0sQ0FBQyxXQUFXLElBQUksTUFBTSxDQUFDLFdBQVcsQ0FBQyxNQUFNLElBQUksTUFBTSxDQUFDLFdBQVcsQ0FBQyxnQkFBZ0IsRUFBRTtBQUFFLHdCQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDO3dCQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsUUFBUSxDQUFDO3dCQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQUFBQyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsUUFBUSxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxVQUFVLEVBQUUsVUFBVSxDQUFDLEVBQUU7QUFBRSw0QkFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEFBQUMsQ0FBQyxZQUFZLEtBQUssS0FBSyxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQSxBQUFDLENBQUE7cUJBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsUUFBUSxFQUFFLFVBQVUsQ0FBQyxFQUFFLENBQUMsRUFBRTtBQUFFLDRCQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQUFBQyxDQUFDLFlBQVksS0FBSyxJQUFJLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQTtxQkFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxVQUFVLEVBQUUsVUFBVSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRTtBQUFFLDRCQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxHQUFHLEVBQUUsRUFBRSxJQUFJLENBQUMsT0FBTyxHQUFH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LGFBQWEsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFBO3FCQUFFO2lCQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLDJCQUEyQixFQUFFLFVBQVUsQ0FBQyxFQUFFO0FBQUUsd0JBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsQUFBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQSxBQUFDLENBQUE7aUJBQUUsQ0FBQyxDQUFBO2FBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsUUFBUSxFQUFFLEdBQUcsRUFBRSxRQUFRLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUMsRUFBRTtBQUFFLG9CQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFBLEFBQUM7b0JBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxBQUFDLENBQUMsQ0FBQyxPQUFPLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLE9BQU8sRUFBRSxDQUFDLFdBQVcsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFBO2FBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsUUFBUSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDLEVBQUU7QUFBRSxvQkFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQSxBQUFDO29CQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQUFBQyxDQUFD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QUFBLENBQUUsT0FBTyxFQUFFLEdBQUcsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLFVBQVUsQ0FBQSxFQUFFO0FBQUUsaUNBQUMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxBQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxZQUFZO29DQUFFLENBQUMsR0FBRyxhQUFhLEtBQUssQ0FBQyxJQUFJLE1BQU0sS0FBSyxDQUFDLElBQUksTUFBTSxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQyxZQUFZO29DQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQUFBQyxLQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQSxBQUFDLEVBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQSxFQUFFO0FBQUUsd0NBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxpQkFBaUIsQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDLEFBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQSxBQUFDLENBQUE7aUNBQUU7NkJBQUUsTUFBTSxDQUFDLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxBQUFDLENBQUMsQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQTt5QkFBRTtxQkFBRTtpQkFBRSxBQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUU7QUFBRSx3QkFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQzt3QkFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxBQUFDLENBQUMsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLFFBQVEsR0FBRyxH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QUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxBQUFDLElBQUksQ0FBQyxRQUFRLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxLQUFLLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLFFBQVEsSUFBSSxDQUFDLENBQUEsQUFBQyxDQUFBO3FCQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLGtCQUFrQixFQUFFLFVBQVUsQ0FBQyxFQUFFLENBQUMsRUFBRTtBQUFFLDRCQUFJLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQUFBQyxJQUFJLENBQUMsUUFBUSxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEtBQUssT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxRQUFRLElBQUksQ0FBQyxDQUFBLEFBQUMsQ0FBQTtxQkFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxzQkFBc0IsRUFBRSxVQUFVLENBQUMsRUFBRSxDQUFDLEVBQUU7QUFBRSx5QkFBQyxZQUFZLGNBQWMsSUFBSSxNQUFNLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUE7cUJBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMseUJBQXlCLEVBQUUsVUFBVSxDQUFDLEVBQUUsQ0FBQyxFQUFFO0FBQUUseUJBQUMsWUFBWSxjQUFjLElBQUksTUFBTSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLGtCQUFrQixFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFBO3FCQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLFVBQVUsRUFBRSxVQUFVLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFO0FBQUUseUJBQUMsWUFBWSxjQUFjLEtBQUssUUFBUSxLQUFLLENBQUMsS0FBSyxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFBLEFBQUMsRUFBRSxDQUFDLE1BQU0sTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQSxBQUFDLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQSxLQUFNLElBQUksQ0FBQyxVQUFVLEdBQUcsQUFBQyxJQUFJLElBQUksRUFBQSxDQUFFLE9BQU8sRUFBRSxDQUFBLEFBQUMsQ0FBQSxBQUFDLENBQUE7cUJBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsUUFBUSxFQUFFLFVBQVUsQ0FBQyxFQUFFLENBQUMsRUFBRTtBQUFFLDRCQUFJLENBQUMsVUFBVSxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUMsQUFBQyxJQUFJLElBQUksRUFBQSxDQUFFLE9BQU8sRUFBRSxHQUFHLElBQUksQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQTtxQkFBRSxDQUFDLENBQUE7aUJBQUU7YUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLFFBQVEsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsUUFBUSxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQyxFQUFFO0FBQUUsaUJBQUMsQ0FBQyxPQUFPLEdBQUcsVUFBVSxDQUFDLEVBQUU7QUFBRSx3QkFBSSxDQUFDLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQUM7d0JBQUUsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxRQUFRO3dCQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsQUFBQyxDQUFDLENBQUMsSUFBSSxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsQUFBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxBQUFDLFFBQU8sQ0FBQyxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQSxBQUFDLEVBQUUsQ0FBQyxDQUFDLElBQUksSUFBSSxHQUFHLEtBQUssQ0FBQyxDQUFDLElBQUksS0FBSyxDQUFDLENBQUMsSUFBSSxHQUFHLE9BQU8sS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLElBQUksQ0FBQSxBQUFDLEVBQUUsQ0FBQyxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUMsUUFBUSxJQUFJLENBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEdBQUcsS0FBSyxDQUFDLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsUUFBUSxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUMsUUFBUSxDQUFBLEFBQUMsRUFBRSxDQUFDLENBQUMsVUFBVSxHQUFHLENBQUMsQ0FBQyxDQUFDLFFBQVEsSUFBSSxDQUFDLENBQUMsUUFBUSxLQUFLLFFBQVEsQ0FBQyxNQUFNLElBQUksQ0FBQyxDQUFDLElBQUksS0FBSyxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxRQUFRLEtBQUssQ0FBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUEsQ0FBQTtpQkFBRSxDQUFBO2FBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDLEVBQUU7QUFBRSxpQkFBQyxDQUFDLE9BQU8sR0FBRyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUE7YUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLFFBQVEsRUFBRSxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUMsRUFBRTtBQUFFLHlCQUFTLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRTtBQUFFLHdCQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEFBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQUFBQyxJQUFJLE1BQU0sQ0FBQyxjQUFjLElBQUksTUFBTSxDQUFDLElBQUksRUFBRSxJQUFJO0FBQUUsZ0NBQU8sTUFBTSxDQUFDLGNBQWMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxRQUFRLEVBQUUsQ0FBQyxDQUFDLEVBQUUsVUFBVSxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUEsQ0FBQTtxQkFBRSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUcsQUFBQyxRQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFBLENBQUE7aUJBQUUsQUFBQyxJQUFJLENBQUMsR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFD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TyxDQUFDLENBQUE7aUJBQUUsQUFBQyxJQUFJLENBQUMsR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDLGNBQWMsQ0FBQyxBQUFDLENBQUMsQ0FBQyxPQUFPLEdBQUcsQ0FBQyxDQUFBO2FBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDLEVBQUU7QUFBRSx5QkFBUyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUU7QUFBRSxxQkFBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUEsQUFBQyxFQUFFLFdBQVcsSUFBSSxPQUFPLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFBLEFBQUMsQ0FBQyxBQUFDLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsR0FBRyxLQUFLLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUcsRUFBRSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEFBQUMsT0FBTyxDQUFDLENBQUE7aUJBQUUsQUFBQyxDQUFDLENBQUMsT0FBTyxHQUFHLENBQUMsQ0FBQTthQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQyxFQUFFO0FBQUUseUJBQVMsQ0FBQyxDQUFDLENBQUMsRUFBRTtBQUFFLDJCQUFPLEVBQUUsQ0FBQyxJQUFJLFVBQVUsSUFBSSxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBLEFBQUMsQ0FBQTtpQkFBRSxBQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUM7b0JBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7b0JBQUUsQ0FBQyxHQUFHLFlBQVk7b0JBQUUsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUMsY0FBYyxDQUFDLEFBQUMsQ0FBQyxDQUFDLE9BQU8sR0FBRyxVQUFVLENBQUMsRUFBRTtBQUFFLDZCQUFTLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUU7QUFBRSxpQ0FBUyxTQUFTLEdBQUc7QUFBRSxnQ0FBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQUFBQyxJQUFJO0FBQUUsaUNBQUMsR0FBRyxJQUFJLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFBOzZCQUFFLENBQUMsT0FBTyxDQUFDLEVBQUU7QUFBRSxpQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQTs2QkFBRSxBQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsT0FBTyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxBQUFDLElBQUk7QUFBRSx1Q0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUE7NkJBQUUsQ0FBQyxPQUFPLENBQUMsRUFBRTtBQUFFLHVDQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsS0FBSyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUEsQ0FBQTs2QkFBRSxTQUFTO0FBQUUsaUNBQUMsQ0FBQyxDQUFDLEdBQUcsS0FBSyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQTs2QkFBRTt5QkFBRSxBQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLEVBQUUsQ0FBQSxBQUFDLEVBQUUsU0FBUyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsU0FBUyxDQUFDLEVBQUUsU0FBUyxDQUFBLEFBQUMsQ0FBQTtxQkFBRSxBQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRTtBQUFFLHlCQUFDLEtBQUssQ0FBQyxHQUFHLEVBQUUsQ0FBQSxBQUFDLENBQUMsQUFBQyxJQUFJLENBQUM7NEJBQUUsQ0FBQzs0QkFBRSxDQUFDOzRCQUFFLENBQUMsR0FBRyxHQUFHLEtBQUssQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxBQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFBLEFBQUMsQ0FBQTtxQkFBRSxBQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFO0FBQUUsNEJBQUk7QUFBRSw2QkFBQyxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFBO3lCQUFFLENBQUMsT0FBTyxDQUFDLEVBQUU7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LENBQUM7OztBQ3hCMUI7QUFDQTtBQUNBOztBQ0ZBO0FBQ0E7QUFDQTs7QUNGQTtBQUNBO0FBQ0E7O0FDRkE7QUFDQTtBQUNBOztBQ0ZBO0FBQ0E7QUFDQTs7QUNGQTtBQUNBO0FBQ0E7O0FDRkE7QUFDQTtBQUNBOztBQ0ZBO0FBQ0E7QUFDQTs7QUNGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDZEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIu+7v1xyXG5yZXF1aXJlKCcuL2pzL2ludGVncmF0aW9ucy9hdXRoMCcpO1xyXG5yZXF1aXJlKCcuL2pzL2ludGVncmF0aW9ucy9nb29nbGVhbmFseXRpY3MnKTtcclxucmVxdWlyZSgnLi9qcy9pbnRlZ3JhdGlvbnMvbmV3cmVsaWMnKTtcclxucmVxdWlyZSgnLi9qcy9pbnRlZ3JhdGlvbnMvcmF5Z3VuJyk7XHJcbnJlcXVpcmUoJy4vanMvaW50ZWdyYXRpb25zL3VzZXJzbmFwJyk7XHJcblxyXG5yZXF1aXJlKCcuL3RhZ3MvcGFnZS1hY3Rpb25zLnRhZycpO1xyXG5yZXF1aXJlKCcuL3RhZ3MvcGFnZS1jb250YWluZXIudGFnJyk7XHJcbnJlcXVpcmUoJy4vdGFncy9wYWdlLWNvbnRlbnQudGFnJyk7XHJcbnJlcXVpcmUoJy4vdGFncy9wYWdlLWZvb3Rlci50YWcnKTtcclxucmVxdWlyZSgnLi90YWdzL3BhZ2UtaGVhZGVyLnRhZycpO1xyXG5yZXF1aXJlKCcuL3RhZ3MvcGFnZS1sb2dvLnRhZycpO1xyXG5yZXF1aXJlKCcuL3RhZ3MvcGFnZS1zZWFyY2gudGFnJyk7XHJcbnJlcXVpcmUoJy4vdGFncy9wYWdlLXNpZGViYXIudGFnJyk7XHJcbnJlcXVpcmUoJy4vdGFncy9wYWdlLXRvcG1lbnUudGFnJyk7XHJcbnJlcXVpcmUoJy4vdGFncy9wYWdlLWJvZHkudGFnJyk7XHJcblxyXG5yZXF1aXJlKCcuL2pzL2NhbnZhcy9lZGl0b3IuanMnKTtcclxucmVxdWlyZSgnLi9qcy9jYW52YXMvdXNlci5qcycpO1xyXG5yZXF1aXJlKCcuL2pzL2NhbnZhcy9qb2luX25hdGlvbi5qcycpO1xyXG5yZXF1aXJlKCcuL2pzL2NhbnZhcy9lZGl0b3Jfb3B0aW9ucy5qcycpO1xyXG5yZXF1aXJlKCcuL2pzL2NhbnZhcy90dXRvcmlhbC5qcycpO1xyXG5yZXF1aXJlKCcuL2pzL2NhbnZhcy9hbmFseXRpY3MuanMnKTtcclxucmVxdWlyZSgnLi9qcy9jYW52YXMvYXR0YWNobWVudHMuanMnKTtcclxucmVxdWlyZSgnLi9qcy9jYW52YXMvYXV0b3NhdmUuanMnKTtcclxucmVxdWlyZSgnLi9qcy9jYW52YXMvZ2VuZXJhdG9yLmpzJyk7XHJcbnJlcXVpcmUoJy4vanMvY2FudmFzL2hpc3RvcnkuanMnKTtcclxucmVxdWlyZSgnLi9qcy9jYW52YXMvbGF5b3V0cy5qcycpO1xyXG5yZXF1aXJlKCcuL2pzL2NhbnZhcy9nb3JnZXNfZ3JpZC5qcycpO1xyXG5yZXF1aXJlKCcuL2pzL2NhbnZhcy9tYXAuanMnKTtcclxucmVxdWlyZSgnLi9qcy9jYW52YXMvbWFwcy5qcycpO1xyXG5yZXF1aXJlKCcuL2pzL2NhbnZhcy9mZWVkLmpzJyk7XHJcbnJlcXVpcmUoJy4vanMvY2FudmFzL3RvcF9tYXBzLmpzJyk7XHJcbnJlcXVpcmUoJy4vanMvY2FudmFzL3BlcnNwZWN0aXZlcy5qcycpO1xyXG5yZXF1aXJlKCcuL2pzL2NhbnZhcy9wcmVzZW50ZXIuanMnKTtcclxucmVxdWlyZSgnLi9qcy9jYW52YXMvc2hhcmluZy5qcycpO1xyXG5yZXF1aXJlKCcuL2pzL2NhbnZhcy9zdGFuZGFyZHMuanMnKTtcclxucmVxdWlyZSgnLi9qcy9jYW52YXMvdGFnZ2luZy5qcycpO1xyXG5yZXF1aXJlKCcuL2pzL2NhbnZhcy90YWdnaW5nX2FkbWluLmpzJyk7XHJcbnJlcXVpcmUoJy4vanMvY2FudmFzL3RhZ2dpbmdfY2NzLmpzJyk7XHJcbnJlcXVpcmUoJy4vanMvY2FudmFzL3RlbXBsYXRlcy5qcycpO1xyXG5yZXF1aXJlKCcuL2pzL2NhbnZhcy90ZXN0cy5qcycpO1xyXG5yZXF1aXJlKCcuL2pzL2NhbnZhcy91aS5qcycpO1xyXG5cclxudmFyIG1tID0gcmVxdWlyZSgnLi9NZXRhTWFwJyk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IG5ldyBtbSgpOyIsInZhciBNZXRhRmlyZSA9IHJlcXVpcmUoJy4vanMvaW50ZWdyYXRpb25zL2ZpcmViYXNlJyk7XHJcbnZhciBBdXRoMCA9IHJlcXVpcmUoJy4vanMvaW50ZWdyYXRpb25zL2F1dGgwJyk7XHJcbnZhciB1c2Vyc25hcCA9IHJlcXVpcmUoJy4vanMvaW50ZWdyYXRpb25zL3VzZXJzbmFwJyk7XHJcblxyXG5jbGFzcyBNZXRhTWFwIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvciAoKSB7XHJcbiAgICAgICAgdGhpcy5NZXRhRmlyZSA9IG5ldyBNZXRhRmlyZSgpO1xyXG4gICAgICAgIHRoaXMuQXV0aDAgPSBuZXcgQXV0aDAoKTtcclxuICAgICAgICB1c2Vyc25hcCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgdGhpcy5BdXRoMC5sb2dpbigpLnRoZW4oKHByb2ZpbGUpID0+IHtcclxuICAgICAgICAgICAgcmlvdC5tb3VudCgnKicpO1xyXG4gICAgICAgICAgICBfLmRlbGF5KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIE1ldHJvbmljLmluaXQoKTsgLy8gaW5pdCBtZXRyb25pYyBjb3JlIGNvbXBvbmV0c1xyXG4gICAgICAgICAgICAgICAgTGF5b3V0LmluaXQoKTsgLy8gaW5pdCBsYXlvdXRcclxuICAgICAgICAgICAgICAgIERlbW8uaW5pdCgpOyAvLyBpbml0IGRlbW8gZmVhdHVyZXNcclxuICAgICAgICAgICAgICAgIEluZGV4LmluaXQoKTsgLy8gaW5pdCBpbmRleCBwYWdlXHJcbiAgICAgICAgICAgICAgICBUYXNrcy5pbml0RGFzaGJvYXJkV2lkZ2V0KCk7IC8vIGluaXQgdGFzaCBkYXNoYm9hcmQgd2lkZ2V0XHJcbiAgICAgICAgICAgIH0sIDI1MCk7XHJcbiAgICAgICAgICAgIHRoaXMuTWV0YUZpcmUuaW5pdCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGxvZ291dCgpIHtcclxuICAgICAgICB0aGlzLk1ldGFGaXJlLmxvZ291dCgpO1xyXG4gICAgICAgIHRoaXMuQXV0aDAubG9nb3V0KCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gTWV0YU1hcDsiLCIvLyBmdW5jdGlvbnMgaGFuZGxpbmcgYW5hbHl0aWNzXHJcbi8vIGFuYWx5dGljcyBkaXNwbGF5IGlzIGluIHZpZXdzL21hcHMvX2FuYWx5dGljc190YWJfbWFwIGFuZCBfYW5hbHl0aWNzX3RhYl90aGluZ1xyXG5TYW5kYmFua0VkaXRvci5BbmFseXRpY3MgPSBmdW5jdGlvbiAoJHNjb3BlLCAkaHR0cCwgbWFwKSB7XHJcblxyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgIHRoaXMuaW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5oYW5kbGVEaWFncmFtRXZlbnQgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBlKSB7XHJcbiAgICAgICAgaWYgKGV2ZW50TmFtZSA9PSAnQ2hhbmdlZFNlbGVjdGlvbicpIHtcclxuICAgICAgICAgICAgaWYgKG1hcC5nZXRVaSgpLmN1cnJlbnRUYWJJcyhtYXAuZ2V0VWkoKS5UQUJfSURfQU5BTFlUSUNTX1RISU5HKSkge1xyXG4gICAgICAgICAgICAgICAgc2VsZi51cGRhdGVDb250ZXh0dWFsQW5hbHl0aWNzKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIGNhbGxlZCB3aGVuIGEgdGFiIGlzIG9wZW5lZCBvciBjbG9zZWRcclxuICAgIHRoaXMuY3VycmVudFRhYkNoYW5nZWQgPSBmdW5jdGlvbihuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcclxuICAgICAgICBpZiAobmV3VmFsdWUgPT0gbWFwLmdldFVpKCkuVEFCX0lEX0FOQUxZVElDU19USElORykgeyAvLyBvcGVuaW5nIHRoaW5nIGFuYWx5dGljcyB0YWJcclxuICAgICAgICAgICAgc2VsZi51cGRhdGVDb250ZXh0dWFsQW5hbHl0aWNzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyB0aGlzIGdldHMgcG9wdWxhdGVkIGJ5IG1hcC5sb2FkTWFwRXh0cmFEYXRhLCBvbiBsb2FkIGFuZCBhZnRlciBldmVyeSBhdXRvc2F2ZVxyXG4gICAgdGhpcy5tYXBBbmFseXRpY3MgPSBudWxsO1xyXG5cclxuICAgIC8vIC0tLS0tLS0tLSBjb250ZXh0dWFsIGFuYWx5dGljcyAtLS0tLS0tLS0tLS0tLVxyXG4gICAgLy8gLSB0aGVzZSBhcmUgYWxsIGNhbGN1bGF0ZWQgaGVyZSwgdW5saWtlIG1hcCBhbmFseXRpY3Mgd2hpY2ggYXJlIGNhbGN1bGF0ZWQgb24gdGhlIHNlcnZlciBhbmQgY29ubmVjdGVkIHdpdGggYmFkZ2VzIGFuZCBwb2ludHNcclxuXHJcbiAgICAvLyB0aGlzIGdldHMgY2FsY3VsYXRlZCBieSB1cGRhdGVDb250ZXh0dWFsQW5hbHl0aWNzXHJcbiAgICB0aGlzLmNvbnRleHR1YWxBbmFseXRpY3MgPSB7XHJcbiAgICAgICAgdGhpbmdOYW1lOiAnJyxcclxuXHJcbiAgICAgICAgLy8gdGhpbmcgc3R1ZmZcclxuICAgICAgICBkaXN0aW5jdEZyb206IDAsXHJcbiAgICAgICAgaW50ZW50aW9uYWxseURpc3RpbmN0RnJvbTogMCxcclxuICAgICAgICBwYXJ0T2Y6IDAsXHJcbiAgICAgICAgaW5jbHVkZXNQYXJ0czogMCxcclxuICAgICAgICByZWxhdGVkVG86IDAsXHJcbiAgICAgICAgaXNSZWxhdGlvbnNoaXA6IDAsXHJcbiAgICAgICAgbG9va2luZ0F0OiAwLFxyXG4gICAgICAgIGxvb2tlZEF0RnJvbTogMCxcclxuXHJcbiAgICAgICAgLy8gUiBzdHVmZlxyXG4gICAgICAgIHJGcm9tVGhpbmdOYW1lOiAnJyxcclxuICAgICAgICByVG9UaGluZ05hbWU6ICcnLFxyXG4gICAgICAgIGlzUlRoaW5nOiBmYWxzZSxcclxuICAgICAgICBpc1JTeXN0ZW06IGZhbHNlLFxyXG4gICAgICAgIGlzUlBvaW50OiBmYWxzZSxcclxuICAgICAgICBpc1JWaWV3OiBmYWxzZVxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnVwZGF0ZUNvbnRleHR1YWxBbmFseXRpY3MgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZygndXBkYXRlQ29udGV4dHVhbEFuYWx5dGljcycpO1xyXG4gICAgICAgIGlmICghbWFwLmdldFVpKCkuY3VycmVudFRhYklzKG1hcC5nZXRVaSgpLlRBQl9JRF9BTkFMWVRJQ1NfVEhJTkcpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgZGlhZ3JhbSA9IG1hcC5nZXREaWFncmFtKCk7XHJcbiAgICAgICAgdmFyIHBhcnQgPSBkaWFncmFtLnNlbGVjdGlvbi5maXJzdCgpO1xyXG4gICAgICAgIHZhciBhID0gc2VsZi5jb250ZXh0dWFsQW5hbHl0aWNzO1xyXG5cclxuICAgICAgICBpZiAocGFydCAmJiBwYXJ0IGluc3RhbmNlb2YgZ28uR3JvdXApIHtcclxuICAgICAgICAgICAgdmFyIHRoaW5nID0gcGFydDtcclxuXHJcbiAgICAgICAgICAgIC8vIHRoaW5nIG5hbWVcclxuICAgICAgICAgICAgYS50aGluZ05hbWUgPSB0aGluZy5kYXRhLnRleHQ7XHJcblxyXG4gICAgICAgICAgICAvLyBkaXN0aW5jdCBmcm9tXHJcbiAgICAgICAgICAgIGEuZGlzdGluY3RGcm9tID0gXy53aGVyZShkaWFncmFtLm1vZGVsLm5vZGVEYXRhQXJyYXksIHtpc0dyb3VwOiB0cnVlfSkubGVuZ3RoIC0gMTtcclxuXHJcbiAgICAgICAgICAgIC8vIHBhcnQgb2ZcclxuICAgICAgICAgICAgdmFyIGxldmVsID0gMDtcclxuICAgICAgICAgICAgdmFyIHRoaW5nMiA9IHRoaW5nO1xyXG4gICAgICAgICAgICB3aGlsZSAodGhpbmcyID0gZ2V0Q29udGFpbmluZ0dyb3VwKHRoaW5nMikpIHtcclxuICAgICAgICAgICAgICAgIGxldmVsKys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYS5wYXJ0T2YgPSBsZXZlbDtcclxuXHJcbiAgICAgICAgICAgIC8vIGluY2x1ZGVzIHBhcnRzXHJcbiAgICAgICAgICAgIGEuaW5jbHVkZXNQYXJ0cyA9IGNvdW50R3JvdXBzKHRoaW5nKTtcclxuXHJcbiAgICAgICAgICAgIC8vIHJlbGF0ZWQgdG8gLyBsb29raW5nIGF0IC8gbG9va2VkIGF0IGZyb20gLyBpbnRlbnRpb25hbGx5IGRpc3RpbmN0IGZyb21cclxuICAgICAgICAgICAgYS5yZWxhdGVkVG8gPSAwO1xyXG4gICAgICAgICAgICBhLmxvb2tpbmdBdCA9IDA7XHJcbiAgICAgICAgICAgIGEubG9va2VkQXRGcm9tID0gMDtcclxuICAgICAgICAgICAgYS5pbnRlbnRpb25hbGx5RGlzdGluY3RGcm9tID0gMDtcclxuICAgICAgICAgICAgdmFyIGxpbmtzID0gdGhpbmcubGlua3NDb25uZWN0ZWQ7XHJcbiAgICAgICAgICAgIHZhciByQ29ubmVjdGVkVGhpbmdLZXlzID0gW107XHJcbiAgICAgICAgICAgIHdoaWxlIChsaW5rcy5uZXh0KCkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBsaW5rID0gbGlua3MudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAvLyBQIGxpbmtcclxuICAgICAgICAgICAgICAgIGlmIChsaW5rLmRhdGEuY2F0ZWdvcnkgPT0gJ1AnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxpbmsuZnJvbU5vZGUgPT0gdGhpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYS5sb29raW5nQXQrKztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobGluay50b05vZGUgPT0gdGhpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYS5sb29rZWRBdEZyb20rKztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBEIGxpbmtcclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGxpbmsuZGF0YS5jYXRlZ29yeSA9PSAnRCcpIHtcclxuICAgICAgICAgICAgICAgICAgICBhLmludGVudGlvbmFsbHlEaXN0aW5jdEZyb20rKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIFIgbGlua1xyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIWxpbmsuZGF0YS5jYXRlZ29yeSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHRyYWNrIGtleXMgb2YgcmVsYXRlZCB0aGluZ3Mgc28gd2UgZG9uJ3QgY291bnQgdGhlbSBtdWx0aXBsZSB0aW1lc1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChsaW5rLmZyb21Ob2RlID09IHRoaW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJDb25uZWN0ZWRUaGluZ0tleXMucHVzaChsaW5rLnRvTm9kZS5kYXRhLmtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGxpbmsudG9Ob2RlID09IHRoaW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJDb25uZWN0ZWRUaGluZ0tleXMucHVzaChsaW5rLmZyb21Ob2RlLmRhdGEua2V5KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYS5yZWxhdGVkVG8gPSBfLnVuaXEockNvbm5lY3RlZFRoaW5nS2V5cykubGVuZ3RoO1xyXG5cclxuICAgICAgICAgICAgLy8gaXNSZWxhdGlvbnNoaXBcclxuICAgICAgICAgICAgYS5pc1JlbGF0aW9uc2hpcCA9IHRoaW5nLmlzTGlua0xhYmVsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChwYXJ0ICYmIHBhcnQgaW5zdGFuY2VvZiBnby5MaW5rKSB7XHJcbiAgICAgICAgICAgIHZhciByZWwgPSBwYXJ0O1xyXG5cclxuICAgICAgICAgICAgLy8gdGhpbmcgbmFtZXNcclxuICAgICAgICAgICAgYS5yRnJvbVRoaW5nTmFtZSA9IHJlbC5mcm9tTm9kZS5kYXRhLnRleHQ7XHJcbiAgICAgICAgICAgIGEuclRvVGhpbmdOYW1lID0gcmVsLnRvTm9kZS5kYXRhLnRleHQ7XHJcblxyXG4gICAgICAgICAgICAvLyBpcyBSIHRoaW5nXHJcbiAgICAgICAgICAgIGEuaXNSVGhpbmcgPSByZWwuaXNMYWJlbGVkTGluaztcclxuXHJcbiAgICAgICAgICAgIC8vIGlzIFIgc3lzdGVtXHJcbiAgICAgICAgICAgIGEuaXNSU3lzdGVtID0gcmVsLmlzTGFiZWxlZExpbmsgJiYgY291bnRHcm91cHMocmVsLmxhYmVsTm9kZXMuZmlyc3QoKSkgPiAwO1xyXG5cclxuICAgICAgICAgICAgLy8gaXMgUiBwb2ludFxyXG4gICAgICAgICAgICBhLmlzUlBvaW50ID0gcmVsLmlzTGFiZWxlZExpbmsgJiYgaXNQb2ludChyZWwubGFiZWxOb2Rlcy5maXJzdCgpKTtcclxuXHJcbiAgICAgICAgICAgIC8vIGlzIFIgdmlld1xyXG4gICAgICAgICAgICBhLmlzUlZpZXcgPSByZWwuaXNMYWJlbGVkTGluayAmJiBpc1ZpZXcocmVsLmxhYmVsTm9kZXMuZmlyc3QoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyByZXR1cm5zIGVpdGhlciB0aGUgY29udGFpbmluZ0dyb3VwIG9yIHRoZSByVGhpbmdDb250YWluaW5nR3JvdXAsIHdoaWNoZXZlciBpcyBub24tbnVsbFxyXG4gICAgZnVuY3Rpb24gZ2V0Q29udGFpbmluZ0dyb3VwKGdyb3VwKSB7XHJcbiAgICAgICAgcmV0dXJuIGdyb3VwLmNvbnRhaW5pbmdHcm91cCB8fCBnZXRSVGhpbmdDb250YWluaW5nR3JvdXAoZ3JvdXApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGlmIGdyb3VwIGlzIGFuIFItdGhpbmcgYmV0d2VlbiB0d28gc2libGluZyBwYXJ0cyBvZiBhIHdob2xlLCByZXR1cm5zIHRoZSB3aG9sZTsgZWxzZSByZXR1cm5zIG51bGxcclxuICAgIGZ1bmN0aW9uIGdldFJUaGluZ0NvbnRhaW5pbmdHcm91cChncm91cCkge1xyXG4gICAgICAgIGlmIChncm91cC5pc0xpbmtMYWJlbCkge1xyXG4gICAgICAgICAgICB2YXIgZnJvbVBhcmVudCA9IGdyb3VwLmxhYmVsZWRMaW5rLmZyb21Ob2RlLmNvbnRhaW5pbmdHcm91cDtcclxuICAgICAgICAgICAgdmFyIHRvUGFyZW50ID0gZ3JvdXAubGFiZWxlZExpbmsudG9Ob2RlLmNvbnRhaW5pbmdHcm91cDtcclxuICAgICAgICAgICAgaWYgKGZyb21QYXJlbnQgIT09IG51bGwgJiYgdG9QYXJlbnQgIT09IG51bGwgJiYgZnJvbVBhcmVudCA9PSB0b1BhcmVudCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZyb21QYXJlbnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gY291bnRzIHRoZSBtZW1iZXIgcGFydHMgb2YgdGhlIGdyb3VwIHRoYXQgYXJlIGdyb3VwcywgcmVjdXJzaXZlbHkgKG5vdCBpbmNsdWRpbmcgdGhlIGdyb3VwIGl0c2VsZilcclxuICAgIGZ1bmN0aW9uIGNvdW50R3JvdXBzKGdyb3VwKSB7XHJcbiAgICAgICAgdmFyIGNvdW50ID0gMDtcclxuICAgICAgICB2YXIgaXQgPSBnZXRNZW1iZXJHcm91cHMoZ3JvdXApLml0ZXJhdG9yO1xyXG4gICAgICAgIHdoaWxlIChpdC5uZXh0KCkpIHtcclxuICAgICAgICAgICAgdmFyIHBhcnQgPSBpdC52YWx1ZTtcclxuICAgICAgICAgICAgY291bnQgKz0gMSArIGNvdW50R3JvdXBzKHBhcnQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGNvdW50O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHJldHVybnMgdGhlIGNvbGxlY3Rpb24gb2YgZ3JvdXBzIHRoYXQgYXJlIGVpdGhlciBhIG1lbWJlclBhcnQgb2YgdGhpcyBncm91cCwgb3IgYW4gUi10aGluZyBiZXR3ZWVuIHNpYmxpbmcgbWVtYmVyUGFydHNcclxuICAgIGZ1bmN0aW9uIGdldE1lbWJlckdyb3Vwcyhncm91cCkge1xyXG4gICAgICAgIHZhciBtZW1iZXJzID0gbmV3IGdvLkxpc3QoKTtcclxuICAgICAgICB2YXIgaXQgPSBncm91cC5tZW1iZXJQYXJ0cztcclxuICAgICAgICB3aGlsZSAoaXQubmV4dCgpKSB7XHJcbiAgICAgICAgICAgIHZhciBwYXJ0ID0gaXQudmFsdWU7XHJcbiAgICAgICAgICAgIGlmIChwYXJ0IGluc3RhbmNlb2YgZ28uR3JvdXApIHtcclxuICAgICAgICAgICAgICAgIG1lbWJlcnMuYWRkKHBhcnQpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHJ0aGluZyA9IGdldFJUaGluZ1RvU2libGluZyhwYXJ0KTsgLy8gTkI6IHNob3VsZCBub3QgZ2V0IGR1cGxpY2F0aW9uIGhlcmUsIGFzIHRoaXMgY2hlY2tzIGZvciByLXRoaW5ncyBpbiBvbmx5IG9uZSBkaXJlY3Rpb25cclxuICAgICAgICAgICAgICAgIGlmIChydGhpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICBtZW1iZXJzLmFkZChydGhpbmcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBtZW1iZXJzO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGlmIHRoZSBncm91cCBpcyBsaW5rZWQgYnkgYW4gUi10aGluZyB0byBhIHNpYmxpbmcgKHdpdGggdGhlIGdyb3VwIGFzIHRoZSBmcm9tTm9kZSksIHJldHVybnMgdGhlIFItdGhpbmc7IGVsc2UgcmV0dXJucyBudWxsXHJcbiAgICBmdW5jdGlvbiBnZXRSVGhpbmdUb1NpYmxpbmcoZ3JvdXApIHtcclxuICAgICAgICB2YXIgaXQgPSBncm91cC5maW5kTGlua3NPdXRPZigpO1xyXG4gICAgICAgIHdoaWxlIChpdC5uZXh0KCkpIHtcclxuICAgICAgICAgICAgdmFyIGxpbmsgPSBpdC52YWx1ZTtcclxuICAgICAgICAgICAgaWYgKGxpbmsubGFiZWxOb2Rlcy5jb3VudCA+IDAgJiYgbGluay50b05vZGUuY29udGFpbmluZ0dyb3VwID09IGdyb3VwLmNvbnRhaW5pbmdHcm91cCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxpbmsubGFiZWxOb2Rlcy5maXJzdCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGlzUG9pbnQoZ3JvdXApIHtcclxuICAgICAgICB2YXIgaXQgPSBncm91cC5maW5kTGlua3NPdXRPZigpO1xyXG4gICAgICAgIHdoaWxlIChpdC5uZXh0KCkpIHtcclxuICAgICAgICAgICAgdmFyIGxpbmsgPSBpdC52YWx1ZTtcclxuICAgICAgICAgICAgaWYgKGxpbmsuZGF0YS5jYXRlZ29yeSA9PSAnUCcpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBpc1ZpZXcoZ3JvdXApIHtcclxuICAgICAgICB2YXIgaXQgPSBncm91cC5maW5kTGlua3NJbnRvKCk7XHJcbiAgICAgICAgd2hpbGUgKGl0Lm5leHQoKSkge1xyXG4gICAgICAgICAgICB2YXIgbGluayA9IGl0LnZhbHVlO1xyXG4gICAgICAgICAgICBpZiAobGluay5kYXRhLmNhdGVnb3J5ID09ICdQJykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG59OyIsIi8vIGZ1bmN0aW9ucyBoYW5kbGluZyBhdHRhY2htZW50c1xyXG5cclxud2luZG93LlNhbmRiYW5rRWRpdG9yLkF0dGFjaG1lbnRzID0gZnVuY3Rpb24gKCRzY29wZSwgJGh0dHAsICRyZXNvdXJjZSwgbWFwKSB7XHJcblxyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgIHRoaXMuc2VsZWN0ZWRUaGluZyA9IG51bGw7XHJcbiAgICB0aGlzLmF0dGFjaG1lbnRzID0gbnVsbDtcclxuXHJcbiAgICB0aGlzLmF0dGFjaG1lbnRUeXBlcyA9IFtcclxuICAgICAgICB7bmFtZTogJ25vdGUnLCBsYWJlbFNpbmd1bGFyOiAnTm90ZScsIGxhYmVsUGx1cmFsOiAnTm90ZXMnfSwgXHJcbiAgICAgICAge25hbWU6ICdsaW5rJywgbGFiZWxTaW5ndWxhcjogJ1dlYiBMaW5rJywgbGFiZWxQbHVyYWw6ICdXZWIgTGlua3MnfSwgXHJcbiAgICAgICAge25hbWU6ICd0YXNrJywgbGFiZWxTaW5ndWxhcjogJ1Rhc2snLCBsYWJlbFBsdXJhbDogJ1Rhc2tzJ30sIFxyXG4gICAgICAgIHtuYW1lOiAnbWFwJywgbGFiZWxTaW5ndWxhcjogJ0xpbmtlZCBNZXRhTWFwJywgbGFiZWxQbHVyYWw6ICdMaW5rZWQgTWV0YU1hcHMnfVxyXG4vLyAgICAgICAge25hbWU6ICdkb2MnLCBsYWJlbFNpbmd1bGFyOiAnRG9jdW1lbnQnLCBsYWJlbFBsdXJhbDogJ0RvY3VtZW50cyd9ICAvLyBsaW1pdCBvdmVyYWxsIHN0b3JhZ2Ugc3BhY2UgT1Igc2ltcGxlciBydWxlcz9cclxuICAgICAgICAvLyBsaW1pdCBmaWxlIHR5cGVzIC0gcGRmLCBqcGcsIGdpZiwgcG5nLCBvZmZpY2U/Li4uICB3aGl0ZWxpc3QgdnMuIGJsYWNrbGlzdFxyXG4gICAgXTtcclxuXHJcbiAgICB0aGlzLmluaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuaGFuZGxlRGlhZ3JhbUV2ZW50ID0gZnVuY3Rpb24gKGV2ZW50TmFtZSwgZSkge1xyXG4gICAgICAgIGlmIChldmVudE5hbWUgPT0gJ0NoYW5nZWRTZWxlY3Rpb24nKSB7XHJcbiAgICAgICAgICAgIGlmIChtYXAuZ2V0VWkoKS5jdXJyZW50VGFiSXMobWFwLmdldFVpKCkuVEFCX0lEX0FUVEFDSE1FTlRTKSkge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5zdG9wRWRpdGluZ0FsbCgpO1xyXG4gICAgICAgICAgICAgICAgc2VsZi5zYXZlQXR0YWNobWVudHMoKTtcclxuICAgICAgICAgICAgICAgIHNlbGYubG9hZFNlbGVjdGVkVGhpbmdBdHRhY2htZW50cygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBjYWxsZWQgd2hlbiBhIHRhYiBpcyBvcGVuZWQgb3IgY2xvc2VkXHJcbiAgICB0aGlzLmN1cnJlbnRUYWJDaGFuZ2VkID0gZnVuY3Rpb24obmV3VmFsdWUsIG9sZFZhbHVlKSB7XHJcbiAgICAgICAgaWYgKG5ld1ZhbHVlID09IG1hcC5nZXRVaSgpLlRBQl9JRF9BVFRBQ0hNRU5UUykgeyAvLyBvcGVuaW5nIHRhYlxyXG4gICAgICAgICAgICBzZWxmLmxvYWRTZWxlY3RlZFRoaW5nQXR0YWNobWVudHMoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG9sZFZhbHVlID09IG1hcC5nZXRVaSgpLlRBQl9JRF9BVFRBQ0hNRU5UUykgeyAvLyBjbG9zaW5nIHRhYlxyXG4gICAgICAgICAgICBzZWxmLnNhdmVBdHRhY2htZW50cygpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5sb2FkU2VsZWN0ZWRUaGluZ0F0dGFjaG1lbnRzID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgJHNjb3BlLnNhZmVBcHBseShmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgaWYgKG1hcC50aGluZ1NlbGVjdGVkKCkpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYuc2VsZWN0ZWRUaGluZyA9IG1hcC5nZXRVbmlxdWVUaGluZ1NlbGVjdGVkKCk7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmF0dGFjaG1lbnRzID0gc2VsZi5zZWxlY3RlZFRoaW5nLmRhdGEuYXR0YWNobWVudHM7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5hdHRhY2htZW50cyA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5hdHRhY2htZW50cyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIHNldCBhbGwgYXR0YWNobWVudHMgdG8gZWRpdGluZyA9IGZhbHNlXHJcbiAgICB0aGlzLnN0b3BFZGl0aW5nQWxsID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgJHNjb3BlLnNhZmVBcHBseShmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgaWYgKHNlbGYuYXR0YWNobWVudHMpIHtcclxuICAgICAgICAgICAgICAgIF8uZWFjaChzZWxmLmF0dGFjaG1lbnRzLCBmdW5jdGlvbiAoYXR0KSB7IGF0dC5lZGl0aW5nID0gZmFsc2U7IH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZWRpdGluZ0FuSXRlbSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiBzZWxmLmF0dGFjaG1lbnRzICYmIF8uZmluZFdoZXJlKHNlbGYuYXR0YWNobWVudHMsIHtlZGl0aW5nOiB0cnVlfSkgIT09IHVuZGVmaW5lZDtcclxuICAgIH07XHJcblxyXG4gICAgLy8gc2V0IGFsbCBvdGhlciBhdHRhY2htZW50cyB0byBlZGl0aW5nID0gZmFsc2VcclxuICAgIHRoaXMuc3RhcnRFZGl0aW5nID0gZnVuY3Rpb24oYXR0YWNobWVudCkge1xyXG4gICAgICAgICRzY29wZS5zYWZlQXBwbHkoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHNlbGYuc3RvcEVkaXRpbmdBbGwoKTtcclxuICAgICAgICAgICAgYXR0YWNobWVudC5lZGl0aW5nID0gdHJ1ZTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5zYXZlSXRlbSA9IGZ1bmN0aW9uKGF0dGFjaG1lbnQpIHtcclxuICAgICAgICAkc2NvcGUuc2FmZUFwcGx5KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBhdHRhY2htZW50LmVkaXRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgc2VsZi5zYXZlQXR0YWNobWVudHMoKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5zYXZlQXR0YWNobWVudHMgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAkc2NvcGUuc2FmZUFwcGx5KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnc2F2ZUF0dGFjaG1lbnRzLCBzZWxlY3RlZDogJyArIHNlbGYuc2VsZWN0ZWRUaGluZyk7XHJcbiAgICAgICAgICAgIGlmIChzZWxmLnNlbGVjdGVkVGhpbmcpIHtcclxuICAgICAgICAgICAgICAgIG1hcC5nZXREaWFncmFtKCkubW9kZWwuc2V0RGF0YVByb3BlcnR5KHNlbGYuc2VsZWN0ZWRUaGluZy5kYXRhLCAnYXR0YWNobWVudHMnLCBzZWxmLmF0dGFjaG1lbnRzKTtcclxuICAgICAgICAgICAgICAgIHNlbGYuc2VsZWN0ZWRUaGluZy51cGRhdGVUYXJnZXRCaW5kaW5ncygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG1hcC5nZXRBdXRvc2F2ZSgpLnNhdmVOb3coJ2VkaXRfYXR0YWNobWVudHMnKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5saXN0QXR0YWNobWVudHMgPSBmdW5jdGlvbiAodHlwZSkge1xyXG4gICAgICAgIHZhciBhdHRzID0gXy53aGVyZShzZWxmLmF0dGFjaG1lbnRzLCB7dHlwZTogdHlwZX0pO1xyXG4gICAgICAgIHJldHVybiBhdHRzO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmFkZEF0dGFjaG1lbnQgPSBmdW5jdGlvbiAodHlwZSkge1xyXG4gICAgICAgIHZhciBpdGVtID0geyB0eXBlOiB0eXBlLCBlZGl0aW5nOiB0cnVlIH07XHJcbiAgICAgICAgaWYgKHR5cGUgPT0gJ25vdGUnKSB7XHJcbiAgICAgICAgICAgIHNlbGYuYXR0YWNobWVudHMucHVzaChfLmV4dGVuZChpdGVtLCB7IHRleHQ6ICcnLCB1cmw6ICcnIH0pKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodHlwZSA9PSAnbGluaycpIHtcclxuICAgICAgICAgICAgc2VsZi5hdHRhY2htZW50cy5wdXNoKF8uZXh0ZW5kKGl0ZW0sIHsgbGFiZWw6ICcnLCB1cmw6ICcnIH0pKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodHlwZSA9PSAndGFzaycpIHtcclxuICAgICAgICAgICAgc2VsZi5hdHRhY2htZW50cy5wdXNoKF8uZXh0ZW5kKGl0ZW0sIHsgdGV4dDogJycgfSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0eXBlID09ICdkb2MnKSB7XHJcbiAgICAgICAgICAgIHNlbGYuYXR0YWNobWVudHMucHVzaChfLmV4dGVuZChpdGVtLCB7IG5hbWU6ICcnIH0pKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodHlwZSA9PSAnbWFwJykge1xyXG4gICAgICAgICAgICBzZWxmLmF0dGFjaG1lbnRzLnB1c2goXy5leHRlbmQoaXRlbSwgeyBtYXBSZWY6IHsgaWQ6IDAsIG5hbWU6ICcnICB9IH0pKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuaXNWYWxpZCA9IGZ1bmN0aW9uKGF0dGFjaG1lbnQpIHtcclxuICAgICAgICBpZiAoYXR0YWNobWVudC50eXBlID09ICdsaW5rJykge1xyXG4gICAgICAgICAgICByZXR1cm4gYXR0YWNobWVudC5sYWJlbCAmJiBhdHRhY2htZW50LnVybCAmJiBhdHRhY2htZW50LmxhYmVsLnRyaW0oKSAhPT0gJycgJiYgYXR0YWNobWVudC51cmwudHJpbSgpICE9PSAnJztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoYXR0YWNobWVudC50eXBlID09ICdub3RlJykge1xyXG4gICAgICAgICAgICByZXR1cm4gYXR0YWNobWVudC50ZXh0ICYmIGF0dGFjaG1lbnQudGV4dC50cmltKCkgIT09ICcnO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChhdHRhY2htZW50LnR5cGUgPT0gJ3Rhc2snKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhdHRhY2htZW50LnRleHQgJiYgYXR0YWNobWVudC50ZXh0LnRyaW0oKSAhPT0gJyc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGF0dGFjaG1lbnQudHlwZSA9PSAnZG9jJykge1xyXG4gICAgICAgICAgICByZXR1cm4gYXR0YWNobWVudC5uYW1lICYmIGF0dGFjaG1lbnQubmFtZS50cmltKCkgIT09ICcnO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChhdHRhY2htZW50LnR5cGUgPT0gJ21hcCcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGF0dGFjaG1lbnQubWFwUmVmICYmIGF0dGFjaG1lbnQubWFwUmVmLmlkICE9PSBudWxsICYmIGF0dGFjaG1lbnQubWFwUmVmLmlkICE9PSB1bmRlZmluZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmRlbGV0ZUF0dGFjaG1lbnQgPSBmdW5jdGlvbiAoYXR0KSB7XHJcbiAgICAgICAgdmFyIHR5cGVMYWJlbCA9IF8uZmluZFdoZXJlKHNlbGYuYXR0YWNobWVudFR5cGVzLCB7IG5hbWU6IGF0dC50eXBlIH0pLmxhYmVsU2luZ3VsYXI7XHJcbiAgICAgICAgaWYgKGNvbmZpcm0gKCdEZWxldGUgJyArIHR5cGVMYWJlbCArICc/JykpIHtcclxuICAgICAgICAgICAgdmFyIGkgPSBfLmluZGV4T2Yoc2VsZi5hdHRhY2htZW50cywgYXR0KTtcclxuICAgICAgICAgICAgc2VsZi5hdHRhY2htZW50cy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBxdWVyeSBzZXJ2ZXIgZm9yIG1hcHMgY29udGFpbmluZyB0aGUgZ2l2ZW4gdGV4dCBpbiB0aGUgbWFwIG5hbWVcclxuICAgIHRoaXMuZ2V0T3RoZXJNYXBzID0gZnVuY3Rpb24odmlld1ZhbHVlKSB7XHJcbiAgICAgICAgLy8gTkI6IHRoaXMgVVJMIGlzIGNvbnN0cnVjdGVkIHRvIG1hdGNoIHRoZSBvbmUgZ2VuZXJhdGVkIGJ5IHRoZSBzZWFyY2ggZm9ybSBvbiB0aGUgbWFwcyBwYWdlLi4uXHJcbiAgICAgICAgdmFyIHVybCA9ICcvbWFwcy92aXNpYmxlX21hcHMuanNvbj91dGY4PSVFMiU5QyU5MyZxJTVCbmFtZV9jb250JTVEPScgKyB2aWV3VmFsdWU7XHJcbiAgICAgICAgcmV0dXJuICRodHRwLmdldCh1cmwpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGEubWFwcztcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5vdGhlck1hcFNlbGVjdGVkID0gZnVuY3Rpb24odmlld1ZhbHVlLCBtb2RlbFZhbHVlKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ290aGVyTWFwU2VsZWN0ZWQsIHZpZXdWYWx1ZTogJyArIHZpZXdWYWx1ZS5pZCArICcsIG1vZGVsVmFsdWU6ICcgKyBtb2RlbFZhbHVlKTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5mb3JtYXRPdGhlck1hcCA9IGZ1bmN0aW9uIChtb2RlbCkge1xyXG4gICAgICAgIHJldHVybiAobW9kZWwgPyBtb2RlbC5uYW1lIDogJycpO1xyXG4gICAgfTtcclxuXHJcbn07IiwiLy8gZnVuY3Rpb25zIGhhbmRsaW5nIGVkaXRvciBhdXRvc2F2ZSBmdW5jdGlvblxyXG5cclxuU2FuZGJhbmtFZGl0b3IuQXV0b3NhdmUgPSBmdW5jdGlvbigkc2NvcGUsICRodHRwLCBtYXApIHtcclxuXHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgdmFyIGNoYW5nZVR5cGVzID0gW107XHJcblxyXG4gICAgdGhpcy5zYXZlT25Nb2RlbENoYW5nZWQgPSB0cnVlO1xyXG5cclxuICAgIC8vIGRvIGEgc2F2ZSBuZXh0IHRpbWUgdGhlIHNldCBpbnRlcnZhbCBwYXNzZXMgd2l0aCBubyBzYXZlIHJlcXVlc3RzXHJcbiAgICB0aGlzLnNhdmUgPSBmdW5jdGlvbihjaGFuZ2VUeXBlKSB7XHJcbiAgICAgICAgY2hhbmdlVHlwZXMucHVzaChjaGFuZ2VUeXBlKTtcclxuICAgICAgICBkZWxheWVkQXV0b3NhdmUoKTtcclxuICAgIH07XHJcblxyXG4gICAgLy8gZG8gYSBzYXZlIHJpZ2h0IG5vd1xyXG4gICAgdGhpcy5zYXZlTm93ID0gZnVuY3Rpb24oY2hhbmdlVHlwZSkge1xyXG4gICAgICAgIGNoYW5nZVR5cGVzLnB1c2goY2hhbmdlVHlwZSk7XHJcbiAgICAgICAgYXV0b3NhdmUoKTtcclxuICAgIH07XHJcblxyXG4gICAgLy8gZG9uJ3QgbGV0IGF1dG9zYXZlIGJlIHRyaWdnZXJlZCBtb3JlIHRoYW4gZXZlcnkgTiBtaWxsaXNlY29uZHMuLi5cclxuICAgIHZhciBkZWxheWVkQXV0b3NhdmUgPSBfLmRlYm91bmNlKGF1dG9zYXZlLCAyMDAwKTtcclxuXHJcbiAgICAvLyBjb21waWxlIHRoZSBjdXJyZW50IGxpc3Qgb2YgY2hhbmdlIHR5cGUgZGVzY3JpcHRpb25zLCBwcm9jZXNzIHRoZW0gXHJcbiAgICAvLyB0byByZW1vdmUgZHVwbGljYXRlcywgYW5kIHNhdmUgdGhlIGN1cnJlbnQgZGF0YVxyXG4gICAgZnVuY3Rpb24gYXV0b3NhdmUoKSB7XHJcbiAgICAgICAgLy8gc3RvcCByaWdodCBoZXJlIGlmIHdlJ3JlIGluIHRoZSBzYW5kYm94IGFuZC9vciB3ZSBkb24ndCBoYXZlIGVkaXQgcGVybWlzc2lvbnNcclxuICAgICAgICBpZiAoJHNjb3BlLnNhbmRib3ggfHwgISRzY29wZS5jYW5FZGl0KSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghY2hhbmdlVHlwZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdhdXRvc2F2ZTogbm90aGluZyB0byBzYXZlIScpOyAvLyBzaG91bGRuJ3QgaGFwcGVuXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGRlLWR1cGUgdGhlIGxpc3Qgb2YgY2hhbmdlIHR5cGVzXHJcbiAgICAgICAgdmFyIGNoYW5nZUxpc3QgPSBfLnVuaXEoY2hhbmdlVHlwZXMpO1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coJ2NoYW5nZUxpc3Q6ICcgKyBjaGFuZ2VMaXN0KTtcclxuICAgICAgICAvLyBkb24ndCBzaG93IG1vdmUgZXZlbnRzIHVubGVzcyB0aGF0J3MgYWxsIHdlIGhhdmVcclxuICAgICAgICB2YXIgY2hhbmdlTGlzdFdpdGhvdXRNb3ZlcyA9IF8ud2l0aG91dChjaGFuZ2VMaXN0LCAnbW92ZScpO1xyXG4gICAgICAgIGlmIChjaGFuZ2VMaXN0V2l0aG91dE1vdmVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgY2hhbmdlTGlzdCA9IGNoYW5nZUxpc3RXaXRob3V0TW92ZXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vY29uc29sZS5sb2coJ2NoYW5nZUxpc3Qgd2l0aG91dCBtb3ZlczogJyArIGNoYW5nZUxpc3QpO1xyXG4gICAgICAgIC8vIGdldCBkZXNjcmlwdGlvbnNcclxuICAgICAgICB2YXIgZGVzY3JpcHRpb25MaXN0ID0gXy5tYXAoY2hhbmdlTGlzdCwgZnVuY3Rpb24oY3QpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF8ucmVzdWx0KGNoYW5nZURlc2NyaXB0aW9ucywgY3QpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL2NvbnNvbGUubG9nKCdhdXRvc2F2ZSwgY2hhbmdlTGlzdDogJyArIGNoYW5nZUxpc3QgKyAnLCBkZXNjcmlwdGlvbkxpc3Q6ICcgKyBkZXNjcmlwdGlvbkxpc3QpO1xyXG4gICAgICAgIHZhciBwb3N0RGF0YSA9IHtcclxuICAgICAgICAgICAgXCJuYW1lXCI6ICRzY29wZS5tYXBUaXRsZSxcclxuICAgICAgICAgICAgXCJkYXRhXCI6IG1hcC5nZXREaWFncmFtKCkubW9kZWwudG9Kc29uKCksXHJcbiAgICAgICAgICAgIFwic3RhdGVfZGF0YVwiOiBKU09OLnN0cmluZ2lmeShtYXAuZ2V0VWkoKS5nZXRTdGF0ZURhdGEoKSksXHJcbiAgICAgICAgICAgIFwiZWRpdG9yX29wdGlvbnNcIjogSlNPTi5zdHJpbmdpZnkobWFwLmdldFVpKCkuZ2V0TWFwRWRpdG9yT3B0aW9ucygpKSxcclxuICAgICAgICAgICAgXCJwcmVzZW50ZXJfc2xpZGVzXCI6IG1hcC5nZXRQcmVzZW50ZXIoKS5nZXRTbGlkZUNvdW50KCksXHJcbiAgICAgICAgICAgIFwiYWN0aXZpdHlfc2xpZGVzXCI6IG1hcC5nZXRQcmVzZW50ZXIoKS5nZXRBY3Rpdml0eVNsaWRlQ291bnQoKSxcclxuICAgICAgICAgICAgXCJjaGFuZ2VfdHlwZVwiOiBjaGFuZ2VMaXN0LmpvaW4oJzsnKSxcclxuICAgICAgICAgICAgXCJjaGFuZ2VfZGVzY3JpcHRpb25cIjogZGVzY3JpcHRpb25MaXN0LmpvaW4oJzsgJyksXHJcbiAgICAgICAgICAgIFwidGh1bWJuYWlsX3BuZ1wiOiBtYXAuZ2V0UHJlc2VudGVyKCkuZ2V0TWFwVGh1bWJuYWlsKClcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciB1cmwgPSAkc2NvcGUubWFwVXJsICsgJy5qc29uJztcclxuXHJcbiAgICAgICAgJHNjb3BlLnVwZGF0ZUVkaXRTdGF0dXMoJHNjb3BlLlNBVklORyk7XHJcbiAgICAgICAgJGh0dHAucHV0KHVybCwgcG9zdERhdGEpLnRoZW4oXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICBjaGFuZ2VUeXBlcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnVwZGF0ZUVkaXRTdGF0dXMoJHNjb3BlLlNBVkVfT0spO1xyXG4gICAgICAgICAgICAgICAgLy8gbG9hZCByZXR1cm5lZCBkYXRhIGZvciBhbmFseXRpY3MsIHBvaW50cywgYmFkZ2VzLCB2ZXJzaW9uc1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm1hcC5sb2FkTWFwRXh0cmFEYXRhKHJlc3BvbnNlLmRhdGEubWFwKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudXBkYXRlRWRpdFN0YXR1cygkc2NvcGUuU0FWRV9GQUlMRUQpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcblxyXG5cclxuICAgIC8vIC0tLS0tLS0tLS0tLS0tIGhhbmRsZSBtb2RlbCBjaGFuZ2VzIC0gdHJpZ2dlciBhdXRvc2F2ZSAtLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgICB2YXIgY2hhbmdlRGVzY3JpcHRpb25zID0ge1xyXG4gICAgICAgIG1vdmU6ICdNb3ZlZCBPYmplY3RzJyxcclxuICAgICAgICB1bmRvX3JlZG86ICdQZXJmb3JtZWQgVW5kby9SZWRvJyxcclxuICAgICAgICBlZGl0X3RpdGxlOiAnRWRpdGVkIE1ldGFNYXAgVGl0bGUnLFxyXG4gICAgICAgIGVkaXRfZGVzY3JpcHRpb246ICdFZGl0ZWQgTWV0YU1hcCBEZXNjcmlwdGlvbicsXHJcbiAgICAgICAgZWRpdF91c2VydGFnczogJ0VkaXQgTWV0YU1hcCBUYWdzJyxcclxuICAgICAgICBlZGl0X2Q6ICdFZGl0ZWQgRGlzdGluY3Rpb25zJyxcclxuICAgICAgICBlZGl0X3M6ICdFZGl0ZWQgU3lzdGVtcycsXHJcbiAgICAgICAgZWRpdF9yOiAnRWRpdGVkIFJlbGF0aW9uc2hpcHMnLFxyXG4gICAgICAgIGVkaXRfcDogJ0VkaXRlZCBQZXJzcGVjdGl2ZXMnLFxyXG4gICAgICAgIGFkZF90aGluZzogJ0FkZGVkIElkZWFzJyxcclxuICAgICAgICByZW5hbWVfdGhpbmc6ICdSZW5hbWVkIElkZWFzJyxcclxuICAgICAgICBkZWxldGVfdGhpbmc6ICdEZWxldGVkIElkZWFzJyxcclxuICAgICAgICBlZGl0X2F0dGFjaG1lbnRzOiAnRWRpdGVkIEF0dGFjaG1lbnRzJyxcclxuICAgICAgICBlZGl0X3ByZXNlbnRlcjogJ0VkaXRlZCBQcmVzZW50ZXIgU2xpZGVzJyxcclxuICAgICAgICBlZGl0X2dlbmVyYXRvcjogJ0luc2VydGVkIElkZWFzIGZyb20gVGhpbmtRdWVyeScsXHJcbiAgICAgICAgZWRpdF9zdGFuZGFyZHM6ICdFZGl0ZWQgTGlua3MgdG8gQ29tbW9uIENvcmUgU3RhbmRhcmRzJ1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBlIGlzIGEgZ28uQ2hhbmdlZEV2ZW50XHJcbiAgICB0aGlzLm1vZGVsQ2hhbmdlZCA9IGZ1bmN0aW9uKGUpIHtcclxuXHJcbiAgICAgICAgaWYgKCFzZWxmLnNhdmVPbk1vZGVsQ2hhbmdlZCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgY2hhbmdlVHlwZSA9IG51bGw7XHJcbiAgICAgICAgdmFyIGNoYW5nZURlc2NyaXB0aW9uID0gbnVsbDtcclxuXHJcbiAgICAgICAgaWYgKGUucHJvcGVydHlOYW1lID09ICd0eXBlJykge1xyXG4gICAgICAgICAgICAvLyBjaGFuZ2UgUiB0eXBlXHJcbiAgICAgICAgICAgIC8vIG1vZGVsQ2hhbmdlOiAsIGNoYW5nZTogQ2hhbmdlZEV2ZW50LlByb3BlcnR5LCBvbGRQYXJhbTogbnVsbCwgb2xkVmFsdWU6IFswLG4sMSxvLDIsQSwzLHIsNCxyLDUsbyw2LHcsNyxzXSAsIG5ld1BhcmFtOiBudWxsLCBuZXdWYWx1ZTogWzAsdCwxLG9dICwgcHJvcGVydHlOYW1lOiB0eXBlXHJcbiAgICAgICAgICAgIGNoYW5nZVR5cGUgPSAnZWRpdF9yJztcclxuICAgICAgICAgICAgY2hhbmdlRGVzY3JpcHRpb24gPSAnQ2hhbmdlZCBSZWxhdGlvbnNoaXAgVHlwZXMnO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZS5wcm9wZXJ0eU5hbWUgPT0gJ2xheW91dCcpIHtcclxuICAgICAgICAgICAgLy8gY2hhbmdlIHN5c3RlbSBsYXlvdXRcclxuICAgICAgICAgICAgLy8gbW9kZWxDaGFuZ2U6ICwgY2hhbmdlOiBDaGFuZ2VkRXZlbnQuUHJvcGVydHksIG9sZFBhcmFtOiBudWxsLCBvbGRWYWx1ZTogWzAsbCwxLGUsMixmLDMsdF0gLCBuZXdQYXJhbTogbnVsbCwgbmV3VmFsdWU6IFswLHIsMSxpLDIsZywzLGgsNCx0XSAsIHByb3BlcnR5TmFtZTogbGF5b3V0IFxyXG4gICAgICAgICAgICBjaGFuZ2VUeXBlID0gJ2VkaXRfcyc7XHJcbiAgICAgICAgfSBlbHNlIGlmIChlLmNoYW5nZSA9PSBnby5DaGFuZ2VkRXZlbnQuSW5zZXJ0ICYmIHByb3BlcnR5RXF1YWxzKGUubmV3VmFsdWUsICdmcm9tUG9ydCcsICdSJykpIHtcclxuICAgICAgICAgICAgLy8gYWRkIGxpbmtcclxuICAgICAgICAgICAgLy8gbW9kZWxDaGFuZ2U6IGxpbmtEYXRhQXJyYXksIGNoYW5nZTogQ2hhbmdlZEV2ZW50Lkluc2VydCwgb2xkUGFyYW06IG51bGwsIG9sZFZhbHVlOiBbXSAsIG5ld1BhcmFtOiAxLCBuZXdWYWx1ZTogW3R5cGUsbm9BcnJvd3MsX19nb2hhc2hpZCw2MDA1LGZyb20sLTIsdG8sLTQsbGFiZWxLZXlzLCxmcm9tUG9ydCxSLHRvUG9ydCxQXSAsIHByb3BlcnR5TmFtZTogbGlua0RhdGFBcnJheVxyXG4gICAgICAgICAgICAvLyBtb2RlbENoYW5nZTogbGlua1RvUG9ydElkLCBjaGFuZ2U6IENoYW5nZWRFdmVudC5Qcm9wZXJ0eSwgb2xkUGFyYW06IG51bGwsIG9sZFZhbHVlOiBbMCxQXSAsIG5ld1BhcmFtOiBudWxsLCBuZXdWYWx1ZTogWzAsUl0gLCBwcm9wZXJ0eU5hbWU6IHRvUG9ydCBcclxuICAgICAgICAgICAgY2hhbmdlVHlwZSA9ICdlZGl0X3InO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZS5jaGFuZ2UgPT0gZ28uQ2hhbmdlZEV2ZW50LlJlbW92ZSAmJiBwcm9wZXJ0eUVxdWFscyhlLm9sZFZhbHVlLCAnZnJvbVBvcnQnLCAnUicpKSB7XHJcbiAgICAgICAgICAgIC8vIGRlbGV0ZSBsaW5rXHJcbiAgICAgICAgICAgIC8vIG1vZGVsQ2hhbmdlOiBsaW5rRGF0YUFycmF5LCBjaGFuZ2U6IENoYW5nZWRFdmVudC5SZW1vdmUsIG9sZFBhcmFtOiAxLCBvbGRWYWx1ZTogW3R5cGUsbm9BcnJvd3MsX19nb2hhc2hpZCw2MDA1LGZyb20sLTIsdG8sLTQsbGFiZWxLZXlzLCxmcm9tUG9ydCxSLHRvUG9ydCxSXSAsIG5ld1BhcmFtOiBudWxsLCBuZXdWYWx1ZTogW10gLCBwcm9wZXJ0eU5hbWU6IGxpbmtEYXRhQXJyYXkgXHJcbiAgICAgICAgICAgIGNoYW5nZVR5cGUgPSAnZWRpdF9yJztcclxuICAgICAgICB9IGVsc2UgaWYgKGUucHJvcGVydHlOYW1lID09ICdsaW5rRGF0YUFycmF5Jykge1xyXG4gICAgICAgICAgICAvLyBjaGFuZ2UgUC9EIGxpbmtzXHJcbiAgICAgICAgICAgIC8vIGFkZCBQIGxpbmtcclxuICAgICAgICAgICAgLy8gbW9kZWxDaGFuZ2U6IGxpbmtEYXRhQXJyYXksIGNoYW5nZTogQ2hhbmdlZEV2ZW50Lkluc2VydCwgb2xkUGFyYW06IG51bGwsIG9sZFZhbHVlOiBbXSAsIG5ld1BhcmFtOiAyLCBuZXdWYWx1ZTogW3R5cGUsbm9BcnJvd3MsX19nb2hhc2hpZCwxOTEyMixmcm9tLC0yLHRvLC00LGxhYmVsS2V5cywsZnJvbVBvcnQsUCx0b1BvcnQsUF0gLCBwcm9wZXJ0eU5hbWU6IGxpbmtEYXRhQXJyYXkgXHJcbiAgICAgICAgICAgIC8vIG1vZGVsQ2hhbmdlOiBsaW5rQ2F0ZWdvcnksIGNoYW5nZTogQ2hhbmdlZEV2ZW50LlByb3BlcnR5LCBvbGRQYXJhbTogbnVsbCwgb2xkVmFsdWU6IFtdICwgbmV3UGFyYW06IG51bGwsIG5ld1ZhbHVlOiBbMCxQXSAsIHByb3BlcnR5TmFtZTogY2F0ZWdvcnkgXHJcbiAgICAgICAgICAgIC8vIGRlbGV0ZSBQIGxpbmtcclxuICAgICAgICAgICAgLy8gbW9kZWxDaGFuZ2U6IGxpbmtEYXRhQXJyYXksIGNoYW5nZTogQ2hhbmdlZEV2ZW50LlJlbW92ZSwgb2xkUGFyYW06IDIsIG9sZFZhbHVlOiBbdHlwZSxub0Fycm93cyxfX2dvaGFzaGlkLDE5MTIyLGZyb20sLTIsdG8sLTQsbGFiZWxLZXlzLCxmcm9tUG9ydCxQLHRvUG9ydCxQLGNhdGVnb3J5LFBdICwgbmV3UGFyYW06IG51bGwsIG5ld1ZhbHVlOiBbXSAsIHByb3BlcnR5TmFtZTogbGlua0RhdGFBcnJheSBcclxuICAgICAgICAgICAgLy8gYWRkIEQgbGlua1xyXG4gICAgICAgICAgICAvLyBtb2RlbENoYW5nZTogbGlua0RhdGFBcnJheSwgY2hhbmdlOiBDaGFuZ2VkRXZlbnQuSW5zZXJ0LCBvbGRQYXJhbTogbnVsbCwgb2xkVmFsdWU6IFtdICwgbmV3UGFyYW06IDEsIG5ld1ZhbHVlOiBbZnJvbSwtNyx0bywtNSxmcm9tUG9ydCxELHRvUG9ydCxELGNhdGVnb3J5LEQsX19nb2hhc2hpZCwxOTUyMl0gLCBwcm9wZXJ0eU5hbWU6IGxpbmtEYXRhQXJyYXkgXHJcbiAgICAgICAgICAgIC8vIHJlbW92ZSBEIGxpbmtcclxuICAgICAgICAgICAgLy8gbW9kZWxDaGFuZ2U6IGxpbmtEYXRhQXJyYXksIGNoYW5nZTogQ2hhbmdlZEV2ZW50LlJlbW92ZSwgb2xkUGFyYW06IDEsIG9sZFZhbHVlOiBbZnJvbSwtNyx0bywtNSxmcm9tUG9ydCxELHRvUG9ydCxELGNhdGVnb3J5LEQsX19nb2hhc2hpZCwxOTUyMl0gLCBuZXdQYXJhbTogbnVsbCwgbmV3VmFsdWU6IFtdICwgcHJvcGVydHlOYW1lOiBsaW5rRGF0YUFycmF5IFxyXG5cclxuICAgICAgICAgICAgaWYgKChlLm5ld1ZhbHVlICYmIGUubmV3VmFsdWUuY2F0ZWdvcnkgPT0gJ1AnKSB8fFxyXG4gICAgICAgICAgICAgICAgKGUub2xkVmFsdWUgJiYgZS5vbGRWYWx1ZS5jYXRlZ29yeSA9PSAnUCcpKSB7XHJcbiAgICAgICAgICAgICAgICBjaGFuZ2VUeXBlID0gJ2VkaXRfcCc7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoKGUubmV3VmFsdWUgJiYgZS5uZXdWYWx1ZS5jYXRlZ29yeSA9PSAnRCcpIHx8XHJcbiAgICAgICAgICAgICAgICAoZS5vbGRWYWx1ZSAmJiBlLm9sZFZhbHVlLmNhdGVnb3J5ID09ICdEJykpIHtcclxuICAgICAgICAgICAgICAgIGNoYW5nZVR5cGUgPSAnZWRpdF9kJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAoZS5wcm9wZXJ0eU5hbWUgPT0gJ2NhdGVnb3J5Jykge1xyXG4gICAgICAgICAgICAvLyBhZGQgUCBsaW5rXHJcbiAgICAgICAgICAgIC8vIG1vZGVsQ2hhbmdlZCwgbW9kZWxDaGFuZ2U6IGxpbmtDYXRlZ29yeSwgY2hhbmdlOiBDaGFuZ2VkRXZlbnQuUHJvcGVydHksIG9sZFBhcmFtOiBudWxsLCBvbGRWYWx1ZTogW10gLCBuZXdQYXJhbTogbnVsbCwgbmV3VmFsdWU6IFswLFBdICwgcHJvcGVydHlOYW1lOiBjYXRlZ29yeSBcclxuICAgICAgICAgICAgY2hhbmdlVHlwZSA9ICdlZGl0X3AnO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZS5wcm9wZXJ0eU5hbWUgPT0gJ2dyb3VwJykge1xyXG4gICAgICAgICAgICAvLyBkcmFnIGludG8gU1xyXG4gICAgICAgICAgICAvLyBtb2RlbENoYW5nZWQsIG1vZGVsQ2hhbmdlOiBub2RlR3JvdXBLZXksIGNoYW5nZTogQ2hhbmdlZEV2ZW50LlByb3BlcnR5LCBvbGRQYXJhbTogbnVsbCwgb2xkVmFsdWU6IFtdICwgbmV3UGFyYW06IG51bGwsIG5ld1ZhbHVlOiBbXSAsIHByb3BlcnR5TmFtZTogZ3JvdXAgXHJcbiAgICAgICAgICAgIC8vIHJlb3JkZXIgcGFydFxyXG4gICAgICAgICAgICAvLyBtb2RlbENoYW5nZWQsIG1vZGVsQ2hhbmdlOiBub2RlR3JvdXBLZXksIGNoYW5nZTogQ2hhbmdlZEV2ZW50LlByb3BlcnR5LCBvbGRQYXJhbTogbnVsbCwgb2xkVmFsdWU6IFtdICwgbmV3UGFyYW06IG51bGwsIG5ld1ZhbHVlOiBbXSAsIHByb3BlcnR5TmFtZTogZ3JvdXAgXHJcbiAgICAgICAgICAgIC8vIGRyYWcgdG8gRFxyXG4gICAgICAgICAgICAvLyBtb2RlbENoYW5nZWQsIG1vZGVsQ2hhbmdlOiBub2RlR3JvdXBLZXksIGNoYW5nZTogQ2hhbmdlZEV2ZW50LlByb3BlcnR5LCBvbGRQYXJhbTogbnVsbCwgb2xkVmFsdWU6IFtdICwgbmV3UGFyYW06IG51bGwsIG5ld1ZhbHVlOiBbXSAsIHByb3BlcnR5TmFtZTogZ3JvdXAgXHJcblxyXG4gICAgICAgICAgICBjaGFuZ2VUeXBlID0gJ2VkaXRfcyc7XHJcbiAgICAgICAgfSBlbHNlIGlmIChlLnByb3BlcnR5TmFtZSA9PSAnbm9kZURhdGFBcnJheScgJiYgZS5jaGFuZ2UgPT0gZ28uQ2hhbmdlZEV2ZW50Lkluc2VydCAmJiBwcm9wZXJ0eUVxdWFscyhlLm5ld1ZhbHVlLCAnaXNHcm91cCcsIHRydWUpKSB7XHJcbiAgICAgICAgICAgIC8vIGFkZCB0aGluZ1xyXG4gICAgICAgICAgICAvLyBtb2RlbENoYW5nZTogbm9kZURhdGFBcnJheSwgY2hhbmdlOiBDaGFuZ2VkRXZlbnQuSW5zZXJ0LCBvbGRQYXJhbTogbnVsbCwgb2xkVmFsdWU6IFtdICwgbmV3UGFyYW06IDUsIG5ld1ZhbHVlOiBbdGV4dCxOZXcgSWRlYSxpc0dyb3VwLHRydWUsbGV2ZWwsMCxsYXlvdXQsbGVmdCxzRXhwYW5kZWQsdHJ1ZSxwRXhwYW5kZWQsZmFsc2UsZEV4cGFuZGVkLGZhbHNlLF9fZ29oYXNoaWQsNTQ2ODgsZ3JvdXAsLGtleSwtN10gLCBwcm9wZXJ0eU5hbWU6IG5vZGVEYXRhQXJyYXkgXHJcbiAgICAgICAgICAgIC8vIG1vZGVsQ2hhbmdlOiAsIGNoYW5nZTogQ2hhbmdlZEV2ZW50LlByb3BlcnR5LCBvbGRQYXJhbTogbnVsbCwgb2xkVmFsdWU6IFtdICwgbmV3UGFyYW06IG51bGwsIG5ld1ZhbHVlOiBbMCwyLDEsMiwyLDgsMywuLDQsNSw1LDYsNiwyLDcsNSw4LCAsOSwtLDEwLDEsMTEsNCwxMiw5LDEzLC4sMTQsNiwxNSw4LDE2LDcsMTcsNV0gLCBwcm9wZXJ0eU5hbWU6IGxvYyBcclxuICAgICAgICAgICAgLy8gbW9kZWxDaGFuZ2U6ICwgY2hhbmdlOiBDaGFuZ2VkRXZlbnQuUHJvcGVydHksIG9sZFBhcmFtOiBudWxsLCBvbGRWYWx1ZTogW10gLCBuZXdQYXJhbTogbnVsbCwgbmV3VmFsdWU6IFtdICwgcHJvcGVydHlOYW1lOiBjaGlsZHJlbiBcclxuICAgICAgICAgICAgY2hhbmdlVHlwZSA9ICdhZGRfdGhpbmcnO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZS5wcm9wZXJ0eU5hbWUgPT0gJ3RleHQnKSB7XHJcbiAgICAgICAgICAgIC8vIG1vdmUgdGhpbmdcclxuICAgICAgICAgICAgLy8gbW9kZWxDaGFuZ2U6ICwgY2hhbmdlOiBDaGFuZ2VkRXZlbnQuUHJvcGVydHksIG9sZFBhcmFtOiBudWxsLCBvbGRWYWx1ZTogWzAsYiwxLGIsMixiLDMsYiw0LGJdICwgbmV3UGFyYW06IG51bGwsIG5ld1ZhbHVlOiBbMCxhLDEsYSwyLGEsMyxhLDQsYV0gLCBwcm9wZXJ0eU5hbWU6IHRleHQgXHJcbiAgICAgICAgICAgIGNoYW5nZVR5cGUgPSAncmVuYW1lX3RoaW5nJztcclxuICAgICAgICAgICAgY2hhbmdlRGVzY3JpcHRpb24gPSAnUmVuYW1lZCBJZGVhcyc7XHJcbiAgICAgICAgfSBlbHNlIGlmIChlLnByb3BlcnR5TmFtZSA9PSAnbm9kZURhdGFBcnJheScgJiYgZS5jaGFuZ2UgPT0gZ28uQ2hhbmdlZEV2ZW50LlJlbW92ZSAmJiBwcm9wZXJ0eUVxdWFscyhlLm9sZFZhbHVlLCAnaXNHcm91cCcsIHRydWUpKSB7XHJcbiAgICAgICAgICAgIC8vIGRlbGV0ZSB0aGluZ1xyXG4gICAgICAgICAgICAvLyBtb2RlbENoYW5nZTogbm9kZURhdGFBcnJheSwgY2hhbmdlOiBDaGFuZ2VkRXZlbnQuUmVtb3ZlLCBvbGRQYXJhbTogNSwgb2xkVmFsdWU6IFt0ZXh0LE5ldyBJZGVhLGlzR3JvdXAsdHJ1ZSxsZXZlbCwwLGxheW91dCxsZWZ0LHNFeHBhbmRlZCx0cnVlLHBFeHBhbmRlZCxmYWxzZSxkRXhwYW5kZWQsZmFsc2UsX19nb2hhc2hpZCw1NDY4OCxncm91cCwsa2V5LC03LGxvYywyMjguNTYyNSAtMTQ5LjY4NzUsY2hpbGRyZW4sMCxhdHRhY2htZW50cyxdICwgbmV3UGFyYW06IG51bGwsIG5ld1ZhbHVlOiBbXSAsIHByb3BlcnR5TmFtZTogbm9kZURhdGFBcnJheSBcclxuICAgICAgICAgICAgY2hhbmdlVHlwZSA9ICdkZWxldGVfdGhpbmcnO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZS5wcm9wZXJ0eU5hbWUgPT0gJ25vZGVEYXRhQXJyYXknICYmIGUuY2hhbmdlID09IGdvLkNoYW5nZWRFdmVudC5JbnNlcnQgJiYgcHJvcGVydHlFcXVhbHMoZS5uZXdWYWx1ZSwgJ2lzR3JvdXAnLCBmYWxzZSkpIHtcclxuICAgICAgICAgICAgLy8gYWRkIHNsaWRlXHJcbiAgICAgICAgICAgIC8vIG1vZGVsQ2hhbmdlOiBub2RlRGF0YUFycmF5LCBjaGFuZ2U6IENoYW5nZWRFdmVudC5JbnNlcnQsIG9sZFBhcmFtOiBudWxsLCBvbGRWYWx1ZTogW10gLCBuZXdQYXJhbTogNSwgbmV3VmFsdWU6IFtrZXksc2xpZGUtMCxjYXRlZ29yeSxzbGlkZSxpbmRleCwwLGlzR3JvdXAsZmFsc2Usd2lkdGgsMjAwLGhlaWdodCwyMDAsbG9jLDE1Ni41NjI1IC05Ny42ODc1LGxldmVsLDAsY2hpbGRyZW4sMCx0aXRsZSwsbm90ZXMsLF9fZ29oYXNoaWQsNjM4NzddICwgcHJvcGVydHlOYW1lOiBub2RlRGF0YUFycmF5IFxyXG4gICAgICAgICAgICBjaGFuZ2VUeXBlID0gJ2VkaXRfcHJlc2VudGVyJztcclxuICAgICAgICB9IGVsc2UgaWYgKGUucHJvcGVydHlOYW1lID09ICdub2RlRGF0YUFycmF5JyAmJiBlLmNoYW5nZSA9PSBnby5DaGFuZ2VkRXZlbnQuUmVtb3ZlICYmIHByb3BlcnR5RXF1YWxzKGUub2xkVmFsdWUsICdpc0dyb3VwJywgZmFsc2UpKSB7XHJcbiAgICAgICAgICAgIC8vIGRlbGV0ZSBzbGlkZVxyXG4gICAgICAgICAgICAvL21vZGVsQ2hhbmdlOiBub2RlRGF0YUFycmF5LCBjaGFuZ2U6IENoYW5nZWRFdmVudC5SZW1vdmUsIG9sZFBhcmFtOiA1LCBvbGRWYWx1ZTogW2tleSxzbGlkZS0wLGNhdGVnb3J5LHNsaWRlLGluZGV4LDAsaXNHcm91cCxmYWxzZSx3aWR0aCwyMDAsaGVpZ2h0LDIwMCxsb2MsMTU2LjU2MjUgLTk3LjY4NzUsbGV2ZWwsMCxjaGlsZHJlbiwwLHRpdGxlLCxub3RlcywsX19nb2hhc2hpZCw2Mzg3NywkJGhhc2hLZXksMFhOXSAsIG5ld1BhcmFtOiBudWxsLCBuZXdWYWx1ZTogW10gLCBwcm9wZXJ0eU5hbWU6IG5vZGVEYXRhQXJyYXkgXHJcbiAgICAgICAgICAgIGNoYW5nZVR5cGUgPSAnZWRpdF9wcmVzZW50ZXInO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZS5wcm9wZXJ0eU5hbWUgPT0gJ2xvYycgfHwgZS5wcm9wZXJ0eU5hbWUgPT0gJ3dpZHRoJyB8fCBlLnByb3BlcnR5TmFtZSA9PSAnaGVpZ2h0Jykge1xyXG4gICAgICAgICAgICAvLyBtb3ZlIHRoaW5nIG9yIHJlc2l6ZSBzbGlkZVxyXG4gICAgICAgICAgICAvLyBtb3ZlIHNsaWRlXHJcbiAgICAgICAgICAgIC8vIG1vZGVsQ2hhbmdlOiAsIGNoYW5nZTogQ2hhbmdlZEV2ZW50LlByb3BlcnR5LCBvbGRQYXJhbTogbnVsbCwgb2xkVmFsdWU6IFswLDIsMSw0LDIsMywzLCAsNCwtLDUsMSw2LDIsNyw4XSAsIG5ld1BhcmFtOiBudWxsLCBuZXdWYWx1ZTogWzAsMiwxLDQsMiwzLDMsICw0LC0sNSwxLDYsMiw3LDddICwgcHJvcGVydHlOYW1lOiBsb2MgXHJcbiAgICAgICAgICAgIC8vIHJlc2l6ZSBzbGlkZVxyXG4gICAgICAgICAgICAvLyBtb2RlbENoYW5nZTogLCBjaGFuZ2U6IENoYW5nZWRFdmVudC5Qcm9wZXJ0eSwgb2xkUGFyYW06IG51bGwsIG9sZFZhbHVlOiBbXSAsIG5ld1BhcmFtOiBudWxsLCBuZXdWYWx1ZTogW10gLCBwcm9wZXJ0eU5hbWU6IGhlaWdodCBcclxuICAgICAgICAgICAgLy8gbW92ZSB0aGluZ1xyXG4gICAgICAgICAgICAvLyBtb2RlbENoYW5nZTogLCBjaGFuZ2U6IENoYW5nZWRFdmVudC5Qcm9wZXJ0eSwgb2xkUGFyYW06IG51bGwsIG9sZFZhbHVlOiBbMCw0LDEsNywyLDksMywuLDQsOCw1LDcsNiw1LDcsICw4LC0sOSwxLDEwLDIsMTEsMiwxMiwuLDEzLDgsMTQsNywxNSw1XSAsIG5ld1BhcmFtOiBudWxsLCBuZXdWYWx1ZTogWzAsNSwxLDQsMiwwLDMsLiw0LDMsNSwxLDYsMiw3LDUsOCwgLDksLSwxMCwxLDExLDIsMTIsMSwxMywuLDE0LDEsMTUsOCwxNiw3LDE3LDVdICwgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGNoYW5nZVR5cGUgPSAnbW92ZSc7XHJcbiAgICAgICAgfSBlbHNlIGlmIChlLnByb3BlcnR5TmFtZSA9PSAnbGV2ZWwnIHx8IGUucHJvcGVydHlOYW1lID09ICdjaGlsZHJlbicpIHtcclxuICAgICAgICAgICAgLy8gdGhlc2UgYXR0cmlidXRlcyBhcmUgdXBkYXRlZCBhcyBhIHJlc3VsdCBvZiBvdGhlciBhY3Rpb25zOyBpZ25vcmVcclxuICAgICAgICAgICAgY2hhbmdlVHlwZSA9IG51bGw7XHJcbiAgICAgICAgfSBlbHNlIGlmIChlLnByb3BlcnR5TmFtZSA9PSAnYXR0YWNobWVudHMnKSB7XHJcbiAgICAgICAgICAgIC8vIGVkaXRlZCBhdHRhY2htZW50c1xyXG4gICAgICAgICAgICBjaGFuZ2VUeXBlID0gJ2VkaXRfYXR0YWNobWVudHMnO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZS5wcm9wZXJ0eU5hbWUgPT0gJ3NFeHBhbmRlZCcgfHwgZS5wcm9wZXJ0eU5hbWUgPT0gJ3BFeHBhbmRlZCcpIHtcclxuICAgICAgICAgICAgLy8gaWdub3JlIGV4cGFuZC9jb2xsYXBzZVxyXG4gICAgICAgICAgICBjaGFuZ2VUeXBlID0gJ21vdmUnO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZS5wcm9wZXJ0eU5hbWUgPT0gJ0ZpbmlzaGVkVW5kbycgfHwgZS5wcm9wZXJ0eU5hbWUgPT0gJ0ZpbmlzaGVkUmVkbycpIHtcclxuICAgICAgICAgICAgY2hhbmdlVHlwZSA9ICd1bmRvX3JlZG8nO1xyXG4gICAgICAgICAgICBtYXAucmVmcmVzaCgpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZS5jaGFuZ2UgIT0gZ28uQ2hhbmdlZEV2ZW50LlRyYW5zYWN0aW9uKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdtb2RlbENoYW5nZWQsIG1vZGVsQ2hhbmdlOiAnICsgZS5tb2RlbENoYW5nZSArXHJcbiAgICAgICAgICAgICAgICAnLCBjaGFuZ2U6ICcgKyBlLmNoYW5nZSArXHJcbiAgICAgICAgICAgICAgICAnLCBvbGRQYXJhbTogJyArIGUub2xkUGFyYW0gK1xyXG4gICAgICAgICAgICAgICAgJywgb2xkVmFsdWU6IFsnICsgXy5wYWlycyhlLm9sZFZhbHVlKSArICddICcgK1xyXG4gICAgICAgICAgICAgICAgJywgbmV3UGFyYW06ICcgKyBlLm5ld1BhcmFtICtcclxuICAgICAgICAgICAgICAgICcsIG5ld1ZhbHVlOiBbJyArIF8ucGFpcnMoZS5uZXdWYWx1ZSkgKyAnXSAnICtcclxuICAgICAgICAgICAgICAgICcsIHByb3BlcnR5TmFtZTogJyArIGUucHJvcGVydHlOYW1lXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoY2hhbmdlVHlwZSkge1xyXG4gICAgICAgICAgICBtYXAuZ2V0QW5hbHl0aWNzKCkudXBkYXRlQ29udGV4dHVhbEFuYWx5dGljcygpO1xyXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdjYWxsaW5nIGRlbGF5ZWRBdXRvc2F2ZSwgY2hhbmdlVHlwZTogJyArIGNoYW5nZVR5cGUpO1xyXG4gICAgICAgICAgICBzZWxmLnNhdmUoY2hhbmdlVHlwZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBjb252ZW5pZW5jZSBmdW5jdGlvbiBmb3IgY2hlY2tpbmcgcHJvcGVydGllc1xyXG4gICAgZnVuY3Rpb24gcHJvcGVydHlFcXVhbHMob2JqLCBrZXksIHZhbHVlKSB7XHJcbiAgICAgICAgcmV0dXJuIG9iaiAhPT0gbnVsbCAmJiBfLmhhcyhvYmosIGtleSkgJiYgXy5yZXN1bHQob2JqLCBrZXkpID09IHZhbHVlO1xyXG4gICAgfVxyXG5cclxuXHJcbn07IiwiLy8gbWFpbiBjb250cm9sbGVyIGNsYXNzXHJcblxyXG53aW5kb3cuU2FuZGJhbmtFZGl0b3IgPSB7fTtcclxuXHJcbndpbmRvdy5NYXBFZGl0b3JDdHJsID0gZnVuY3Rpb24oJHJvb3RTY29wZSwgJHNjb3BlLCAkaHR0cCwgJHJlc291cmNlLCAkdGltZW91dCwgJG1vZGFsLCAkbG9nKSB7XHJcblxyXG4gICAgJHNjb3BlLm1hcCA9IG5ldyBTYW5kYmFua0VkaXRvci5NYXAoJHNjb3BlLCAkaHR0cCwgJHJlc291cmNlLCAkdGltZW91dCwgJG1vZGFsLCAkbG9nKTtcclxuXHJcbiAgICAvLyB3aW5kb3cubWFwRGF0YSBpcyBzZXQgaW4gX2Zvcm0gdmlld1xyXG4gICAgdmFyIG1ldGFkYXRhID0gd2luZG93Lm1hcERhdGEubWFwLm1ldGFkYXRhO1xyXG4gICAgJHNjb3BlLnNhbmRib3ggPSBtZXRhZGF0YS5zYW5kYm94O1xyXG4gICAgJHNjb3BlLm1hcERhdGEgPSB3aW5kb3cubWFwRGF0YS5tYXAuZGF0YTsgLy8gdGhpcyBnZXRzIG92ZXJ3cml0dGVuIGJ5IGxvYWQoKSB1bmxlc3Mgd2UgYXJlIGluIHRoZSBzYW5kYm94IHdpdGggbm8gbWFwIElEXHJcbiAgICAkc2NvcGUubWFwSWQgPSBtZXRhZGF0YS5pZDtcclxuICAgICRzY29wZS5tYXBUaXRsZSA9IG1ldGFkYXRhLm5hbWU7XHJcbiAgICAkc2NvcGUubWFwVXNlclRhZ3MgPSBtZXRhZGF0YS51c2VyVGFncztcclxuICAgICRzY29wZS5tYXBVcmwgPSBtZXRhZGF0YS51cmw7XHJcbiAgICAkc2NvcGUuY2FuRWRpdCA9IG1ldGFkYXRhLmNhbkVkaXQ7XHJcbiAgICAkc2NvcGUudXBkYXRlZEF0ID0gbWV0YWRhdGEudXBkYXRlZEF0O1xyXG4gICAgJHNjb3BlLnVwZGF0ZWRCeSA9IG1ldGFkYXRhLnVwZGF0ZWRCeTsgLy8gSURcclxuICAgICRzY29wZS51cGRhdGVkQnlOYW1lID0gbWV0YWRhdGEudXBkYXRlZEJ5TmFtZTtcclxuXHJcbiAgICAkc2NvcGUuZWRpdGluZ1RpdGxlID0gZmFsc2U7XHJcblxyXG4gICAgJHNjb3BlLnNob3dJbWFnZUV4cG9ydCA9IGZhbHNlO1xyXG4gICAgJHNjb3BlLmltYWdlRXhwb3J0TG9hZGluZyA9IHRydWU7XHJcblxyXG4gICAgJHNjb3BlLmN1cnJlbnRUYWIgPSBudWxsO1xyXG5cclxuICAgIC8vIG92ZXJyaWRlIHBhcmVudCBzY29wZSAoc2VlIHVzZXIuanMpIHNpbmNlIHdlJ3JlIGVkaXRpbmcgYSBtYXBcclxuICAgICRzY29wZS5jY3NUYWdnaW5nLm1hcElkID0gJHNjb3BlLm1hcElkO1xyXG5cclxuICAgICRzY29wZS5tYXliZVN0YXJ0RWRpdGluZ1RpdGxlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKCRzY29wZS5jYW5FZGl0KSB7XHJcbiAgICAgICAgICAgICRzY29wZS5lZGl0aW5nVGl0bGUgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgJHNjb3BlLmRvbmVFZGl0aW5nVGl0bGUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKCdkb25lRWRpdGluZ1RpdGxlJyk7XHJcbiAgICAgICAgJHNjb3BlLmVkaXRpbmdUaXRsZSA9IGZhbHNlO1xyXG4gICAgICAgICRzY29wZS5tYXAuZ2V0QXV0b3NhdmUoKS5zYXZlKCdlZGl0X3RpdGxlJyk7XHJcbiAgICB9O1xyXG5cclxuICAgICRzY29wZS5lZGl0aW5nVGl0bGVLZXlwcmVzcyA9IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICBpZiAoZS53aGljaCA9PSAxMykge1xyXG4gICAgICAgICAgICAkc2NvcGUuZG9uZUVkaXRpbmdUaXRsZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgJHNjb3BlLnByaW50ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgd2luZG93LnByaW50KCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIC0tLS0tLS0tLS0tLSBzYXZlIHNhbmRib3ggbWFwIChzaWduIHVwL3NpZ24gaW4pIC0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgICRzY29wZS5zYXZlU2FuZGJveE1hcCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0gJG1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlX3NhbmRib3hfc2F2ZV9tb2RhbC5odG1sJywgLy8gc2VlIHZpZXdzL3VzZXJzL190ZW1wbGF0ZV9zYW5kYm94X3NhdmVfbW9kYWxcclxuICAgICAgICAgICAgYmFja2Ryb3A6ICdzdGF0aWMnLFxyXG4gICAgICAgICAgICBjb250cm9sbGVyOiBzYW5kYm94U2F2ZU1vZGFsQ3RybCxcclxuICAgICAgICAgICAgd2luZG93Q2xhc3M6ICdzYW5kYm94LXNhdmUtbW9kYWwnLFxyXG4gICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICBvdXRlclNjb3BlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHNjb3BlO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIG1hcDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRzY29wZS5tYXA7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgdXNlclByb2ZpbGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkc2NvcGUudXNlclByb2ZpbGU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbigpIHt9KTtcclxuICAgIH07XHJcblxyXG4gICAgdmFyIHNhbmRib3hTYXZlTW9kYWxDdHJsID0gZnVuY3Rpb24oJHNjb3BlLCAkbW9kYWxJbnN0YW5jZSwgb3V0ZXJTY29wZSwgbWFwLCB1c2VyUHJvZmlsZSkge1xyXG5cclxuICAgICAgICAkc2NvcGUubWFwID0gbWFwO1xyXG4gICAgICAgICRzY29wZS51c2VyUHJvZmlsZSA9IHVzZXJQcm9maWxlO1xyXG5cclxuICAgICAgICAkc2NvcGUubWFwRGF0YSA9IG1hcC5nZXREaWFncmFtKCkubW9kZWwudG9Kc29uKCk7XHJcbiAgICAgICAgJHNjb3BlLnRodW1ibmFpbFBuZyA9IG1hcC5nZXRQcmVzZW50ZXIoKS5nZXRNYXBUaHVtYm5haWwoKTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0RGVmYXVsdExvZ2luRGF0YSgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIGVtYWlsOiAnJyxcclxuICAgICAgICAgICAgICAgIHBhc3N3b3JkOiAnJ1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gdGhpcyBzdHJ1Y3R1cmUgaXMgdXNlZCB0byBzdG9yZSB0aGUgZm9ybSBkYXRhLCBhcyB3ZWxsIGFzIHRoZSB2YWxpZGF0aW9uIGVycm9ycyByZXR1cm5lZCBmcm9tIHRoZSBzZXJ2ZXIuLi5cclxuICAgICAgICBmdW5jdGlvbiBnZXREZWZhdWx0U2lnbnVwRGF0YSgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIGVtYWlsOiAnJyxcclxuICAgICAgICAgICAgICAgIGZpcnN0X25hbWU6ICcnLFxyXG4gICAgICAgICAgICAgICAgbGFzdF9uYW1lOiAnJyxcclxuICAgICAgICAgICAgICAgIHBhc3N3b3JkOiAnJyxcclxuICAgICAgICAgICAgICAgIHBhc3N3b3JkX2NvbmZpcm1hdGlvbjogJydcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICRzY29wZS5sb2dpbkRhdGEgPSBnZXREZWZhdWx0TG9naW5EYXRhKCk7XHJcbiAgICAgICAgJHNjb3BlLmxvZ2luRXJyb3IgPSAnJztcclxuXHJcbiAgICAgICAgJHNjb3BlLnNpZ251cERhdGEgPSBnZXREZWZhdWx0U2lnbnVwRGF0YSgpO1xyXG4gICAgICAgICRzY29wZS5zaWdudXBFcnJvcnMgPSBnZXREZWZhdWx0U2lnbnVwRGF0YSgpO1xyXG5cclxuICAgICAgICAkc2NvcGUuZG9Mb2dpbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAkc2NvcGUubG9naW5FcnJvcnMgPSBnZXREZWZhdWx0TG9naW5EYXRhKCk7IC8vIHJlc2V0IGVycm9yc1xyXG4gICAgICAgICAgICAkaHR0cC5wb3N0KCcvc2lnbl9pbi5qc29uJywge1xyXG4gICAgICAgICAgICAgICAgdXNlcjogJHNjb3BlLmxvZ2luRGF0YVxyXG4gICAgICAgICAgICB9KS50aGVuKFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBkYXRhIGlzIHtpZDpYWCwgLi4ufVxyXG4gICAgICAgICAgICAgICAgICAgIG91dGVyU2NvcGUuc2V0VXNlcklkKHJlc3BvbnNlLmRhdGEuaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIG91dGVyU2NvcGUubG9hZFVzZXJQcm9maWxlKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudXNlclByb2ZpbGUgPSBvdXRlclNjb3BlLnVzZXJQcm9maWxlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZGF0YSBpcyB7XCJlcnJvclwiOiBcIkludmFsaWQgZW1haWwgb3IgcGFzc3dvcmRcIn1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubG9naW5FcnJvciA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAkc2NvcGUuZG9TaWdudXAgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgJHNjb3BlLnNpZ251cEVycm9ycyA9IGdldERlZmF1bHRTaWdudXBEYXRhKCk7IC8vIHJlc2V0IGVycm9yc1xyXG4gICAgICAgICAgICAkaHR0cC5wb3N0KCcvdXNlcnMuanNvbicsIHtcclxuICAgICAgICAgICAgICAgIHVzZXI6ICRzY29wZS5zaWdudXBEYXRhXHJcbiAgICAgICAgICAgIH0pLnRoZW4oXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGRhdGEgaXMgbmV3IHVzZXIgSURcclxuICAgICAgICAgICAgICAgICAgICBvdXRlclNjb3BlLnNldFVzZXJJZChyZXNwb25zZS5kYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICBvdXRlclNjb3BlLmxvYWRVc2VyUHJvZmlsZShmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnVzZXJQcm9maWxlID0gb3V0ZXJTY29wZS51c2VyUHJvZmlsZTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGRhdGEgaXMgZS5nLiB7XCJmaXJzdF9uYW1lXCI6W1wiY2FuJ3QgYmUgYmxhbmtcIl0sIC4uLn1cclxuICAgICAgICAgICAgICAgICAgICBfLmVhY2goXy5rZXlzKHJlc3BvbnNlLmRhdGEpLCBmdW5jdGlvbihrZXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNpZ251cEVycm9yc1trZXldID0gcmVzcG9uc2UuZGF0YVtrZXldLmpvaW4oJzsgJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICRtb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG5cclxuICAgIHNhbmRib3hTYXZlTW9kYWxDdHJsLiRpbmplY3QgPSBbJyRzY29wZScsICckbW9kYWxJbnN0YW5jZScsICdvdXRlclNjb3BlJywgJ21hcCcsICd1c2VyUHJvZmlsZSddO1xyXG5cclxuICAgIC8vIC0tLS0tLS0tLS0tLS0gZWRpdCBzdGF0dXMgbWVzc2FnZSBmb3IgaGVhZGVyIGJhciAtLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgICAkc2NvcGUuZWRpdFN0YXR1cyA9ICcnO1xyXG5cclxuICAgICRzY29wZS5MQVNUX1VQREFURUQgPSAnJztcclxuICAgICRzY29wZS5SRUFEX09OTFkgPSAnVmlldyBvbmx5JztcclxuICAgICRzY29wZS5TQVZJTkcgPSAnU2F2aW5nLi4uJztcclxuICAgICRzY29wZS5TQVZFX09LID0gJ0FsbCBjaGFuZ2VzIHNhdmVkJztcclxuICAgICRzY29wZS5TQVZFX0ZBSUxFRCA9ICdDaGFuZ2VzIGNvdWxkIG5vdCBiZSBzYXZlZCc7XHJcblxyXG4gICAgJHNjb3BlLnVwZGF0ZUVkaXRTdGF0dXMgPSBmdW5jdGlvbihzKSB7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZygndXBkYXRlRWRpdFN0YXR1czogJyArIHMpO1xyXG4gICAgICAgICRzY29wZS5lZGl0U3RhdHVzID0gcztcclxuICAgICAgICBpZiAocyA9PSAkc2NvcGUuU0FWRV9GQUlMRUQpIHtcclxuICAgICAgICAgICAgYWxlcnQoJ0NoYW5nZXMgY291bGQgbm90IGJlIHNhdmVkIC0gcGxlYXNlIGNoZWNrIHlvdXIgbmV0d29yayBjb25uZWN0aW9uLicpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAocyA9PSAkc2NvcGUuTEFTVF9VUERBVEVEKSB7XHJcbiAgICAgICAgICAgIHZhciB0aW1lID0gbW9tZW50KCRzY29wZS51cGRhdGVkQXQpLmZyb21Ob3coKTtcclxuICAgICAgICAgICAgdmFyIGJ5ID0gJyc7XHJcbiAgICAgICAgICAgIGlmICgkc2NvcGUudXBkYXRlZEJ5ID09ICRzY29wZS51c2VySWQpIHtcclxuICAgICAgICAgICAgICAgIGJ5ID0gJ2J5IG1lJztcclxuICAgICAgICAgICAgfSBlbHNlIGlmICgkc2NvcGUudXBkYXRlZEJ5TmFtZSkge1xyXG4gICAgICAgICAgICAgICAgYnkgPSAnYnkgJyArICRzY29wZS51cGRhdGVkQnlOYW1lO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIFRPRE86IHNob3cgJ2J5IG1lJyBvbmx5IGZvciBlZGl0YWJsZSBzaGFyZWQgbWFwcz9cclxuXHJcbiAgICAgICAgICAgICRzY29wZS5lZGl0U3RhdHVzID0gJ0xhc3QgdXBkYXRlZCAnICsgdGltZSArICcgJyArIGJ5O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gTGFzdCBlZGl0IHdhcyBYWCBhZ28gYnkgWVlcclxuICAgIH07XHJcblxyXG5cclxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgICBmdW5jdGlvbiBpbml0KCkge1xyXG4gICAgICAgICRzY29wZS5zYWZlQXBwbHkoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5tYXAuaW5pdCgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKCEkc2NvcGUuc2FuZGJveCkge1xyXG4gICAgICAgICAgICAgICAgLy8gb3ZlcnZpZXcgZGlhZ3JhbVxyXG4gICAgICAgICAgICAgICAgdmFyIG92ZXJ2aWV3ID0gZ28uR3JhcGhPYmplY3QubWFrZShnby5PdmVydmlldywgXCJvdmVydmlldy1kaWFncmFtXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICBvYnNlcnZlZDogJHNjb3BlLm1hcC5nZXREaWFncmFtKCksXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGVudEFsaWdubWVudDogZ28uU3BvdC5DZW50ZXJcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdmFyIG91dGxpbmUgPSBvdmVydmlldy5ib3guZWxlbWVudHMuZmlyc3QoKTtcclxuICAgICAgICAgICAgICAgIG91dGxpbmUuc3Ryb2tlID0gXCIjMzMzXCI7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICgkc2NvcGUubWFwVXJsKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubWFwLmxvYWQoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5tYXAubG9hZEZvclNhbmRib3goKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgYWRkQmVoYXZpb3JzKCk7XHJcbiAgICAgICAgICAgIGhhbmRsZU5hdmlnYXRpb24oKTtcclxuICAgICAgICAgICAgaGFuZGxlQmFja3NwYWNlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gbWlzYy4gVUkgYmVoYXZpb3JzIGZvciB0b29sdGlwcywgcG9wdXBzIGV0Yy5cclxuICAgIC8vIFRPRE86IGZpZ3VyZSBvdXQgd2hpY2ggb2YgdGhlc2UgbmVlZCB0byBiZSByZWFwcGxpZWQgYWZ0ZXIgZHluYW1pYyBkYXRhIGNoYW5nZXMgKGUuZy4gTGVzc29uQm9vayBwb3BvdmVycylcclxuICAgIGZ1bmN0aW9uIGFkZEJlaGF2aW9ycygpIHtcclxuXHJcbiAgICAgICAgLy8gTk9URTogd2UgaGF2ZSB0byB1c2UgcmVndWxhciBib290c3RyYXAgdG9vbHRpcHMgZm9yIHRvb2xiYXIgYnV0dG9ucyAoaW5zdGVhZCBvZiBuZy1ib290c3RyYXAgb25lcylcclxuICAgICAgICAvLyBzbyB3ZSBjYW4gdHVybiB0aGVtIG9mZiBmb3IgbW9iaWxlLiBXZSBhbHNvIHB1dCB0aGUgdG9vbHRpcHMgb24gd3JhcHBlcnMgcmF0aGVyIHRoYW4gb24gdGhlIGFjdHVhbCBcclxuICAgICAgICAvLyBidXR0b25zLCBzbyB3ZSBjYW4gYXZvaWQgdGhlIGlzc3VlIG9mIHN0dWNrIHRvb2x0aXBzIGlmIGEgYnV0dG9uIGdldHMgZGlzYWJsZWQgd2hpbGUgdGhlIHRvb2x0aXAgaXMgc2hvd2luZy5cclxuXHJcbiAgICAgICAgaWYgKCEkc2NvcGUuaXNUb3VjaERldmljZSgpKSB7XHJcbiAgICAgICAgICAgIC8vICQoJy50b29sdGlwLXdyYXBwZXInKS50b29sdGlwKHtcclxuICAgICAgICAgICAgLy8gICAgIHBsYWNlbWVudDogJ3RvcCcsXHJcbiAgICAgICAgICAgIC8vICAgICBjb250YWluZXI6ICdib2R5J1xyXG4gICAgICAgICAgICAvLyB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vICQoJy5kcm9wZG93bi1tZW51IC5idG4nKS50b29sdGlwKHtcclxuICAgICAgICAgICAgLy8gICAgIHBsYWNlbWVudDogJ2xlZnQnLFxyXG4gICAgICAgICAgICAvLyAgICAgY29udGFpbmVyOiAnYm9keSdcclxuICAgICAgICAgICAgLy8gfSk7IC8vIGZvciBsYXlvdXQgb3B0aW9uc1xyXG5cclxuICAgICAgICAgICAgJCgnaGVhZGVyLCAjbWFwLXRpdGxlJykuaG92ZXIoXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAkKCdib2R5LnByZXNlbnRlci1wbGF5aW5nJykuYWRkQ2xhc3MoJ2hpZGUtaGVhZGVyJyk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnYm9keS5wcmVzZW50ZXItcGxheWluZycpLnJlbW92ZUNsYXNzKCdoaWRlLWhlYWRlcicpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBoYW5kbGVOYXZpZ2F0aW9uKCkge1xyXG4gICAgICAgIC8vIGNyb3NzLWJyb3dzZXIgdHdlYWtzOlxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIC8vIGh0dHA6Ly93d3cub3BlcmEuY29tL3N1cHBvcnQva2Ivdmlldy84MjcvXHJcbiAgICAgICAgICAgIG9wZXJhLnNldE92ZXJyaWRlSGlzdG9yeU5hdmlnYXRpb25Nb2RlKCdjb21wYXRpYmxlJyk7XHJcbiAgICAgICAgICAgIGhpc3RvcnkubmF2aWdhdGlvbk1vZGUgPSAnY29tcGF0aWJsZSc7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAvLyBubyBiaWdnaWUuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBpbnN0YWxsIGJlZm9yZS11bmxvYWQgaGFuZGxlcjpcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZXhpdE1lc3NhZ2UoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBcIk5hdmlnYXRpbmcgYXdheSBmcm9tIHlvdXIgTWFwIHdpbGwgY2F1c2UgYW55IHVuc2F2ZWQgY2hhbmdlcyB0byBiZSBsb3N0IFwiICtcclxuICAgICAgICAgICAgICAgIFwiKGFueSBjaGFuZ2VzIHlvdSBtYWtlIGFyZSBhdXRvbWF0aWNhbGx5IHNhdmVkLCBidXQgaXQgdGFrZXMgYSBjb3VwbGUgb2Ygc2Vjb25kcykuXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyAgICAgICAgJCh3aW5kb3cpLmJpbmQoJ2JlZm9yZXVubG9hZCcsIGV4aXRNZXNzYWdlKTtcclxuXHJcbiAgICAgICAgLy8gcHJldmVudCBleGl0IHByb21wdCB3aGVuIHRoZSB1c2VyIGRlbGliZXJhdGVseSBuYXZpZ2F0ZXMgYXdheTpcclxuXHJcbiAgICAgICAgJCgnI2hlYWRlci1yaWdodCBhJykuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICQod2luZG93KS51bmJpbmQoJ2JlZm9yZXVubG9hZCcsIGV4aXRNZXNzYWdlKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBoYW5kbGVCYWNrc3BhY2UoKSB7XHJcbiAgICAgICAgdmFyIEJBQ0tTUEFDRSA9IDg7XHJcblxyXG4gICAgICAgICQoZG9jdW1lbnQpLm9uKCdrZXlkb3duJywgZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IEJBQ0tTUEFDRSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCEkKCdib2R5IDpmb2N1cycpLmlzKCc6aW5wdXQnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHByZXZlbnQgYWNjaWRlbnRhbCBiYWNrc3BhY2Ugd2hlbiBubyBpbnB1dCBoYXMgZm9jdXM6XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoKTtcclxufTtcclxuXHJcbndpbmRvdy5NYXBFZGl0b3JDdHJsLiRpbmplY3QgPSBbJyRyb290U2NvcGUnLCAnJHNjb3BlJywgJyRodHRwJywgJyRyZXNvdXJjZScsICckdGltZW91dCcsICckbW9kYWwnLCAnJGxvZyddOyIsIndpbmRvdy5TYW5kYmFua0VkaXRvck9wdGlvbnMgPSB7fTtcclxuXHJcblNhbmRiYW5rRWRpdG9yT3B0aW9ucyA9IGZ1bmN0aW9uKCRzY29wZSwgJGh0dHAsICRyZXNvdXJjZSwgJG1vZGFsLCAkbG9nKSB7XHJcblxyXG4gICAgdGhpcy5vcGVuTW9kYWwgPSBmdW5jdGlvbihvcHRpb25zLCBvblNhdmVEZWZhdWx0cywgb25VcGRhdGUpIHtcclxuICAgICAgICB2YXIgbW9kYWxJbnN0YW5jZSA9ICRtb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZV9lZGl0b3Jfb3B0aW9uc19tb2RhbC5odG1sJywgLy8gc2VlIHZpZXdzL21hcHMvX3RlbXBsYXRlX2VkaXRvcl9vcHRpb25zX21vZGFsXHJcbiAgICAgICAgICAgIGJhY2tkcm9wOiAnc3RhdGljJyxcclxuICAgICAgICAgICAgY29udHJvbGxlcjogb3B0aW9uc01vZGFsQ3RybCxcclxuICAgICAgICAgICAgd2luZG93Q2xhc3M6ICdvcHRpb25zLW1vZGFsJyxcclxuICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgb3B0aW9uczogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnM7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgb25TYXZlRGVmYXVsdHM6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvblNhdmVEZWZhdWx0cztcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBvblVwZGF0ZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9uVXBkYXRlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24oKSB7fSk7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0gY29udHJvbGxlciBmb3Igb3B0aW9ucyBtb2RhbCAtLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgICB2YXIgb3B0aW9uc01vZGFsQ3RybCA9IGZ1bmN0aW9uKCRzY29wZSwgJG1vZGFsSW5zdGFuY2UsIG9wdGlvbnMsIG9uU2F2ZURlZmF1bHRzLCBvblVwZGF0ZSkge1xyXG5cclxuICAgICAgICAkc2NvcGUub3B0aW9ucyA9IG9wdGlvbnM7XHJcblxyXG4gICAgICAgICRzY29wZS5zZXREZWZhdWx0cyA9IHtcclxuICAgICAgICAgICAgdmFsdWU6IGZhbHNlXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIG9uVXBkYXRlKCRzY29wZS5vcHRpb25zKTtcclxuICAgICAgICAgICAgaWYgKCRzY29wZS5zZXREZWZhdWx0cy52YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgb25TYXZlRGVmYXVsdHMoJHNjb3BlLm9wdGlvbnMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICRtb2RhbEluc3RhbmNlLmNsb3NlKCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgJHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAkbW9kYWxJbnN0YW5jZS5kaXNtaXNzKCdjYW5jZWwnKTtcclxuICAgICAgICB9O1xyXG4gICAgfTtcclxuXHJcbiAgICBvcHRpb25zTW9kYWxDdHJsLiRpbmplY3QgPSBbJyRzY29wZScsICckbW9kYWxJbnN0YW5jZScsICdvcHRpb25zJywgJ29uU2F2ZURlZmF1bHRzJywgJ29uVXBkYXRlJ107XHJcbn07IiwiLy8gY29udHJvbGxlciBmb3IgcHVibGljIG1hcHNcclxuXHJcbndpbmRvdy5NYXBzRmVlZEN0cmwgPSBmdW5jdGlvbigkc2NvcGUsICRodHRwLCAkcmVzb3VyY2UsICRtb2RhbCwgJGxvZykge1xyXG5cclxuICAgICRzY29wZS5zaG93QWR2YW5jZWRTZWFyY2ggPSB0cnVlO1xyXG4gICAgJHNjb3BlLmxvYWRpbmdGZWVkID0gZmFsc2U7XHJcblxyXG4gICAgJHNjb3BlLmV2ZW50cyA9IFtdO1xyXG4gICAgJHNjb3BlLm9yZ2FuaXphdGlvbnMgPSBbXTtcclxuICAgICRzY29wZS5hZG1pblRhZ3MgPSBbXTtcclxuXHJcbiAgICAkc2NvcGUuc29ydE9wdGlvbnMgPSBbe1xyXG4gICAgICAgIG5hbWU6ICdNT1NUX1JFQ0VOVCcsXHJcbiAgICAgICAgbGFiZWw6ICdNb3N0IFJlY2VudCdcclxuICAgIH0sIHtcclxuICAgICAgICBuYW1lOiAnTU9TVF9MSUtFRCcsXHJcbiAgICAgICAgbGFiZWw6ICdNb3N0IExpa2VkJ1xyXG4gICAgfSwge1xyXG4gICAgICAgIG5hbWU6ICdNT1NUX0NPTU1FTlRFRCcsXHJcbiAgICAgICAgbGFiZWw6ICdNb3N0IENvbW1lbnRlZCdcclxuICAgIH1dO1xyXG5cclxuICAgICRzY29wZS5maWx0ZXJzID0gW3tcclxuICAgICAgICBuYW1lOiAnQUxMJyxcclxuICAgICAgICBsYWJlbDogJ0FsbCBQdWJsaWMgTWFwcydcclxuICAgIH0sIHtcclxuICAgICAgICBuYW1lOiAnRk9MTE9XRURfTUFQUycsXHJcbiAgICAgICAgbGFiZWw6ICdNYXBzIEkgRm9sbG93J1xyXG4gICAgfSwge1xyXG4gICAgICAgIG5hbWU6ICdMSUtFRF9NQVBTJyxcclxuICAgICAgICBsYWJlbDogXCJNYXBzIEkndmUgTGlrZWRcIlxyXG4gICAgfSwge1xyXG4gICAgICAgIG5hbWU6ICdGT0xMT1dFRF9QRU9QTEUnLFxyXG4gICAgICAgIGxhYmVsOiAnTWFwcyBieSBQZW9wbGUgSSBGb2xsb3cnXHJcbiAgICB9LCB7XHJcbiAgICAgICAgbmFtZTogJ1RBR0dFRF9NQVBTJyxcclxuICAgICAgICBsYWJlbDogXCJNYXBzIFRhZ2dlZCB3aXRoIE15IFRhZ3NcIlxyXG4gICAgfV07XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0RGVmYXVsdFNlYXJjaFBhcmFtcygpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB0ZXh0OiAnJyxcclxuICAgICAgICAgICAgb3JnYW5pemF0aW9uSWQ6ICcnLFxyXG4gICAgICAgICAgICBhZG1pblRhZ0lkOiAnJyxcclxuICAgICAgICAgICAgdGFnczogW10sXHJcbiAgICAgICAgICAgIHN0YW5kYXJkczogW10sXHJcbiAgICAgICAgICAgIHdpdGhTbGlkZXM6IGZhbHNlLFxyXG4gICAgICAgICAgICB3aXRoQWN0aXZpdHlTbGlkZXM6IGZhbHNlLFxyXG4gICAgICAgICAgICBzb3J0Qnk6ICdNT1NUX1JFQ0VOVCcsXHJcbiAgICAgICAgICAgIGZpbHRlcjogJ0FMTCdcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgICRzY29wZS5zZWFyY2hQYXJhbXMgPSBnZXREZWZhdWx0U2VhcmNoUGFyYW1zKCk7XHJcblxyXG4gICAgJHNjb3BlLnNlYXJjaFBhcmFtc1RvUXVlcnlTdHJpbmcgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgc3AgPSAkc2NvcGUuc2VhcmNoUGFyYW1zO1xyXG4gICAgICAgIHJldHVybiAndGV4dD0nICsgc3AudGV4dCArXHJcbiAgICAgICAgICAgICcmb3JnYW5pemF0aW9uSWQ9JyArIHNwLm9yZ2FuaXphdGlvbklkICtcclxuICAgICAgICAgICAgJyZhZG1pblRhZ0lkPScgKyBzcC5hZG1pblRhZ0lkICtcclxuICAgICAgICAgICAgJyZ0YWdzPScgKyBzcC50YWdzICtcclxuICAgICAgICAgICAgJyZzdGFuZGFyZHM9JyArIHNwLnN0YW5kYXJkcyArXHJcbiAgICAgICAgICAgICcmd2l0aFNsaWRlcz0nICsgc3Aud2l0aFNsaWRlcyArXHJcbiAgICAgICAgICAgICcmd2l0aEFjdGl2aXR5U2xpZGVzPScgKyBzcC53aXRoQWN0aXZpdHlTbGlkZXMgK1xyXG4gICAgICAgICAgICAnJnNvcnRCeT0nICsgc3Auc29ydEJ5ICtcclxuICAgICAgICAgICAgJyZmaWx0ZXI9JyArIHNwLmZpbHRlcjtcclxuICAgIH07XHJcblxyXG4gICAgLy8gLS0tLS0tLS0tLS0gcXVlcnkgc3RyaW5nIHBhcmFtcyB0byBzaG93IHNpbmdsZSBldmVudCBmb3Igbm90aWZpY2F0aW9ucyAtLS0tLS0tLS0tLS0tXHJcblxyXG4gICAgJHNjb3BlLmdldE5vdGlmaWNhdGlvblNlYXJjaFBhcmFtcyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBwYXJhbXMgPSBfLm1hcChbJ2xpa2UnLCAnY29tbWVudCcsICdzaGFyZSddLCBmdW5jdGlvbihhY3Rpb24pIHtcclxuICAgICAgICAgICAgcmV0dXJuIGFjdGlvbiArICdfaWQ9JyArXHJcbiAgICAgICAgICAgICAgICAoXy5oYXMoJHNjb3BlLnBhcmFtcywgYWN0aW9uICsgJ19pZCcpID8gJHNjb3BlLnBhcmFtc1thY3Rpb24gKyAnX2lkJ10gOiAnbnVsbCcpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBwYXJhbXMuam9pbignJicpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyAkc2NvcGUucGFyYW1zIGlzIHNldCBpbiB1c2VyLmpzXHJcbiAgICAkc2NvcGUuaXNTaW5nbGVDb21tZW50VmlldyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiBfLmhhcygkc2NvcGUucGFyYW1zLCAnY29tbWVudF9pZCcpICYmICRzY29wZS5wYXJhbXNbJ2NvbW1lbnRfaWQnXSAhPSBudWxsO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tIG1hcCBkYXRhIC0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICAgJHNjb3BlLmV2ZW50TGltaXQgPSAxMDtcclxuXHJcbiAgICAkc2NvcGUubG9hZEZlZWQgPSBmdW5jdGlvbihpbmNyZW1lbnQpIHtcclxuXHJcbiAgICAgICAgaWYgKGluY3JlbWVudCkge1xyXG4gICAgICAgICAgICAkc2NvcGUuZXZlbnRMaW1pdCArPSBpbmNyZW1lbnQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkc2NvcGUubG9hZGluZ0ZlZWQgPSB0cnVlO1xyXG4gICAgICAgIHN0YXJ0U3Bpbm5lcigpO1xyXG4gICAgICAgICRodHRwLmdldCgnL21hcHMvZmVlZC5qc29uPycgK1xyXG4gICAgICAgICAgICAkc2NvcGUuc2VhcmNoUGFyYW1zVG9RdWVyeVN0cmluZygpICsgJyYnICtcclxuICAgICAgICAgICAgJHNjb3BlLmdldE5vdGlmaWNhdGlvblNlYXJjaFBhcmFtcygpICsgJyZsaW1pdD0nICsgJHNjb3BlLmV2ZW50TGltaXRcclxuICAgICAgICApLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5ldmVudHMgPSByZXNwb25zZS5kYXRhLmV2ZW50cztcclxuICAgICAgICAgICAgICAgICRzY29wZS5vcmdhbml6YXRpb25zID0gcmVzcG9uc2UuZGF0YS5vcmdhbml6YXRpb25zO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFkbWluVGFncyA9IHJlc3BvbnNlLmRhdGEuYWRtaW5UYWdzO1xyXG4gICAgICAgICAgICAgICAgc3RvcFNwaW5uZXIoKTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5sb2FkaW5nRmVlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHN0b3BTcGlubmVyKCk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubG9hZGluZ0ZlZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGFsZXJ0KCdDb3VsZCBub3QgbG9hZCBNZXRhTWFwIGZlZWQnKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgICRzY29wZS5sb2FkRmVlZCgpO1xyXG5cclxuICAgIC8vIC0tLS0tLS0tLS0tLS0tIGluZmluaXRlIHNjcm9sbGluZyAtLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgICAkc2NvcGUubW9yZUV2ZW50cyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdtb3JlRXZlbnRzIScpO1xyXG4gICAgICAgIGlmICghJHNjb3BlLmxvYWRpbmdGZWVkKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5sb2FkRmVlZCgxMCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0tLSBzZWFyY2ggZm9ybSAtLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgICAkc2NvcGUuZG9TZWFyY2ggPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAkc2NvcGUubG9hZEZlZWQoKTtcclxuICAgIH07XHJcblxyXG4gICAgJHNjb3BlLnJlc2V0U2VhcmNoID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgJHNjb3BlLnNlYXJjaFBhcmFtcyA9IGdldERlZmF1bHRTZWFyY2hQYXJhbXMoKTtcclxuICAgICAgICAkc2NvcGUuc2hvd0FkdmFuY2VkU2VhcmNoID0gZmFsc2U7XHJcbiAgICAgICAgJHNjb3BlLmxvYWRGZWVkKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIC0tLS0tLS0tLS0tLS0tIHZpZXcgaGVscGVycyAtLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgICRzY29wZS5nZXRUb3RhbFRhZ0NvdW50ID0gZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICByZXR1cm4gZXZlbnQubWFwLnVzZXJUYWdzLmxlbmd0aCArXHJcbiAgICAgICAgICAgIGV2ZW50Lm1hcC5hZG1pblRhZ3MubGVuZ3RoICtcclxuICAgICAgICAgICAgZXZlbnQubWFwLmNjc1RhZ3MubGVuZ3RoO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0tIGNvbW1lbnQgb24gYSBtYXAgLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgICAvLyB0aGVzZSBhcmUgaW5kZXhlZCBieSB0aGUgaW5kZXggb2YgdGhlIGV2ZW50IGluIHRoZSBmZWVkXHJcbiAgICAkc2NvcGUuc2hvd0FsbENvbW1lbnRzID0gW107XHJcbiAgICAkc2NvcGUubmV3Q29tbWVudHMgPSBbXTtcclxuXHJcbiAgICAvLyBOQjogd2hlbiBwb3N0aW5nIGEgbmV3IGNvbW1lbnQgd2UgZG9uJ3QgcmVsb2FkIHRoZSBmZWVkLCBzb1xyXG4gICAgLy8gdGhhdCB0aGUgbmV3IGNvbW1lbnQgd2lsbCBzdGF5IHZpc2libGUgcmF0aGVyIHRoYW4gaGF2aW5nIHRoZVxyXG4gICAgLy8gZmVlZCBzY3JvbGwgdG8gdGhlIHRvcC4gXHJcbiAgICAkc2NvcGUuYWRkQ29tbWVudCA9IGZ1bmN0aW9uKGV2ZW50SW5kZXgpIHtcclxuICAgICAgICB2YXIgZXZlbnQgPSAkc2NvcGUuZXZlbnRzW2V2ZW50SW5kZXhdO1xyXG4gICAgICAgIHZhciBtYXBJZCA9IGV2ZW50Lm1hcC5pZDtcclxuICAgICAgICB2YXIgY29tbWVudCA9ICRzY29wZS5uZXdDb21tZW50c1tldmVudEluZGV4XTtcclxuICAgICAgICAkaHR0cC5wb3N0KCcvY29tbWVudHMnLCB7XHJcbiAgICAgICAgICAgIG1hcF9pZDogbWFwSWQsXHJcbiAgICAgICAgICAgIHRleHQ6IGNvbW1lbnRcclxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICBldmVudC5tYXAuY29tbWVudHMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgYXV0aG9ySWQ6ICRzY29wZS51c2VySWQsXHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogY29tbWVudCxcclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVkQXQ6IGV2ZW50Lm5vdyxcclxuICAgICAgICAgICAgICAgICAgICBhdXRob3I6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICRzY29wZS51c2VySWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICRzY29wZS51c2VyTmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXZhdGFyOiAkc2NvcGUudXNlclByb2ZpbGUudXNlci5hdmF0YXJcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogZmlndXJlIG91dCBob3cgdG8gc2hvdyB0cnVlIGN1cnJlbnQgdGltZSwgcmF0aGVyIHRoYW4gZXZlbnQubm93LCBcclxuICAgICAgICAgICAgICAgICAgICAvLyB3aGljaCBjb3VsZCBiZSBhIG1pbnV0ZSBvciB0d28gYWdvLi4uID8/XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5uZXdDb21tZW50c1tldmVudEluZGV4XSA9ICcnOyAvLyBjbGVhciBlZGl0IGZpZWxkXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgYWxlcnQoXCJDb3VsZCBub3QgcG9zdCB5b3VyIGNvbW1lbnRcIik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAkc2NvcGUuZGVsZXRlQ29tbWVudCA9IGZ1bmN0aW9uKGV2ZW50SW5kZXgsIGNvbW1lbnRJZCkge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdldmVudEluZGV4OiAnICsgZXZlbnRJbmRleCk7XHJcbiAgICAgICAgdmFyIGV2ZW50ID0gJHNjb3BlLmV2ZW50c1tldmVudEluZGV4XTtcclxuICAgICAgICB2YXIgbWFwSWQgPSBldmVudC5tYXAuaWQ7XHJcbiAgICAgICAgJGh0dHAuZGVsZXRlKCcvY29tbWVudHMvJyArIGNvbW1lbnRJZCkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgZXZlbnQubWFwLmNvbW1lbnRzID0gXy5maWx0ZXIoZXZlbnQubWFwLmNvbW1lbnRzLCBmdW5jdGlvbihlbHQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWx0LmlkICE9IGNvbW1lbnRJZFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgYWxlcnQoXCJDb3VsZCBub3QgZGVsZXRlIHlvdXIgY29tbWVudFwiKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgICRzY29wZS5mb2N1c05ld0NvbW1lbnQgPSBmdW5jdGlvbihldmVudEluZGV4KSB7XHJcbiAgICAgICAgJHNjb3BlLnNob3dBbGxDb21tZW50c1tldmVudEluZGV4XSA9ICEkc2NvcGUuc2hvd0FsbENvbW1lbnRzW2V2ZW50SW5kZXhdO1xyXG4gICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAkKCcjbmV3LWNvbW1lbnRfJyArIGV2ZW50SW5kZXgpLmZvY3VzKCk7XHJcbiAgICAgICAgfSwgMzAwKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0tIGxpa2UgYSBtYXAgLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgICAkc2NvcGUuYWRkTGlrZSA9IGZ1bmN0aW9uKG1hcCkge1xyXG4gICAgICAgICRodHRwLnBvc3QoJy9saWtlcycsIHtcclxuICAgICAgICAgICAgbWFwX2lkOiBtYXAuaWRcclxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdhZGRMaWtlLCByZXNwb25zZTonLCByZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICBtYXAubGlrZUNvdW50ID0gcmVzcG9uc2UuZGF0YTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZnVuY3Rpb24oKSB7fSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tIGZvbGxvdyBhIG1hcCAtLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgICRzY29wZS5hZGRNYXBGb2xsb3cgPSBmdW5jdGlvbihtYXApIHtcclxuICAgICAgICAkaHR0cC5wb3N0KCcvbWFwX2ZvbGxvd3MnLCB7XHJcbiAgICAgICAgICAgIG1hcF9pZDogbWFwLmlkXHJcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgbWFwLmZvbGxvd0NvdW50ID0gcmVzcG9uc2UuZGF0YTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZnVuY3Rpb24oKSB7fSk7XHJcbiAgICB9O1xyXG5cclxufTtcclxuXHJcbndpbmRvdy5NYXBzRmVlZEN0cmwuJGluamVjdCA9IFsnJHNjb3BlJywgJyRodHRwJywgJyRyZXNvdXJjZScsICckbW9kYWwnLCAnJGxvZyddOyIsIi8vIGZ1bmN0aW9ucyBmb3IgdGhlIGdlbmVyYXRvciAoYWthIFRoaW5rUXVlcnkpXHJcblxyXG52YXIgR2VuZXJhdG9yQ3RybCA9IGZ1bmN0aW9uICgkc2NvcGUpIHtcclxuXHJcbiAgICB2YXIgbWFwID0gJHNjb3BlLm1hcDtcclxuICAgIHZhciBkaWFncmFtID0gJHNjb3BlLm1hcC5nZXREaWFncmFtKCk7XHJcblxyXG4gICAgJHNjb3BlLmNvbmNlcHQxID0gJyc7XHJcbiAgICAkc2NvcGUuY29uY2VwdDIgPSAnJztcclxuXHJcbiAgICAkc2NvcGUuZWNob0NvbmNlcHQxID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuICRzY29wZS5jb25jZXB0MSB8fCAnLi4uJztcclxuICAgIH07XHJcblxyXG4gICAgJHNjb3BlLmVjaG9Db25jZXB0MiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiAkc2NvcGUuY29uY2VwdDIgfHwgJy4uLic7XHJcbiAgICB9O1xyXG5cclxuICAgICRzY29wZS5zd2FwQ29uY2VwdHMgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgdG1wID0gJHNjb3BlLmNvbmNlcHQxO1xyXG4gICAgICAgICRzY29wZS5jb25jZXB0MSA9ICRzY29wZS5jb25jZXB0MjtcclxuICAgICAgICAkc2NvcGUuY29uY2VwdDIgPSB0bXA7XHJcbiAgICAgICAgJHNjb3BlLnNhZmVBcHBseSgpO1xyXG4gICAgfTtcclxuXHJcbiAgICAkc2NvcGUubWFwSXQgPSBmdW5jdGlvbihxdWVzdGlvbikge1xyXG4gICAgICAgIHN0YXJ0U3Bpbm5lcigpO1xyXG4gICAgICAgIGRpYWdyYW0gPSBtYXAuZ2V0RGlhZ3JhbSgpO1xyXG4gICAgICAgIG1hcC5nZXRBdXRvc2F2ZSgpLnNhdmVPbk1vZGVsQ2hhbmdlZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICBpZiAoJHNjb3BlLnNhbmRib3gpIHtcclxuICAgICAgICAgICAgZGlhZ3JhbS5jbGVhcigpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gZmlndXJlIG91dCBsb2NhdGlvbiBmb3IgaW5zZXJ0ZWQgc3R1ZmZcclxuICAgICAgICB2YXIgZGIgPSBtYXAuY29tcHV0ZU1hcEJvdW5kcygpO1xyXG4gICAgICAgIHZhciB4ID0gZGIueCArIGRiLndpZHRoICsgMjAwO1xyXG4gICAgICAgIHZhciB5ID0gZGIueTtcclxuICAgICAgICBpZiAoaXNOYU4oeCkgfHwgaXNOYU4oeSkpIHtcclxuICAgICAgICAgICAgeCA9IHkgPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL2NvbnNvbGUubG9nKCd4LCB5OiAnICsgeCArICcsICcgKyB5KTtcclxuXHJcbiAgICAgICAgLy8gaW5zZXJ0IHRoZSBzdHVmZiBhbmQgZGVzZWxlY3QgaXRcclxuICAgICAgICBxdWVzdGlvbih4LHkpO1xyXG4gICAgICAgIGRpYWdyYW0uY2xlYXJTZWxlY3Rpb24oKTsgXHJcblxyXG4gICAgICAgIGRpYWdyYW0udXBkYXRlQWxsVGFyZ2V0QmluZGluZ3MoKTtcclxuICAgICAgICBkaWFncmFtLmxheW91dERpYWdyYW0odHJ1ZSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgbWFwLmdldFVpKCkucmVzZXRab29tKCk7XHJcblxyXG4gICAgICAgIG1hcC5nZXRBdXRvc2F2ZSgpLnNhdmVPbk1vZGVsQ2hhbmdlZCA9IHRydWU7XHJcbiAgICAgICAgbWFwLmdldEF1dG9zYXZlKCkuc2F2ZSgnZWRpdF9nZW5lcmF0b3InKTtcclxuICAgICAgICBzdG9wU3Bpbm5lcigpO1xyXG4gICAgfTtcclxuXHJcbiAgICAkc2NvcGUuc2VsZWN0ZWRRdWVzdGlvbiA9IG51bGw7XHJcblxyXG4gICAgJHNjb3BlLnNlbGVjdFF1ZXN0aW9uID0gZnVuY3Rpb24ocXVlc3Rpb24pIHtcclxuICAgICAgICAkc2NvcGUuc2VsZWN0ZWRRdWVzdGlvbiA9IHF1ZXN0aW9uO1xyXG4gICAgICAgIGlmICgkc2NvcGUuc2FuZGJveCkge1xyXG4gICAgICAgICAgICAkc2NvcGUubWFwSXQocXVlc3Rpb24pO1xyXG4gICAgICAgIH1cclxuICAgIH07ICAgIFxyXG5cclxuICAgICRzY29wZS5zdXJwcmlzZU1lID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIGtleXMgPSBfLmtleXMoJHNjb3BlLnF1ZXJpZXMpO1xyXG4gICAgICAgIHZhciBpID0gXy5yYW5kb20oMCwga2V5cy5sZW5ndGggLSAxKTtcclxuICAgICAgICB2YXIgcXVlc3Rpb24gPSAkc2NvcGUucXVlcmllc1trZXlzW2ldXTtcclxuICAgICAgICAkc2NvcGUuc2VsZWN0ZWRRdWVzdGlvbiA9IHF1ZXN0aW9uO1xyXG4gICAgICAgICRzY29wZS5tYXBJdChxdWVzdGlvbik7XHJcblxyXG4gICAgICAgICQoJyNxdWVzdGlvbnMnKS5hbmltYXRlKHsgc2Nyb2xsVG9wOiBpICogMzAgfSwgMTAwMCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIC0tLS0tLS0tLS0gZnVuY3Rpb25zIGZvciBjcmVhdGluZyBlYWNoIG9mIHRoZSBzdHJ1Y3R1cmVzIC0gc2VlIHZpZXdzL21hcHMvZ2VuZXJhdG9yX3RhYiAtLS0tLS0tLS0tLVxyXG5cclxuICAgICRzY29wZS5xdWVyaWVzID0ge1xyXG5cclxuICAgICAgICBXSEFUX0lTOiBmdW5jdGlvbih4LCB5KSB7ICAvLyAxXHJcbiAgICAgICAgICAgIHZhciB0aGluZzEgPSBtYXAuY3JlYXRlVGhpbmcoeCwgeSwgJHNjb3BlLmVjaG9Db25jZXB0MSgpKTtcclxuICAgICAgICAgICAgZGlhZ3JhbS5tb2RlbC5zZXREYXRhUHJvcGVydHkodGhpbmcxLmRhdGEsICdkZmxhZycsIHRydWUpO1xyXG4gICAgICAgICAgICBtYXAuY3JlYXRlQ2hpbGQodGhpbmcxLCAnaXM/Jyk7XHJcbiAgICAgICAgICAgIG1hcC5jcmVhdGVDaGlsZCh0aGluZzEsICdpcz8nKTtcclxuICAgICAgICAgICAgbWFwLmNyZWF0ZUNoaWxkKHRoaW5nMSwgJ2lzPycpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIFdIQVRfSVNfTk9UOiBmdW5jdGlvbih4LCB5KSB7IC8vIDJcclxuICAgICAgICAgICAgdmFyIHRoaW5nMSA9IG1hcC5jcmVhdGVUaGluZyh4LCB5LCAkc2NvcGUuZWNob0NvbmNlcHQxKCkpO1xyXG4gICAgICAgICAgICBkaWFncmFtLm1vZGVsLnNldERhdGFQcm9wZXJ0eSh0aGluZzEuZGF0YSwgJ2RmbGFnJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgIG1hcC5jcmVhdGVDaGlsZCh0aGluZzEsICdpcyBub3Q/Jyk7XHJcbiAgICAgICAgICAgIG1hcC5jcmVhdGVDaGlsZCh0aGluZzEsICdpcyBub3Q/Jyk7XHJcbiAgICAgICAgICAgIG1hcC5jcmVhdGVDaGlsZCh0aGluZzEsICdpcyBub3Q/Jyk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgRElTVElOR1VJU0hfQkVUV0VFTjogZnVuY3Rpb24oeCwgeSkgeyAvLyAzXHJcbiAgICAgICAgICAgIHZhciB0aGluZzEgPSBtYXAuY3JlYXRlVGhpbmcoeCwgeSwgJHNjb3BlLmVjaG9Db25jZXB0MSgpKTtcclxuICAgICAgICAgICAgZGlhZ3JhbS5tb2RlbC5zZXREYXRhUHJvcGVydHkodGhpbmcxLmRhdGEsICdkZmxhZycsIHRydWUpO1xyXG4gICAgICAgICAgICBtYXAuY3JlYXRlQ2hpbGQodGhpbmcxLCAnaXM/Jyk7XHJcbiAgICAgICAgICAgIG1hcC5jcmVhdGVDaGlsZCh0aGluZzEsICdpcz8nKTtcclxuICAgICAgICAgICAgbWFwLmNyZWF0ZUNoaWxkKHRoaW5nMSwgJ2lzPycpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHRoaW5nMiA9IG1hcC5jcmVhdGVUaGluZyh4ICsgMjUwLCB5LCAkc2NvcGUuZWNob0NvbmNlcHQyKCkpO1xyXG4gICAgICAgICAgICBkaWFncmFtLm1vZGVsLnNldERhdGFQcm9wZXJ0eSh0aGluZzIuZGF0YSwgJ2RmbGFnJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgIG1hcC5jcmVhdGVDaGlsZCh0aGluZzIsICdpcz8nKTtcclxuICAgICAgICAgICAgbWFwLmNyZWF0ZUNoaWxkKHRoaW5nMiwgJ2lzPycpO1xyXG4gICAgICAgICAgICBtYXAuY3JlYXRlQ2hpbGQodGhpbmcyLCAnaXM/Jyk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgQ09NUEFSRV9DT05UUkFTVDogZnVuY3Rpb24oeCwgeSkgeyAvLyA0XHJcbiAgICAgICAgICAgIHZhciB0aGluZzEgPSBtYXAuY3JlYXRlVGhpbmcoeCAtIDE1MCwgeSwgJHNjb3BlLmVjaG9Db25jZXB0MSgpKTtcclxuICAgICAgICAgICAgdmFyIHRoaW5nMiA9IG1hcC5jcmVhdGVUaGluZyh4ICsgMTUwLCB5LCAkc2NvcGUuZWNob0NvbmNlcHQyKCkpO1xyXG4gICAgICAgICAgICBkaWFncmFtLm1vZGVsLnNldERhdGFQcm9wZXJ0eSh0aGluZzEuZGF0YSwgJ2RmbGFnJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgIGRpYWdyYW0ubW9kZWwuc2V0RGF0YVByb3BlcnR5KHRoaW5nMi5kYXRhLCAnZGZsYWcnLCB0cnVlKTtcclxuICAgICAgICAgICAgdmFyIHJ0aGluZzEgPSBtYXAuY3JlYXRlUkxpbmtXaXRoUlRoaW5nKHRoaW5nMSwgdGhpbmcyLCAnY29udHJhc3QnKTtcclxuICAgICAgICAgICAgdmFyIHJ0aGluZzIgPSBtYXAuY3JlYXRlUkxpbmtXaXRoUlRoaW5nKHRoaW5nMSwgdGhpbmcyLCAnY29tcGFyZScpO1xyXG4gICAgICAgICAgICBkaWFncmFtLm1vZGVsLnNldERhdGFQcm9wZXJ0eShydGhpbmcxLmxhYmVsZWRMaW5rLmRhdGEsICd0eXBlJywgJ3RvRnJvbScpO1xyXG4gICAgICAgICAgICBkaWFncmFtLm1vZGVsLnNldERhdGFQcm9wZXJ0eShydGhpbmcyLmxhYmVsZWRMaW5rLmRhdGEsICd0eXBlJywgJ3RvRnJvbScpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIFBBUlRTX09GOiBmdW5jdGlvbih4LCB5KSB7IC8vIDVcclxuICAgICAgICAgICAgdmFyIHRoaW5nMSA9IG1hcC5jcmVhdGVUaGluZyh4LCB5LCAkc2NvcGUuZWNob0NvbmNlcHQxKCkpO1xyXG4gICAgICAgICAgICBtYXAuY3JlYXRlQ2hpbGQodGhpbmcxLCAncGFydD8nKTtcclxuICAgICAgICAgICAgbWFwLmNyZWF0ZUNoaWxkKHRoaW5nMSwgJ3BhcnQ/Jyk7XHJcbiAgICAgICAgICAgIG1hcC5jcmVhdGVDaGlsZCh0aGluZzEsICdwYXJ0PycpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIFBBUlRfT0Y6IGZ1bmN0aW9uKHgsIHkpIHsgLy8gNlxyXG4gICAgICAgICAgICB2YXIgdGhpbmcxID0gbWFwLmNyZWF0ZVRoaW5nKHgsIHksICdwYXJ0IG9mPycpO1xyXG4gICAgICAgICAgICBtYXAuY3JlYXRlQ2hpbGQodGhpbmcxLCAkc2NvcGUuZWNob0NvbmNlcHQxKCkpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIFBBUlRTX0hBVkVfUEFSVFM6IGZ1bmN0aW9uKHgsIHkpIHsgLy8gN1xyXG4gICAgICAgICAgICB2YXIgdGhpbmcxID0gbWFwLmNyZWF0ZVRoaW5nKHgsIHksICRzY29wZS5lY2hvQ29uY2VwdDEoKSk7XHJcbiAgICAgICAgICAgIHZhciBjaGlsZDEgPSBtYXAuY3JlYXRlQ2hpbGQodGhpbmcxLCAncGFydD8nKTtcclxuICAgICAgICAgICAgbWFwLmNyZWF0ZUNoaWxkKGNoaWxkMSwgJ3BhcnQ/Jyk7XHJcbiAgICAgICAgICAgIG1hcC5jcmVhdGVDaGlsZChjaGlsZDEsICdwYXJ0PycpO1xyXG4gICAgICAgICAgICB2YXIgY2hpbGQyID0gbWFwLmNyZWF0ZUNoaWxkKHRoaW5nMSwgJ3BhcnQ/Jyk7XHJcbiAgICAgICAgICAgIG1hcC5jcmVhdGVDaGlsZChjaGlsZDIsICdwYXJ0PycpO1xyXG4gICAgICAgICAgICBtYXAuY3JlYXRlQ2hpbGQoY2hpbGQyLCAncGFydD8nKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBSX1BBUlRTOiBmdW5jdGlvbih4LCB5KSB7IC8vIDhcclxuICAgICAgICAgICAgdmFyIHRoaW5nMSA9IG1hcC5jcmVhdGVUaGluZyh4LCB5LCAkc2NvcGUuZWNob0NvbmNlcHQxKCkpO1xyXG4gICAgICAgICAgICB2YXIgdGhpbmcyID0gbWFwLmNyZWF0ZVRoaW5nKHggKyAyNTAsIHksICRzY29wZS5lY2hvQ29uY2VwdDIoKSk7XHJcbiAgICAgICAgICAgIHZhciBydGhpbmcgPSBtYXAuY3JlYXRlUkxpbmtXaXRoUlRoaW5nKHRoaW5nMSwgdGhpbmcyLCAncmVsYXRpb25zaGlwPycpO1xyXG4gICAgICAgICAgICBtYXAuY3JlYXRlQ2hpbGQocnRoaW5nLCAncGFydD8nKTtcclxuICAgICAgICAgICAgbWFwLmNyZWF0ZUNoaWxkKHJ0aGluZywgJ3BhcnQ/Jyk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgUF9QQVJUUzogZnVuY3Rpb24oeCwgeSkgeyAvLyA5XHJcbiAgICAgICAgICAgIHZhciB0aGluZzEgPSBtYXAuY3JlYXRlVGhpbmcoeCArIDMwMCwgeSwgJHNjb3BlLmVjaG9Db25jZXB0MSgpKTtcclxuICAgICAgICAgICAgdmFyIGNoaWxkMSA9IG1hcC5jcmVhdGVDaGlsZCh0aGluZzEsICdwYXJ0IHNlZW4gZnJvbSB2aWV3cG9pbnQgb2YgJyArICRzY29wZS5lY2hvQ29uY2VwdDIoKSArICc/Jyk7XHJcbiAgICAgICAgICAgIHZhciBjaGlsZDIgPSBtYXAuY3JlYXRlQ2hpbGQodGhpbmcxLCAncGFydCBzZWVuIGZyb20gdmlld3BvaW50IG9mICcgKyAkc2NvcGUuZWNob0NvbmNlcHQyKCkgKyAnPycpO1xyXG4gICAgICAgICAgICB2YXIgY2hpbGQzID0gbWFwLmNyZWF0ZUNoaWxkKHRoaW5nMSwgJ3BhcnQgc2VlbiBmcm9tIHZpZXdwb2ludCBvZiAnICsgJHNjb3BlLmVjaG9Db25jZXB0MigpICsgJz8nKTtcclxuICAgICAgICAgICAgdmFyIHRoaW5nMiA9IG1hcC5jcmVhdGVUaGluZyh4LCB5LCAkc2NvcGUuZWNob0NvbmNlcHQyKCkpO1xyXG4gICAgICAgICAgICBtYXAuY3JlYXRlUExpbmsodGhpbmcyLCB0aGluZzEpO1xyXG4gICAgICAgICAgICBtYXAuY3JlYXRlUExpbmsodGhpbmcyLCBjaGlsZDEpO1xyXG4gICAgICAgICAgICBtYXAuY3JlYXRlUExpbmsodGhpbmcyLCBjaGlsZDIpO1xyXG4gICAgICAgICAgICBtYXAuY3JlYXRlUExpbmsodGhpbmcyLCBjaGlsZDMpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIFJTX1RPX0FORF9CWTogZnVuY3Rpb24oeCwgeSkgeyAvLyAxMFxyXG4gICAgICAgICAgICB2YXIgcmVsYXRlZDEgPSBtYXAuY3JlYXRlVGhpbmcoeCwgeSwgJ3JlbGF0ZWQgaWRlYT8nKTtcclxuICAgICAgICAgICAgdmFyIHJlbGF0ZWQyID0gbWFwLmNyZWF0ZVRoaW5nKHggKyAzMDAsIHkgKyA1MCwgJ3JlbGF0ZWQgaWRlYT8nKTtcclxuICAgICAgICAgICAgdmFyIHJlbGF0ZWQzID0gbWFwLmNyZWF0ZVRoaW5nKHggKyA1MCwgeSArIDMwMCwgJ3JlbGF0ZWQgaWRlYT8nKTtcclxuICAgICAgICAgICAgdmFyIHRoaW5nID0gbWFwLmNyZWF0ZVRoaW5nKHggKyAxMzAsIHkgKyAxMzAsICRzY29wZS5lY2hvQ29uY2VwdDEoKSk7XHJcbiAgICAgICAgICAgIG1hcC5jcmVhdGVSTGluayhyZWxhdGVkMSwgdGhpbmcpO1xyXG4gICAgICAgICAgICBtYXAuY3JlYXRlUkxpbmsocmVsYXRlZDIsIHRoaW5nKTtcclxuICAgICAgICAgICAgbWFwLmNyZWF0ZVJMaW5rKHJlbGF0ZWQzLCB0aGluZyk7XHJcblxyXG4gICAgICAgICAgICB2YXIgdGhpbmcxID0gbWFwLmNyZWF0ZVRoaW5nKHggKyA1MDAsIHkgKyAxNTAsICdpZGVhPycpO1xyXG4gICAgICAgICAgICB2YXIgdGhpbmcyID0gbWFwLmNyZWF0ZVRoaW5nKHggKyA3NTAsIHkgKyAxNTAsICdpZGVhPycpO1xyXG4gICAgICAgICAgICBtYXAuY3JlYXRlUkxpbmtXaXRoUlRoaW5nKHRoaW5nMSwgdGhpbmcyLCAkc2NvcGUuZWNob0NvbmNlcHQxKCkpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIFdIQVRfSVNfUjogZnVuY3Rpb24oeCwgeSkgeyAvLyAxMVxyXG4gICAgICAgICAgICB2YXIgdGhpbmcxID0gbWFwLmNyZWF0ZVRoaW5nKHgsIHksICRzY29wZS5lY2hvQ29uY2VwdDEoKSk7XHJcbiAgICAgICAgICAgIHZhciB0aGluZzIgPSBtYXAuY3JlYXRlVGhpbmcoeCArIDI1MCwgeSwgJHNjb3BlLmVjaG9Db25jZXB0MigpKTtcclxuICAgICAgICAgICAgbWFwLmNyZWF0ZVJMaW5rV2l0aFJUaGluZyh0aGluZzEsIHRoaW5nMiwgJ2lkZWE/Jyk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgUEFSVF9SU19BUkU6IGZ1bmN0aW9uKHgsIHkpIHsgLy8gMTJcclxuICAgICAgICAgICAgdmFyIHRoaW5nMSA9IG1hcC5jcmVhdGVUaGluZyh4ICsgMzAsIHksICRzY29wZS5lY2hvQ29uY2VwdDEoKSwgJ2ZyZWVoYW5kJyk7XHJcbiAgICAgICAgICAgIHZhciBjaGlsZDEgPSBtYXAuY3JlYXRlQ2hpbGQodGhpbmcxLCAncGFydD8nKTtcclxuICAgICAgICAgICAgdmFyIGNoaWxkMiA9IG1hcC5jcmVhdGVDaGlsZCh0aGluZzEsICdwYXJ0PycpO1xyXG4gICAgICAgICAgICB2YXIgY2hpbGQzID0gbWFwLmNyZWF0ZUNoaWxkKHRoaW5nMSwgJ3BhcnQ/Jyk7XHJcbiAgICAgICAgICAgIGRpYWdyYW0ubW9kZWwuc2V0RGF0YVByb3BlcnR5KGNoaWxkMS5kYXRhLCAnbG9jJywgJy0yMCAxMTAnKTtcclxuICAgICAgICAgICAgZGlhZ3JhbS5tb2RlbC5zZXREYXRhUHJvcGVydHkoY2hpbGQyLmRhdGEsICdsb2MnLCAnODAgMTEwJyk7XHJcbiAgICAgICAgICAgIGRpYWdyYW0ubW9kZWwuc2V0RGF0YVByb3BlcnR5KGNoaWxkMy5kYXRhLCAnbG9jJywgJzMwIDE5MCcpO1xyXG4gICAgICAgICAgICBtYXAuY3JlYXRlUkxpbmtXaXRoUlRoaW5nKGNoaWxkMSwgY2hpbGQyLCAncmVsYXRpb25zaGlwPycpO1xyXG4gICAgICAgICAgICBtYXAuY3JlYXRlUkxpbmtXaXRoUlRoaW5nKGNoaWxkMiwgY2hpbGQzLCAncmVsYXRpb25zaGlwPycpO1xyXG4gICAgICAgICAgICBtYXAuY3JlYXRlUkxpbmtXaXRoUlRoaW5nKGNoaWxkMywgY2hpbGQxLCAncmVsYXRpb25zaGlwPycpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIFBBUlRfUlNfRVhJU1Q6IGZ1bmN0aW9uKHgsIHkpIHsgLy8gMTNcclxuICAgICAgICAgICAgdmFyIHRoaW5nMSA9IG1hcC5jcmVhdGVUaGluZyh4LCB5LCAkc2NvcGUuZWNob0NvbmNlcHQxKCksICdyaWdodCcpO1xyXG4gICAgICAgICAgICB2YXIgY2hpbGQxMSA9IG1hcC5jcmVhdGVDaGlsZCh0aGluZzEsICdwYXJ0PycpO1xyXG4gICAgICAgICAgICB2YXIgY2hpbGQxMiA9IG1hcC5jcmVhdGVDaGlsZCh0aGluZzEsICdwYXJ0PycpO1xyXG4gICAgICAgICAgICB2YXIgY2hpbGQxMyA9IG1hcC5jcmVhdGVDaGlsZCh0aGluZzEsICdwYXJ0PycpO1xyXG4gICAgICAgICAgICB2YXIgdGhpbmcyID0gbWFwLmNyZWF0ZVRoaW5nKHggKyAyNTAsIHksICRzY29wZS5lY2hvQ29uY2VwdDIoKSk7XHJcbiAgICAgICAgICAgIHZhciBjaGlsZDIxID0gbWFwLmNyZWF0ZUNoaWxkKHRoaW5nMiwgJ3BhcnQ/Jyk7XHJcbiAgICAgICAgICAgIHZhciBjaGlsZDIyID0gbWFwLmNyZWF0ZUNoaWxkKHRoaW5nMiwgJ3BhcnQ/Jyk7XHJcbiAgICAgICAgICAgIHZhciBjaGlsZDIzID0gbWFwLmNyZWF0ZUNoaWxkKHRoaW5nMiwgJ3BhcnQ/Jyk7XHJcbiAgICAgICAgICAgIG1hcC5jcmVhdGVSTGluayh0aGluZzEsIHRoaW5nMik7XHJcbiAgICAgICAgICAgIG1hcC5jcmVhdGVSTGlua1dpdGhSVGhpbmcoY2hpbGQxMSwgY2hpbGQyMSwgJ3JlbGF0aW9uc2hpcD8nKTtcclxuICAgICAgICAgICAgbWFwLmNyZWF0ZVJMaW5rV2l0aFJUaGluZyhjaGlsZDEyLCBjaGlsZDIyLCAncmVsYXRpb25zaGlwPycpO1xyXG4gICAgICAgICAgICBtYXAuY3JlYXRlUkxpbmtXaXRoUlRoaW5nKGNoaWxkMTMsIGNoaWxkMjMsICdyZWxhdGlvbnNoaXA/Jyk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgUlNfV0lUSF9PVEhFUlM6IGZ1bmN0aW9uKHgsIHkpIHsgLy8gMTRcclxuICAgICAgICAgICAgdmFyIHRoaW5nMSA9IG1hcC5jcmVhdGVUaGluZyh4IC0gMjAwLCB5LCAkc2NvcGUuZWNob0NvbmNlcHQxKCkpO1xyXG4gICAgICAgICAgICB2YXIgdGhpbmcyID0gbWFwLmNyZWF0ZVRoaW5nKHggKyAyMDAsIHksICRzY29wZS5lY2hvQ29uY2VwdDIoKSk7XHJcbiAgICAgICAgICAgIHZhciB0aGluZzMgPSBtYXAuY3JlYXRlVGhpbmcoeCAtIDIwMCwgeSArIDIwMCwgJ2Fub3RoZXIgdGhpbmcnKTtcclxuICAgICAgICAgICAgdmFyIHRoaW5nNCA9IG1hcC5jcmVhdGVUaGluZyh4ICsgMjAwLCB5ICsgMjAwLCAnYW5vdGhlciB0aGluZycpO1xyXG4gICAgICAgICAgICBtYXAuY3JlYXRlUkxpbmtXaXRoUlRoaW5nKHRoaW5nMSwgdGhpbmcyLCAncmVsYXRpb25zaGlwPycpO1xyXG4gICAgICAgICAgICBtYXAuY3JlYXRlUkxpbmtXaXRoUlRoaW5nKHRoaW5nMSwgdGhpbmczLCAncmVsYXRpb25zaGlwPycpO1xyXG4gICAgICAgICAgICBtYXAuY3JlYXRlUkxpbmtXaXRoUlRoaW5nKHRoaW5nMSwgdGhpbmc0LCAncmVsYXRpb25zaGlwPycpO1xyXG4gICAgICAgICAgICBtYXAuY3JlYXRlUkxpbmtXaXRoUlRoaW5nKHRoaW5nMiwgdGhpbmc0LCAncmVsYXRpb25zaGlwPycpO1xyXG4gICAgICAgICAgICBtYXAuY3JlYXRlUkxpbmtXaXRoUlRoaW5nKHRoaW5nMywgdGhpbmc0LCAncmVsYXRpb25zaGlwPycpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIFBBUlRTX09GX1A6IGZ1bmN0aW9uKHgsIHkpIHsgLy8gMTVcclxuICAgICAgICAgICAgdmFyIHRoaW5nMSA9IG1hcC5jcmVhdGVUaGluZyh4IC0gMTAwLCB5LCAkc2NvcGUuZWNob0NvbmNlcHQxKCkpO1xyXG4gICAgICAgICAgICB2YXIgY2hpbGQxID0gbWFwLmNyZWF0ZUNoaWxkKHRoaW5nMSwgJ3BhcnQ/Jyk7XHJcbiAgICAgICAgICAgIHZhciBjaGlsZDIgPSBtYXAuY3JlYXRlQ2hpbGQodGhpbmcxLCAncGFydD8nKTtcclxuICAgICAgICAgICAgdmFyIGNoaWxkMyA9IG1hcC5jcmVhdGVDaGlsZCh0aGluZzEsICdwYXJ0PycpO1xyXG4gICAgICAgICAgICB2YXIgdGhpbmcyID0gbWFwLmNyZWF0ZVRoaW5nKHggKyAxMDAsIHksICRzY29wZS5lY2hvQ29uY2VwdDIoKSk7XHJcbiAgICAgICAgICAgIG1hcC5jcmVhdGVQTGluayh0aGluZzEsIHRoaW5nMik7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgUE9JTlRfRk9SOiBmdW5jdGlvbih4LCB5KSB7IC8vIDE2XHJcbiAgICAgICAgICAgIHZhciB0aGluZyA9IG1hcC5jcmVhdGVUaGluZyh4LCB5LCAnbmV3IHBlcnNwZWN0aXZlJyk7XHJcbiAgICAgICAgICAgIHZhciB0aGluZzEgPSBtYXAuY3JlYXRlVGhpbmcoeCAtIDE1MCwgeSArIDE1MCwgJHNjb3BlLmVjaG9Db25jZXB0MSgpKTtcclxuICAgICAgICAgICAgdmFyIHRoaW5nMiA9IG1hcC5jcmVhdGVUaGluZyh4ICsgMTUwLCB5ICsgMTUwLCAkc2NvcGUuZWNob0NvbmNlcHQyKCkpO1xyXG4gICAgICAgICAgICB2YXIgcnRoaW5nID0gbWFwLmNyZWF0ZVJMaW5rV2l0aFJUaGluZyh0aGluZzEsIHRoaW5nMiwgJ3JlbGF0aW9uc2hpcD8nKTtcclxuICAgICAgICAgICAgbWFwLmNyZWF0ZVBMaW5rKHRoaW5nLCBydGhpbmcpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIEhBU19NVUxUSVBMRV9QUzogZnVuY3Rpb24oeCwgeSkgeyAvLyAxN1xyXG4gICAgICAgICAgICB2YXIgcG9pbnQxID0gbWFwLmNyZWF0ZVRoaW5nKHgsIHkgKyA1MCwgJ3ZpZXdwb2ludD8nKTtcclxuICAgICAgICAgICAgdmFyIHBvaW50MiA9IG1hcC5jcmVhdGVUaGluZyh4ICsgMjUwLCB5LCAndmlld3BvaW50PycpO1xyXG4gICAgICAgICAgICB2YXIgcG9pbnQzID0gbWFwLmNyZWF0ZVRoaW5nKHggKyA1MDAsIHkgKyA1MCwgJ3ZpZXdwb2ludD8nKTtcclxuICAgICAgICAgICAgdmFyIHZpZXcgPSBtYXAuY3JlYXRlVGhpbmcoeCArIDI1MCwgeSArIDI1MCwgJHNjb3BlLmVjaG9Db25jZXB0MSgpKTtcclxuICAgICAgICAgICAgbWFwLmNyZWF0ZVBMaW5rKHBvaW50MSwgdmlldyk7XHJcbiAgICAgICAgICAgIG1hcC5jcmVhdGVQTGluayhwb2ludDIsIHZpZXcpO1xyXG4gICAgICAgICAgICBtYXAuY3JlYXRlUExpbmsocG9pbnQzLCB2aWV3KTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBQQVJUU19GUk9NX01VTFRJUExFX1BTOiBmdW5jdGlvbih4LCB5KSB7IC8vIDE4XHJcbiAgICAgICAgICAgIHZhciBwb2ludDEgPSBtYXAuY3JlYXRlVGhpbmcoeCAtIDEwMCwgeSwgJ3ZpZXdwb2ludD8nKTtcclxuICAgICAgICAgICAgdmFyIHBvaW50MiA9IG1hcC5jcmVhdGVUaGluZyh4IC0gMTAwLCB5ICsgMTI1LCAndmlld3BvaW50PycpO1xyXG4gICAgICAgICAgICB2YXIgcG9pbnQzID0gbWFwLmNyZWF0ZVRoaW5nKHggLSAxMDAsIHkgKyAyNTAsICd2aWV3cG9pbnQ/Jyk7XHJcbiAgICAgICAgICAgIHZhciB0aGluZyA9IG1hcC5jcmVhdGVUaGluZyh4ICsgMTUwLCB5ICsgMjUsICRzY29wZS5lY2hvQ29uY2VwdDEoKSk7XHJcbiAgICAgICAgICAgIHZhciBjaGlsZDEgPSBtYXAuY3JlYXRlQ2hpbGQodGhpbmcsICdwYXJ0IHNlZW4gZnJvbSB2aWV3cG9pbnQ/Jyk7XHJcbiAgICAgICAgICAgIHZhciBjaGlsZDIgPSBtYXAuY3JlYXRlQ2hpbGQodGhpbmcsICdwYXJ0IHNlZW4gZnJvbSB2aWV3cG9pbnQ/Jyk7XHJcbiAgICAgICAgICAgIHZhciBjaGlsZDMgPSBtYXAuY3JlYXRlQ2hpbGQodGhpbmcsICdwYXJ0IHNlZW4gZnJvbSB2aWV3cG9pbnQ/Jyk7XHJcbiAgICAgICAgICAgIG1hcC5jcmVhdGVQTGluayhwb2ludDEsIGNoaWxkMSk7XHJcbiAgICAgICAgICAgIG1hcC5jcmVhdGVQTGluayhwb2ludDEsIGNoaWxkMik7XHJcbiAgICAgICAgICAgIG1hcC5jcmVhdGVQTGluayhwb2ludDIsIGNoaWxkMik7XHJcbiAgICAgICAgICAgIG1hcC5jcmVhdGVQTGluayhwb2ludDMsIGNoaWxkMyk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgV0hBVF9BQk9VVDogZnVuY3Rpb24oeCwgeSkgeyAvLyAxOVxyXG4gICAgICAgICAgICAkc2NvcGUucXVlcmllcy5XSEFUX0lTKHgsIHkpO1xyXG4gICAgICAgICAgICAkc2NvcGUucXVlcmllcy5QQVJUU19PRih4ICsgMzAwLCB5KTtcclxuICAgICAgICAgICAgJHNjb3BlLnF1ZXJpZXMuUEFSVFNfRlJPTV9NVUxUSVBMRV9QUyh4ICsgNzAwLCB5KTtcclxuICAgICAgICAgICAgJHNjb3BlLnF1ZXJpZXMuUlNfVE9fQU5EX0JZKHgsIHkgKyA0MDApO1xyXG4gICAgICAgIH1cclxuICAgIH07IC8vIHF1ZXJpZXNcclxuXHJcbn07XHJcblxyXG5HZW5lcmF0b3JDdHJsLiRpbmplY3QgPSBbJyRzY29wZSddO1xyXG5cclxuXHJcblNhbmRiYW5rRWRpdG9yLkdlbmVyYXRvciA9IGZ1bmN0aW9uICgkc2NvcGUsIG1hcCkge1xyXG5cclxuICAgIHRoaXMuaW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyBOQjogZ2VuZXJhdG9yIGlzIG9wZW5lZCBvbiBsb2FkIG9mIGVtcHR5IG1hcDsgc2VlIG1hcC5qczpsb2FkKClcclxuICAgIH07XHJcblxyXG4gICAgLy8gY2FsbGVkIHdoZW4gYSB0YWIgaXMgb3BlbmVkIG9yIGNsb3NlZFxyXG4gICAgdGhpcy5jdXJyZW50VGFiQ2hhbmdlZCA9IGZ1bmN0aW9uKG5ld1ZhbHVlLCBvbGRWYWx1ZSkge1xyXG4gICAgICAgIGlmIChvbGRWYWx1ZSA9PSBtYXAuZ2V0VWkoKS5UQUJfSURfR0VORVJBVE9SKSB7IC8vIGNsb3NpbmcgdGFiXHJcbiAgICAgICAgICAgIG1hcC5zZXRFZGl0aW5nQmxvY2tlZChmYWxzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKG5ld1ZhbHVlID09IG1hcC5nZXRVaSgpLlRBQl9JRF9HRU5FUkFUT1IpIHsgLy8gb3BlbmluZyB0YWJcclxuICAgICAgICAgICAgbWFwLnNldEVkaXRpbmdCbG9ja2VkKHRydWUpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy8gdGhlc2UgZ2V0IGZpbHRlcmVkIG91dCBpbiBMZXNzb25Cb29rXHJcbiAgICB0aGlzLmdldFBsYWNlaG9sZGVySWRlYU5hbWVzID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIFsnaXM/JywgJ2lzIG5vdD8nLCAncGFydD8nLCAndmlld3BvaW50PycsICdyZWxhdGVkIGlkZWE/JywgJ2lkZWE/JyxcclxuICAgICAgICAgICAgICAgICdwYXJ0IHNlZW4gZnJvbSB2aWV3cG9pbnQ/JywgJ2NvbnRyYXN0PycsICdjb21wYXJpc29uPycsICdyZWxhdGlvbnNoaXA/J107XHJcbiAgICB9O1xyXG59O1xyXG4iLCJcclxud2luZG93Lkdvcmdlc0dyaWQgPSB7fTtcclxuXHJcbi8vIG1vZGVsIGZvciByb3cgc2VsZWN0aW9uIFxyXG5cclxuR29yZ2VzR3JpZC5Sb3dTZWxlY3Rpb24gPSBmdW5jdGlvbigpIHtcclxuXHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgdGhpcy5zZWxlY3RBbGwgPSBmYWxzZTtcclxuICAgIHRoaXMuc2VsZWN0ZWRSb3dJbmRleGVzID0gW107XHJcblxyXG4gICAgdGhpcy5kZXNlbGVjdEFsbCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHNlbGYuc2VsZWN0ZWRSb3dJbmRleGVzID0gW107XHJcbiAgICAgICAgc2VsZi5zZWxlY3RBbGwgPSBmYWxzZTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy50b2dnbGVTZWxlY3RBbGwgPSBmdW5jdGlvbihyb3dDb3VudCkge1xyXG4gICAgICAgIHNlbGYuc2VsZWN0QWxsID0gIXNlbGYuc2VsZWN0QWxsO1xyXG4gICAgICAgIGlmIChzZWxmLnNlbGVjdEFsbCkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJvd0NvdW50OyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHNlbGYuc2VsZWN0ZWRSb3dJbmRleGVzW2ldID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgc2VsZi5kZXNlbGVjdEFsbCgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5zZWxlY3RlZFJvd0NvdW50ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIF8uZmlsdGVyKHNlbGYuc2VsZWN0ZWRSb3dJbmRleGVzLCBmdW5jdGlvbihpKSB7IHJldHVybiBpID09PSB0cnVlOyB9KS5sZW5ndGg7XHJcbiAgICB9O1xyXG59O1xyXG5cclxuLy8gbW9kZWwgZm9yIHZpZXcgdHJlZSBleHBhbnNpb25cclxuXHJcbkdvcmdlc0dyaWQuVmlld1RyZWVTdGF0ZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgXHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBcclxuICAgIHRoaXMuZXhwYW5kZWRWaWV3cyA9IFtdO1xyXG4gICAgdGhpcy5jaGlsZFNvcnRzID0ge307XHJcblxyXG4gICAgdGhpcy50b2dnbGVWaWV3RXhwYW5zaW9uID0gZnVuY3Rpb24odmlld05hbWUpIHtcclxuICAgICAgICB2YXIgaSA9IF8uaW5kZXhPZihzZWxmLmV4cGFuZGVkVmlld3MsIHZpZXdOYW1lKTtcclxuICAgICAgICBpZiAoaSAhPSAtMSkge1xyXG4gICAgICAgICAgICBzZWxmLmV4cGFuZGVkVmlld3Muc3BsaWNlKGksIDEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgc2VsZi5leHBhbmRlZFZpZXdzLnB1c2godmlld05hbWUpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5leHBhbmRWaWV3ID0gZnVuY3Rpb24odmlld05hbWUpIHtcclxuICAgICAgICBpZiAoIXNlbGYudmlld0lzRXhwYW5kZWQodmlld05hbWUpKVxyXG4gICAgICAgICAgICBzZWxmLnRvZ2dsZVZpZXdFeHBhbnNpb24odmlld05hbWUpO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmNvbGxhcHNlVmlldyA9IGZ1bmN0aW9uKHZpZXdOYW1lKSB7XHJcbiAgICAgICAgaWYgKHNlbGYudmlld0lzRXhwYW5kZWQodmlld05hbWUpKVxyXG4gICAgICAgICAgICBzZWxmLnRvZ2dsZVZpZXdFeHBhbnNpb24odmlld05hbWUpO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnZpZXdJc0V4cGFuZGVkID0gZnVuY3Rpb24odmlld05hbWUpIHtcclxuICAgICAgICByZXR1cm4gXy5pbmRleE9mKHNlbGYuZXhwYW5kZWRWaWV3cywgdmlld05hbWUpICE9IC0xO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnNldENoaWxkU29ydCA9IGZ1bmN0aW9uKHZpZXcsIHNvcnQpIHtcclxuICAgICAgICBzZWxmLmNoaWxkU29ydHNbdmlldy5uYW1lXSA9IHNvcnQ7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIHJldHVybnMgdGhlIHN0YXRlIHNhdmVkIGhlcmVpbiBpZiBzZXQsIHNvIHRoZSBvcmRlciBkb2Vzbid0IGNoYW5nZSB3aGVuIHRoZSBncmlkIGlzIHJlZnJlc2hlZFxyXG4gICAgdGhpcy5nZXRDaGlsZFNvcnQgPSBmdW5jdGlvbih2aWV3KSB7XHJcbiAgICAgICAgcmV0dXJuIHNlbGYuY2hpbGRTb3J0c1t2aWV3Lm5hbWVdIHx8IHZpZXcuY2hpbGRTb3J0O1xyXG4gICAgfTtcclxufTtcclxuXHJcbi8vIG1vZGVsIGZvciBzdG9yaW5nIHBhZ2luZy9zb3J0aW5nIHNldHRpbmdzIC0gc2VlIGFsc28gbGlzdGluZ19wYXJhbXMucmJcclxuXHJcbkdvcmdlc0dyaWQuTGlzdGluZ1BhcmFtcyA9IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICB0aGlzLnBhZ2UgPSAxOyAvLyBOQjogcGFnZXMgYXJlIDEtYmFzZWRcclxuICAgIHRoaXMucGFnZVNpemUgPSAxMDA7XHJcbiAgICB0aGlzLnNvcnRCeSA9ICdpZCc7XHJcbiAgICB0aGlzLnNvcnRPcmRlciA9ICdhc2MnO1xyXG4gICAgdGhpcy52aWV3TmFtZSA9ICcnO1xyXG4gICAgdGhpcy5maWx0ZXJzID0gJyc7XHJcbiAgICB0aGlzLnRvdGFsSXRlbXMgPSAwO1xyXG4gICAgdGhpcy5wYWdlQ291bnQgPSAwO1xyXG5cclxuICAgIHRoaXMuc2V0U29ydEJ5ID0gZnVuY3Rpb24oY29sKSB7XHJcbiAgICAgICAgaWYgKHNlbGYuc29ydEJ5ID09PSBjb2wpIHtcclxuICAgICAgICAgICAgc2VsZi5zb3J0T3JkZXIgPSAoc2VsZi5zb3J0T3JkZXIgPT09ICdhc2MnID8gJ2Rlc2MnIDogJ2FzYycpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlICB7XHJcbiAgICAgICAgICAgIHNlbGYuc29ydE9yZGVyID0gJ2FzYyc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNlbGYuc29ydEJ5ID0gY29sO1xyXG4gICAgICAgIHNlbGYucGFnZSA9IDE7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIHJldHVybnMgdGhlIGN1cnJlbnQgc29ydCBvcmRlciBpZiBzb3J0QnkgaXMgc2V0IHRvIHRoZSBnaXZlbiBjb2x1bW4sIGVsc2UgbnVsbFxyXG4gICAgdGhpcy5nZXRTb3J0T3JkZXIgPSBmdW5jdGlvbihjb2wpIHtcclxuICAgICAgICBpZiAoc2VsZi5zb3J0QnkgPT09IGNvbCkge1xyXG4gICAgICAgICAgICByZXR1cm4gc2VsZi5zb3J0T3JkZXI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMudG9RdWVyeVN0cmluZyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiAncGFnZT0nICsgc2VsZi5wYWdlICtcclxuICAgICAgICAgICAgICAnJnBhZ2VTaXplPScgKyBzZWxmLnBhZ2VTaXplICtcclxuICAgICAgICAgICAgICAnJnNvcnRCeT0nICsgc2VsZi5zb3J0QnkgK1xyXG4gICAgICAgICAgICAgICcmc29ydE9yZGVyPScgKyBzZWxmLnNvcnRPcmRlciArXHJcbiAgICAgICAgICAgICAgJyZ2aWV3TmFtZT0nICsgc2VsZi52aWV3TmFtZSArXHJcbiAgICAgICAgICAgICAgJyZmaWx0ZXI9JyArIHNlbGYuZmlsdGVycyArXHJcbiAgICAgICAgICAgICAgJyZ0b3RhbEl0ZW1zPScgKyBzZWxmLnRvdGFsSXRlbXMgK1xyXG4gICAgICAgICAgICAgICcmcGFnZUNvdW50PScgKyBzZWxmLnBhZ2VDb3VudDtcclxuICAgIH07XHJcbn07IiwiLy8gZnVuY3Rpb25zIGhhbmRsaW5nIGhpc3RvcnkgZGlzcGxheVxyXG5cclxuU2FuZGJhbmtFZGl0b3IuSGlzdG9yeSA9IGZ1bmN0aW9uKCRzY29wZSwgJGh0dHAsIG1hcCkge1xyXG5cclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAvLyB0aGlzIGlzIHVwZGF0ZWQgb24gbWFwIGxvYWQgYW5kIGFmdGVyIGV2ZXJ5IGF1dG9zYXZlLCBpbiBtYXAubG9hZE1hcEV4dHJhRGF0YVxyXG4gICAgdGhpcy52ZXJzaW9uTGlzdCA9IG51bGw7XHJcbiAgICB0aGlzLmN1cnJlbnRWZXJzaW9uID0gbnVsbDsgLy8gZS5nLiB7IGluZGV4OiAwLCBpZDogMiwgY2hhbmdlX2Rlc2NyaXB0aW9uOiAuLi4sIGNyZWF0ZWRfYXQ6IC4uLiB9XHJcbiAgICB0aGlzLmlzUGxheWluZyA9IGZhbHNlO1xyXG4gICAgdGhpcy5wbGF5VGltZXIgPSBudWxsO1xyXG5cclxuICAgIHRoaXMuaW5pdCA9IGZ1bmN0aW9uKCkge307XHJcblxyXG4gICAgLy8gY2FsbGVkIHdoZW4gYSB0YWIgaXMgb3BlbmVkIG9yIGNsb3NlZFxyXG4gICAgdGhpcy5jdXJyZW50VGFiQ2hhbmdlZCA9IGZ1bmN0aW9uKG5ld1ZhbHVlLCBvbGRWYWx1ZSkge1xyXG4gICAgICAgIGlmIChuZXdWYWx1ZSA9PSBtYXAuZ2V0VWkoKS5UQUJfSURfSElTVE9SWSkgeyAvLyBvcGVuaW5nIHRhYlxyXG4gICAgICAgICAgICAvLyBsb2FkIGN1cnJlbnQgdmVyc2lvbiwgYnV0IGluIHJlYWQtb25seSBtb2RlXHJcbiAgICAgICAgICAgIHZhciB2ZXJzaW9uID0gXy5sYXN0KHNlbGYudmVyc2lvbkxpc3QpO1xyXG4gICAgICAgICAgICBpZiAodmVyc2lvbikge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5sb2FkVmVyc2lvbih2ZXJzaW9uKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAob2xkVmFsdWUgPT0gbWFwLmdldFVpKCkuVEFCX0lEX0hJU1RPUlkpIHsgLy8gY2xvc2luZyB0YWJcclxuICAgICAgICAgICAgLy8gcmVsb2FkIG1hcFxyXG4gICAgICAgICAgICBtYXAubG9hZCgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy8gbG9hZHMgbW9kZWwgZGF0YSBmb3IgYW4gaW5kaXZpZHVhbCB2ZXJzaW9uIGFuZCBkaXNwbGF5cyBpdFxyXG4gICAgdGhpcy5sb2FkVmVyc2lvbiA9IGZ1bmN0aW9uKHZlcnNpb24pIHtcclxuICAgICAgICBzZWxmLmN1cnJlbnRWZXJzaW9uID0gdmVyc2lvbjtcclxuICAgICAgICBtYXAubG9hZFZlcnNpb24odmVyc2lvbi5pZCk7XHJcblxyXG4gICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy8gY2VudGVyIHZpZXcgb24gY3VycmVudCBoaXN0b3J5IGl0ZW06XHJcbiAgICAgICAgICAgICQoJyNoaXN0b3J5LWxpc3Qtd3JhcHBlcicpLmNlbnRlcigkKCcjaGlzdG9yeS1saXN0IC5jdXJyZW50JykpO1xyXG4gICAgICAgIH0sIDEwKTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5nZXRWZXJzaW9uRGVzY3JpcHRpb24gPSBmdW5jdGlvbih2ZXJzaW9uKSB7XHJcbiAgICAgICAgcmV0dXJuICh2ZXJzaW9uID8gdmVyc2lvbi5jaGFuZ2VfZGVzY3JpcHRpb24gOiAnJyk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuYWR2YW5jZVZlcnNpb24gPSBmdW5jdGlvbihpbmNyZW1lbnQpIHtcclxuICAgICAgICBpZiAoc2VsZi52ZXJzaW9uTGlzdCkge1xyXG4gICAgICAgICAgICB2YXIgY3VycmVudEluZGV4ID0gXy5pbmRleE9mKHNlbGYudmVyc2lvbkxpc3QsIHNlbGYuY3VycmVudFZlcnNpb24pO1xyXG4gICAgICAgICAgICB2YXIgbmV3SW5kZXggPSBjdXJyZW50SW5kZXggKyBpbmNyZW1lbnQ7XHJcbiAgICAgICAgICAgIGlmIChjdXJyZW50SW5kZXggIT0gLTEgJiYgbmV3SW5kZXggPj0gMCAmJiBuZXdJbmRleCA8PSBzZWxmLnZlcnNpb25MaXN0Lmxlbmd0aCAtIDEpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYuY3VycmVudFZlcnNpb24gPSBzZWxmLnZlcnNpb25MaXN0W25ld0luZGV4XTtcclxuICAgICAgICAgICAgICAgIHNlbGYubG9hZFZlcnNpb24oc2VsZi5jdXJyZW50VmVyc2lvbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZmlyc3RWZXJzaW9uID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKHNlbGYudmVyc2lvbkxpc3QpIHtcclxuICAgICAgICAgICAgc2VsZi5jdXJyZW50VmVyc2lvbiA9IHNlbGYudmVyc2lvbkxpc3RbMF07XHJcbiAgICAgICAgICAgIHNlbGYubG9hZFZlcnNpb24oc2VsZi5jdXJyZW50VmVyc2lvbik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmxhc3RWZXJzaW9uID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKHNlbGYudmVyc2lvbkxpc3QpIHtcclxuICAgICAgICAgICAgc2VsZi5jdXJyZW50VmVyc2lvbiA9IHNlbGYudmVyc2lvbkxpc3Rbc2VsZi52ZXJzaW9uTGlzdC5sZW5ndGggLSAxXTtcclxuICAgICAgICAgICAgc2VsZi5sb2FkVmVyc2lvbihzZWxmLmN1cnJlbnRWZXJzaW9uKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuaXNPbkZpcnN0VmVyc2lvbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIC8vIHJldHVybiBzZWxmLnZlcnNpb25MaXN0ICE9IG51bGwgJiYgc2VsZi5jdXJyZW50VmVyc2lvbiAhPSBudWxsICYmIF8uZmlyc3Qoc2VsZi52ZXJzaW9uTGlzdCkuaWQgPT0gc2VsZi5jdXJyZW50VmVyc2lvbi5pZDtcclxuICAgICAgICByZXR1cm4gc2VsZi52ZXJzaW9uTGlzdCAmJiBfLmluZGV4T2Yoc2VsZi52ZXJzaW9uTGlzdCwgc2VsZi5jdXJyZW50VmVyc2lvbikgPT09IDA7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuaXNPbkxhc3RWZXJzaW9uID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgLy8gcmV0dXJuIHNlbGYudmVyc2lvbkxpc3QgIT0gbnVsbCAmJiBzZWxmLmN1cnJlbnRWZXJzaW9uICE9IG51bGwgJiYgXy5sYXN0KHNlbGYudmVyc2lvbkxpc3QpLmlkID09IHNlbGYuY3VycmVudFZlcnNpb24uaWQ7XHJcbiAgICAgICAgcmV0dXJuIHNlbGYudmVyc2lvbkxpc3QgJiYgXy5pbmRleE9mKHNlbGYudmVyc2lvbkxpc3QsIHNlbGYuY3VycmVudFZlcnNpb24pID09IHNlbGYudmVyc2lvbkxpc3QubGVuZ3RoIC0gMTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5zdGFydFBsYXlpbmcgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBzZWxmLmlzUGxheWluZyA9IHRydWU7XHJcbiAgICAgICAga2VlcFBsYXlpbmcoKTtcclxuICAgICAgICAkc2NvcGUuc2FmZUFwcGx5KCk7XHJcbiAgICB9O1xyXG5cclxuICAgIGZ1bmN0aW9uIGtlZXBQbGF5aW5nKCkge1xyXG4gICAgICAgIGlmIChzZWxmLmN1cnJlbnRWZXJzaW9uID09IF8ubGFzdChzZWxmLnZlcnNpb25MaXN0KSkge1xyXG4gICAgICAgICAgICBzZWxmLmZpcnN0VmVyc2lvbigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgc2VsZi5hZHZhbmNlVmVyc2lvbigxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgc2VsZi5wbGF5VGltZXIgPSBzZXRUaW1lb3V0KGtlZXBQbGF5aW5nLCAxMDAwKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnN0b3BQbGF5aW5nID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgc2VsZi5pc1BsYXlpbmcgPSBmYWxzZTtcclxuICAgICAgICBjbGVhclRpbWVvdXQoc2VsZi5wbGF5VGltZXIpO1xyXG4gICAgICAgICRzY29wZS5zYWZlQXBwbHkoKTtcclxuICAgIH07XHJcbn07XHJcbiIsIi8vIGZ1bmN0aW9ucyBmb3Igam9pbmluZyBuYXRpb24sIHdpdGggYSBtb2RhbCBkaWFsb2dcclxuXHJcbndpbmRvdy5TYW5kYmFua0pvaW5OYXRpb24gPSB7fTtcclxuXHJcblNhbmRiYW5rSm9pbk5hdGlvbiA9IGZ1bmN0aW9uKCRzY29wZSwgJGh0dHAsICRtb2RhbCkge1xyXG5cclxuICAgIHRoaXMub3Blbk1vZGFsID0gZnVuY3Rpb24ob3JnSWQsIG9yZ05hbWUpIHtcclxuICAgICAgICB2YXIgbW9kYWxJbnN0YW5jZSA9ICRtb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZV9qb2luX25hdGlvbl9tb2RhbC5odG1sJywgLy8gc2VlIHZpZXdzL21lbWJlcnNoaXBzL190ZW1wbGF0ZV9qb2luX25hdGlvbl9tb2RhbFxyXG4gICAgICAgICAgICBiYWNrZHJvcDogJ3N0YXRpYycsXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6IGpvaW5Nb2RhbEN0cmwsXHJcbiAgICAgICAgICAgIHdpbmRvd0NsYXNzOiAndGFncy1tb2RhbCcsXHJcbiAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgIG9yZ0lkOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3JnSWQ7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgb3JnTmFtZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9yZ05hbWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgJHNjb3BlLmxvYWRVc2VyUHJvZmlsZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tIGNvbnRyb2xsZXIgZm9yIGpvaW4gbW9kYWwgLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICAgdmFyIGpvaW5Nb2RhbEN0cmwgPSBmdW5jdGlvbigkc2NvcGUsICRtb2RhbEluc3RhbmNlLCBvcmdJZCwgb3JnTmFtZSkge1xyXG5cclxuICAgICAgICAkc2NvcGUub3JnSWQgPSBvcmdJZDtcclxuICAgICAgICAkc2NvcGUub3JnTmFtZSA9IG9yZ05hbWU7XHJcblxyXG4gICAgICAgIC8vIG5lZWQgYSBkb3QhXHJcbiAgICAgICAgJHNjb3BlLmZvcm1EYXRhID0ge1xyXG4gICAgICAgICAgICBqb2luQ29kZTogJydcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAkc2NvcGUuZXJyb3IgPSAnJztcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gam9pbk9yZygpIHtcclxuICAgICAgICAgICAgJGh0dHAucG9zdCgnL21lbWJlcnNoaXBzLmpzb24nLCB7XHJcbiAgICAgICAgICAgICAgICBvcmdhbml6YXRpb25faWQ6ICRzY29wZS5vcmdJZCxcclxuICAgICAgICAgICAgICAgIGpvaW5fY29kZTogJHNjb3BlLmZvcm1EYXRhLmpvaW5Db2RlXHJcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICRtb2RhbEluc3RhbmNlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICBhbGVydCgnV2VsY29tZSEgWW91IGFyZSBub3cgYSBtZW1iZXIgb2YgJyArICRzY29wZS5vcmdOYW1lICsgJy4nKTtcclxuICAgICAgICAgICAgfSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZXJyb3IgPSBcIkNvdWxkIG5vdCBqb2luIFRoaW5rTmF0aW9uIC0gZGlkIHlvdSBlbnRlciB0aGUgY29ycmVjdCBjb2RlP1wiO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBqb2luT3JnKCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgJHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAkbW9kYWxJbnN0YW5jZS5kaXNtaXNzKCdjYW5jZWwnKTtcclxuICAgICAgICB9O1xyXG4gICAgfTtcclxuXHJcbiAgICBqb2luTW9kYWxDdHJsLiRpbmplY3QgPSBbJyRzY29wZScsICckbW9kYWxJbnN0YW5jZScsICdvcmdJZCcsICdvcmdOYW1lJ107XHJcbn07IiwiLy8gbGF5b3V0cyB1c2VkIGluIHRoZSBlZGl0b3IsIGZvciB0aGUgZGlhZ3JhbSBvciBpbmRpdmlkdWFsIEdyb3VwcywgcGx1cyBsYXlvdXQtcmVsYXRlZCBmdW5jdGlvbnNcclxuXHJcblNhbmRiYW5rRWRpdG9yLkxheW91dHMgPSBmdW5jdGlvbigkc2NvcGUsIG1hcCkge1xyXG5cclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICB0aGlzLmluaXQgPSBmdW5jdGlvbigpIHt9O1xyXG5cclxuICAgIHRoaXMuaGFuZGxlRGlhZ3JhbUV2ZW50ID0gZnVuY3Rpb24oZXZlbnROYW1lLCBlKSB7XHJcbiAgICAgICAgdmFyIGRpYWdyYW0gPSBtYXAuZ2V0RGlhZ3JhbSgpO1xyXG4gICAgICAgIGlmIChldmVudE5hbWUgPT0gJ0luaXRpYWxMYXlvdXRDb21wbGV0ZWQnKSB7XHJcbiAgICAgICAgICAgIGRpYWdyYW0udXBkYXRlQWxsVGFyZ2V0QmluZGluZ3MoKTtcclxuICAgICAgICAgICAgZGlhZ3JhbS5sYXlvdXREaWFncmFtKHRydWUpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZXZlbnROYW1lID09ICdTZWxlY3Rpb25Nb3ZlZCcpIHtcclxuICAgICAgICAgICAgdXBkYXRlU2VsZWN0ZWRQYXJ0TG9jYXRpb25EYXRhKGUpO1xyXG4gICAgICAgICAgICBtYXAuZ2V0RGlhZ3JhbSgpLmxheW91dERpYWdyYW0odHJ1ZSk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChldmVudE5hbWUgPT0gJ1NlbGVjdGlvbkRlbGV0ZWQnKSB7XHJcbiAgICAgICAgICAgIGRpYWdyYW0udXBkYXRlQWxsVGFyZ2V0QmluZGluZ3MoKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGV2ZW50TmFtZSA9PSAnUGFydENyZWF0ZWQnKSB7XHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ0xheW91dHMsIFBhcnRDcmVhdGVkJyk7XHJcbiAgICAgICAgICAgIC8vIHNldE5ld1BhcnRMb2NhdGlvbkRhdGEoZSk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChldmVudE5hbWUgPT0gJ1BhcnRSZXNpemVkJykge1xyXG4gICAgICAgICAgICBzZXRSZXNpemVkUGFydERpbWVuc2lvbkRhdGEoZSk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChldmVudE5hbWUgPT0gJ0xpbmtEcmF3bicpIHtcclxuICAgICAgICAgICAgYWRqdXN0TGlua0xheW91dChlLnN1YmplY3QpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZXZlbnROYW1lID09ICdMaW5rUmVsaW5rZWQnKSB7XHJcbiAgICAgICAgICAgIGFkanVzdExpbmtMYXlvdXQoZS5zdWJqZWN0KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIC0tLS0tLS0tLS0tLSBoYW5kbGUgbG9jYXRpb24vc2l6ZSBhdHRyaWJ1dGVzIGZvciBub2RlcyAtLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgICAvLyBvbmx5IHVwZGF0ZSB3L2ggZm9yIHNsaWRlcywgYXMgYWxsIG90aGVyIG5vZGUgdHlwZXMgaGF2ZSBmaXhlZCBkaW1lbnNpb25zIGFjY29yZGluZyB0byB0aGUgdGVtcGxhdGVzXHJcbiAgICBmdW5jdGlvbiBzZXRSZXNpemVkUGFydERpbWVuc2lvbkRhdGEoZSkge1xyXG4gICAgICAgIHZhciBkaWFncmFtID0gbWFwLmdldERpYWdyYW0oKTtcclxuICAgICAgICB2YXIgbm9kZSA9IGUuc3ViamVjdDtcclxuICAgICAgICBpZiAobm9kZSAmJiBub2RlLmNhdGVnb3J5ID09ICdzbGlkZScpIHtcclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnUGFydFJlc2l6ZWQ6ICcgKyBub2RlLnBhcnQuYWN0dWFsQm91bmRzKTtcclxuICAgICAgICAgICAgZGlhZ3JhbS5tb2RlbC5zZXREYXRhUHJvcGVydHkobm9kZS5kYXRhLCAnd2lkdGgnLCBub2RlLnBhcnQuYWN0dWFsQm91bmRzLndpZHRoKTtcclxuICAgICAgICAgICAgZGlhZ3JhbS5tb2RlbC5zZXREYXRhUHJvcGVydHkobm9kZS5kYXRhLCAnaGVpZ2h0Jywgbm9kZS5wYXJ0LmFjdHVhbEJvdW5kcy5oZWlnaHQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBzZXQgdGhlICdsb2MnIGF0dHJpYnV0ZSBmb3IgYSBuZXcgdG9wLWxldmVsIG5vZGUgKGNyZWF0ZWQgYnkgZG91YmxlLWNsaWNraW5nKSwgdG8gc3VwcG9ydCBmcmVlaGFuZCBsYXlvdXRcclxuICAgIHRoaXMuc2V0TmV3UGFydExvY2F0aW9uRGF0YSA9IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICB2YXIgbm9kZSA9IGUuc3ViamVjdDtcclxuICAgICAgICBpZiAobm9kZSAmJiBub2RlLnBhcnQpIHtcclxuICAgICAgICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBnby5Hcm91cCkge1xyXG4gICAgICAgICAgICAgICAgbWFwLmdldERpYWdyYW0oKS5tb2RlbC5zZXREYXRhUHJvcGVydHkobm9kZS5kYXRhLCAnbG9jJywgbm9kZS5wYXJ0LmxvY2F0aW9uLnggKyAnICcgKyBub2RlLnBhcnQubG9jYXRpb24ueSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIHVwZGF0ZXMgdGhlICdsb2MnIGF0dHJpYnV0ZSBmb3IgZWFjaCBzZWxlY3RlZCBwYXJ0LCB0byBzdXBwb3J0IGZyZWVoYW5kIGxheW91dCAoZG9lcyBub3QgYXBwbHkgdG8gc2xpZGVzKVxyXG4gICAgZnVuY3Rpb24gdXBkYXRlU2VsZWN0ZWRQYXJ0TG9jYXRpb25EYXRhKGUpIHtcclxuICAgICAgICB2YXIgZGlhZ3JhbSA9IG1hcC5nZXREaWFncmFtKCk7XHJcbiAgICAgICAgdmFyIGl0ID0gZGlhZ3JhbS5zZWxlY3Rpb24uaXRlcmF0b3I7XHJcbiAgICAgICAgd2hpbGUgKGl0Lm5leHQoKSkge1xyXG4gICAgICAgICAgICBpZiAoaXQudmFsdWUgaW5zdGFuY2VvZiBnby5Hcm91cCkgeyAvLyB0aGluZ1xyXG4gICAgICAgICAgICAgICAgdmFyIHBhcnQgPSBpdC52YWx1ZTtcclxuICAgICAgICAgICAgICAgIHZhciBwYXJlbnRYID0gMDtcclxuICAgICAgICAgICAgICAgIHZhciBwYXJlbnRZID0gMDtcclxuICAgICAgICAgICAgICAgIGlmIChwYXJ0LmNvbnRhaW5pbmdHcm91cCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudFggPSBwYXJ0LmNvbnRhaW5pbmdHcm91cC5sb2NhdGlvbi54O1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudFkgPSBwYXJ0LmNvbnRhaW5pbmdHcm91cC5sb2NhdGlvbi55O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ21vdmluZyBncm91cCwgc3ViamVjdDogJyArIGUuc3ViamVjdCArICcsIHBhcnQ6ICcgKyBwYXJ0ICsgJywgaGVpZ2h0OiAnICsgcGFydC5wYXJ0LmRlc2lyZWRTaXplLmhlaWdodCArICcsIGxvY2F0aW9uOiAnICsgcGFydC5wYXJ0LmxvY2F0aW9uKTtcclxuICAgICAgICAgICAgICAgIGlmICghaXNOYU4ocGFydC5sb2NhdGlvbi54KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRpYWdyYW0ubW9kZWwuc2V0RGF0YVByb3BlcnR5KHBhcnQuZGF0YSwgJ2xvYycsIChwYXJ0LmxvY2F0aW9uLnggLSBwYXJlbnRYKSArICcgJyArIChwYXJ0LmxvY2F0aW9uLnkgLSBwYXJlbnRZKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gLS0tLS0tLS0tLS0gY2hhbmdpbmcgbGF5b3V0cyBvZiB0aGluZ3MgYW5kIHRoZWlyIGRlc2NlbmRhbnRzIC0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgICB0aGlzLmZyb21BbmRUb05vZGVzQXJlVmlzaWJsZSA9IGZ1bmN0aW9uKGxpbmspIHtcclxuICAgICAgICByZXR1cm4gbGluay5mcm9tTm9kZSAmJlxyXG4gICAgICAgICAgICBsaW5rLnRvTm9kZSAmJlxyXG4gICAgICAgICAgICAhc2VsZi5oYXNDb2xsYXBzZWRBbmNlc3RvcihsaW5rLmZyb21Ob2RlKSAmJlxyXG4gICAgICAgICAgICAhc2VsZi5oYXNDb2xsYXBzZWRBbmNlc3RvcihsaW5rLnRvTm9kZSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMubGFiZWxOb2RlSXNWaXNpYmxlID0gZnVuY3Rpb24obGluaykge1xyXG4gICAgICAgIHJldHVybiBsaW5rLmxhYmVsTm9kZXMuY291bnQgJiYgbGluay5sYWJlbE5vZGVzLmZpcnN0KCkudmlzaWJsZTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5oYXNDb2xsYXBzZWRBbmNlc3RvciA9IGZ1bmN0aW9uKGdyb3VwKSB7XHJcbiAgICAgICAgd2hpbGUgKHRydWUpIHtcclxuICAgICAgICAgICAgaWYgKCFncm91cC5jb250YWluaW5nR3JvdXApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICghZ3JvdXAuY29udGFpbmluZ0dyb3VwLmlzU3ViR3JhcGhFeHBhbmRlZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBncm91cCA9IGdyb3VwLmNvbnRhaW5pbmdHcm91cDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy8gdGhpcy5oYXNMaW5rTGFiZWxBbmNlc3RvciA9IGZ1bmN0aW9uKGdyb3VwKSB7XHJcbiAgICAvLyAgICAgd2hpbGUgKHRydWUpIHtcclxuICAgIC8vICAgICAgICAgaWYgKCFncm91cC5jb250YWluaW5nR3JvdXApIHtcclxuICAgIC8vICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIC8vICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICBlbHNlIGlmIChncm91cC5jb250YWluaW5nR3JvdXAuaXNMaW5rTGFiZWwpIHtcclxuICAgIC8vICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgIGVsc2Uge1xyXG4gICAgLy8gICAgICAgICAgICAgZ3JvdXAgPSBncm91cC5jb250YWluaW5nR3JvdXA7XHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIC8vICAgICB9XHJcbiAgICAvLyB9O1xyXG5cclxuICAgIHRoaXMuZ2V0SGlnaGVzdEFuY2VzdG9yV2l0aExheW91dCA9IGZ1bmN0aW9uKGdyb3VwLCBsYXlvdXROYW1lcykge1xyXG4gICAgICAgIHdoaWxlICh0cnVlKSB7XHJcbiAgICAgICAgICAgIGlmICghZ3JvdXAuY29udGFpbmluZ0dyb3VwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoXy5jb250YWlucyhsYXlvdXROYW1lcywgZ3JvdXAuY29udGFpbmluZ0dyb3VwLmRhdGEubGF5b3V0KSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGdyb3VwLmNvbnRhaW5pbmdHcm91cDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGdyb3VwID0gZ3JvdXAuY29udGFpbmluZ0dyb3VwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmFyZVNpc3RlcnNJbkludmVudG9yeUxheW91dCA9IGZ1bmN0aW9uKGdyb3VwMSwgZ3JvdXAyKSB7XHJcbiAgICAgICAgcmV0dXJuIGdyb3VwMS5jb250YWluaW5nR3JvdXAgPT0gZ3JvdXAyLmNvbnRhaW5pbmdHcm91cCAmJlxyXG4gICAgICAgICAgICBncm91cDEuY29udGFpbmluZ0dyb3VwICYmXHJcbiAgICAgICAgICAgIF8uY29udGFpbnMoWydsZWZ0JywgJ3JpZ2h0J10sIGdyb3VwMS5jb250YWluaW5nR3JvdXAuZGF0YS5sYXlvdXQpO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmlzTm90V2l0aGluSW52ZW50b3J5TGF5b3V0ID0gZnVuY3Rpb24oZ3JvdXApIHtcclxuICAgICAgICByZXR1cm4gIXNlbGYuaXNXaXRoaW5JbnZlbnRvcnlMYXlvdXQoZ3JvdXApO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmlzUlRoaW5nV2l0aGluSW52ZW50b3J5TGF5b3V0ID0gZnVuY3Rpb24oZ3JvdXApIHtcclxuICAgICAgICByZXR1cm4gZ3JvdXAuaXNMaW5rTGFiZWwgJiYgc2VsZi5pc1dpdGhpbkludmVudG9yeUxheW91dChncm91cCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuaXNXaXRoaW5JbnZlbnRvcnlMYXlvdXQgPSBmdW5jdGlvbihncm91cCkge1xyXG4gICAgICAgIHJldHVybiBzZWxmLmlzV2l0aGluTGF5b3V0KGdyb3VwLCBbJ2xlZnQnLCAncmlnaHQnXSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuaXNXaXRoaW5MZWZ0SW52ZW50b3J5TGF5b3V0ID0gZnVuY3Rpb24oZ3JvdXApIHtcclxuICAgICAgICByZXR1cm4gc2VsZi5pc1dpdGhpbkxheW91dChncm91cCwgWydsZWZ0J10pO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmlzV2l0aGluUmlnaHRJbnZlbnRvcnlMYXlvdXQgPSBmdW5jdGlvbihncm91cCkge1xyXG4gICAgICAgIHJldHVybiBzZWxmLmlzV2l0aGluTGF5b3V0KGdyb3VwLCBbJ3JpZ2h0J10pO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmlzV2l0aGluRnJlZWhhbmRMYXlvdXQgPSBmdW5jdGlvbihncm91cCkge1xyXG4gICAgICAgIHJldHVybiBzZWxmLmlzV2l0aGluTGF5b3V0KGdyb3VwLCBbJ2ZyZWVoYW5kJ10pO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmlzV2l0aGluU3RhY2tlZExheW91dCA9IGZ1bmN0aW9uKGdyb3VwKSB7XHJcbiAgICAgICAgcmV0dXJuIHNlbGYuaXNXaXRoaW5MYXlvdXQoZ3JvdXAsIFsnc3RhY2tlZCddKTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5pc1dpdGhpbkxheW91dCA9IGZ1bmN0aW9uKGdyb3VwLCBsYXlvdXROYW1lcykge1xyXG4gICAgICAgIHdoaWxlICh0cnVlKSB7XHJcbiAgICAgICAgICAgIGlmICghZ3JvdXAuY29udGFpbmluZ0dyb3VwKSB7XHJcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdpc1dpdGhpbkxheW91dDogJyArIGdyb3VwICsgJ2xheW91dHM6ICcgKyBsYXlvdXROYW1lcy5qb2luKCkgKyAnOiBmYWxzZScpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKF8uY29udGFpbnMobGF5b3V0TmFtZXMsIGdyb3VwLmNvbnRhaW5pbmdHcm91cC5kYXRhLmxheW91dCkpIHtcclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ2lzV2l0aGluTGF5b3V0OiAnICsgZ3JvdXAgKyAnbGF5b3V0czogJyArIGxheW91dE5hbWVzLmpvaW4oKSArICc6IHRydWUnKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZ3JvdXAgPSBncm91cC5jb250YWluaW5nR3JvdXA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuc2hvd0xlZnRUZXh0QmxvY2sgPSBmdW5jdGlvbihncm91cCkge1xyXG4gICAgICAgIHJldHVybiBzZWxmLmlzV2l0aGluUmlnaHRJbnZlbnRvcnlMYXlvdXQoZ3JvdXApICYmXHJcbiAgICAgICAgICAgICFzZWxmLmlzV2l0aGluU3RhY2tlZExheW91dChncm91cCkgJiZcclxuICAgICAgICAgICAgIWdyb3VwLmlzTGlua0xhYmVsO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnNob3dSaWdodFRleHRCbG9jayA9IGZ1bmN0aW9uKGdyb3VwKSB7XHJcbiAgICAgICAgcmV0dXJuIHNlbGYuaXNXaXRoaW5MZWZ0SW52ZW50b3J5TGF5b3V0KGdyb3VwKSAmJlxyXG4gICAgICAgICAgICAhc2VsZi5pc1dpdGhpblN0YWNrZWRMYXlvdXQoZ3JvdXApICYmXHJcbiAgICAgICAgICAgICFncm91cC5pc0xpbmtMYWJlbDtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5zZXREZXNjZW5kYW50TGF5b3V0cyA9IGZ1bmN0aW9uKGdyb3VwLCBsYXlvdXROYW1lKSB7XHJcbiAgICAgICAgaWYgKGxheW91dE5hbWUgPT0gJ2xlZnQnIHx8IGxheW91dE5hbWUgPT0gJ3JpZ2h0JyB8fCBsYXlvdXROYW1lID09ICdzdGFja2VkJykge1xyXG4gICAgICAgICAgICB2YXIgaXQgPSBncm91cC5tZW1iZXJQYXJ0cy5pdGVyYXRvcjtcclxuICAgICAgICAgICAgd2hpbGUgKGl0Lm5leHQoKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHBhcnQgPSBpdC52YWx1ZTtcclxuICAgICAgICAgICAgICAgIGlmIChwYXJ0IGluc3RhbmNlb2YgZ28uR3JvdXAgJiYgIXBhcnQuaXNMaW5rTGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBwYXJ0LmRhdGEubGF5b3V0ID0gbGF5b3V0TmFtZTtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLnNldERlc2NlbmRhbnRMYXlvdXRzKHBhcnQsIGxheW91dE5hbWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmIChsYXlvdXROYW1lID09ICdmcmVlaGFuZCcpIHtcclxuICAgICAgICAgICAgLy8gc3RhY2tlZD9cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZGlzYWJsZUxheW91dEZvclNlbGVjdGVkVGhpbmdzID0gZnVuY3Rpb24obGF5b3V0TmFtZSkge1xyXG4gICAgICAgIHZhciBpdCA9IG1hcC5nZXREaWFncmFtKCkuc2VsZWN0aW9uLml0ZXJhdG9yO1xyXG4gICAgICAgIGlmICghaXQuY291bnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHdoaWxlIChpdC5uZXh0KCkpIHtcclxuICAgICAgICAgICAgaWYgKCEoaXQudmFsdWUgaW5zdGFuY2VvZiBnby5Hcm91cCkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmFyIGdyb3VwID0gaXQudmFsdWU7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5pc1dpdGhpbkxheW91dChncm91cCwgWydsZWZ0JywgJ3JpZ2h0JywgJ3N0YWNrZWQnXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIC0tLS0tLS0tLS0tLS0tIHNjYWxpbmcgZnVuY3Rpb25zLCBldGMuIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgICAvLyBDb21wdXRlcyB0aGUgbGV2ZWwgb2YgdGhpcyBncm91cFxyXG4gICAgdGhpcy5jb21wdXRlTGV2ZWwgPSBmdW5jdGlvbihncm91cCkge1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coJ2NvbXB1dGVMZXZlbCwgcGFydDogJyArIHBhcnQgKyAnLCBjb250YWluaW5nR3JvdXA6ICcgKyBwYXJ0LmNvbnRhaW5pbmdHcm91cCk7XHJcbiAgICAgICAgaWYgKCEoZ3JvdXAgaW5zdGFuY2VvZiBnby5Hcm91cCkgfHwgZ3JvdXAuY29udGFpbmluZ0dyb3VwID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzZWxmLmNvbXB1dGVMZXZlbChncm91cC5jb250YWluaW5nR3JvdXApICsgMTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIGdldHMgdGhlIGJhc2ljIHNjYWxpbmcgZm9yIHRoaW5nIHNxdWFyZXMsIGJ5IGxldmVsXHJcbiAgICBmdW5jdGlvbiBnZXRUaGluZ1NjYWxlKGxldmVsKSB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGgucG93KDAuNDUsIGxldmVsKTsgLy8gMSwgLjQ1LCAuMjAyNSwgLjA5MTEyNSwgLi4uXHJcbiAgICB9XHJcblxyXG4gICAgLy8gdGhpcyBpcyBvbmx5IHVzZWQgZm9yIGdyb3Vwc1xyXG4gICAgdGhpcy5nZXRTY2FsZSA9IGZ1bmN0aW9uKGdyb3VwLCB2aXNpdGVkR3JvdXBLZXlzKSB7XHJcbiAgICAgICAgaWYgKGdyb3VwKSB7XHJcbiAgICAgICAgICAgIC8vIGtlZXAgdHJhY2sgb2YgZ3JvdXBzIHdlJ3ZlIHZpc2l0ZWQgdG8gYXZvaWQgaW5maW5pdGUgcmVjdXJzaW9uXHJcbiAgICAgICAgICAgIC8vIFRPRE86IHRyYWNrIGRvd24gZXhhY3RseSBob3cgaW5maW5pdGUgbG9vcHMgYXJlIG9jY3VycmluZyxcclxuICAgICAgICAgICAgLy8gb3IgSUYgdGhleSBzdGlsbCBhcmUgc2luY2UgbWFwLmNoZWNrTW9kZWwgd2FzIGludHJvZHVjZWQuLi5cclxuICAgICAgICAgICAgaWYgKHZpc2l0ZWRHcm91cEtleXMgJiYgQXJyYXkuaXNBcnJheSh2aXNpdGVkR3JvdXBLZXlzKSkge1xyXG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygndmlzaXRlZEdyb3VwS2V5czogJyArIHZpc2l0ZWRHcm91cEtleXMpO1xyXG4gICAgICAgICAgICAgICAgaWYgKF8uY29udGFpbnModmlzaXRlZEdyb3VwS2V5cywgZ3JvdXAuZGF0YS5rZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnaGl0IGFscmVhZHkgdmlzaXRlZCBrZXk6ICcgKyBncm91cC5kYXRhLmtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHZpc2l0ZWRHcm91cEtleXMucHVzaChncm91cC5kYXRhLmtleSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2aXNpdGVkR3JvdXBLZXlzID0gW2dyb3VwLmRhdGEua2V5XTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKGdyb3VwLmxhYmVsZWRMaW5rKSB7IC8vIFItdGhpbmdcclxuICAgICAgICAgICAgICAgIHZhciBmcm9tU2NhbGUgPSBzZWxmLmdldFNjYWxlKGdyb3VwLmxhYmVsZWRMaW5rLmZyb21Ob2RlLCB2aXNpdGVkR3JvdXBLZXlzKTtcclxuICAgICAgICAgICAgICAgIHZhciB0b1NjYWxlID0gc2VsZi5nZXRTY2FsZShncm91cC5sYWJlbGVkTGluay50b05vZGUsIHZpc2l0ZWRHcm91cEtleXMpO1xyXG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnZ2V0U2NhbGUsIGZyb21TY2FsZTogJyArIGZyb21TY2FsZSArICcsIHRvU2NhbGU6ICcgKyB0b1NjYWxlICsgJywgdmlzaXRlZEdyb3VwS2V5czogJyArIHZpc2l0ZWRHcm91cEtleXMuam9pbignLCcpKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLm1pbihmcm9tU2NhbGUsIHRvU2NhbGUpICogMC41O1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGdyb3VwLmNvbnRhaW5pbmdHcm91cCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYuZ2V0U2NhbGUoZ3JvdXAuY29udGFpbmluZ0dyb3VwLCB2aXNpdGVkR3JvdXBLZXlzKSAqIDAuNDU7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0VGhpbmdTY2FsZShzZWxmLmNvbXB1dGVMZXZlbChncm91cCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAxOyAvLyBjYW4gb2NjdXIgd2hlbiBkcmFnZ2luZyBSIHRvIGVtcHR5IHNwYWNlXHJcbiAgICB9O1xyXG5cclxuICAgIC8vIGdldHMgdGhlIG1hcmdpbiB0byBiZSB1c2VkIGluIHN0YWNrIGxheW91dCBiZXR3ZWVuIHRoaXMgZ3JvdXAncyBjaGlsZHJlblxyXG4gICAgZnVuY3Rpb24gZ2V0U3RhY2tNYXJnaW4oZ3JvdXApIHtcclxuICAgICAgICByZXR1cm4gKDEwIC8gMC40NSkgKiBzZWxmLmdldFNjYWxlKGdyb3VwKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBnZXRzIHRoZSBtYXJnaW4gdG8gYmUgdXNlZCBpbiBzdGFjayBsYXlvdXQgYmV0d2VlbiB0aGlzIGdyb3VwJ3MgY2hpbGRyZW5cclxuICAgIGZ1bmN0aW9uIGdldEludmVudG9yeU1hcmdpbihncm91cCkge1xyXG4gICAgICAgIGlmIChzZWxmLmNvbXB1dGVMZXZlbChncm91cCkgPD0gMikge1xyXG4gICAgICAgICAgICByZXR1cm4gMTAgKiBzZWxmLmdldFNjYWxlKGdyb3VwKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gMyAqIHNlbGYuZ2V0U2NhbGUoZ3JvdXApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmdldEV4dGVybmFsVGV4dFNjYWxlID0gZnVuY3Rpb24oZ3JvdXApIHtcclxuICAgICAgICByZXR1cm4gMSAtIDAuMSAqIHNlbGYuY29tcHV0ZUxldmVsKGdyb3VwKTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5nZXRMaW5rU3Ryb2tlV2lkdGggPSBmdW5jdGlvbihsaW5rKSB7XHJcbiAgICAgICAgdmFyIGZyb21TY2FsZSA9IHNlbGYuZ2V0U2NhbGUobGluay5mcm9tTm9kZSk7XHJcbiAgICAgICAgdmFyIHRvU2NhbGUgPSBzZWxmLmdldFNjYWxlKGxpbmsudG9Ob2RlKTtcclxuICAgICAgICByZXR1cm4gKGxpbmsuaXNTZWxlY3RlZCA/IDQgOiAyKSAqIE1hdGgubWluKGZyb21TY2FsZSwgdG9TY2FsZSk7IC8vIDIsIC45LCAuLi5cclxuICAgIH07XHJcblxyXG4gICAgLy8gc2NhbGUgYXJyb3doZWFkcyBiYXNlZCBvbiB0aGUgc21hbGxlc3QgdG8vZnJvbSBub2RlLCBcclxuICAgIC8vIG9yIGp1c3QgdGhlIFRvIG5vZGUgZm9yIFAgbGlua3NcclxuICAgIHRoaXMuZ2V0QXJyb3doZWFkU2NhbGUgPSBmdW5jdGlvbihsaW5rKSB7XHJcbiAgICAgICAgdmFyIGZyb21TY2FsZSA9IHNlbGYuZ2V0U2NhbGUobGluay5mcm9tTm9kZSk7XHJcbiAgICAgICAgdmFyIHRvU2NhbGUgPSBzZWxmLmdldFNjYWxlKGxpbmsudG9Ob2RlKTtcclxuICAgICAgICB2YXIgbWluU2NhbGUgPSBNYXRoLm1pbihmcm9tU2NhbGUsIHRvU2NhbGUpO1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coXCJnZXRBcnJvd2hlYWRTY2FsZSwgZnJvbVNjYWxlOiBcIiwgZnJvbVNjYWxlLCAnLCB0b1NjYWxlOiAnLCB0b1NjYWxlLCAnLCBtaW5TY2FsZTogJywgbWluU2NhbGUpO1xyXG4gICAgICAgIGlmIChsaW5rLmRhdGEuY2F0ZWdvcnkgPT0gJ1AnKSB7XHJcbiAgICAgICAgICAgIG1pblNjYWxlID0gdG9TY2FsZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG1pblNjYWxlID49IDEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIDEgKiBtaW5TY2FsZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gMS41ICogbWluU2NhbGU7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0tLSBjcmVhdGluZyBuZXcgdGhpbmdzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgICAvLyBSZXR1cm5zIGEgbG9jYXRpb24gZm9yIGEgbmV3IHNpc3RlciBncm91cCAodGhpbmcpIHRvIHRoZSBnaXZlbiBvbmUsIFxyXG4gICAgLy8gd2hpY2ggd2lsbCBub3QgaGlkZSBhbnkgZXhpc3RpbmcgdGhpbmdzIChvdmVybGFwIGlzIGFsbG93ZWQpLiBcclxuICAgIC8vIFRoZSByZXR1cm5lZCBjb29yZGluYXRlcyBhcmUgYWJzb2x1dGUgZm9yIGEgdG9wLWxldmVsIGdyb3VwLCBcclxuICAgIC8vIG9yIHJlbGF0aXZlIHRvIHRoZSBwYXJlbnQgb3RoZXJ3aXNlIC0gc3VpdGFibGUgZm9yIHVzZSB3aXRoIEZyZWVoYW5kRGlhZ3JhbUxheW91dFxyXG4gICAgLy8gb3IgRnJlZWhhbmRMYXlvdXQsIHJlc3AuXHJcbiAgICB0aGlzLmdldE5ld1Npc3RlckxvY2F0aW9uID0gZnVuY3Rpb24oZ3JvdXAsIHdpdGhSKSB7XHJcbiAgICAgICAgdmFyIGRpYWdyYW0gPSBtYXAuZ2V0RGlhZ3JhbSgpO1xyXG4gICAgICAgIC8vIGlmIHdlIGFyZSB3aXRoaW4gYW5vdGhlciBncm91cCwgdGhpbmdzIGFyZSBpbiBhYnNvbHV0ZSBjb29yZGluYXRlc1xyXG4gICAgICAgIC8vIGFuZCBzaXN0ZXJzIGFyZSBwbGFjZWQgYWJvdmUgdGhlIHRoaW5nOyBvdGhlcndpc2UgcmVsYXRpdmUgYW5kIGJlbG93Li4uXHJcbiAgICAgICAgdmFyIGluR3JvdXAgPSAoZ3JvdXAuY29udGFpbmluZ0dyb3VwICE9PSBudWxsKTtcclxuICAgICAgICAvLyAuLi4gZXhjZXB0IGlmIHdpdGhSIGlzIHRydWUsIHdlIGdvIHRvIHRoZSByaWdodCBpbnN0ZWFkIG9mIGFib3ZlIG9yIGJlbG93LlxyXG5cclxuICAgICAgICAvLyBzdGFydCBiZWxvdyBpZiBpbiBncm91cCwgZWxzZSBhYm92ZTsgb3IgdG8gdGhlIHJpZ2h0IGlmIHdpdGhSXHJcbiAgICAgICAgdmFyIHgsIHksIHcsIGg7XHJcbiAgICAgICAgaWYgKHdpdGhSKSB7XHJcbiAgICAgICAgICAgIHggPSBncm91cC5sb2NhdGlvbi54ICsgZ3JvdXAuYWN0dWFsQm91bmRzLndpZHRoICogMi4yO1xyXG4gICAgICAgICAgICB5ID0gZ3JvdXAubG9jYXRpb24ueTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB4ID0gZ3JvdXAubG9jYXRpb24ueDtcclxuICAgICAgICAgICAgeSA9IGdyb3VwLmxvY2F0aW9uLnkgKyBncm91cC5hY3R1YWxCb3VuZHMuaGVpZ2h0ICogMS4xICogKGluR3JvdXAgPyAxIDogLTEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB3ID0gZ3JvdXAuYWN0dWFsQm91bmRzLndpZHRoO1xyXG4gICAgICAgIGggPSBncm91cC5hY3R1YWxCb3VuZHMuaGVpZ2h0O1xyXG5cclxuICAgICAgICAvLyBjaGVjayBmb3Igb3ZlcmxhcHBpbmcgcGFydHM7IGlmIGZvdW5kLCBpbmNyZW1lbnQgeCx5IGFuZCBjb250aW51ZVxyXG5cclxuICAgICAgICB3aGlsZSAodHJ1ZSkge1xyXG4gICAgICAgICAgICB2YXIgcmVjdCA9IG5ldyBnby5SZWN0KHgsIHksIHcsIGgpO1xyXG4gICAgICAgICAgICByZWN0Lmdyb3coaCAvIDEwLCB3IC8gMTAsIGggLyAxMCwgdyAvIDEwKTtcclxuICAgICAgICAgICAgdmFyIHBhcnRzID0gZGlhZ3JhbS5maW5kT2JqZWN0c0luKHJlY3QsIG51bGwsIHNlbGYuaXNHcm91cCk7XHJcbiAgICAgICAgICAgIGlmIChwYXJ0cy5jb3VudCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2dldE5ld1Npc3RlckxvY2F0aW9uOiBvdmVybGFwcGluZyBwYXJ0IGZvdW5kIGluICcgKyByZWN0KTtcclxuICAgICAgICAgICAgICAgIGlmICh3aXRoUikge1xyXG4gICAgICAgICAgICAgICAgICAgIHggKz0gdyAvIDEwO1xyXG4gICAgICAgICAgICAgICAgICAgIHkgKz0gaCAvIDEwO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB4ICs9IHcgLyAxMDtcclxuICAgICAgICAgICAgICAgICAgICB5ICs9IGggLyAxMCAqIChpbkdyb3VwID8gMSA6IC0xKTsgLy8gbW92ZSBkb3duIGlmIGluIGdyb3VwLCBlbHNlIHVwXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZ2V0TmV3U2lzdGVyTG9jYXRpb246IG5vIG92ZXJsYXBwaW5nIHBhcnQgZm91bmQgaW4gJyArIHJlY3QpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGluR3JvdXApIHsgLy8gbWFrZSBjb29yZGluYXRlcyByZWxhdGl2ZVxyXG4gICAgICAgICAgICB4IC09IGdyb3VwLmNvbnRhaW5pbmdHcm91cC5sb2NhdGlvbi54O1xyXG4gICAgICAgICAgICB5IC09IGdyb3VwLmNvbnRhaW5pbmdHcm91cC5sb2NhdGlvbi55O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3IGdvLlBvaW50KHggKyBNYXRoLnJhbmRvbSgpLCB5ICsgTWF0aC5yYW5kb20oKSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIFJldHVybnMgYSBsb2NhdGlvbiBmb3IgYSBuZXcgY2hpbGQgZ3JvdXAgKHRoaW5nKSB0byB0aGUgZ2l2ZW4gb25lLFxyXG4gICAgLy8gd2hpY2ggd2lsbCBub3QgaGlkZSBhbnkgZXhpc3RpbmcgY2hpbGRyZW4gKG92ZXJsYXAgaXMgYWxsb3dlZCkuXHJcbiAgICAvLyBUaGUgcmV0dXJuZWQgY29vcmRpbmF0ZXMgYXJlIHJlbGF0aXZlIHRvIHRoZSBwYXJlbnQgZ3JvdXAgLSBzdWl0YWJsZSBmb3IgdXNlIHdpdGggRnJlZWhhbmRMYXlvdXQuXHJcbiAgICB0aGlzLmdldE5ld0NoaWxkTG9jYXRpb24gPSBmdW5jdGlvbihncm91cCkge1xyXG4gICAgICAgIHZhciBncm91cEJvdW5kcyA9IGdyb3VwLmFjdHVhbEJvdW5kcztcclxuICAgICAgICAvLyBOQjogYWxsIHgveSBsb2NhdGlvbnMgYXJlIHJlbGF0aXZlIHRvIHRoZSBncm91cCBsb2NhdGlvblxyXG4gICAgICAgIHZhciB4ID0gMDtcclxuICAgICAgICB2YXIgeSA9IGdyb3VwQm91bmRzLmhlaWdodCAqIDEuMTtcclxuICAgICAgICB2YXIgdywgaDtcclxuICAgICAgICB2YXIgbWVtYmVycyA9IGdyb3VwLm1lbWJlclBhcnRzO1xyXG4gICAgICAgIC8vIGtlZXAgdGVzdGluZyBuZXcgcmVjdGFuZ2xlcyB1bnRpbCB3ZSBmaW5kIG9uZSB0aGF0IGRvZXNuJ3Qgb3ZlcmxhcCB3aXRoIGFueSBleGlzdGluZyBtZW1iZXIgb2YgdGhlIGdyb3VwXHJcbiAgICAgICAgd2hpbGUgKHRydWUpIHtcclxuICAgICAgICAgICAgbWVtYmVycy5yZXNldCgpO1xyXG4gICAgICAgICAgICB2YXIgb3ZlcmxhcHMgPSBmYWxzZTtcclxuICAgICAgICAgICAgdmFyIG1lbWJlciwgbmV3UmVjdCwgbWVtYmVyUmVjdDtcclxuICAgICAgICAgICAgd2hpbGUgKG1lbWJlcnMubmV4dCgpKSB7XHJcbiAgICAgICAgICAgICAgICBtZW1iZXIgPSBtZW1iZXJzLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgdmFyIG1lbWJlckJvdW5kcyA9IG1lbWJlci5hY3R1YWxCb3VuZHM7XHJcbiAgICAgICAgICAgICAgICB3ID0gbWVtYmVyQm91bmRzLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgaCA9IG1lbWJlckJvdW5kcy5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAvLyBmaW5kIHRoZSBleGlzdGluZyBtZW1iZXIncyBhY3R1YWwgYm91bmRzIChhYnNvbHV0ZSBjb29yZHMpXHJcbiAgICAgICAgICAgICAgICBtZW1iZXJSZWN0ID0gbmV3IGdvLlJlY3QobWVtYmVyQm91bmRzLnggLSBncm91cEJvdW5kcy54LCBtZW1iZXJCb3VuZHMueSAtIGdyb3VwQm91bmRzLnksIG1lbWJlckJvdW5kcy53aWR0aCwgbWVtYmVyQm91bmRzLmhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICBuZXdSZWN0ID0gbmV3IGdvLlJlY3QoeCwgeSwgdywgaCk7XHJcbiAgICAgICAgICAgICAgICBuZXdSZWN0Lmdyb3coaCAvIDUsIHcgLyA1LCBoIC8gNSwgdyAvIDUpO1xyXG4gICAgICAgICAgICAgICAgb3ZlcmxhcHMgPSBuZXdSZWN0LmNvbnRhaW5zUmVjdChtZW1iZXJSZWN0KTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdnZXROZXdDaGlsZExvY2F0aW9uIGZvciAnICsgbWVtYmVyICsgJzogbmV3UmVjdCA9ICcgKyBuZXdSZWN0ICsgJywgbWVtYmVyUmVjdCA9ICcgKyBtZW1iZXJSZWN0ICsgJywgb3ZlcmxhcHM6ICcgKyBvdmVybGFwcyk7XHJcbiAgICAgICAgICAgICAgICBpZiAob3ZlcmxhcHMpIHtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAob3ZlcmxhcHMpIHtcclxuICAgICAgICAgICAgICAgIC8vIGluY3JlbWVudCB4LCB5IGFuZCB0cnkgYWdhaW5cclxuICAgICAgICAgICAgICAgIHggKz0gdyAvIDU7XHJcbiAgICAgICAgICAgICAgICB5ICs9IGggLyA1O1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gZm91bmQgYSBnb29kIHNwb3QhXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3IGdvLlBvaW50KHgsIHkpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBhIHNpbXBsZXIgdmVyc2lvbiBvZiBnZXROZXdDaGlsZExvY2F0aW9uIHRoYXQgcGxhY2VzIHRoZSBjaGlsZCBvdXRzaWRlIHRoZSBib3VuZHMgb2YgdGhlIGV4aXN0aW5nIGNoaWxkcmVuXHJcbiAgICB0aGlzLmdldE5ld0NoaWxkTG9jYXRpb24yID0gZnVuY3Rpb24oZ3JvdXApIHtcclxuICAgICAgICB2YXIgZ3JvdXBCb3VuZHMgPSBncm91cC5hY3R1YWxCb3VuZHM7XHJcbiAgICAgICAgdmFyIGNoaWxkQm91bmRzID0gbWFwLnNhZmVSZWN0KG1hcC5nZXREaWFncmFtKCkuY29tcHV0ZVBhcnRzQm91bmRzKGdyb3VwLm1lbWJlclBhcnRzKSk7XHJcbiAgICAgICAgdmFyIHggPSAwO1xyXG4gICAgICAgIHZhciB5ID0gMDtcclxuICAgICAgICBpZiAoIWdyb3VwLm1lbWJlclBhcnRzLmNvdW50KSB7XHJcbiAgICAgICAgICAgIHkgPSBncm91cEJvdW5kcy5oZWlnaHQgKiAxLjI7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgeSA9IGdyb3VwQm91bmRzLmhlaWdodCAqIDEuNCArIGNoaWxkQm91bmRzLmhlaWdodDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZygnZ2V0TmV3Q2hpbGRMb2NhdGlvbjIsIGNoaWxkQm91bmRzOiAnICsgY2hpbGRCb3VuZHMgKyAnLCBncm91cEJvdW5kczogJyArIGdyb3VwQm91bmRzICsgJywgeDogJyArIHggKyAnLCB5OiAnICsgeSk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBnby5Qb2ludCh4LCB5KTtcclxuICAgIH07XHJcblxyXG4gICAgLy8gbW92ZSBhbGwgdGhlIGdpdmVuIG5ldyBtZW1iZXIgZ3JvdXBzIHNvIHRoYXQgdGhlaXIgbG9jYXRpb25zIGFyZSByZWxhdGl2ZSB0byB0aGF0IG9mIFxyXG4gICAgLy8gdGhlIHBhcmVudCBhbmQgaXRzIHByZXZpb3VzbHkgZXhpc3RpbmcgbWVtYmVycywgYW5kIHNjYWxlZCBkb3duIGFwcHJvcHJpYXRlbHlcclxuICAgIHRoaXMubGF5b3V0TmV3TWVtYmVyc1JlbGF0aXZlVG8gPSBmdW5jdGlvbihuZXdNZW1iZXJzLCBwYXJlbnQsIG9sZE1lbWJlckJvdW5kcykge1xyXG4gICAgICAgIC8vIGhvdyBiaWcgd2FzIHRoZSBwYXJlbnQgc3lzdGVtIGJlZm9yZSB0aGUgbmV3IGdyb3VwcyB3ZXJlIGFkZGVkP1xyXG4gICAgICAgIHZhciBzeXN0ZW1Cb3VuZHMgPSBwYXJlbnQuYWN0dWFsQm91bmRzLnVuaW9uUmVjdChvbGRNZW1iZXJCb3VuZHMpO1xyXG5cclxuICAgICAgICAvLyBmaWd1cmUgb3V0IG9sZC9uZXcgb3JpZ2lucyAtIHBsYWNlIG5ldyBvcmlnaW4gYmVsb3cgZXhpc3Rpbmcgc3lzdGVtXHJcbiAgICAgICAgdmFyIG9sZEJvdW5kcyA9IG1hcC5nZXREaWFncmFtKCkuY29tcHV0ZVBhcnRzQm91bmRzKG5ld01lbWJlcnMpO1xyXG4gICAgICAgIHZhciBvbGRPcmlnaW4gPSBuZXcgZ28uUG9pbnQob2xkQm91bmRzLngsIG9sZEJvdW5kcy55KTtcclxuICAgICAgICB2YXIgbmV3T3JpZ2luID0gbmV3IGdvLlBvaW50KDAsIHN5c3RlbUJvdW5kcy5oZWlnaHQgKiAxLjIpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdsYXlvdXROZXdNZW1iZXJzUmVsYXRpdmVUbywgc3lzdGVtQm91bmRzOiAnICsgc3lzdGVtQm91bmRzICsgJywgb2xkQm91bmRzOiAnICsgb2xkQm91bmRzICtcclxuICAgICAgICAgICAgJywgb2xkT3JpZ2luOiAnICsgb2xkT3JpZ2luICsgJywgbmV3T3JpZ2luOiAnICsgbmV3T3JpZ2luKTtcclxuXHJcbiAgICAgICAgLy8gZmlndXJlIG91dCBuZXcgc2NhbGVkIGxvY2F0aW9uc1xyXG4gICAgICAgIC8vIE5COiB3ZSBjYW4gYXNzdW1lIG5ld01lbWJlcnMgYXJlIGFsbCBvbmUgbGV2ZWwgZG93biBmcm9tIHBhcmVudCAoc2VlIG1hcC5hZGRTZWxlY3RlZFRoaW5nc0FzQ2hpbGRyZW5PZiksIFxyXG4gICAgICAgIC8vIHNvIHdlIGp1c3QgbXVsdGlwbHkgYnkgdGhlIHN0YW5kYXJkIHNjYWxlIGZhY3RvclxyXG4gICAgICAgIHZhciBpdCA9IG5ld01lbWJlcnMuaXRlcmF0b3I7XHJcbiAgICAgICAgd2hpbGUgKGl0Lm5leHQoKSkge1xyXG4gICAgICAgICAgICB2YXIgZ3JvdXAgPSBpdC52YWx1ZTtcclxuICAgICAgICAgICAgdmFyIGdyb3VwQm91bmRzID0gZ3JvdXAuYWN0dWFsQm91bmRzO1xyXG4gICAgICAgICAgICB2YXIgbmV3WCA9IG5ld09yaWdpbi54ICsgKGdyb3VwQm91bmRzLnggLSBvbGRPcmlnaW4ueCkgKiAwLjQ1O1xyXG4gICAgICAgICAgICB2YXIgbmV3WSA9IG5ld09yaWdpbi55ICsgKGdyb3VwQm91bmRzLnkgLSBvbGRPcmlnaW4ueSkgKiAwLjQ1O1xyXG4gICAgICAgICAgICB2YXIgbmV3TG9jID0gZ28uUG9pbnQuc3RyaW5naWZ5KG5ldyBnby5Qb2ludChuZXdYLCBuZXdZKSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdsYXlvdXROZXdNZW1iZXJzUmVsYXRpdmVUbywgZ3JvdXBCb3VuZHM6ICcgKyBncm91cEJvdW5kcyArICcsIG5ld0xvYzogJyArIG5ld0xvYyk7XHJcbiAgICAgICAgICAgIG1hcC5nZXREaWFncmFtKCkubW9kZWwuc2V0RGF0YVByb3BlcnR5KGdyb3VwLmRhdGEsICdsb2MnLCBuZXdMb2MpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy8gbW92ZSBhbGwgdGhlIGdpdmVuIG9sZCBtZW1iZXIgZ3JvdXBzIHNvIHRoYXQgdGhlaXIgbG9jYXRpb25zIGFyZSBhYnNvbHV0ZSBhbmQgYWJvdmVcclxuICAgIC8vIHRoZSBwYXJlbnQsIGFuZCBzY2FsZWQgdXAgYXBwcm9wcmlhdGVseVxyXG4gICAgdGhpcy5sYXlvdXRPbGRNZW1iZXJzT3V0c2lkZU9mID0gZnVuY3Rpb24ob2xkTWVtYmVycywgcGFyZW50LCBvbGRNZW1iZXJzQm91bmRzLCBvbGRNZW1iZXJzTGV2ZWwpIHtcclxuICAgICAgICAvLyBmaWd1cmUgb3V0IHNjYWxlIGZhY3RvciAobWVtYmVycyBjYW4gYmUgZHJhZ2dlZCB1cCBtdWx0aXBsZSBsZXZlbHMsIHVubGlrZSBkcmFnZ2luZyBpbnRvIFMpXHJcbiAgICAgICAgdmFyIHNjYWxlRmFjdG9yID0gTWF0aC5wb3coMC40NSwgb2xkTWVtYmVyc0xldmVsIC0gc2VsZi5jb21wdXRlTGV2ZWwocGFyZW50KSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ2xheW91dE9sZE1lbWJlcnNPdXRzaWRlT2YsIHNjYWxlRmFjdG9yOiAnICsgc2NhbGVGYWN0b3IpO1xyXG5cclxuICAgICAgICAvLyBmaWd1cmUgb3V0IG9sZC9uZXcgb3JpZ2lucyAtIHBsYWNlIG5ldyBvcmlnaW4gYWJvdmUgcGFyZW50LCB3aXRoIHZlcnRpY2FsIHNwYWNlIGZvciBzY2FsZWQtdXAgb2xkTWVtYmVyc1xyXG4gICAgICAgIHZhciBwYXJlbnRCb3VuZHMgPSBwYXJlbnQuYWN0dWFsQm91bmRzO1xyXG4gICAgICAgIHZhciBvbGRPcmlnaW4gPSBuZXcgZ28uUG9pbnQob2xkTWVtYmVyc0JvdW5kcy54LCBvbGRNZW1iZXJzQm91bmRzLnkpO1xyXG4gICAgICAgIHZhciBuZXdPcmlnaW4gPSBuZXcgZ28uUG9pbnQocGFyZW50Qm91bmRzLngsIHBhcmVudEJvdW5kcy55IC0gb2xkTWVtYmVyc0JvdW5kcy5oZWlnaHQgKiAxLjIgLyBzY2FsZUZhY3Rvcik7XHJcblxyXG4gICAgICAgIC8vIGZpZ3VyZSBvdXQgbmV3IHNjYWxlZCBsb2NhdGlvbnNcclxuICAgICAgICB2YXIgaXQgPSBvbGRNZW1iZXJzLml0ZXJhdG9yO1xyXG4gICAgICAgIHdoaWxlIChpdC5uZXh0KCkpIHtcclxuICAgICAgICAgICAgdmFyIGdyb3VwID0gaXQudmFsdWU7XHJcbiAgICAgICAgICAgIHZhciBncm91cEJvdW5kcyA9IGdyb3VwLmFjdHVhbEJvdW5kcztcclxuICAgICAgICAgICAgdmFyIG5ld1ggPSBuZXdPcmlnaW4ueCArIChncm91cEJvdW5kcy54IC0gb2xkT3JpZ2luLngpIC8gc2NhbGVGYWN0b3I7XHJcbiAgICAgICAgICAgIHZhciBuZXdZID0gbmV3T3JpZ2luLnkgKyAoZ3JvdXBCb3VuZHMueSAtIG9sZE9yaWdpbi55KSAvIHNjYWxlRmFjdG9yO1xyXG4gICAgICAgICAgICB2YXIgbmV3TG9jID0gZ28uUG9pbnQuc3RyaW5naWZ5KG5ldyBnby5Qb2ludChuZXdYLCBuZXdZKSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdsYXlvdXRPbGRNZW1iZXJzT3V0c2lkZU9mLCBwYXJlbnRCb3VuZHM6ICcgKyBwYXJlbnRCb3VuZHMgKyAnLCBvbGRNZW1iZXJzQm91bmRzOiAnICsgb2xkTWVtYmVyc0JvdW5kcyArXHJcbiAgICAgICAgICAgICAgICAnLCBuZXdPcmlnaW46ICcgKyBuZXdPcmlnaW4gKyAnLCBncm91cEJvdW5kczogJyArIGdyb3VwQm91bmRzICsgJywgbmV3TG9jOiAnICsgbmV3TG9jKTtcclxuICAgICAgICAgICAgbWFwLmdldERpYWdyYW0oKS5tb2RlbC5zZXREYXRhUHJvcGVydHkoZ3JvdXAuZGF0YSwgJ2xvYycsIGdvLlBvaW50LnN0cmluZ2lmeShuZXdMb2MpKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tIGFjY2Vzc29ycyAtLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICAgLy8gcmV0dXJucyB0aGUgYXBwcm9wcmlhdGUgbGF5b3V0IGNsYXNzIGJ5IGFiYnJldmlhdGVkIG5hbWVcclxuICAgIHRoaXMuZ2V0TGF5b3V0ID0gZnVuY3Rpb24obGF5b3V0TmFtZSkge1xyXG4gICAgICAgIGlmIChsYXlvdXROYW1lID09ICdmcmVlaGFuZCcpXHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgRnJlZWhhbmRMYXlvdXQoKTtcclxuICAgICAgICBlbHNlIGlmIChsYXlvdXROYW1lID09ICdyaWdodCcpXHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgUmlnaHRJbnZlbnRvcnlMYXlvdXQoKTtcclxuICAgICAgICBlbHNlIGlmIChsYXlvdXROYW1lID09ICdzdGFja2VkJylcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBTdGFja2VkTGF5b3V0KCk7XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICByZXR1cm4gbmV3IExlZnRJbnZlbnRvcnlMYXlvdXQoKTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5nZXRGcmVlaGFuZERpYWdyYW1MYXlvdXQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gbmV3IEZyZWVoYW5kRGlhZ3JhbUxheW91dCgpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgIC8vIHJldHVybnMgdHJ1ZSBpZiB0aGUgdG8gYW5kIGZyb20gbm9kZXMgZm9yIHRoZSBsaW5rIGhhdmUgYSBjb21tb24gYW5jZXN0b3IgZ3JvdXAgd2l0aCBvbmUgb2YgdGhlIGdpdmVuIGxheW91dCBuYW1lcy5cclxuICAgIC8vIFRPRE86IHZlcmlmeSBsb2dpYyAtIHdoYXQgaWYgdGhlcmUgYXJlIG11bHRpcGxlIHN1Y2ggYW5jZXN0b3JzPyAtIHRoaXMgc2hvdWxkIHJldHVybiB0aGUgaGlnaGVzdCBvbmUuLi5cclxuICAgIGZ1bmN0aW9uIGdldENvbW1vbkFuY2VzdG9yV2l0aExheW91dChncm91cDEsIGdyb3VwMiwgbGF5b3V0TmFtZXMpIHtcclxuICAgICAgICB2YXIgYW5jZXN0b3JzMSA9IHNlbGYuZ2V0QW5jZXN0b3JHcm91cHMoZ3JvdXAxKTtcclxuICAgICAgICB2YXIgYW5jZXN0b3JzMiA9IHNlbGYuZ2V0QW5jZXN0b3JHcm91cHMoZ3JvdXAyKTtcclxuICAgICAgICB2YXIgY29tbW9uQW5jZXN0b3JzID0gXy5pbnRlcnNlY3Rpb24oYW5jZXN0b3JzMSwgYW5jZXN0b3JzMik7XHJcbiAgICAgICAgdmFyIGxheW91dEFuY2VzdG9ycyA9IF8uZmlsdGVyKGNvbW1vbkFuY2VzdG9ycywgZnVuY3Rpb24oZ3JvdXApIHtcclxuICAgICAgICAgICAgcmV0dXJuIF8uaW5kZXhPZihsYXlvdXROYW1lcywgZ3JvdXAuZGF0YS5sYXlvdXQpICE9IC0xO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmIChsYXlvdXRBbmNlc3RvcnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBsYXlvdXRBbmNlc3RvcnNbMF07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIHJldHVybnMgdGhlIGFuY2VzdG9ycyBvZiB0aGlzIGdyb3VwLCBpbmNsdWRpbmcgaXRzZWxmXHJcbiAgICB0aGlzLmdldEFuY2VzdG9yR3JvdXBzID0gZnVuY3Rpb24oZ3JvdXApIHtcclxuICAgICAgICB2YXIgYW5jZXN0b3JzID0gW2dyb3VwXTtcclxuICAgICAgICB2YXIgZyA9IGdyb3VwO1xyXG4gICAgICAgIHdoaWxlIChnLmNvbnRhaW5pbmdHcm91cCkge1xyXG4gICAgICAgICAgICBhbmNlc3RvcnMucHVzaChnLmNvbnRhaW5pbmdHcm91cCk7XHJcbiAgICAgICAgICAgIGcgPSBnLmNvbnRhaW5pbmdHcm91cDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGFuY2VzdG9ycztcclxuICAgIH07XHJcblxyXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgICBmdW5jdGlvbiBGcmVlaGFuZERpYWdyYW1MYXlvdXQoKSB7XHJcbiAgICAgICAgZ28uTGF5b3V0LmNhbGwodGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgZ28uRGlhZ3JhbS5pbmhlcml0KEZyZWVoYW5kRGlhZ3JhbUxheW91dCwgZ28uTGF5b3V0KTtcclxuXHJcbiAgICBGcmVlaGFuZERpYWdyYW1MYXlvdXQucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIFwiRnJlZWhhbmREaWFncmFtTGF5b3V0XCI7XHJcbiAgICB9O1xyXG5cclxuICAgIEZyZWVoYW5kRGlhZ3JhbUxheW91dC5wcm90b3R5cGUuZG9MYXlvdXQgPSBmdW5jdGlvbihjb2xsKSB7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZygnRnJlZWhhbmREaWFncmFtTGF5b3V0LmRvTGF5b3V0Jyk7XHJcbiAgICAgICAgdmFyIGRpYWdyYW0gPSBtYXAuZ2V0RGlhZ3JhbSgpO1xyXG4gICAgICAgIC8vIGRpYWdyYW0uc3RhcnRUcmFuc2FjdGlvbihcIkZyZWVoYW5kIERpYWdyYW0gTGF5b3V0XCIpO1xyXG5cclxuICAgICAgICAvL3ZhbGlkYXRlR3JvdXBMb2NhdGlvbnMoZGlhZ3JhbS5maW5kVG9wTGV2ZWxHcm91cHMoKSk7XHJcbiAgICAgICAgdmFyIGdyb3VwcyA9IGRpYWdyYW0uZmluZFRvcExldmVsR3JvdXBzKCk7IC8vIGdldCBuZXcgaXRlcmF0b3JcclxuICAgICAgICB3aGlsZSAoZ3JvdXBzLm5leHQoKSkge1xyXG4gICAgICAgICAgICB2YXIgZ3JvdXAgPSBncm91cHMudmFsdWU7XHJcbiAgICAgICAgICAgIGlmICghZ3JvdXAuaXNMaW5rTGFiZWwpIHtcclxuICAgICAgICAgICAgICAgIHZhciBsb2MgPSBnby5Qb2ludC5wYXJzZShncm91cC5kYXRhLmxvYyk7XHJcbiAgICAgICAgICAgICAgICBncm91cC5tb3ZlKG5ldyBnby5Qb2ludChsb2MueCwgbG9jLnkpKTtcclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ0ZyZWVoYW5kRGlhZ3JhbUxheW91dCwgZ3JvdXA6ICcgKyBncm91cCArICcgdG8gbG9jYXRpb246ICcgKyBsb2MueCArICcsJyArIGxvYy55KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gYWxsIGFkanVzdG1lbnQgb2YgbGlua3MgaXMgZG9uZSBmcm9tIGhlcmUsIG5vdCBmcm9tIHRoZSBvdGhlciBsYXlvdXRzLi4uXHJcbiAgICAgICAgZ2V0TGlua3NCeU5vZGVzKHRydWUpO1xyXG4gICAgICAgIHZhciBsaW5rcyA9IGRpYWdyYW0ubGlua3MuaXRlcmF0b3I7XHJcbiAgICAgICAgd2hpbGUgKGxpbmtzLm5leHQoKSkge1xyXG4gICAgICAgICAgICB2YXIgbGluayA9IGxpbmtzLnZhbHVlO1xyXG4gICAgICAgICAgICAvLyBpZiAoaXNOYU4obGluay5sb2NhdGlvbi54KSkge1xyXG4gICAgICAgICAgICAvLyAgICAgY29uc29sZS5sb2coJ2xpbmsgbG9jYXRpb24gaXNOYU4nKTtcclxuICAgICAgICAgICAgLy8gICAgIGxpbmsubW92ZShuZXcgZ28uUG9pbnQoMCwwKSk7XHJcbiAgICAgICAgICAgIC8vIH1cclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ2xpbmsgbG9jYXRpb246ICcgKyBsaW5rLmxvY2F0aW9uKTtcclxuICAgICAgICAgICAgYWRqdXN0TGlua0xheW91dChsaW5rKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGRpYWdyYW0uY29tbWl0VHJhbnNhY3Rpb24oXCJGcmVlaGFuZCBEaWFncmFtIExheW91dFwiKTtcclxuICAgIH07XHJcblxyXG5cclxuICAgIC8vIGlmIGFueSBncm91cCBpbiB0aGUgZ2l2ZW4gSXRlcmF0b3IgZG9lcyBub3QgaGF2ZSBhIGxvY2F0aW9uIChkYXRhLmxvYyksIHNldCBvbmVcclxuICAgIC8vIHRoYXQgZG9lc24ndCBvdmVybGFwIHdpdGggdGhlIG90aGVyIG1lbWJlcnNcclxuICAgIGZ1bmN0aW9uIHZhbGlkYXRlR3JvdXBMb2NhdGlvbnMoZ3JvdXBzKSB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICAgZnVuY3Rpb24gRnJlZWhhbmRMYXlvdXQoKSB7XHJcbiAgICAgICAgZ28uTGF5b3V0LmNhbGwodGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgZ28uRGlhZ3JhbS5pbmhlcml0KEZyZWVoYW5kTGF5b3V0LCBnby5MYXlvdXQpO1xyXG5cclxuICAgIEZyZWVoYW5kTGF5b3V0LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiBcIkZyZWVoYW5kTGF5b3V0XCI7XHJcbiAgICB9O1xyXG5cclxuICAgIEZyZWVoYW5kTGF5b3V0LnByb3RvdHlwZS5kb0xheW91dCA9IGZ1bmN0aW9uKGNvbGwpIHtcclxuICAgICAgICB2YXIgZGlhZ3JhbSA9IG1hcC5nZXREaWFncmFtKCk7XHJcbiAgICAgICAgZGlhZ3JhbS5zdGFydFRyYW5zYWN0aW9uKFwiRnJlZWhhbmQgTGF5b3V0XCIpO1xyXG5cclxuICAgICAgICB2YXIgeCA9IHRoaXMuZ3JvdXAubG9jYXRpb24ueDtcclxuICAgICAgICB2YXIgeSA9IHRoaXMuZ3JvdXAubG9jYXRpb24ueTtcclxuXHJcbiAgICAgICAgdmFyIGl0ID0gdGhpcy5ncm91cC5tZW1iZXJQYXJ0cy5pdGVyYXRvcjtcclxuICAgICAgICB3aGlsZSAoaXQubmV4dCgpKSB7XHJcbiAgICAgICAgICAgIHZhciBwYXJ0ID0gaXQudmFsdWU7XHJcbiAgICAgICAgICAgIGlmIChwYXJ0IGluc3RhbmNlb2YgZ28uR3JvdXAgJiYgIXBhcnQuaXNMaW5rTGFiZWwpIHtcclxuICAgICAgICAgICAgICAgIHZhciBsb2MgPSBnby5Qb2ludC5wYXJzZShwYXJ0LmRhdGEubG9jKTtcclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ0ZyZWVoYW5kTGF5b3V0LCBwYXJ0OiAnICsgcGFydC5kYXRhLnRleHQgKyAnLCBsb2M6ICcgKyBsb2MgKyAnLCBsb2NhdGlvbjogJyArIHBhcnQubG9jYXRpb24pO1xyXG4gICAgICAgICAgICAgICAgcGFydC5tb3ZlKG5ldyBnby5Qb2ludCh4ICsgbG9jLngsIHkgKyBsb2MueSkpO1xyXG4gICAgICAgICAgICAgICAgcGFydC5sYXlvdXQuZG9MYXlvdXQocGFydCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGRpYWdyYW0uY29tbWl0VHJhbnNhY3Rpb24oXCJGcmVlaGFuZCBMYXlvdXRcIik7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICAgZnVuY3Rpb24gU3RhY2tlZExheW91dCgpIHtcclxuICAgICAgICBnby5MYXlvdXQuY2FsbCh0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICBnby5EaWFncmFtLmluaGVyaXQoU3RhY2tlZExheW91dCwgZ28uTGF5b3V0KTtcclxuXHJcbiAgICBTdGFja2VkTGF5b3V0LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiBcIlN0YWNrZWRMYXlvdXRcIjtcclxuICAgIH07XHJcblxyXG4gICAgU3RhY2tlZExheW91dC5wcm90b3R5cGUuZG9MYXlvdXQgPSBmdW5jdGlvbihjb2xsKSB7XHJcbiAgICAgICAgdGhpcy5kaWFncmFtLnN0YXJ0VHJhbnNhY3Rpb24oXCJTdGFja2VkIExheW91dFwiKTtcclxuICAgICAgICB2YXIgbWFyZ2luID0gZ2V0U3RhY2tNYXJnaW4odGhpcy5ncm91cCk7XHJcbiAgICAgICAgdmFyIHN0YXJ0WCA9IHRoaXMuZ3JvdXAubG9jYXRpb24ueDtcclxuICAgICAgICB2YXIgc3RhcnRZID0gdGhpcy5ncm91cC5sb2NhdGlvbi55ICsgKHRoaXMuZ3JvdXAucGFydC5hY3R1YWxCb3VuZHMuaGVpZ2h0ICsgbWFyZ2luIC8gMik7XHJcbiAgICAgICAgbGF5b3V0TWVtYmVyc0ZvclN0YWNrZWQodGhpcy5ncm91cCwgc3RhcnRYLCBzdGFydFkpO1xyXG4gICAgICAgIHRoaXMuZGlhZ3JhbS5jb21taXRUcmFuc2FjdGlvbihcIlN0YWNrZWQgTGF5b3V0XCIpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyByZXR1cm5zIHRoZSBtYXggeSB2YWx1ZSBhZnRlciBsYXlpbmcgb3V0IHRoZSBsYXN0IHBhcnRcclxuICAgIGZ1bmN0aW9uIGxheW91dE1lbWJlcnNGb3JTdGFja2VkKGdyb3VwLCBzdGFydFgsIHN0YXJ0WSkge1xyXG4gICAgICAgIHZhciBtZW1iZXJzID0gZ2V0T3JkZXJlZE1lbWJlcnMoZ3JvdXApO1xyXG4gICAgICAgIHZhciB4ID0gc3RhcnRYO1xyXG4gICAgICAgIHZhciB5ID0gc3RhcnRZO1xyXG4gICAgICAgIHZhciByb3dDb3VudCA9IDA7XHJcbiAgICAgICAgdmFyIG1heFN0YXJ0WSA9IHN0YXJ0WTtcclxuICAgICAgICBfLmVhY2gobWVtYmVycywgZnVuY3Rpb24ocGFydCkge1xyXG4gICAgICAgICAgICBpZiAocGFydCBpbnN0YW5jZW9mIGdvLkdyb3VwICYmICFwYXJ0LmlzTGlua0xhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbWFyZ2luID0gZ2V0U3RhY2tNYXJnaW4ocGFydCk7XHJcbiAgICAgICAgICAgICAgICBwYXJ0Lm1vdmUobmV3IGdvLlBvaW50KHgsIHkpKTtcclxuICAgICAgICAgICAgICAgIHN0YXJ0WSA9IHkgKyBwYXJ0LmFjdHVhbEJvdW5kcy5oZWlnaHQgKyBtYXJnaW4gLyAyOyAvLyBzdGFydCBZIHBvc2l0aW9uIGZvciBwYXJ0J3MgY2hpbGRyZW5cclxuXHJcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdsYXlvdXRNZW1iZXJzRm9yU3RhY2tlZDogc3RhcnRpbmcgbGF5b3V0IG9mIGNoaWxkcmVuIG9mICcgKyBwYXJ0ICsgJyBhdCAnICsgTWF0aC5yb3VuZCh4KSArICcsJyArIE1hdGgucm91bmQoc3RhcnRZKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHBhcnQuaXNTdWJHcmFwaEV4cGFuZGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gbGF5b3V0IGNoaWxkcmVuIG9mIHRoaXMgcGFydDsgY2hlY2sgaWYgd2UndmUgYWxyZWFkeSBkb25lIGEgdGFsbGVyIHBhcnQrY2hpbGRyZW4gaW4gY3VycmVudCByb3dcclxuICAgICAgICAgICAgICAgICAgICBtYXhTdGFydFkgPSBNYXRoLm1heChtYXhTdGFydFksIGxheW91dE1lbWJlcnNGb3JTdGFja2VkKHBhcnQsIHgsIHN0YXJ0WSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ2xheW91dE1lbWJlcnNGb3JTdGFja2VkOiBsYWlkIG91dCBjaGlsZHJlbiBvZiAnICsgcGFydCArICcsIG1heFN0YXJ0WSBpcyBub3cgJyArIE1hdGgucm91bmQobWF4U3RhcnRZKSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIG1heFN0YXJ0WSA9IE1hdGgubWF4KG1heFN0YXJ0WSwgc3RhcnRZKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBkZWNpZGUgd2hldGhlciB0byB3cmFwXHJcbiAgICAgICAgICAgICAgICByb3dDb3VudCsrO1xyXG4gICAgICAgICAgICAgICAgaWYgKHJvd0NvdW50IDwgMikgeyAvLyBrZWVwIGdvaW5nIG9uIHRoaXMgbGluZVxyXG4gICAgICAgICAgICAgICAgICAgIHggKz0gcGFydC5hY3R1YWxCb3VuZHMud2lkdGggKyBtYXJnaW47XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgeyAvLyB3cmFwIHRvIG5leHQgbGluZVxyXG4gICAgICAgICAgICAgICAgICAgIHggPSBzdGFydFg7XHJcbiAgICAgICAgICAgICAgICAgICAgeSA9IG1heFN0YXJ0WSArIG1hcmdpbiAvIDI7XHJcbiAgICAgICAgICAgICAgICAgICAgcm93Q291bnQgPSAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIG1heFN0YXJ0WTtcclxuICAgIH1cclxuXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgIGZ1bmN0aW9uIFJpZ2h0SW52ZW50b3J5TGF5b3V0KCkge1xyXG4gICAgICAgIGdvLkxheW91dC5jYWxsKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIGdvLkRpYWdyYW0uaW5oZXJpdChSaWdodEludmVudG9yeUxheW91dCwgZ28uTGF5b3V0KTtcclxuXHJcbiAgICBSaWdodEludmVudG9yeUxheW91dC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gXCJSaWdodEludmVudG9yeUxheW91dFwiO1xyXG4gICAgfTtcclxuXHJcbiAgICBSaWdodEludmVudG9yeUxheW91dC5wcm90b3R5cGUuZG9MYXlvdXQgPSBmdW5jdGlvbihjb2xsKSB7XHJcbiAgICAgICAgLy90aGlzLmRpYWdyYW0uc3RhcnRUcmFuc2FjdGlvbihcIkludmVudG9yeSBMYXlvdXRcIik7XHJcbiAgICAgICAgdmFyIHN0YXJ0WCA9IHRoaXMuZ3JvdXAubG9jYXRpb24ueCArIHRoaXMuZ3JvdXAuYWN0dWFsQm91bmRzLndpZHRoO1xyXG4gICAgICAgIHZhciBzdGFydFkgPSB0aGlzLmdyb3VwLmxvY2F0aW9uLnkgKyAodGhpcy5ncm91cC5wYXJ0LmFjdHVhbEJvdW5kcy5oZWlnaHQgKyBnZXRJbnZlbnRvcnlNYXJnaW4odGhpcy5ncm91cCkpO1xyXG4gICAgICAgIGxheW91dE1lbWJlcnNGb3JJbnZlbnRvcnkodGhpcy5ncm91cCwgc3RhcnRYLCBzdGFydFksICdSJyk7XHJcbiAgICAgICAgLy90aGlzLmRpYWdyYW0uY29tbWl0VHJhbnNhY3Rpb24oXCJJbnZlbnRvcnkgTGF5b3V0XCIpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgIGZ1bmN0aW9uIExlZnRJbnZlbnRvcnlMYXlvdXQoKSB7XHJcbiAgICAgICAgZ28uTGF5b3V0LmNhbGwodGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgZ28uRGlhZ3JhbS5pbmhlcml0KExlZnRJbnZlbnRvcnlMYXlvdXQsIGdvLkxheW91dCk7XHJcblxyXG4gICAgTGVmdEludmVudG9yeUxheW91dC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gXCJMZWZ0SW52ZW50b3J5TGF5b3V0XCI7XHJcbiAgICB9O1xyXG5cclxuICAgIExlZnRJbnZlbnRvcnlMYXlvdXQucHJvdG90eXBlLmRvTGF5b3V0ID0gZnVuY3Rpb24oY29sbCkge1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coJ0xlZnRJbnZlbnRvcnlMYXlvdXQuZG9MYXlvdXQsIGdyb3VwOiAnICsgdGhpcy5ncm91cCArICcsIGxvY2F0aW9uOiAnICsgdGhpcy5ncm91cC5sb2NhdGlvbik7XHJcbiAgICAgICAgLy8gdGhpcy5kaWFncmFtLnN0YXJ0VHJhbnNhY3Rpb24oXCJJbnZlbnRvcnkgTGF5b3V0XCIpO1xyXG4gICAgICAgIHZhciBzdGFydFggPSB0aGlzLmdyb3VwLmxvY2F0aW9uLng7XHJcbiAgICAgICAgdmFyIHN0YXJ0WSA9IHRoaXMuZ3JvdXAubG9jYXRpb24ueSArICh0aGlzLmdyb3VwLnBhcnQuYWN0dWFsQm91bmRzLmhlaWdodCArIGdldEludmVudG9yeU1hcmdpbih0aGlzLmdyb3VwKSk7XHJcbiAgICAgICAgbGF5b3V0TWVtYmVyc0ZvckludmVudG9yeSh0aGlzLmdyb3VwLCBzdGFydFgsIHN0YXJ0WSwgJ0wnKTtcclxuICAgICAgICAvLyB0aGlzLmRpYWdyYW0uY29tbWl0VHJhbnNhY3Rpb24oXCJJbnZlbnRvcnkgTGF5b3V0XCIpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBzaGFyZWQgc3R1ZmYgZm9yIExlZnQvUmlnaHQgSW52ZW50b3J5IGxheW91dHMuLi5cclxuXHJcbiAgICAvLyByZXR1cm5zIHRoZSBtYXggeSB2YWx1ZSBhZnRlciBsYXlpbmcgb3V0IHRoZSBsYXN0IHBhcnRcclxuICAgIC8vIHNpZGUgaXMgJ0wnIG9yICdSJ1xyXG4gICAgZnVuY3Rpb24gbGF5b3V0TWVtYmVyc0ZvckludmVudG9yeShncm91cCwgc3RhcnRYLCBzdGFydFksIHNpZGUpIHtcclxuICAgICAgICB2YXIgbWVtYmVycyA9IGdldE9yZGVyZWRNZW1iZXJzKGdyb3VwKTtcclxuICAgICAgICBfLmVhY2gobWVtYmVycywgZnVuY3Rpb24ocGFydCkge1xyXG4gICAgICAgICAgICB2YXIgeCA9IHN0YXJ0WDsgLy8gZm9yIGxlZnQsIGp1c3QgdXNlIHhcclxuICAgICAgICAgICAgaWYgKHNpZGUgPT0gJ1InKVxyXG4gICAgICAgICAgICAgICAgeCA9IHN0YXJ0WCAtIHBhcnQuYWN0dWFsQm91bmRzLndpZHRoOyAvLyBmb3IgcmlnaHQsIHJpZ2h0LWFsaWduIHBhcnRzIHRvIHN0YXJ0WFxyXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdsYXlvdXRNZW1iZXJzRm9ySW52ZW50b3J5LCBwYXJ0OiAnICsgcGFydCArICcgdG8gbG9jYXRpb246ICcgKyB4ICsgJywnICsgc3RhcnRZKTtcclxuICAgICAgICAgICAgcGFydC5tb3ZlKG5ldyBnby5Qb2ludCh4LCBzdGFydFkpKTtcclxuICAgICAgICAgICAgc3RhcnRZICs9IHBhcnQuYWN0dWFsQm91bmRzLmhlaWdodCArIGdldEludmVudG9yeU1hcmdpbihwYXJ0KTtcclxuICAgICAgICAgICAgaWYgKHBhcnQuaXNTdWJHcmFwaEV4cGFuZGVkKSB7XHJcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdsYXlvdXRNZW1iZXJzRm9ySW52ZW50b3J5LCB5IGFmdGVyIG1vdmluZzogJyArIHBhcnQgKyAnID0gJyArIHN0YXJ0WSk7XHJcbiAgICAgICAgICAgICAgICBzdGFydFkgPSBsYXlvdXRNZW1iZXJzRm9ySW52ZW50b3J5KHBhcnQsIHN0YXJ0WCwgc3RhcnRZLCBzaWRlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBzdGFydFkgKyBnZXRJbnZlbnRvcnlNYXJnaW4oZ3JvdXApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHJldHVybnMgYW4gYXJyYXkgb2YgdGhlIGdyb3VwJ3MgKG5vbi1SLXRoaW5nKSBtZW1iZXJzLCBzb3J0ZWQgYnkgdGhlICdvcmRlcicgZGF0YSBwcm9wZXJ0eVxyXG4gICAgZnVuY3Rpb24gZ2V0T3JkZXJlZE1lbWJlcnMoZ3JvdXApIHtcclxuICAgICAgICB2YXIgbWVtYmVycyA9IG5ldyBnby5MaXN0KCk7XHJcbiAgICAgICAgdmFyIGl0ID0gZ3JvdXAubWVtYmVyUGFydHMuaXRlcmF0b3I7XHJcbiAgICAgICAgd2hpbGUgKGl0Lm5leHQoKSkge1xyXG4gICAgICAgICAgICB2YXIgcGFydCA9IGl0LnZhbHVlO1xyXG4gICAgICAgICAgICBpZiAocGFydCBpbnN0YW5jZW9mIGdvLkdyb3VwICYmICFwYXJ0LmlzTGlua0xhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICBtZW1iZXJzLmFkZChwYXJ0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gXy5zb3J0QnkobWVtYmVycy50b0FycmF5KCksIGZ1bmN0aW9uKG1lbWJlcikge1xyXG4gICAgICAgICAgICByZXR1cm4gbWVtYmVyLmRhdGEub3JkZXI7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIGxpbmsgcm91dGluZyBhbmQgdmlzaWJpbGl0eSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgICAvLyBhZGp1c3QgdGhlIHJvdXRpbmcsIHZpc2liaWxpdHkgYW5kIG90aGVyIHByb3BlcnRpZXMgb2YgYSBsaW5rIGFjY29yZGluZyB0byB2YXJpb3VzIHN0cnVjdHVyYWwgY3JpdGVyaWFcclxuICAgIGZ1bmN0aW9uIGFkanVzdExpbmtMYXlvdXQobGluaykge1xyXG4gICAgICAgIGlmICghbGluayB8fCAhbGluay5mcm9tTm9kZSB8fCAhbGluay50b05vZGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gdmFyIGxvYyA9IGxpbmsubG9jYXRpb247XHJcbiAgICAgICAgLy8gaWYgKGlzTmFOKGxvYy54KSB8fCBpc05hTihsb2MueSkpIHtcclxuICAgICAgICAvLyAgICAgbGluay5sb2NhdGlvbiA9IG5ldyBnby5Qb2ludCgxMCwgMTApO1xyXG4gICAgICAgIC8vICAgICBjb25zb2xlLmxvZygnYWRqdXN0TGlua0xheW91dCwgbGluay5sb2NhdGlvbjogJyArIGxpbmsubG9jYXRpb24pO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnYWRqdXN0TGlua0xheW91dCwgbGluay5sb2NhdGlvbjogJyArIGxpbmsubG9jYXRpb24pO1xyXG5cclxuICAgICAgICAvLyBzZWUgaWYgbGluayBpcyB3aXRoaW4gYSBzdGFja2VkIG9yIGludmVudG9yeSBsYXlvdXQsIG9yIGlmIGl0J3MgYSBoaWRkZW4gUCBsaW5rXHJcbiAgICAgICAgdmFyIGludmVudG9yeUFuY2VzdG9yID0gZ2V0Q29tbW9uQW5jZXN0b3JXaXRoTGF5b3V0KGxpbmsuZnJvbU5vZGUsIGxpbmsudG9Ob2RlLCBbJ2xlZnQnLCAncmlnaHQnXSk7XHJcbiAgICAgICAgdmFyIHN0YWNrZWRBbmNlc3RvciA9IGdldENvbW1vbkFuY2VzdG9yV2l0aExheW91dChsaW5rLmZyb21Ob2RlLCBsaW5rLnRvTm9kZSwgWydzdGFja2VkJ10pO1xyXG4gICAgICAgIHZhciBoaWRlUExpbmsgPSAobGluay5kYXRhICYmIGxpbmsuZGF0YS5jYXRlZ29yeSA9PSAnUCcgJiYgIW1hcC5nZXRUZW1wbGF0ZXMoKS5zaG93UExpbmsobGluaykpO1xyXG4gICAgICAgIHZhciBjcm93ZGVkUlRoaW5nID0gaGFzQ3Jvd2RlZFJUaGluZyhsaW5rKTtcclxuXHJcbiAgICAgICAgLy8gc2VlIGlmIHRoaXMgaXMgb25lIG9mIG11bHRpcGxlIGxpbmtzIGJldHdlZW4gdGhlIHNhbWUgdHdvIG5vZGVzXHJcbiAgICAgICAgdmFyIHNucG9zID0gc2VsZi5nZXRTYW1lTm9kZXNMaW5rUG9zaXRpb24obGluayk7XHJcbiAgICAgICAgdmFyIGlzTXVsdGlMaW5rID0gKHNucG9zLmNvdW50ID4gMSk7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZygnc25wb3MgZm9yIGxpbmsgJyArIGxpbmsgKyAnOiAnICsgc25wb3MuaW5kZXggKyAnIG9mICcgKyBzbnBvcy5jb3VudCk7XHJcblxyXG4gICAgICAgIGlmIChpbnZlbnRvcnlBbmNlc3Rvcikge1xyXG4gICAgICAgICAgICBhcHBseUludmVudG9yeUN1cnZlUm91dGluZyhsaW5rLCBzbnBvcywgaW52ZW50b3J5QW5jZXN0b3IuZGF0YS5sYXlvdXQpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoaXNNdWx0aUxpbmspIHtcclxuICAgICAgICAgICAgYXBwbHlNdWx0aWxpbmtDdXJ2ZVJvdXRpbmcobGluaywgc25wb3MpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoY3Jvd2RlZFJUaGluZykge1xyXG4gICAgICAgICAgICBhcHBseUludmVudG9yeUN1cnZlUm91dGluZyhsaW5rLCBzbnBvcywgJ2xlZnQnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBhcHBseVN0cmFpZ2h0Um91dGluZyhsaW5rKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIHNob3cgbGluayBvbmx5IGlmIGJvdGggY29ubmVjdGVkIHRoaW5ncyBhcmUgdmlzaWJsZSAobm8gY29sbGFwc2VkIGFuY2VzdG9ycyk7IFxyXG4gICAgICAgIC8vIGhpZGUgaWYgYm90aCBhcmUgaW4gc3RhY2tlZCBsYXlvdXQgb3IgaWYgaXQncyBhIFAtbGluayB0aGF0IHdlIHNob3VsZG4ndCBiZSBzaG93aW5nIG5vd1xyXG4gICAgICAgIGlmIChzZWxmLmZyb21BbmRUb05vZGVzQXJlVmlzaWJsZShsaW5rKSAmJiAhc3RhY2tlZEFuY2VzdG9yICYmICFoaWRlUExpbmspIHtcclxuICAgICAgICAgICAgbGluay5vcGFjaXR5ID0gMTtcclxuICAgICAgICAgICAgc2hvd0xhYmVsTm9kZXMobGluaywgdHJ1ZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbGluay5vcGFjaXR5ID0gMDtcclxuICAgICAgICAgICAgc2hvd0xhYmVsTm9kZXMobGluaywgZmFsc2UpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBUT0RPOiBkZXRlY3Qgd2hlbiB0aGUgUi10aGluZyBvdmVybGFwcyBib3RoIGZyb20gYW5kIHRvIG5vZGVzLCBzbyB3ZSBjYW4gY2hhbmdlIHRoZSBsaW5rIHJvdXRpbmdcclxuICAgIGZ1bmN0aW9uIGhhc0Nyb3dkZWRSVGhpbmcobGluaykge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzaG93TGFiZWxOb2RlcyhsaW5rLCBzaG93KSB7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZygnc2hvd0xhYmVsTm9kZXMsIGxpbms6ICcgKyBsaW5rICsgJywgc2hvdzogJyArIHNob3cpO1xyXG4gICAgICAgIHZhciBpdCA9IGxpbmsubGFiZWxOb2RlcztcclxuICAgICAgICBpZiAoaXQpIHtcclxuICAgICAgICAgICAgd2hpbGUgKGl0Lm5leHQoKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGdyb3VwID0gaXQudmFsdWU7XHJcbiAgICAgICAgICAgICAgICBncm91cC52aXNpYmxlID0gc2hvdztcclxuICAgICAgICAgICAgICAgIGlmIChzaG93KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXAubGF5b3V0LmRvTGF5b3V0KGdyb3VwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBpZiBsaW5rIGlzIGJldHdlZW4gdHdvIHRoaW5ncyBpbiB0aGUgc2FtZSBpbnZlbnRvcnkgbGF5b3V0IChzaW5nbGUgb3IgbXVsdGlwbGUpLFxyXG4gICAgLy8gbWFrZSB0aGUgbGluZSBtb3JlIG9yIGxlc3MgY2lyY3VsYXIgb24gdGhlIGFwcHJvcHJpYXRlIHNpZGVcclxuICAgIGZ1bmN0aW9uIGFwcGx5SW52ZW50b3J5Q3VydmVSb3V0aW5nKGxpbmssIHNucG9zLCBhbmNlc3RvckxheW91dCkge1xyXG4gICAgICAgIGlmIChhbmNlc3RvckxheW91dCA9PSAnbGVmdCcpIHtcclxuICAgICAgICAgICAgbGluay5mcm9tU3BvdCA9IGdvLlNwb3QuTGVmdDtcclxuICAgICAgICAgICAgbGluay50b1Nwb3QgPSBnby5TcG90LkxlZnQ7XHJcbiAgICAgICAgfSBlbHNlIGlmIChhbmNlc3RvckxheW91dCA9PSAncmlnaHQnKSB7XHJcbiAgICAgICAgICAgIGxpbmsuZnJvbVNwb3QgPSBnby5TcG90LlJpZ2h0O1xyXG4gICAgICAgICAgICBsaW5rLnRvU3BvdCA9IGdvLlNwb3QuUmlnaHQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBhc3BlY3QgcmF0aW8gZm9yIHRoZSBsaW5rIGN1cnZlcyAtIG1ha2UgdGhpcyBzbWFsbGVyIHRvIG1ha2UgdGhlbSB0YWxsZXIsIGxhcmdlciB0byBtYWtlIHRoZW0gZmF0dGVyXHJcbiAgICAgICAgdmFyIGN1cnZlUmF0aW8gPSAwLjY7XHJcblxyXG4gICAgICAgIHZhciB5MSA9IGxpbmsuZnJvbU5vZGUuYWN0dWFsQm91bmRzLnk7XHJcbiAgICAgICAgdmFyIHkyID0gbGluay50b05vZGUuYWN0dWFsQm91bmRzLnk7XHJcblxyXG4gICAgICAgIHZhciB5RGlmZiA9IE1hdGguYWJzKHkyIC0geTEpO1xyXG4gICAgICAgIHZhciBjID0gKHlEaWZmID09PSAwID8gNTAgOiBNYXRoLmZsb29yKHlEaWZmICogY3VydmVSYXRpbykpICsgMTAwICogKHNucG9zLmluZGV4IC8gc25wb3MuY291bnQpO1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coXCJ5RGlmZiA9IFwiICsgeURpZmYgKyAnLCBjID0gJyArIGMgKyAnICgnICsgbGluay5mcm9tTm9kZS5kYXRhLnRleHQgKyAnIC0gJyArIHAxICsgJyAtIHRvICcgKyBsaW5rLnRvTm9kZS5kYXRhLnRleHQgKyAnIC0gJyArIHAyICsgJyknKTtcclxuXHJcbiAgICAgICAgbGluay5jdXJ2ZSA9IGdvLkxpbmsuQmV6aWVyO1xyXG4gICAgICAgIGxpbmsuZnJvbUVuZFNlZ21lbnRMZW5ndGggPSBjO1xyXG4gICAgICAgIGxpbmsudG9FbmRTZWdtZW50TGVuZ3RoID0gYztcclxuICAgIH1cclxuXHJcbiAgICAvLyBpZiBub24taW52ZW50b3J5IGxpbmsgaXMgb25lIG9mIG11bHRpcGxlIG9uZXMgYmV0d2VlbiBzYW1lIG5vZGVzLCBtYWtlIGl0IGN1cnZlZFxyXG4gICAgZnVuY3Rpb24gYXBwbHlNdWx0aWxpbmtDdXJ2ZVJvdXRpbmcobGluaywgc25wb3MpIHtcclxuICAgICAgICBsaW5rLmZyb21TcG90ID0gZ28uU3BvdC5EZWZhdWx0O1xyXG4gICAgICAgIGxpbmsudG9TcG90ID0gZ28uU3BvdC5EZWZhdWx0O1xyXG4gICAgICAgIGxpbmsuY3VydmUgPSBnby5MaW5rLkJlemllcjtcclxuICAgICAgICAvLyBjdXJ2aW5lc3MgdmFsdWVzIGJhc2VkIG9uIG51bWJlciBvZiBsaW5rczpcclxuICAgICAgICAvLyAyOiAtMjUgMjVcclxuICAgICAgICAvLyAzOiAtNTAgMCA1MFxyXG4gICAgICAgIC8vIDQ6IC0xMDAgLTUwIDAgNTAgMTAwXHJcbiAgICAgICAgdmFyIHJhbmdlU2l6ZSA9IDEwICogKHNucG9zLmNvdW50IC0gMSk7XHJcbiAgICAgICAgdmFyIHJhbmdlSW5jcmVtZW50ID0gMTA7XHJcbiAgICAgICAgaWYgKHNucG9zLmhhc1JUaGluZykge1xyXG4gICAgICAgICAgICByYW5nZVNpemUgPSAxMDAgKiAoc25wb3MuY291bnQgLSAxKTtcclxuICAgICAgICAgICAgcmFuZ2VJbmNyZW1lbnQgPSAxMDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBhZGp1c3QgY3VydmluZXNzIGZvciBzbWFsbGVyIHNjYWxlc1xyXG4gICAgICAgIHZhciBsaW5rU2NhbGVGYWN0b3IgPSBzZWxmLmdldExpbmtTdHJva2VXaWR0aChsaW5rKSAvIDI7IC8vIDIgaXMgbWF4IHN0cm9rZSB3aWR0aFxyXG4gICAgICAgIHJhbmdlU2l6ZSAqPSBsaW5rU2NhbGVGYWN0b3I7XHJcbiAgICAgICAgcmFuZ2VJbmNyZW1lbnQgKj0gbGlua1NjYWxlRmFjdG9yO1xyXG5cclxuICAgICAgICB2YXIgcmFuZ2VTdGFydCA9IDAgLSByYW5nZVNpemUgLyAyO1xyXG5cclxuICAgICAgICBsaW5rLmN1cnZpbmVzcyA9IChyYW5nZVN0YXJ0ICsgcmFuZ2VJbmNyZW1lbnQgKiBzbnBvcy5pbmRleCkgKiBzbnBvcy5vcmllbnRhdGlvbjtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnYXBwbHlNdWx0aWxpbmtDdXJ2ZVJvdXRpbmcsIGxpbms6ICcgKyBsaW5rICsgJywgY3VydmluZXNzOiAnICsgbGluay5jdXJ2aW5lc3MpOyBcclxuICAgIH1cclxuXHJcbiAgICAvLyBkbyBub3JtYWwgc3RyYWlnaHQgbGluZXMgZm9yIGZyZWVoYW5kIGxheW91dCwgb3IgbGlua3MgYmV0d2VlbiBkZXNjZW5kYW50cyBvZiB0aGluZ3Mgd2l0aCBkaWZmZXJlbnQgbGF5b3V0c1xyXG4gICAgZnVuY3Rpb24gYXBwbHlTdHJhaWdodFJvdXRpbmcobGluaykge1xyXG4gICAgICAgIGxpbmsuZnJvbVNwb3QgPSBnby5TcG90LkRlZmF1bHQ7XHJcbiAgICAgICAgbGluay50b1Nwb3QgPSBnby5TcG90LkRlZmF1bHQ7XHJcbiAgICAgICAgbGluay5yb3V0aW5nID0gZ28uTGluay5Ob3JtYWw7XHJcbiAgICAgICAgbGluay5jdXJ2ZSA9IGdvLkxpbmsuTm9uZTtcclxuICAgICAgICBsaW5rLmN1cnZpbmVzcyA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tIGNhbGN1bGF0ZSBob3cgbWFueSBsaW5rcyB0aGVyZSBhcmUgYmV0d2VlbiBhIGxpbmsncyBub2RlcyAtLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgICAvLyBSZXR1cm5zIGFuIG9iamVjdCBvZiB0aGUgZm9ybWF0IHsgaW5kZXg6IDEsIGNvdW50OiAyLCBvcmllbnRhdGlvbjogLTEsIGhhc1JUaGluZzogZmFsc2UgfSwgXHJcbiAgICAvLyBpbmRpY2F0aW5nIGhvdyBtYW55IG90aGVyIGxpbmtzIHRoZXJlIGFyZSBiZXR3ZWVuIHRoZSBzYW1lIHBhaXIgb2Ygbm9kZXMsXHJcbiAgICAvLyB3aGVyZSB0aGUgZ2l2ZW4gbGluayBmYWxscyB3aXRoaW4gdGhpcyBsaXN0LCBhbmQgd2hhdCBpdHMgb3JpZW50YXRpb24gaXMuXHJcbiAgICB0aGlzLmdldFNhbWVOb2Rlc0xpbmtQb3NpdGlvbiA9IGZ1bmN0aW9uKGxpbmspIHtcclxuICAgICAgICB2YXIgbGlua3NCeU5vZGVzID0gZ2V0TGlua3NCeU5vZGVzKHRydWUpO1xyXG4gICAgICAgIC8vIGdldCBsaW5rcyB3aXRoIHRoZSBzYW1lIGtleSBhcyB0aGlzIG9uZSAoY29ubmVjdGluZyBzYW1lIG5vZGVzKVxyXG4gICAgICAgIHZhciBzYW1lTGlua3MgPSBfLndoZXJlKGxpbmtzQnlOb2Rlcywge1xyXG4gICAgICAgICAgICBrZXk6IGdldFNhbWVOb2Rlc0xpbmtLZXkobGluaylcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gZGVmYXVsdCByZXR1cm4gdmFsdWVcclxuICAgICAgICB2YXIgc25wb3MgPSB7XHJcbiAgICAgICAgICAgIGluZGV4OiAwLFxyXG4gICAgICAgICAgICBjb3VudDogMSxcclxuICAgICAgICAgICAgb3JpZW50YXRpb246IDEsXHJcbiAgICAgICAgICAgIGhhc1JUaGluZzogZmFsc2VcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIHNldCBpbmRleCwgY291bnQsIG9yaWVudGF0aW9uXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzYW1lTGlua3MubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKHNhbWVMaW5rc1tpXS5saW5rID09IGxpbmspIHtcclxuICAgICAgICAgICAgICAgIHNucG9zID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIGluZGV4OiBpLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvdW50OiBzYW1lTGlua3MubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgICAgIG9yaWVudGF0aW9uOiBnZXRMaW5rT3JpZW50YXRpb24obGluaylcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gY2hlY2sgZm9yIFJ0aGluZ1xyXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBzYW1lTGlua3MubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKHNhbWVMaW5rc1tpXS5oYXNSVGhpbmcpIHtcclxuICAgICAgICAgICAgICAgIHNucG9zLmhhc1JUaGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHNucG9zO1xyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgX2xpbmtzQnlOb2RlcyA9IG51bGw7XHJcblxyXG4gICAgLy8gcmVmcmVzaGVzIHRoZSBjYWNoZWQgbGlzdCBvZiBhbGwgbGlua3Mgd2l0aCBrZXlzLCB0byBmYWNpbGl0YXRlIGdyb3VwaW5nIHRoZW0gYWNjb3JkaW5nIHRvIGNvbm5lY3RlZCBub2Rlc1xyXG4gICAgZnVuY3Rpb24gZ2V0TGlua3NCeU5vZGVzKHJlZnJlc2gpIHtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKCdnZXRMaW5rc0J5Tm9kZXMnKTtcclxuICAgICAgICBpZiAoIXNlbGYuX2xpbmtzQnlOb2RlcyB8fCByZWZyZXNoKSB7XHJcbiAgICAgICAgICAgIHNlbGYuX2xpbmtzQnlOb2RlcyA9IFtdO1xyXG4gICAgICAgICAgICB2YXIgZGlhZ3JhbSA9IG1hcC5nZXREaWFncmFtKCk7XHJcbiAgICAgICAgICAgIHZhciBsaW5rcyA9IGRpYWdyYW0ubGlua3MuaXRlcmF0b3I7XHJcbiAgICAgICAgICAgIHdoaWxlIChsaW5rcy5uZXh0KCkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBsaW5rID0gbGlua3MudmFsdWU7XHJcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0gZ2V0U2FtZU5vZGVzTGlua0tleShsaW5rKTtcclxuICAgICAgICAgICAgICAgIGlmIChrZXkpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLl9saW5rc0J5Tm9kZXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleToga2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5rOiBsaW5rLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNSVGhpbmc6IChsaW5rLmxhYmVsTm9kZXMuY291bnQgPiAwKVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzZWxmLl9saW5rc0J5Tm9kZXM7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmV0dXJucyBhIGtleSB1c2VkIHRvIGdyb3VwIGxpbmtzIGFjY29yZGluZyB0byB3aGljaCBwYWlyIG9mIG5vZGVzIHRoZXkgY29ubmVjdC5cclxuICAgIC8vIFRoZSByZXR1cm5lZCBrZXkgaXMgbm9uLWVtcHR5IGZvciByZWd1bGFyIGxpbmtzIGFuZCBQIGxpbmtzIHRoYXQgc2hvdWxkIGJlIHNob3duIGN1cnJlbnRseSxcclxuICAgIC8vIHNvIHRoYXQgdGhlc2Ugd2lsbCBhbGwgYmUgcm91dGVkIGJ5IHRoZSBzYW1lIHJ1bGVzLiBBIG51bGwga2V5IGlzIHJldHVybmVkIGZvciBhbnkgb3RoZXIgXHJcbiAgICAvLyBsaW5rcywgaW5kaWNhdGluZyB0aGF0IG5vIGdyb3VwaW5nIGlzIHJlcXVpcmVkLlxyXG4gICAgZnVuY3Rpb24gZ2V0U2FtZU5vZGVzTGlua0tleShsaW5rKSB7XHJcbiAgICAgICAgLy8gICAgICAgIGlmIChzZWxmLmlzUkxpbmsobGluaykgfHwgKHNlbGYuaXNQTGluayhsaW5rKSAmJiBtYXAuZ2V0VGVtcGxhdGVzKCkuc2hvd1BMaW5rKGxpbmspKSkge1xyXG4gICAgICAgIGlmIChzZWxmLmlzUkxpbmsobGluaykpIHtcclxuICAgICAgICAgICAgdmFyIGtleSA9IFtsaW5rLmZyb21Ob2RlLnRvU3RyaW5nKCksIGxpbmsudG9Ob2RlLnRvU3RyaW5nKCldLnNvcnQoKS5qb2luKCd8Jyk7XHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ2tleTogJyArIGtleSk7XHJcbiAgICAgICAgICAgIHJldHVybiBrZXk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFdlIHVzZSB0aGlzIHRvIGRpc3Rpbmd1aXNoIGFuIEEtQiBsaW5rIGZyb20gYSBCLUEgbGluayAoYmFzZWQgb24gZnJvbU5vZGUgYW5kIHRvTm9kZSwgd2hpY2hcclxuICAgIC8vIGlzIGluZGVwZW5kZW50IG9mIHRoZSBhcnJvd2hlYWQgc2V0dGluZ3MpIHdoZW4gc2V0dGluZyBjdXJ2aW5lc3MsIGJlY2F1c2Ugc2V0dGluZyBjdXJ2aW5lc3MgPSAyNVxyXG4gICAgLy8gb24gYW4gQS1CIGxpbmsgaXMgdGhlIHNhbWUgYXMgY3VydmluZXNzID0gLTI1IG9uIGEgQi1BIGxpbmsuXHJcbiAgICBmdW5jdGlvbiBnZXRMaW5rT3JpZW50YXRpb24obGluaykge1xyXG4gICAgICAgIGlmIChsaW5rLmZyb21Ob2RlICYmIGxpbmsudG9Ob2RlICYmIGxpbmsuZnJvbU5vZGUudG9TdHJpbmcoKSA8IGxpbmsudG9Ob2RlLnRvU3RyaW5nKCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIDE7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0tLSBsaW5rIHRlc3RzIC0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgIHRoaXMuaXNSTGluayA9IGZ1bmN0aW9uKGxpbmspIHtcclxuICAgICAgICByZXR1cm4gbGluayBpbnN0YW5jZW9mIGdvLkxpbmsgJiYgbGluay5kYXRhICYmIGxpbmsuZGF0YS5jYXRlZ29yeSA9PT0gdW5kZWZpbmVkICYmIGxpbmsuZnJvbU5vZGUgJiYgbGluay50b05vZGU7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuaXNETGluayA9IGZ1bmN0aW9uKGxpbmspIHtcclxuICAgICAgICByZXR1cm4gbGluayBpbnN0YW5jZW9mIGdvLkxpbmsgJiYgbGluay5kYXRhICYmIGxpbmsuZGF0YS5jYXRlZ29yeSA9PSAnRCc7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuaXNQTGluayA9IGZ1bmN0aW9uKGxpbmspIHtcclxuICAgICAgICByZXR1cm4gbGluayBpbnN0YW5jZW9mIGdvLkxpbmsgJiYgbGluay5kYXRhICYmIGxpbmsuZGF0YS5jYXRlZ29yeSA9PSAnUCc7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuaXNHcm91cCA9IGZ1bmN0aW9uKG9iaikge1xyXG4gICAgICAgIHJldHVybiBvYmogaW5zdGFuY2VvZiBnby5Hcm91cDtcclxuICAgIH07XHJcbn07IiwiLy8gZnVuY3Rpb25zIGZvciBjcmVhdGluZyBhbmQgbWFuaXB1bGF0aW5nIHRoZSBtYXAgKGkuZS4gRGlhZ3JhbSlcclxuXHJcblNhbmRiYW5rRWRpdG9yLk1hcCA9IGZ1bmN0aW9uKCRzY29wZSwgJGh0dHAsICRyZXNvdXJjZSwgJHRpbWVvdXQsICRtb2RhbCwgJGxvZykge1xyXG5cclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAvLyAtLS0tLS0tLS0tLSBjb25zdGFudHMgLS0tLS0tLS0tLS0tLS0tXHJcbiAgICB0aGlzLkxFRlQgPSAnbGVmdCc7XHJcbiAgICB0aGlzLlJJR0hUID0gJ3JpZ2h0JztcclxuXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0gaW5zdGFuY2UgdmFycyAtLS0tLS0tLS0tXHJcblxyXG4gICAgdmFyIF9kaWFncmFtID0gbnVsbDtcclxuXHJcbiAgICAvLyBjb21wb25lbnRzXHJcbiAgICB2YXIgX2FuYWx5dGljcyA9IG51bGw7XHJcbiAgICB2YXIgX2F0dGFjaG1lbnRzID0gbnVsbDtcclxuICAgIHZhciBfYXV0b3NhdmUgPSBudWxsO1xyXG4gICAgdmFyIF9nZW5lcmF0b3IgPSBudWxsO1xyXG4gICAgLy92YXIgX2hpc3RvcnkgPSBudWxsO1xyXG4gICAgdmFyIF9sYXlvdXRzID0gbnVsbDtcclxuICAgIHZhciBfcGVyc3BlY3RpdmVzID0gbnVsbDtcclxuICAgIHZhciBfcHJlc2VudGVyID0gbnVsbDtcclxuICAgIHZhciBfc3RhbmRhcmRzID0gbnVsbDtcclxuICAgIHZhciBfdGVtcGxhdGVzID0gbnVsbDtcclxuICAgIHZhciBfdGVzdHMgPSBudWxsO1xyXG4gICAgdmFyIF91aSA9IG51bGw7XHJcblxyXG4gICAgLy8gLS0tLS0tLS0tLS0tIGNvbXBvbmVudCBhY2Nlc3NvcnMgLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldENvbXBvbmVudHMoKSB7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgX2FuYWx5dGljcyxcclxuICAgICAgICAgICAgX2F0dGFjaG1lbnRzLFxyXG4gICAgICAgICAgICBfYXV0b3NhdmUsXHJcbiAgICAgICAgICAgIF9nZW5lcmF0b3IsXHJcbiAgICAgICAgICAgIC8vIF9oaXN0b3J5LCBcclxuICAgICAgICAgICAgX2xheW91dHMsXHJcbiAgICAgICAgICAgIF9wZXJzcGVjdGl2ZXMsXHJcbiAgICAgICAgICAgIF9wcmVzZW50ZXIsXHJcbiAgICAgICAgICAgIF9zdGFuZGFyZHMsXHJcbiAgICAgICAgICAgIF90ZW1wbGF0ZXMsXHJcbiAgICAgICAgICAgIF90ZXN0cyxcclxuICAgICAgICAgICAgX3VpXHJcbiAgICAgICAgXTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmdldEFuYWx5dGljcyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiBfYW5hbHl0aWNzO1xyXG4gICAgfTtcclxuICAgIHRoaXMuZ2V0QXR0YWNobWVudHMgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gX2F0dGFjaG1lbnRzO1xyXG4gICAgfTtcclxuICAgIHRoaXMuZ2V0QXV0b3NhdmUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gX2F1dG9zYXZlO1xyXG4gICAgfTtcclxuICAgIHRoaXMuZ2V0R2VuZXJhdG9yID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIF9nZW5lcmF0b3I7XHJcbiAgICB9O1xyXG4gICAgLy8gdGhpcy5nZXRIaXN0b3J5ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gX2hpc3Rvcnk7IH07XHJcbiAgICB0aGlzLmdldExheW91dHMgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gX2xheW91dHM7XHJcbiAgICB9O1xyXG4gICAgdGhpcy5nZXRQZXJzcGVjdGl2ZXMgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gX3BlcnNwZWN0aXZlcztcclxuICAgIH07XHJcbiAgICB0aGlzLmdldFByZXNlbnRlciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiBfcHJlc2VudGVyO1xyXG4gICAgfTtcclxuICAgIHRoaXMuZ2V0U3RhbmRhcmRzID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIF9zdGFuZGFyZHM7XHJcbiAgICB9O1xyXG4gICAgdGhpcy5nZXRUZW1wbGF0ZXMgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gX3RlbXBsYXRlcztcclxuICAgIH07XHJcbiAgICB0aGlzLmdldFRlc3RzID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIF90ZXN0cztcclxuICAgIH07XHJcbiAgICB0aGlzLmdldFVpID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIF91aTtcclxuICAgIH07XHJcblxyXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0gbWFwIGluaXQgLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICAgdGhpcy5pbml0ID0gZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgIC8vIGluaXRpYWxpemUgY29tcG9uZW50c1xyXG4gICAgICAgIF9hbmFseXRpY3MgPSBuZXcgU2FuZGJhbmtFZGl0b3IuQW5hbHl0aWNzKCRzY29wZSwgJGh0dHAsIHNlbGYpO1xyXG4gICAgICAgIF9hdHRhY2htZW50cyA9IG5ldyBTYW5kYmFua0VkaXRvci5BdHRhY2htZW50cygkc2NvcGUsICRodHRwLCAkcmVzb3VyY2UsIHNlbGYpO1xyXG4gICAgICAgIF9hdXRvc2F2ZSA9IG5ldyBTYW5kYmFua0VkaXRvci5BdXRvc2F2ZSgkc2NvcGUsICRodHRwLCBzZWxmKTtcclxuICAgICAgICBfZ2VuZXJhdG9yID0gbmV3IFNhbmRiYW5rRWRpdG9yLkdlbmVyYXRvcigkc2NvcGUsIHNlbGYpO1xyXG4gICAgICAgIC8vIF9oaXN0b3J5ID0gbmV3IFNhbmRiYW5rRWRpdG9yLkhpc3RvcnkoJHNjb3BlLCAkaHR0cCwgc2VsZik7XHJcbiAgICAgICAgX2xheW91dHMgPSBuZXcgU2FuZGJhbmtFZGl0b3IuTGF5b3V0cygkc2NvcGUsIHNlbGYpO1xyXG4gICAgICAgIF9wZXJzcGVjdGl2ZXMgPSBuZXcgU2FuZGJhbmtFZGl0b3IuUGVyc3BlY3RpdmVzKCRzY29wZSwgc2VsZik7XHJcbiAgICAgICAgX3ByZXNlbnRlciA9IG5ldyBTYW5kYmFua0VkaXRvci5QcmVzZW50ZXIoJHNjb3BlLCBzZWxmKTtcclxuICAgICAgICBfc3RhbmRhcmRzID0gbmV3IFNhbmRiYW5rRWRpdG9yLlN0YW5kYXJkcygkc2NvcGUsIHNlbGYpO1xyXG4gICAgICAgIF90ZW1wbGF0ZXMgPSBuZXcgU2FuZGJhbmtFZGl0b3IuVGVtcGxhdGVzKCRzY29wZSwgc2VsZik7XHJcbiAgICAgICAgX3Rlc3RzID0gbmV3IFNhbmRiYW5rRWRpdG9yLlRlc3RzKCRzY29wZSwgc2VsZik7XHJcbiAgICAgICAgX3VpID0gbmV3IFNhbmRiYW5rRWRpdG9yLlVJKCRzY29wZSwgJHRpbWVvdXQsICRodHRwLCAkcmVzb3VyY2UsICRtb2RhbCwgJGxvZywgc2VsZik7XHJcblxyXG4gICAgICAgIC8vIGNhbGwgaW5pdCBmb3IgZWFjaCBjb21wb25lbnQsIGlmIGRlZmluZWRcclxuICAgICAgICBfLmVhY2goZ2V0Q29tcG9uZW50cygpLCBmdW5jdGlvbihjb21wb25lbnQpIHtcclxuICAgICAgICAgICAgaWYgKGNvbXBvbmVudCAmJiBjb21wb25lbnQuaW5pdClcclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudC5pbml0KCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIGNyZWF0ZSBkaWFncmFtXHJcbiAgICAgICAgX2RpYWdyYW0gPSBuZXcgZ28uRGlhZ3JhbShcImRpYWdyYW1cIik7XHJcbiAgICAgICAgX2RpYWdyYW0uaW5pdGlhbENvbnRlbnRBbGlnbm1lbnQgPSBnby5TcG90LkNlbnRlcjtcclxuICAgICAgICBfZGlhZ3JhbS5pbml0aWFsVmlld3BvcnRTcG90ID0gZ28uU3BvdC5DZW50ZXI7XHJcbiAgICAgICAgX2RpYWdyYW0uaW5pdGlhbERvY3VtZW50U3BvdCA9IGdvLlNwb3QuQ2VudGVyO1xyXG4gICAgICAgIF9kaWFncmFtLmhhc0hvcml6b250YWxTY3JvbGxiYXIgPSBmYWxzZTtcclxuICAgICAgICBfZGlhZ3JhbS5oYXNWZXJ0aWNhbFNjcm9sbGJhciA9IGZhbHNlO1xyXG4gICAgICAgIF9kaWFncmFtLnBhZGRpbmcgPSA1MDA7XHJcbiAgICAgICAgX2RpYWdyYW0ubGF5b3V0ID0gX2xheW91dHMuZ2V0RnJlZWhhbmREaWFncmFtTGF5b3V0KCk7XHJcblxyXG4gICAgICAgIGluaXRUb29scygpO1xyXG4gICAgICAgIF90ZW1wbGF0ZXMuaW5pdFRlbXBsYXRlcyhfZGlhZ3JhbSk7IC8vIHNldCB1cCB0ZW1wbGF0ZXMsIGN1c3RvbWl6ZSB0ZW1wb3JhcnkgbGluayBiZWhhdmlvciBcclxuICAgICAgICBhZGREaWFncmFtTGlzdGVuZXJzKCk7XHJcblxyXG4gICAgICAgIF90ZW1wbGF0ZXMuYWRkRXhwb3J0Rm9vdGVyKCk7XHJcblxyXG4gICAgICAgIC8vIHdhdGNoIGZvciB0YWIgY2hhbmdlc1xyXG4gICAgICAgIC8vIFRPRE86IHJlc3RvcmUgbm9uLUFuZ3VsYXIgdmVyc2lvbiBvZiB0aGlzXHJcbiAgICAgICAgLy8kc2NvcGUuJHdhdGNoKCdjdXJyZW50VGFiJywgZnVuY3Rpb24obmV3VmFsdWUsIG9sZFZhbHVlKSB7XHJcbiAgICAgICAgLy8gICAgc2VsZi5jdXJyZW50VGFiQ2hhbmdlZChuZXdWYWx1ZSwgb2xkVmFsdWUpO1xyXG4gICAgICAgIC8vfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIHRoaXMgaXMgY2FsbGVkIGJ5IGEgJHNjb3BlLiR3YXRjaCBpbiBpbml0KClcclxuICAgIHRoaXMuY3VycmVudFRhYkNoYW5nZWQgPSBmdW5jdGlvbihuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnY3VycmVudFRhYkNoYW5nZWQsIG5ld1ZhbHVlOiAnICsgbmV3VmFsdWUgKyAnLCBvbGRWYWx1ZTogJyArIG9sZFZhbHVlKTtcclxuICAgICAgICAvLyBub3RpZnkgYW55IGludGVyZXN0ZWQgY29tcG9uZW50c1xyXG4gICAgICAgIF8uZWFjaChnZXRDb21wb25lbnRzKCksIGZ1bmN0aW9uKGNvbXBvbmVudCkge1xyXG4gICAgICAgICAgICBpZiAoY29tcG9uZW50ICYmIGNvbXBvbmVudC5jdXJyZW50VGFiQ2hhbmdlZCkge1xyXG4gICAgICAgICAgICAgICAgY29tcG9uZW50LmN1cnJlbnRUYWJDaGFuZ2VkKG5ld1ZhbHVlLCBvbGRWYWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8kc2NvcGUuc2FmZUFwcGx5KCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZ2V0RGlhZ3JhbSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiBfZGlhZ3JhbTtcclxuICAgIH07XHJcblxyXG4gICAgLy8gbWlzYy4gdG9vbCBjb25maWd1cmF0aW9uXHJcbiAgICBmdW5jdGlvbiBpbml0VG9vbHMoKSB7XHJcbiAgICAgICAgLy8gZGlzYWJsZSBjbGlja2luZyBvbiBUZXh0QmxvY2tzIHRvIGVkaXQgLSB3ZSB3aWxsIGludm9rZSBlZGl0aW5nIGluIG90aGVyIHdheXNcclxuICAgICAgICBfZGlhZ3JhbS5hbGxvd1RleHRFZGl0ID0gZmFsc2U7XHJcblxyXG4gICAgICAgIC8vIHNlbGVjdCB0ZXh0IHdoZW4gYWN0aXZhdGluZyBlZGl0b3I7IFxyXG4gICAgICAgIC8vIHVzZSBzaGlmdC1lbnRlciB0byBjcmVhdGUgbmV3IGxpbmVzLCBlbnRlciB0byBmaW5pc2ggZWRpdGluZyAoTkI6IGVkaXRvciBoYXMgbXVsdGlsaW5lPXRydWUpXHJcbiAgICAgICAgdmFyIHRleHRUb29sID0gX2RpYWdyYW0udG9vbE1hbmFnZXIudGV4dEVkaXRpbmdUb29sO1xyXG4gICAgICAgIHRleHRUb29sLmRvQWN0aXZhdGUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgZ28uVGV4dEVkaXRpbmdUb29sLnByb3RvdHlwZS5kb0FjdGl2YXRlLmNhbGwodGV4dFRvb2wpO1xyXG4gICAgICAgICAgICBpZiAodGV4dFRvb2wuZGVmYXVsdFRleHRFZGl0b3IgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHRleHRUb29sLmRlZmF1bHRUZXh0RWRpdG9yLnNlbGVjdCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRleHRUb29sLmRlZmF1bHRUZXh0RWRpdG9yLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZS53aGljaCA9PSAxMyAmJiAhZS5zaGlmdEtleSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBnby5UZXh0RWRpdGluZ1Rvb2wucHJvdG90eXBlLmFjY2VwdFRleHQuY2FsbCh0ZXh0VG9vbCwgZ28uVGV4dEVkaXRpbmdUb29sLkxvc3RGb2N1cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBoYW5kbGUgZGVsZXRlIGtleSBvbiBNYWMgKGRlZmF1bHQgYmVoYXZpb3Igb25seSB1c2VzIGZuLURlbGV0ZSB0byBkZWxldGUgZnJvbSBjYW52YXMpXHJcbiAgICAgICAgX2RpYWdyYW0uY29tbWFuZEhhbmRsZXIuZG9LZXlEb3duID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciBlID0gX2RpYWdyYW0ubGFzdElucHV0O1xyXG4gICAgICAgICAgICB2YXIgY21kID0gX2RpYWdyYW0uY29tbWFuZEhhbmRsZXI7XHJcbiAgICAgICAgICAgIGlmIChlLmV2ZW50LndoaWNoID09PSA4KSB7XHJcbiAgICAgICAgICAgICAgICBjbWQuZGVsZXRlU2VsZWN0aW9uKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBnby5Db21tYW5kSGFuZGxlci5wcm90b3R5cGUuZG9LZXlEb3duLmNhbGwoY21kKTsgLy8gY2FsbCBiYXNlIG1ldGhvZCB3aXRoIG5vIGFyZ3VtZW50c1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gW2Rpc2FibGUga2V5Ym9hcmQgc2hvcnRjdXRzLCBhcyB0aGVzZSBkbyBub3QgZG8gY2VudGVyaW5nIG9uIHpvb20sIFxyXG4gICAgICAgIC8vIGFuZCBjYW4gbGVhZCB0byBjb25mdXNpb24gd2l0aCBicm93c2VyIHpvb20gKHdoaWNoIGdldHMgZmlyZWQgZGVwZW5kcyBvbiBmb2N1cyldXHJcbiAgICAgICAgLy8gLSB0dXJuZWQgYmFjayBvbiB0byBzdXBwb3J0IHBpbmNoL3pvb20gb24gaVBhZFxyXG4gICAgICAgIF9kaWFncmFtLmFsbG93Wm9vbSA9IHRydWU7XHJcblxyXG4gICAgICAgIF9kaWFncmFtLnRvb2xNYW5hZ2VyLm1vdXNlV2hlZWxCZWhhdmlvciA9IGdvLlRvb2xNYW5hZ2VyLldoZWVsWm9vbTtcclxuXHJcbiAgICAgICAgLy8gZGVjaWRlIHdoYXQga2luZHMgb2YgUGFydHMgY2FuIGJlIGFkZGVkIHRvIGEgR3JvdXAgb3IgdG8gdG9wLWxldmVsXHJcbiAgICAgICAgLy8gX2RpYWdyYW0uY29tbWFuZEhhbmRsZXIubWVtYmVyVmFsaWRhdGlvbiA9IGZ1bmN0aW9uIChncnAsIG5vZGUpIHtcclxuICAgICAgICAvLyAgICAgLy9pZiAoZ3JwIGluc3RhbmNlb2YgZ28uR3JvdXAgJiYgbm9kZSBpbnN0YW5jZW9mIGdvLkdyb3VwKSByZXR1cm4gZmFsc2U7ICAvLyBjYW5ub3QgYWRkIEdyb3VwcyB0byBHcm91cHNcclxuICAgICAgICAvLyAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgLy8gfTtcclxuXHJcbiAgICAgICAgLy8gZGVmYXVsdCBsaW5rIGF0dHJpYnV0ZXNcclxuICAgICAgICBfZGlhZ3JhbS50b29sTWFuYWdlci5saW5raW5nVG9vbC5hcmNoZXR5cGVMaW5rRGF0YSA9IHtcclxuICAgICAgICAgICAgdHlwZTogJ25vQXJyb3dzJ1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIGFsbG93IGRvdWJsZS1jbGljayBpbiBiYWNrZ3JvdW5kIHRvIGNyZWF0ZSBhIG5ldyBub2RlXHJcbiAgICAgICAgX2RpYWdyYW0udG9vbE1hbmFnZXIuY2xpY2tDcmVhdGluZ1Rvb2wuYXJjaGV0eXBlTm9kZURhdGEgPSBnZXROZXdUaGluZ0RhdGEoKTtcclxuXHJcbiAgICAgICAgLy8gaG93IGxvbmcgbW91c2UgbXVzdCBiZSBoZWxkIHN0YXRpb25hcnkgYmVmb3JlIHN0YXJ0aW5nIGEgZHJhZy1zZWxlY3QgKGluc3RlYWQgb2YgYSBzY3JvbGwpIC0gZGVmYXVsdCB3YXMgMTc1bXNcclxuICAgICAgICBfZGlhZ3JhbS50b29sTWFuYWdlci5kcmFnU2VsZWN0aW5nVG9vbC5kZWxheSA9IDQwMDtcclxuICAgIH1cclxuXHJcbiAgICAvLyAtLS0tLS0tLS0tLSBoYW5kbGluZyBvZiBEaWFncmFtRXZlbnRzIC0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICAgZnVuY3Rpb24gYWRkRGlhZ3JhbUxpc3RlbmVycygpIHtcclxuXHJcbiAgICAgICAgLy8gRGlhZ3JhbUV2ZW50cyB0byBiZSBoYW5kbGVkIGhlcmUgb3IgYnkgYSBjb21wb25lbnRcclxuICAgICAgICB2YXIgZGlhZ3JhbUV2ZW50cyA9IFtcclxuICAgICAgICAgICAgXCJJbml0aWFsTGF5b3V0Q29tcGxldGVkXCIsXHJcbiAgICAgICAgICAgIFwiQ2hhbmdlZFNlbGVjdGlvblwiLFxyXG4gICAgICAgICAgICBcIkJhY2tncm91bmRTaW5nbGVDbGlja2VkXCIsXHJcbiAgICAgICAgICAgIFwiU2VsZWN0aW9uQ29waWVkXCIsXHJcbiAgICAgICAgICAgIFwiU2VsZWN0aW9uTW92ZWRcIixcclxuICAgICAgICAgICAgXCJTZWxlY3Rpb25EZWxldGluZ1wiLFxyXG4gICAgICAgICAgICBcIlNlbGVjdGlvbkRlbGV0ZWRcIixcclxuICAgICAgICAgICAgXCJQYXJ0Q3JlYXRlZFwiLFxyXG4gICAgICAgICAgICBcIlBhcnRSZXNpemVkXCIsXHJcbiAgICAgICAgICAgIFwiQ2xpcGJvYXJkQ2hhbmdlZFwiLFxyXG4gICAgICAgICAgICBcIkNsaXBib2FyZFBhc3RlZFwiLFxyXG4gICAgICAgICAgICBcIkxpbmtEcmF3blwiLFxyXG4gICAgICAgICAgICBcIkxpbmtSZWxpbmtlZFwiLFxyXG4gICAgICAgICAgICBcIlZpZXdwb3J0Qm91bmRzQ2hhbmdlZFwiXHJcbiAgICAgICAgXTtcclxuICAgICAgICBfLmVhY2goZGlhZ3JhbUV2ZW50cywgZnVuY3Rpb24oZXZlbnROYW1lKSB7XHJcbiAgICAgICAgICAgIF9kaWFncmFtLmFkZERpYWdyYW1MaXN0ZW5lcihldmVudE5hbWUsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIGJyb2FkY2FzdERpYWdyYW1FdmVudChldmVudE5hbWUsIGUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgX2RpYWdyYW0uYWRkRGlhZ3JhbUxpc3RlbmVyKFwiQmFja2dyb3VuZENvbnRleHRDbGlja2VkXCIsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgLy8gVE9ETzogdHVybiBvZmYgaW4gcHJvZHVjdGlvblxyXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdkaWFncmFtIG1vZGVsOicgKyBfZGlhZ3JhbS5tb2RlbC50b0pzb24oKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gYnJvYWRjYXN0cyB0aGUgZ2l2ZW4gRGlhZ3JhbUV2ZW50IChzZWUgYXBpZG9jcyBmb3IgZ28uRGlhZ3JhbUV2ZW50KVxyXG4gICAgLy8gdG8gYW55IGNvbXBvbmVudHMgdGhhdCBtYXkgYmUgaW50ZXJlc3RlZCwgaW5jbHVkaW5nIHRoaXMgb25lLlxyXG4gICAgZnVuY3Rpb24gYnJvYWRjYXN0RGlhZ3JhbUV2ZW50KGV2ZW50TmFtZSwgZSkge1xyXG4gICAgICAgIHNlbGYuaGFuZGxlRGlhZ3JhbUV2ZW50KGV2ZW50TmFtZSwgZSk7XHJcbiAgICAgICAgXy5lYWNoKGdldENvbXBvbmVudHMoKSwgZnVuY3Rpb24oY29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgIGlmIChjb21wb25lbnQgJiYgY29tcG9uZW50LmhhbmRsZURpYWdyYW1FdmVudClcclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudC5oYW5kbGVEaWFncmFtRXZlbnQoZXZlbnROYW1lLCBlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAkc2NvcGUuc2FmZUFwcGx5KCk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5oYW5kbGVEaWFncmFtRXZlbnQgPSBmdW5jdGlvbihldmVudE5hbWUsIGUpIHtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKCdoYW5kbGVEaWFncmFtRXZlbnQ6ICcgKyBldmVudE5hbWUpO1xyXG4gICAgICAgIGlmIChldmVudE5hbWUgPT0gJ0NoYW5nZWRTZWxlY3Rpb24nKSB7XHJcbiAgICAgICAgICAgIGNoYW5nZWRTZWxlY3Rpb24oZSk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChldmVudE5hbWUgPT0gJ1NlbGVjdGlvbkNvcGllZCcpIHtcclxuICAgICAgICAgICAgc2VsZWN0aW9uQ29waWVkKGUpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZXZlbnROYW1lID09ICdQYXJ0Q3JlYXRlZCcpIHtcclxuICAgICAgICAgICAgcGFydENyZWF0ZWQoZSk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChldmVudE5hbWUgPT0gJ0JhY2tncm91bmRTaW5nbGVDbGlja2VkJykge1xyXG4gICAgICAgICAgICBfdWkuc2hvd0hlbHBUaXAoJ2NhbnZhc1RpcCcpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZXZlbnROYW1lID09ICdMaW5rRHJhd24nKSB7XHJcbiAgICAgICAgICAgIGxpbmtEcmF3bihlKTtcclxuICAgICAgICAgICAgc2V0TmV3TGlua0RpcmVjdGlvbihlKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGV2ZW50TmFtZSA9PSAnTGlua1JlbGlua2VkJykge1xyXG4gICAgICAgICAgICBsaW5rUmVsaW5rZWQoZSk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChldmVudE5hbWUgPT0gJ0NsaXBib2FyZENoYW5nZWQnKSB7XHJcbiAgICAgICAgICAgIGNsaXBib2FyZENoYW5nZWQoZSk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChldmVudE5hbWUgPT0gJ0NsaXBib2FyZFBhc3RlZCcpIHtcclxuICAgICAgICAgICAgY2xpcGJvYXJkUGFzdGVkKGUpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy8gaGFuZGxlIHpvb20gdG8gcmVnaW9uIGlmIGFwcGxpY2FibGVcclxuICAgIGZ1bmN0aW9uIGNoYW5nZWRTZWxlY3Rpb24oZSkge1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coJ21hcC5jaGFuZ2VkU2VsZWN0aW9uJyk7XHJcbiAgICAgICAgX2RpYWdyYW0udXBkYXRlQWxsVGFyZ2V0QmluZGluZ3MoKTtcclxuICAgICAgICBfdWkubWF5YmVab29tVG9SZWdpb24oKTtcclxuICAgICAgICBpZiAoc2VsZi5yZWxhdGlvbnNoaXBzU2VsZWN0ZWQoKSkge1xyXG4gICAgICAgICAgICBfdWkuc2hvd0hlbHBUaXAoJ3JlbGF0aW9uc2hpcFRpcCcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBwYXJ0Q3JlYXRlZChlKSB7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZygnTWFwLCBQYXJ0Q3JlYXRlZCcpO1xyXG4gICAgICAgIHZhciBncm91cCA9IGUuc3ViamVjdDtcclxuICAgICAgICBpZiAoIShncm91cCBpbnN0YW5jZW9mIGdvLkdyb3VwKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIF9kaWFncmFtLm1vZGVsLnNldERhdGFQcm9wZXJ0eShncm91cC5kYXRhLCAnbGF5b3V0JywgX3VpLmdldE1hcEVkaXRvck9wdGlvbnMoKS5kZWZhdWx0VGhpbmdMYXlvdXQgfHwgJ2xlZnQnKTtcclxuICAgICAgICBfbGF5b3V0cy5zZXROZXdQYXJ0TG9jYXRpb25EYXRhKGUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGZpeCBsaW5rIHBvcnRzIHdoZW4gYSBsaW5rIGlzIGNyZWF0ZWQgLSBcclxuICAgIC8vIHRoZSBQIGFuZCBSIHBvcnRzIGJvdGggY292ZXIgdGhlIHdob2xlIG5vZGUsIGFuZCB0aGUgUCBwb3J0IGlzIG9uIHRvcCBvZiB0aGUgUiBwb3J0LCBcclxuICAgIC8vIHNvIGJvdGggUCBhbmQgUiBsaW5rcyBnZXQgdGhlIHRvUG9ydCBzZXQgdG8gUCBieSBkZWZhdWx0LlxyXG4gICAgZnVuY3Rpb24gbGlua0RyYXduKGUpIHtcclxuICAgICAgICB2YXIgbGluayA9IGUuc3ViamVjdDtcclxuICAgICAgICBjb25zb2xlLmxvZygnbGlua0RyYXduLCBsaW5rOiAnICsgbGluayArICcsIGZyb21Qb3J0OiAnICsgbGluay5mcm9tUG9ydElkICsgJywgdG9Qb3J0OiAnICsgbGluay50b1BvcnRJZCk7XHJcbiAgICAgICAgaWYgKGxpbmsuZnJvbVBvcnRJZCA9PSAnUCcpIHtcclxuICAgICAgICAgICAgX2RpYWdyYW0ubW9kZWwuc3RhcnRUcmFuc2FjdGlvbihcImNoYW5nZSBsaW5rIGNhdGVnb3J5XCIpO1xyXG4gICAgICAgICAgICBfZGlhZ3JhbS5tb2RlbC5zZXREYXRhUHJvcGVydHkobGluay5kYXRhLCAndG9Qb3J0JywgJ1AnKTtcclxuICAgICAgICAgICAgX2RpYWdyYW0ubW9kZWwuc2V0RGF0YVByb3BlcnR5KGxpbmsuZGF0YSwgJ2NhdGVnb3J5JywgJ1AnKTtcclxuICAgICAgICAgICAgX2RpYWdyYW0ubW9kZWwuY29tbWl0VHJhbnNhY3Rpb24oXCJjaGFuZ2UgbGluayBjYXRlZ29yeVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gcHJldmVudCBsaW5rcyBmcm9tIFIgdG8gUFxyXG4gICAgICAgIGVsc2UgaWYgKGxpbmsuZnJvbVBvcnRJZCA9PSAnUicpIHtcclxuICAgICAgICAgICAgX2RpYWdyYW0ubW9kZWwuc3RhcnRUcmFuc2FjdGlvbihcImNoYW5nZSBsaW5rIHRvUG9ydFwiKTtcclxuICAgICAgICAgICAgX2RpYWdyYW0ubW9kZWwuc2V0RGF0YVByb3BlcnR5KGxpbmsuZGF0YSwgJ3RvUG9ydCcsICdSJyk7XHJcbiAgICAgICAgICAgIF9kaWFncmFtLm1vZGVsLmNvbW1pdFRyYW5zYWN0aW9uKFwiY2hhbmdlIGxpbmsgdG9Qb3J0XCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBmaXggbGluayBwb3J0cyB3aGVuIGEgbGluayBpcyByZWxpbmtlZCAtIFxyXG4gICAgLy8gZHJhZ2dpbmcgZWl0aGVyIGVuZCBvZiBhbiBSLWxpbmsgdG8gYW5vdGhlciBub2RlIHdpbGwgc2V0IHRoZSBjb3JyZXNwb25kaW5nIHBvcnQgdG8gUCwgXHJcbiAgICAvLyBzaW5jZSBQIHBvcnQgaXMgb24gdG9wIG9mIFIgcG9ydCwgc28gd2UgcmVzZXQgYm90aCBwb3J0cyB0byBSIGlmIHRoZSBjYXRlZ29yeSBpcyBub3QgUC5cclxuICAgIGZ1bmN0aW9uIGxpbmtSZWxpbmtlZChlKSB7XHJcbiAgICAgICAgdmFyIGxpbmsgPSBlLnN1YmplY3Q7XHJcbiAgICAgICAgaWYgKGxpbmsuZGF0YS5jYXRlZ29yeSA9PT0gdW5kZWZpbmVkIHx8IGxpbmsuZGF0YS5jYXRlZ29yeSAhPT0gJ1AnKSB7XHJcbiAgICAgICAgICAgIF9kaWFncmFtLm1vZGVsLnNldERhdGFQcm9wZXJ0eShsaW5rLmRhdGEsICdmcm9tUG9ydCcsICdSJyk7XHJcbiAgICAgICAgICAgIF9kaWFncmFtLm1vZGVsLnNldERhdGFQcm9wZXJ0eShsaW5rLmRhdGEsICd0b1BvcnQnLCAnUicpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzZXROZXdMaW5rRGlyZWN0aW9uKGUpIHtcclxuICAgICAgICB2YXIgbGluayA9IGUuc3ViamVjdDtcclxuICAgICAgICBpZiAobGluay5mcm9tUG9ydElkID09ICdSJykge1xyXG4gICAgICAgICAgICBfZGlhZ3JhbS5tb2RlbC5zdGFydFRyYW5zYWN0aW9uKFwiY2hhbmdlIGxpbmsgZGlyZWN0aW9uXCIpO1xyXG4gICAgICAgICAgICBfZGlhZ3JhbS5tb2RlbC5zZXREYXRhUHJvcGVydHkobGluay5kYXRhLCAndHlwZScsIF91aS5nZXRNYXBFZGl0b3JPcHRpb25zKCkuZGVmYXVsdFJlbGF0aW9uc2hpcERpcmVjdGlvbik7XHJcbiAgICAgICAgICAgIF9kaWFncmFtLmNvbW1pdFRyYW5zYWN0aW9uKFwiY2hhbmdlIGxpbmsgZGlyZWN0aW9uXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjbGlwYm9hcmRDaGFuZ2VkKGUpIHtcclxuICAgICAgICB2YXIgcGFydHMgPSBlLnN1YmplY3QuaXRlcmF0b3I7XHJcbiAgICAgICAgd2hpbGUgKHBhcnRzLm5leHQoKSkge1xyXG4gICAgICAgICAgICB2YXIgcGFydCA9IHBhcnRzLnZhbHVlO1xyXG4gICAgICAgICAgICBpZiAocGFydCBpbnN0YW5jZW9mIGdvLkdyb3VwKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnY2xpcGJvYXJkQ2hhbmdlZDogcGFydCAnICsgcGFydCArICcsIG1haW5wYW5lbCBzY2FsZTogJyArIHBhcnQuZmluZE9iamVjdCgnbWFpbnBhbmVsJykuc2NhbGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIE5COiB0aGlzIGlzIGNhbGxlZCB3aGVuIHBhcnRzIGFyZSBjb3BpZWQgYnkgY29udHJvbC1kcmFnLCBOT1Qgd2hlbiB0aGUgY29weSBidXR0b24gaXMgY2xpY2tlZFxyXG4gICAgZnVuY3Rpb24gc2VsZWN0aW9uQ29waWVkKGUpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnc2VsZWN0aW9uQ29waWVkJyk7XHJcbiAgICAgICAgdmFyIHBhcnRzID0gZS5zdWJqZWN0Lml0ZXJhdG9yO1xyXG4gICAgICAgIHdoaWxlIChwYXJ0cy5uZXh0KCkpIHtcclxuICAgICAgICAgICAgdmFyIHBhcnQgPSBwYXJ0cy52YWx1ZTtcclxuICAgICAgICAgICAgaWYgKHBhcnQgaW5zdGFuY2VvZiBnby5Hcm91cCAmJiBwYXJ0LmlzVG9wTGV2ZWwpIHtcclxuICAgICAgICAgICAgICAgIHZhciBsb2MgPSBnby5Qb2ludC5wYXJzZShwYXJ0LmRhdGEubG9jKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzZWxlY3Rpb25Db3BpZWQ6IHVwZGF0aW5nIGxvYyBvZiBwYXJ0ICcgKyBwYXJ0ICsgJyA9ICcgKyBsb2MgKyAnLCBzY2FsZTogJyArIHBhcnQuc2NhbGUpO1xyXG4gICAgICAgICAgICAgICAgX2RpYWdyYW0ubW9kZWwuc2V0RGF0YVByb3BlcnR5KHBhcnQuZGF0YSwgJ2xvYycsIChsb2MueCArIDUwKSArICcgJyArIChsb2MueSArIDUwKSk7XHJcbiAgICAgICAgICAgICAgICBwYXJ0LnVwZGF0ZVRhcmdldEJpbmRpbmdzKCdsb2MnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjbGlwYm9hcmRQYXN0ZWQoZSkge1xyXG4gICAgICAgIHZhciBwYXJ0cyA9IGUuc3ViamVjdC5pdGVyYXRvcjtcclxuICAgICAgICB3aGlsZSAocGFydHMubmV4dCgpKSB7XHJcbiAgICAgICAgICAgIHZhciBwYXJ0ID0gcGFydHMudmFsdWU7XHJcbiAgICAgICAgICAgIGlmIChwYXJ0IGluc3RhbmNlb2YgZ28uR3JvdXAgJiYgcGFydC5pc1RvcExldmVsKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbG9jID0gZ28uUG9pbnQucGFyc2UocGFydC5kYXRhLmxvYyk7XHJcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdjbGlwYm9hcmRQYXN0ZWQ6IHVwZGF0aW5nIGxvYyBvZiBwYXJ0ICcgKyBwYXJ0ICsgJyA9ICcgKyBsb2MgKyAnLCBzY2FsZTogJyArIHBhcnQuc2NhbGUpO1xyXG4gICAgICAgICAgICAgICAgX2RpYWdyYW0ubW9kZWwuc2V0RGF0YVByb3BlcnR5KHBhcnQuZGF0YSwgJ2xvYycsIChsb2MueCArIDUwKSArICcgJyArIChsb2MueSArIDUwKSk7XHJcbiAgICAgICAgICAgICAgICBwYXJ0LnVwZGF0ZVRhcmdldEJpbmRpbmdzKCdsb2MnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBjb21wdXRlcyB0aGUgYm91bmRzIG9mIGFsbCBncm91cHMgaW4gdGhlIGRpYWdyYW0gLSB0aGlzIGluY2x1ZGVzIGFsbCBpZGVhcy90aGluZ3MsIFxyXG4gICAgLy8gYW5kIGV4Y2x1ZGVzIG5vZGVzLCBpbmNsdWRpbmcgc2xpZGVzLCB0aGUgc2xpZGUgYmxvY2tlciwgYW5kIHRoZSBleHBvcnQgZm9vdGVyXHJcbiAgICB0aGlzLmNvbXB1dGVNYXBCb3VuZHMgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgZ3JvdXBzID0gbmV3IGdvLkxpc3QoZ28uR3JvdXApO1xyXG4gICAgICAgIHZhciBub2RlcyA9IF9kaWFncmFtLm5vZGVzO1xyXG4gICAgICAgIHdoaWxlIChub2Rlcy5uZXh0KCkpIHtcclxuICAgICAgICAgICAgaWYgKG5vZGVzLnZhbHVlIGluc3RhbmNlb2YgZ28uR3JvdXApIHtcclxuICAgICAgICAgICAgICAgIGdyb3Vwcy5hZGQobm9kZXMudmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBfZGlhZ3JhbS5jb21wdXRlUGFydHNCb3VuZHMoZ3JvdXBzKS5jb3B5KCk7IC8vIHJldHVybiBhIG11dGFibGUgcmVjdFxyXG4gICAgfTtcclxuXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0gd2hhdCBpcyBjdXJyZW50bHkgc2VsZWN0ZWQ/IC0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgICAvLyByZXR1cm5zIHRydWUgaWYgYWxsIHNlbGVjdGVkIGl0ZW1zIGFyZSB0aGluZ3MgKGkuZS4gR3JvdXBzKSwgaW5jbHVkaW5nIHItdGhpbmdzXHJcbiAgICB0aGlzLnRoaW5nc1NlbGVjdGVkID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKF9kaWFncmFtID09IG51bGwgfHwgX2RpYWdyYW0uc2VsZWN0aW9uLmNvdW50IDwgMSlcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICB2YXIgaXQgPSBfZGlhZ3JhbS5zZWxlY3Rpb24uaXRlcmF0b3I7XHJcbiAgICAgICAgd2hpbGUgKGl0Lm5leHQoKSkge1xyXG4gICAgICAgICAgICBpZiAoIShpdC52YWx1ZSBpbnN0YW5jZW9mIGdvLkdyb3VwKSlcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyByZXR1cm5zIHRydWUgaWYgZXhhY3RseSBvbmUgdGhpbmcgKEdyb3VwKSBpcyBzZWxlY3RlZFxyXG4gICAgdGhpcy50aGluZ1NlbGVjdGVkID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIF9kaWFncmFtICE9PSBudWxsICYmIF9kaWFncmFtLnNlbGVjdGlvbi5jb3VudCA9PSAxICYmIF9kaWFncmFtLnNlbGVjdGlvbi5maXJzdCgpIGluc3RhbmNlb2YgZ28uR3JvdXA7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIGlmIGEgc2luZ2xlIGdyb3VwIGlzIHNlbGVjdGVkLCByZXR1cm5zIGl0LCBvdGhlcndpc2UgcmV0dXJucyBudWxsXHJcbiAgICB0aGlzLmdldFVuaXF1ZVRoaW5nU2VsZWN0ZWQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAoX2RpYWdyYW0gIT09IG51bGwgJiYgX2RpYWdyYW0uc2VsZWN0aW9uLmNvdW50ID09IDEgJiYgX2RpYWdyYW0uc2VsZWN0aW9uLmZpcnN0KCkgaW5zdGFuY2VvZiBnby5Hcm91cCkge1xyXG4gICAgICAgICAgICByZXR1cm4gX2RpYWdyYW0uc2VsZWN0aW9uLmZpcnN0KCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnRoaW5nc1NlbGVjdGVkQXJlTWVtYmVyc09mID0gZnVuY3Rpb24oZ3JvdXApIHtcclxuICAgICAgICBpZiAoX2RpYWdyYW0gPT09IG51bGwgfHwgX2RpYWdyYW0uc2VsZWN0aW9uLmNvdW50IDwgMSlcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICB2YXIgaXQgPSBfZGlhZ3JhbS5zZWxlY3Rpb24uaXRlcmF0b3I7XHJcbiAgICAgICAgd2hpbGUgKGl0Lm5leHQoKSkge1xyXG4gICAgICAgICAgICBpZiAoIShpdC52YWx1ZSBpbnN0YW5jZW9mIGdvLkdyb3VwKSB8fCBpdC52YWx1ZS5jb250YWluaW5nR3JvdXAgIT0gZ3JvdXApXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy50aGluZ3NTZWxlY3RlZEFyZURlc2NlbmRhbnRzT2YgPSBmdW5jdGlvbihncm91cCkge1xyXG4gICAgICAgIGlmIChfZGlhZ3JhbSA9PT0gbnVsbCB8fCBfZGlhZ3JhbS5zZWxlY3Rpb24uY291bnQgPCAxKVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgIHZhciBpdCA9IF9kaWFncmFtLnNlbGVjdGlvbi5pdGVyYXRvcjtcclxuICAgICAgICB3aGlsZSAoaXQubmV4dCgpKSB7XHJcbiAgICAgICAgICAgIHZhciBhbmNlc3RvcnMgPSBfbGF5b3V0cy5nZXRBbmNlc3Rvckdyb3VwcyhpdC52YWx1ZSk7XHJcbiAgICAgICAgICAgIGlmIChfLmluZGV4T2YoYW5jZXN0b3JzLCBncm91cCkgPT0gLTEpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy50aGluZ3NTZWxlY3RlZEluY2x1ZGVTbGlkZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmIChfZGlhZ3JhbSA9PT0gbnVsbCB8fCBfZGlhZ3JhbS5zZWxlY3Rpb24uY291bnQgPCAxKVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgIHZhciBpdCA9IF9kaWFncmFtLnNlbGVjdGlvbi5pdGVyYXRvcjtcclxuICAgICAgICB3aGlsZSAoaXQubmV4dCgpKSB7XHJcbiAgICAgICAgICAgIGlmIChpdC52YWx1ZS5kYXRhICYmIGl0LnZhbHVlLmRhdGEuY2F0ZWdvcnkgPT0gJ3NsaWRlJykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH07XHJcblxyXG4gICAgLy8gcmV0dXJucyB0cnVlIGlmIGFsbCBzZWxlY3RlZCBpdGVtcyBhcmUgcmVsYXRpb25zaGlwcyAoaS5lLiBMaW5rcylcclxuICAgIHRoaXMucmVsYXRpb25zaGlwc1NlbGVjdGVkID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKF9kaWFncmFtID09PSBudWxsIHx8IF9kaWFncmFtLnNlbGVjdGlvbi5jb3VudCA8IDEpXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgdmFyIGl0ID0gX2RpYWdyYW0uc2VsZWN0aW9uLml0ZXJhdG9yO1xyXG4gICAgICAgIHdoaWxlIChpdC5uZXh0KCkpIHtcclxuICAgICAgICAgICAgaWYgKCEoaXQudmFsdWUgaW5zdGFuY2VvZiBnby5MaW5rKSB8fCAhX2xheW91dHMuaXNSTGluayhpdC52YWx1ZSkpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH07XHJcblxyXG4gICAgLy8gcmV0dXJucyB0cnVlIGlmIGV4YWN0bHkgb25lIHJlbGF0aW9uc2hpcCAoTGluaykgaXMgc2VsZWN0ZWRcclxuICAgIHRoaXMucmVsYXRpb25zaGlwU2VsZWN0ZWQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gX2RpYWdyYW0gIT09IG51bGwgJiYgX2RpYWdyYW0uc2VsZWN0aW9uLmNvdW50ID09IDEgJiYgX2RpYWdyYW0uc2VsZWN0aW9uLmZpcnN0KCkgaW5zdGFuY2VvZiBnby5MaW5rO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0gbG9hZCBhbmQgaW5pdGlhbGl6ZSBtb2RlbCAtLS0tLS0tLS0tLS0tXHJcblxyXG4gICAgdGhpcy5sb2FkID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIHVybCA9ICRzY29wZS5tYXBVcmwgKyAnLmpzb24nO1xyXG4gICAgICAgIGlmICgkc2NvcGUuc2FuZGJveCkge1xyXG4gICAgICAgICAgICB1cmwgPSAkc2NvcGUubWFwVXJsICsgJy5qc29uP3NhbmRib3g9MSc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vVE9ETzogcmVzdG9yZSBub24tQW5ndWxhciBodHRwLWdldCBmb3IgbWFwIGRhdGFcclxuICAgICAgICB2YXIgZGF0YSA9IHsgXCJtYXBcIjogeyBcIm1ldGFkYXRhXCI6IHsgXCJzYW5kYm94XCI6IGZhbHNlLCBcImlkXCI6IDU1NDcsIFwibmFtZVwiOiBcIlVudGl0bGVkIE1hcFwiLCBcInVybFwiOiBcIi9tYXBzLzU1NDdcIiwgXCJjYW5FZGl0XCI6IHRydWUsIFwidXBkYXRlZEF0XCI6IFwiMjAxNS0wNS0xNVQxMjoyOTo0MC43MjEtMDQ6MDBcIiwgXCJ1cGRhdGVkQnlcIjogbnVsbCwgXCJ1cGRhdGVkQnlOYW1lXCI6IG51bGwsIFwidXNlclRhZ3NcIjogW10gfSwgXCJkYXRhXCI6IHsgXCJjbGFzc1wiOiBcImdvLkdyYXBoTGlua3NNb2RlbFwiLCBcIm5vZGVJc0xpbmtMYWJlbFByb3BlcnR5XCI6IFwiaXNMaW5rTGFiZWxcIiwgXCJsaW5rTGFiZWxLZXlzUHJvcGVydHlcIjogXCJsYWJlbEtleXNcIiwgXCJsaW5rRnJvbVBvcnRJZFByb3BlcnR5XCI6IFwiZnJvbVBvcnRcIiwgXCJsaW5rVG9Qb3J0SWRQcm9wZXJ0eVwiOiBcInRvUG9ydFwiLCBcIm5vZGVEYXRhQXJyYXlcIjogW3sgXCJrZXlcIjogMSwgXCJ0ZXh0XCI6IFwiTmV3IElkZWFcIiwgXCJpc0dyb3VwXCI6IHRydWUsIFwibG9jXCI6IFwiMCAwXCIsIFwibGF5b3V0XCI6IFwibGVmdFwiLCBcInNFeHBhbmRlZFwiOiB0cnVlLCBcInBFeHBhbmRlZFwiOiB0cnVlIH1dLCBcImxpbmtEYXRhQXJyYXlcIjogW10gfSwgXCJzdGF0ZURhdGFcIjogbnVsbCwgXCJlZGl0b3JPcHRpb25zXCI6IG51bGwsIFwiYW5hbHl0aWNzXCI6IHt9LCBcInZlcnNpb25zXCI6IFtdIH0gfTtcclxuICAgICAgICBfZGlhZ3JhbS5tb2RlbCA9IGdvLk1vZGVsLmZyb21Kc29uKGRhdGEpO1xyXG4gICAgICAgIF91aS5zZXRTdGF0ZURhdGEoZGF0YS5tYXAuc3RhdGVEYXRhKTtcclxuICAgICAgICBfdWkuc2V0TWFwRWRpdG9yT3B0aW9ucyhkYXRhLm1hcC5lZGl0b3JPcHRpb25zKTtcclxuXHJcbiAgICAgICAgc2VsZi5jaGVja01vZGVsKCk7XHJcbiAgICAgICAgX2RpYWdyYW0udXBkYXRlQWxsVGFyZ2V0QmluZGluZ3MoKTtcclxuICAgICAgICBfZGlhZ3JhbS51bmRvTWFuYWdlci5pc0VuYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgIF9kaWFncmFtLm1vZGVsLmFkZENoYW5nZWRMaXN0ZW5lcihfYXV0b3NhdmUubW9kZWxDaGFuZ2VkKTtcclxuICAgICAgICBfYXV0b3NhdmUuc2F2ZU9uTW9kZWxDaGFuZ2VkID0gdHJ1ZTtcclxuICAgICAgICBfZGlhZ3JhbS5pc1JlYWRPbmx5ID0gISRzY29wZS5jYW5FZGl0O1xyXG4gICAgICAgICRzY29wZS51cGRhdGVFZGl0U3RhdHVzKCRzY29wZS5jYW5FZGl0ID8gJHNjb3BlLkxBU1RfVVBEQVRFRCA6ICRzY29wZS5SRUFEX09OTFkpO1xyXG4gICAgICAgIF91aS5yZXNldFpvb20oKTtcclxuICAgICAgICBzZWxmLmxvYWRNYXBFeHRyYURhdGEoZGF0YS5tYXApO1xyXG5cclxuICAgICAgICAvLyBpZiBubyBub2RlcyBPUiBpbiB0aGlua3F1ZXJ5IG1vZGUsIGxhdW5jaCBnZW5lcmF0b3JcclxuICAgICAgICBpZiAoJHNjb3BlLnRoaW5rcXVlcnkgfHwgIV9kaWFncmFtLm1vZGVsLm5vZGVEYXRhQXJyYXkubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIF91aS5vcGVuVGFiKF91aS5UQUJfSURfR0VORVJBVE9SKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gaWYgd2UgaGF2ZSBzbGlkZXMsIHBsYXkgcHJlc2VudGF0aW9uXHJcbiAgICAgICAgZWxzZSBpZiAoISRzY29wZS5jYW5FZGl0ICYmIF9wcmVzZW50ZXIuZ2V0U2xpZGVOb2RlRGF0YXMoKS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgX3ByZXNlbnRlci5wbGF5U2xpZGUoMSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMubG9hZEZvclNhbmRib3ggPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBfZGlhZ3JhbS5tb2RlbCA9IGdvLk1vZGVsLmZyb21Kc29uKCRzY29wZS5tYXBEYXRhKTtcclxuICAgICAgICBfdWkuc2V0U3RhdGVEYXRhKCcnKTsgLy8gaW1wb3J0YW50ISAob3RoZXJ3aXNlIGNvcm5lciBoaWdobGlnaHRpbmcgYnJlYWtzKVxyXG4gICAgICAgIF9kaWFncmFtLnVwZGF0ZUFsbFRhcmdldEJpbmRpbmdzKCk7XHJcbiAgICAgICAgX2RpYWdyYW0udW5kb01hbmFnZXIuaXNFbmFibGVkID0gdHJ1ZTtcclxuICAgICAgICBfdWkucmVzZXRab29tKCk7XHJcbiAgICAgICAgJHNjb3BlLmNhbkVkaXQgPSB0cnVlO1xyXG5cclxuICAgICAgICAvLyBpZiBubyBub2RlcyBPUiBpbiB0aGlua3F1ZXJ5IG1vZGUsIGxhdW5jaCBnZW5lcmF0b3JcclxuICAgICAgICBpZiAoJHNjb3BlLnRoaW5rcXVlcnkpIHtcclxuICAgICAgICAgICAgX3VpLm9wZW5UYWIoX3VpLlRBQl9JRF9HRU5FUkFUT1IpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBpZiB3ZSBoYXZlIHNsaWRlcywgcGxheSBwcmVzZW50YXRpb25cclxuICAgICAgICBlbHNlIGlmIChfcHJlc2VudGVyLmdldFNsaWRlTm9kZURhdGFzKCkubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIF9wcmVzZW50ZXIucGxheVNsaWRlKDEpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9O1xyXG5cclxuICAgIC8vIGZpeCBhbnkgc3RydWN0dXJhbCBwcm9ibGVtcyBpbiB0aGUgbW9kZWwgYmVmb3JlIGRpc3BsYXlpbmcgaXRcclxuICAgIHRoaXMuY2hlY2tNb2RlbCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIC8vIGNoYW5nZSBcImlzTGlua0xhYmVsXCIgcHJvcGVydHkgdG8gY2F0ZWdvcnk6XCJMaW5rTGFiZWxcIiAoY2hhbmdlIGFzIG9mIGdvSlMgMS4zKVxyXG4gICAgICAgIF8uZWFjaChfZGlhZ3JhbS5tb2RlbC5ub2RlRGF0YUFycmF5LCBmdW5jdGlvbihub2RlRGF0YSwgaW5kZXgsIGxpc3QpIHtcclxuICAgICAgICAgICAgaWYgKG5vZGVEYXRhLmlzTGlua0xhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgbm9kZURhdGEuaXNMaW5rTGFiZWw7XHJcbiAgICAgICAgICAgICAgICBub2RlRGF0YS5jYXRlZ29yeSA9IFwiTGlua0xhYmVsXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gY2hlY2sgZm9yIHRoZSBsaW5rIGxhYmVsIChyLXRoaW5nKSBmb3IgYSBsaW5rIGJlaW5nIHRoZSBzYW1lIGFzIHRoZSBmcm9tIG9yIHRvIG5vZGUgXHJcbiAgICAgICAgLy8gLSB0aGlzIGNhbiBjYXVzZSBpbmZpbml0ZSByZWN1cnNpb24gaW4gdGhpbmtzIGxpa2UgbGF5b3V0LmdldFNjYWxlXHJcbiAgICAgICAgXy5lYWNoKF9kaWFncmFtLm1vZGVsLmxpbmtEYXRhQXJyYXksIGZ1bmN0aW9uKGxpbmtEYXRhLCBpbmRleCwgbGlzdCkge1xyXG4gICAgICAgICAgICB2YXIgYmFkTGFiZWxLZXlzID0gW107XHJcbiAgICAgICAgICAgIF8uZWFjaChsaW5rRGF0YS5sYWJlbEtleXMsIGZ1bmN0aW9uKGtleSwgaW5kZXgyLCBsaXN0Mikge1xyXG4gICAgICAgICAgICAgICAgaWYgKGtleSA9PSBsaW5rRGF0YS5mcm9tIHx8IGtleSA9PSBsaW5rRGF0YS50bykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdsYWJlbEtleSBzYW1lIGFzIGZyb20gb3IgdG8gb2YgbGluazogJyArIGtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFkTGFiZWxLZXlzLnB1c2goa2V5KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGxpbmtEYXRhLmxhYmVsS2V5cyA9IF8uZGlmZmVyZW5jZShsaW5rRGF0YS5sYWJlbEtleXMsIGJhZExhYmVsS2V5cyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIGxvYWRzIG90aGVyIGRhdGEgYmVzaWRlcyB0aGUgZGlhZ3JhbSBtb2RlbCBmcm9tIHRoZSBqc29uIG9iamVjdCByZXR1cm5lZCBieSBtYXBzL3Nob3cuanNvblxyXG4gICAgLy8gLSB0aGlzIGluY2x1ZGVzIHBvaW50cywgYmFkZ2VzLCB2ZXJzaW9ucywgYW5kIG1hcCBhbmFseXRpY3NcclxuICAgIC8vIE5COiBwb2ludHMgYW5kIGJhZGdlcyBhcmUgc2V0IGF0IHBhZ2UgbG9hZCB0aW1lIGluIGxheW91dHMvdXNlciBhbmQgdXNlcnMvYmFkZ2VzLCBidXRcclxuICAgIC8vIHdlIGFsc28gbmVlZCB0byBiZSBhYmxlIHRvIHVwZGF0ZSB0aGVtIGhlcmUgYWZ0ZXIgYW4gYXV0b3NhdmVcclxuXHJcbiAgICAvLyBUT0RPOiBpcyB0aGlzIHN0aWxsIGFsbCBuZWVkZWQgd2l0aCB0aGUgbmV3ZXIgdXNlclByb2ZpbGUgc3R1ZmY/XHJcbiAgICB0aGlzLmxvYWRNYXBFeHRyYURhdGEgPSBmdW5jdGlvbihtYXBEYXRhKSB7XHJcbiAgICAgICAgJHNjb3BlLnNhZmVBcHBseShmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnbWFwLmxvYWRNYXBFeHRyYURhdGEsIG1hcERhdGE6ICcgKyBtYXBEYXRhKTtcclxuICAgICAgICAgICAgJHNjb3BlLm1hcFVzZXJUYWdzID0gbWFwRGF0YS5tZXRhZGF0YS51c2VyVGFnczsgLy8gVE9ETzogaXMgdGhpcyB1c2VkIGFueXdoZXJlP1xyXG5cclxuICAgICAgICAgICAgLy8kc2NvcGUubWFwLmdldEhpc3RvcnkoKS52ZXJzaW9uTGlzdCA9IG1hcERhdGEudmVyc2lvbnM7XHJcbiAgICAgICAgICAgICRzY29wZS5tYXAuZ2V0QW5hbHl0aWNzKCkubWFwQW5hbHl0aWNzID0gbWFwRGF0YS5hbmFseXRpY3M7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIGxvYWRzIG1vZGVsIGRhdGEgZm9yIGFuIGluZGl2aWR1YWwgdmVyc2lvbiBhbmQgZGlzcGxheXMgaXRcclxuICAgIC8vIE5COiB0aGlzIGFsc28gZGlzYWJsZXMgYXV0b3NhdmU7IGxvYWQoKSBtdXN0IGJlIGNhbGxlZCB0byByZS1lbmFibGUgaXRcclxuICAgIHRoaXMubG9hZFZlcnNpb24gPSBmdW5jdGlvbihpZCkge1xyXG4gICAgICAgICRodHRwLmdldCgnL21hcF92ZXJzaW9ucy8nICsgaWQpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSB7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ2xvYWRlZCBtYXAgdmVyc2lvbiB3aXRoIElEOiAnICsgaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIF9kaWFncmFtLm1vZGVsID0gZ28uTW9kZWwuZnJvbUpzb24ocmVzcG9uc2UuZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgX2RpYWdyYW0udXBkYXRlQWxsVGFyZ2V0QmluZGluZ3MoKTtcclxuICAgICAgICAgICAgICAgICAgICBfZGlhZ3JhbS51bmRvTWFuYWdlci5pc0VuYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBfYXV0b3NhdmUuc2F2ZU9uTW9kZWxDaGFuZ2VkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgX2RpYWdyYW0ubGF5b3V0RGlhZ3JhbSh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICBfZGlhZ3JhbS5pc1JlYWRPbmx5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBhbGVydCgnQ291bGQgbm90IGxvYWQgTWV0YU1hcCB2ZXJzaW9uJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIHNldCB3aGV0aGVyIGVkaXRpbmcgY2FwYWJpbGl0eSBpcyB0ZW1wb3JhcmlseSBzdXNwZW5kZWQgLVxyXG4gICAgLy8gdGhpcyBpcyBkaXN0aW5jdCBmcm9tIHRoZSBnbG9iYWwgJHNjb3BlLmNhbkVkaXQgc2V0dGluZyxcclxuICAgIC8vIHdoaWNoIGlmIGZhbHNlIHByZXZlbnRzIGVkaXRpbmcgYXQgYWxsIHRpbWVzXHJcbiAgICB0aGlzLnNldEVkaXRpbmdCbG9ja2VkID0gZnVuY3Rpb24odmFsKSB7XHJcbiAgICAgICAgaWYgKCRzY29wZS5jYW5FZGl0KSB7XHJcbiAgICAgICAgICAgIF9kaWFncmFtLmlzUmVhZE9ubHkgPSB2YWw7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0tIGNyZWF0aW5nIHRoaW5ncyBpbiB0aGUgbW9kZWwgLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgIC8vIGRlZmF1bHQgcHJvcGVydGllcyBmb3IgYWxsIG5ldyBUaGluZ3MgKGdyb3VwcykgLSBub3RlIHRoYXQgdGhlc2UgY2FuIGJlIG92ZXJyaWRkZW4gaWYgbmVlZGVkXHJcbiAgICBmdW5jdGlvbiBnZXROZXdUaGluZ0RhdGEoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdGV4dDogJ0lkZWEnLFxyXG4gICAgICAgICAgICBpc0dyb3VwOiB0cnVlLFxyXG4gICAgICAgICAgICBsYXlvdXQ6IF91aS5nZXRNYXBFZGl0b3JPcHRpb25zKCkuZGVmYXVsdFRoaW5nTGF5b3V0IHx8ICdsZWZ0JyxcclxuICAgICAgICAgICAgc0V4cGFuZGVkOiB0cnVlLFxyXG4gICAgICAgICAgICBwRXhwYW5kZWQ6IHRydWVcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuY3JlYXRlU2lzdGVyID0gZnVuY3Rpb24odGhpbmcpIHtcclxuICAgICAgICBpZiAoISRzY29wZS5jYW5FZGl0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIG5ld0xvYyA9IF9sYXlvdXRzLmdldE5ld1Npc3RlckxvY2F0aW9uKHRoaW5nKTtcclxuICAgICAgICB2YXIgZGF0YSA9IF8uZXh0ZW5kKGdldE5ld1RoaW5nRGF0YSgpLCB7XHJcbiAgICAgICAgICAgIGdyb3VwOiB0aGluZy5kYXRhLmdyb3VwLFxyXG4gICAgICAgICAgICB0ZXh0OiAnSWRlYScsXHJcbiAgICAgICAgICAgIGxvYzogZ28uUG9pbnQuc3RyaW5naWZ5KG5ld0xvYylcclxuICAgICAgICB9KTtcclxuICAgICAgICBfZGlhZ3JhbS5tb2RlbC5hZGROb2RlRGF0YShkYXRhKTtcclxuICAgICAgICB2YXIgbmV3U2lzdGVyID0gX2RpYWdyYW0uZmluZE5vZGVGb3JEYXRhKGRhdGEpO1xyXG5cclxuICAgICAgICAvLyBwdXQgbmV3IHNpc3RlciByaWdodCBhZnRlciB0aGluZyAobm90IGFzIHRoZSBsYXN0IHNpYmxpbmcpXHJcbiAgICAgICAgaWYgKHRoaW5nLmNvbnRhaW5pbmdHcm91cCkge1xyXG4gICAgICAgICAgICBzZWxmLm1vdmVTaWJsaW5nTmV4dFRvKG5ld1Npc3RlciwgdGhpbmcsIHNlbGYuUklHSFQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3U2lzdGVyO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmNyZWF0ZVJUb1Npc3RlciA9IGZ1bmN0aW9uKHRoaW5nKSB7XHJcbiAgICAgICAgaWYgKCEkc2NvcGUuY2FuRWRpdCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciB0aGluZ0tleSA9IF9kaWFncmFtLm1vZGVsLmdldEtleUZvck5vZGVEYXRhKHRoaW5nLmRhdGEpO1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coJ3RoaW5nS2V5OiAnICsgdGhpbmdLZXkpO1xyXG4gICAgICAgIHZhciBuZXdMb2MgPSBfbGF5b3V0cy5nZXROZXdTaXN0ZXJMb2NhdGlvbih0aGluZywgdHJ1ZSk7IC8vIHdpdGhSID0gdHJ1ZVxyXG4gICAgICAgIHZhciBkYXRhID0gXy5leHRlbmQoZ2V0TmV3VGhpbmdEYXRhKCksIHtcclxuICAgICAgICAgICAgZ3JvdXA6IHRoaW5nLmRhdGEuZ3JvdXAsXHJcbiAgICAgICAgICAgIHRleHQ6ICdJZGVhJyxcclxuICAgICAgICAgICAgbG9jOiBnby5Qb2ludC5zdHJpbmdpZnkobmV3TG9jKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIF9kaWFncmFtLm1vZGVsLmFkZE5vZGVEYXRhKGRhdGEpO1xyXG4gICAgICAgIHZhciBuZXdTaXN0ZXIgPSBfZGlhZ3JhbS5maW5kTm9kZUZvckRhdGEoZGF0YSk7XHJcbiAgICAgICAgdmFyIGdyb3VwS2V5ID0gX2RpYWdyYW0ubW9kZWwuZ2V0S2V5Rm9yTm9kZURhdGEoZGF0YSk7XHJcblxyXG4gICAgICAgIC8vIGNyZWF0ZSBsaW5rXHJcbiAgICAgICAgdmFyIGxpbmtEYXRhID0ge1xyXG4gICAgICAgICAgICBmcm9tOiB0aGluZ0tleSxcclxuICAgICAgICAgICAgdG86IGdyb3VwS2V5LFxyXG4gICAgICAgICAgICB0eXBlOiAndG8nLFxyXG4gICAgICAgICAgICBmcm9tUG9ydDogJ1InLFxyXG4gICAgICAgICAgICB0b1BvcnQ6ICdSJ1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgX2RpYWdyYW0ubW9kZWwuYWRkTGlua0RhdGEobGlua0RhdGEpO1xyXG5cclxuICAgICAgICAvLyBwdXQgbmV3IHNpc3RlciByaWdodCBhZnRlciB0aGluZyAobm90IGFzIHRoZSBsYXN0IHNpYmxpbmcpXHJcbiAgICAgICAgaWYgKHRoaW5nLmNvbnRhaW5pbmdHcm91cCkge1xyXG4gICAgICAgICAgICBzZWxmLm1vdmVTaWJsaW5nTmV4dFRvKG5ld1Npc3RlciwgdGhpbmcsIHNlbGYuUklHSFQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3U2lzdGVyO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmNyZWF0ZUNoaWxkID0gZnVuY3Rpb24odGhpbmcsIG5hbWUsIHgsIHkpIHtcclxuICAgICAgICBpZiAoISRzY29wZS5jYW5FZGl0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIG5ld0xvYyA9IF9sYXlvdXRzLmdldE5ld0NoaWxkTG9jYXRpb24yKHRoaW5nKTtcclxuICAgICAgICBpZiAoeCB8fCB5KSB7XHJcbiAgICAgICAgICAgIG5ld0xvYyA9IG5ldyBnby5Qb2ludCh4LCB5KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGRhdGEgPSBfLmV4dGVuZChnZXROZXdUaGluZ0RhdGEoKSwge1xyXG4gICAgICAgICAgICBncm91cDogdGhpbmcuZGF0YS5rZXksXHJcbiAgICAgICAgICAgIHRleHQ6IG5hbWUgfHwgJ1BhcnQnLFxyXG4gICAgICAgICAgICBsb2M6IGdvLlBvaW50LnN0cmluZ2lmeShuZXdMb2MpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgX2RpYWdyYW0ubW9kZWwuYWRkTm9kZURhdGEoZGF0YSk7XHJcbiAgICAgICAgX2xheW91dHMuc2V0RGVzY2VuZGFudExheW91dHModGhpbmcsIHRoaW5nLmRhdGEubGF5b3V0KTtcclxuICAgICAgICB2YXIgY2hpbGQgPSBfZGlhZ3JhbS5maW5kTm9kZUZvckRhdGEoZGF0YSk7XHJcbiAgICAgICAgY2hpbGQudXBkYXRlVGFyZ2V0QmluZGluZ3MoKTtcclxuICAgICAgICByZXR1cm4gY2hpbGQ7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuY3JlYXRlUlRoaW5nID0gZnVuY3Rpb24obGluaywgbmFtZSkge1xyXG4gICAgICAgIGlmICghJHNjb3BlLmNhbkVkaXQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnY3JlYXRlUlRoaW5nLCBsaW5rOiAnICsgbGluayArICcsIG5hbWU6ICcgKyBuYW1lKTtcclxuICAgICAgICAvLyBkb24ndCBhbGxvdyBtdWx0aXBsZSBSLXRoaW5nc1xyXG4gICAgICAgIGlmIChsaW5rLmlzTGFiZWxlZExpbmspIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ2Nhbm5vdCBjcmVhdGUgUlRoaW5nLCBsaW5rIGlzIGFscmVhZHkgbGFiZWxlZCcpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgZGF0YSA9IF8uZXh0ZW5kKGdldE5ld1RoaW5nRGF0YSgpLCB7XHJcbiAgICAgICAgICAgIHRleHQ6IG5hbWUgfHwgJ1JlbGF0aW9uc2hpcCBJZGVhJyxcclxuICAgICAgICAgICAgLy9pc0xpbmtMYWJlbDogdHJ1ZSwgICAgIC8vIGRlcHJlY2F0ZWQgYXMgb2YgZ29KUyAxLjNcclxuICAgICAgICAgICAgY2F0ZWdvcnk6IFwiTGlua0xhYmVsXCIsIC8vIG5ldyBhcyBvZiBnb0pTIDEuM1xyXG4gICAgICAgICAgICBsb2M6ICcwIDAnXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgX2RpYWdyYW0ubW9kZWwuc3RhcnRUcmFuc2FjdGlvbihcImNyZWF0ZSBSIFRoaW5nXCIpO1xyXG4gICAgICAgIF9kaWFncmFtLm1vZGVsLmFkZE5vZGVEYXRhKGRhdGEpO1xyXG4gICAgICAgIHZhciBrZXkgPSBfZGlhZ3JhbS5tb2RlbC5nZXRLZXlGb3JOb2RlRGF0YShkYXRhKTtcclxuICAgICAgICB2YXIgbm9kZSA9IF9kaWFncmFtLmZpbmRQYXJ0Rm9yS2V5KGtleSk7XHJcbiAgICAgICAgbm9kZS5sYWJlbGVkTGluayA9IGxpbms7XHJcbiAgICAgICAgX2RpYWdyYW0ubW9kZWwuY29tbWl0VHJhbnNhY3Rpb24oXCJjcmVhdGUgUiBUaGluZ1wiKTtcclxuICAgICAgICBfZGlhZ3JhbS51cGRhdGVBbGxUYXJnZXRCaW5kaW5ncygpO1xyXG5cclxuICAgICAgICByZXR1cm4gX2RpYWdyYW0uZmluZE5vZGVGb3JEYXRhKGRhdGEpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyAtLS0tLS0tLS0tIGNyZWF0aW5nIHRoaW5ncyB3aXRoIHNwZWNpZmllZCBuYW1lcy9sb2NhdGlvbnMgLSBmb3IgdXNlIGJ5IGdlbmVyYXRvciBhbmQgdGVzdHMgLS0tLS0tLS0tLS0tXHJcblxyXG4gICAgdGhpcy5jcmVhdGVUaGluZyA9IGZ1bmN0aW9uKHgsIHksIG5hbWUsIGxheW91dCkge1xyXG4gICAgICAgIGdyb3VwID0gX2RpYWdyYW0udG9vbE1hbmFnZXIuY2xpY2tDcmVhdGluZ1Rvb2wuaW5zZXJ0UGFydChuZXcgZ28uUG9pbnQoeCwgeSkpO1xyXG4gICAgICAgIF9kaWFncmFtLm1vZGVsLnNldERhdGFQcm9wZXJ0eShncm91cC5kYXRhLCAndGV4dCcsIG5hbWUpO1xyXG4gICAgICAgIGlmIChsYXlvdXQpIHtcclxuICAgICAgICAgICAgX2RpYWdyYW0ubW9kZWwuc2V0RGF0YVByb3BlcnR5KGdyb3VwLmRhdGEsICdsYXlvdXQnLCBsYXlvdXQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZ3JvdXA7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuY3JlYXRlUkxpbmtXaXRoUlRoaW5nID0gZnVuY3Rpb24odGhpbmcxLCB0aGluZzIsIG5hbWUpIHtcclxuICAgICAgICB2YXIgbGluayA9IHNlbGYuY3JlYXRlUkxpbmsodGhpbmcxLCB0aGluZzIpO1xyXG4gICAgICAgIHJldHVybiBzZWxmLmNyZWF0ZVJUaGluZyhsaW5rLCBuYW1lKTtcclxuICAgIH07XHJcblxyXG4gICAgLy8gcmV0dXJucyB0aGUgbGlua0RhdGEgb2JqZWN0IGZvciB0aGUgbmV3IGxpbmtcclxuICAgIHRoaXMuY3JlYXRlUkxpbmsgPSBmdW5jdGlvbih0aGluZzEsIHRoaW5nMikge1xyXG4gICAgICAgIF9kaWFncmFtLm1vZGVsLnN0YXJ0VHJhbnNhY3Rpb24oJ2FkZCBsaW5rJyk7XHJcbiAgICAgICAgdmFyIGRhdGEgPSB7XHJcbiAgICAgICAgICAgIHR5cGU6ICdub0Fycm93cycsXHJcbiAgICAgICAgICAgIGZyb206IHRoaW5nMS5kYXRhLmtleSxcclxuICAgICAgICAgICAgdG86IHRoaW5nMi5kYXRhLmtleSxcclxuICAgICAgICAgICAgZnJvbVBvcnQ6ICdSJyxcclxuICAgICAgICAgICAgdG9Qb3J0OiAnUidcclxuICAgICAgICB9O1xyXG4gICAgICAgIF9kaWFncmFtLm1vZGVsLmFkZExpbmtEYXRhKGRhdGEpO1xyXG4gICAgICAgIF9kaWFncmFtLm1vZGVsLmNvbW1pdFRyYW5zYWN0aW9uKCdhZGQgbGluaycpO1xyXG4gICAgICAgIHJldHVybiBfZGlhZ3JhbS5maW5kTGlua0ZvckRhdGEoZGF0YSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIHJldHVybnMgdGhlIGxpbmtEYXRhIG9iamVjdCBmb3IgdGhlIG5ldyBsaW5rXHJcbiAgICB0aGlzLmNyZWF0ZVBMaW5rID0gZnVuY3Rpb24odGhpbmcxLCB0aGluZzIpIHtcclxuICAgICAgICBfZGlhZ3JhbS5tb2RlbC5zdGFydFRyYW5zYWN0aW9uKCdhZGQgbGluaycpO1xyXG4gICAgICAgIHZhciBkYXRhID0ge1xyXG4gICAgICAgICAgICB0eXBlOiAnbm9BcnJvd3MnLFxyXG4gICAgICAgICAgICBmcm9tOiB0aGluZzEuZGF0YS5rZXksXHJcbiAgICAgICAgICAgIHRvOiB0aGluZzIuZGF0YS5rZXksXHJcbiAgICAgICAgICAgIGZyb21Qb3J0OiAnUCcsXHJcbiAgICAgICAgICAgIHRvUG9ydDogJ1AnLFxyXG4gICAgICAgICAgICBjYXRlZ29yeTogJ1AnXHJcbiAgICAgICAgfTtcclxuICAgICAgICBfZGlhZ3JhbS5tb2RlbC5hZGRMaW5rRGF0YShkYXRhKTtcclxuICAgICAgICBfZGlhZ3JhbS5tb2RlbC5jb21taXRUcmFuc2FjdGlvbignYWRkIGxpbmsnKTtcclxuICAgICAgICBfZGlhZ3JhbS5tb2RlbC5zZXREYXRhUHJvcGVydHkodGhpbmcxLmRhdGEsICdwRXhwYW5kZWQnLCB0cnVlKTtcclxuICAgICAgICByZXR1cm4gX2RpYWdyYW0uZmluZExpbmtGb3JEYXRhKGRhdGEpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0tIG1vdmluZyB0aGluZ3MgaW4gdGhlIG1vZGVsIHN0cnVjdHVyZSAtLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICAgLy8gcmV0dXJucyBhIGdvLkxpc3Qgb2YgdGhlIGl0ZW1zIGluIHRoZSBjdXJyZW50IHNlbGVjdGlvbiB0aGF0IGFyZSBHcm91cHNcclxuICAgIGZ1bmN0aW9uIGdldFNlbGVjdGVkR3JvdXBzKCkge1xyXG4gICAgICAgIHZhciBpdCA9IF9kaWFncmFtLnNlbGVjdGlvbi5pdGVyYXRvcjtcclxuICAgICAgICB2YXIgbWVtYmVycyA9IG5ldyBnby5MaXN0KCk7XHJcbiAgICAgICAgd2hpbGUgKGl0Lm5leHQoKSkge1xyXG4gICAgICAgICAgICB2YXIgcGFydCA9IGl0LnZhbHVlO1xyXG4gICAgICAgICAgICBpZiAocGFydCBpbnN0YW5jZW9mIGdvLkdyb3VwKSB7XHJcbiAgICAgICAgICAgICAgICBtZW1iZXJzLmFkZChwYXJ0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbWVtYmVycztcclxuICAgIH1cclxuXHJcbiAgICAvLyBkcmFnIHRvIFNcclxuICAgIHRoaXMuYWRkU2VsZWN0ZWRUaGluZ3NBc0NoaWxkcmVuT2YgPSBmdW5jdGlvbihncm91cCkge1xyXG4gICAgICAgIHZhciBuZXdNZW1iZXJzID0gZ2V0U2VsZWN0ZWRHcm91cHMoKTtcclxuXHJcbiAgICAgICAgLy8gY2hlY2sgZXhpc3RpbmcgbWVtYmVycyBzbyB3ZSBjYW4gY2FsY3VsYXRlIGxheW91dFxyXG4gICAgICAgIHZhciBvbGRNZW1iZXJCb3VuZHMgPSBzZWxmLnNhZmVSZWN0KF9kaWFncmFtLmNvbXB1dGVQYXJ0c0JvdW5kcyhncm91cC5tZW1iZXJQYXJ0cykpO1xyXG5cclxuICAgICAgICAvLyBOQjogdGhpcyBpcyBzdWJqZWN0IHRvIHZhbGlkYXRpb24gYnkgQ29tbWFuZEhhbmRsZXIuaXNWYWxpZE1lbWJlcixcclxuICAgICAgICAvLyBzbyBmb3IgZXhhbXBsZSwgbWVtYmVycyBvZiBtZW1iZXJzIG9mIG5ld01lbWJlcnMgd2lsbCBub3QgYmUgYWRkZWQgYXMgbWVtYmVyc1xyXG4gICAgICAgIGdyb3VwLmFkZE1lbWJlcnMobmV3TWVtYmVycyk7XHJcblxyXG4gICAgICAgIF9sYXlvdXRzLmxheW91dE5ld01lbWJlcnNSZWxhdGl2ZVRvKG5ld01lbWJlcnMsIGdyb3VwLCBvbGRNZW1iZXJCb3VuZHMpO1xyXG5cclxuICAgICAgICBfZGlhZ3JhbS5jbGVhclNlbGVjdGlvbigpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBkcmFnIHRvIERcclxuICAgIHRoaXMuYWRkU2VsZWN0ZWRUaGluZ3NBc1Npc3RlcnNPZiA9IGZ1bmN0aW9uKGdyb3VwKSB7XHJcbiAgICAgICAgdmFyIG9sZE1lbWJlcnMgPSBnZXRTZWxlY3RlZEdyb3VwcygpO1xyXG5cclxuICAgICAgICAvLyBpZiBkcmFnZ2luZyB0byB0b3AgbGV2ZWwsIG1vdmUgZHJhZ2dlZCB0aGluZ3Mgc28gdGhleSBkb24ndCBvdmVybGFwIHRoZSBmb3JtZXIgcGFyZW50XHJcbiAgICAgICAgaWYgKCFncm91cC5jb250YWluaW5nR3JvdXApIHtcclxuICAgICAgICAgICAgLy8gY2hlY2sgZXhpc3RpbmcgbWVtYmVycyBzbyB3ZSBjYW4gY2FsY3VsYXRlIGxheW91dFxyXG4gICAgICAgICAgICB2YXIgb2xkTWVtYmVyc0JvdW5kcyA9IF9kaWFncmFtLmNvbXB1dGVQYXJ0c0JvdW5kcyhvbGRNZW1iZXJzKTtcclxuICAgICAgICAgICAgLy8gTkI6IG9sZE1lbWJlcnMgY2FuIGJlIG9uIG11bHRpcGxlIGxldmVscywgc28gbm90IGNsZWFyIHdoaWNoIGxldmVsIHRvIHVzZSBmb3IgcmVzY2FsaW5nIG9sZCBtZW1iZXJzIGFmdGVyIGRyYWdcclxuICAgICAgICAgICAgdmFyIG9sZE1lbWJlcnNMZXZlbCA9IF9sYXlvdXRzLmNvbXB1dGVMZXZlbChvbGRNZW1iZXJzLmZpcnN0KCkpO1xyXG5cclxuICAgICAgICAgICAgdmFyIGl0ID0gb2xkTWVtYmVycy5pdGVyYXRvcjtcclxuICAgICAgICAgICAgd2hpbGUgKGl0Lm5leHQoKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG1lbWJlciA9IGl0LnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgbWVtYmVyLmNvbnRhaW5pbmdHcm91cCA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgX2xheW91dHMubGF5b3V0T2xkTWVtYmVyc091dHNpZGVPZihvbGRNZW1iZXJzLCBncm91cCwgb2xkTWVtYmVyc0JvdW5kcywgb2xkTWVtYmVyc0xldmVsKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gaWYgbm90IGRyYWdnaW5nIHRvIHRvcCBsZXZlbCwgcGxhY2UgZHJhZ2dlZCB0aGluZ3MgYWZ0ZXIgZm9ybWVyIHBhcmVudCBpbiBvdXRsaW5lXHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHZhciBpdDIgPSBvbGRNZW1iZXJzLml0ZXJhdG9yO1xyXG4gICAgICAgICAgICB3aGlsZSAoaXQyLm5leHQoKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG1lbWJlcjIgPSBpdDIudmFsdWU7XHJcbiAgICAgICAgICAgICAgICBtZW1iZXIyLmNvbnRhaW5pbmdHcm91cCA9IGdyb3VwLmNvbnRhaW5pbmdHcm91cDtcclxuICAgICAgICAgICAgICAgIHNlbGYubW92ZVNpYmxpbmdOZXh0VG8obWVtYmVyMiwgZ3JvdXAsIHNlbGYuUklHSFQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIF9kaWFncmFtLmNsZWFyU2VsZWN0aW9uKCk7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICAvLyBmb3IgZHJhZ2dpbmcgcGFydHMgd2l0aGluIGEgc3lzdGVtIC0gc2lkZSBpcyBMRUZUIG9yIFJJR0hUIChpLmUuIGFib3ZlIG9yIGJlbG93LCByZXNwLiBpbiBpbnZlbnRvcnkgbGF5b3V0KVxyXG4gICAgdGhpcy5hZGRTZWxlY3RlZFRoaW5nQXNPcmRlcmVkU2lzdGVyT2YgPSBmdW5jdGlvbihncm91cCwgc2lkZSkge1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coJ2FkZFNlbGVjdGVkVGhpbmdBc09yZGVyZWRTaXN0ZXJPZiwgc2lkZTogJyArIHNpZGUpO1xyXG4gICAgICAgIHZhciB0aGluZyA9IHNlbGYuZ2V0VW5pcXVlVGhpbmdTZWxlY3RlZCgpO1xyXG4gICAgICAgIGlmICghdGhpbmcpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzZWxmLm1vdmVTaWJsaW5nTmV4dFRvKHRoaW5nLCBncm91cCwgc2lkZSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIG1vdmVzIHRoZSBmaXJzdCB0aGluZyAoc2libGluZykgdG8gYmUgYWZ0ZXIgdGhlIHNlY29uZCB0aGluZyAoZ3JvdXApXHJcbiAgICAvLyBpbiB0aGUgcGFydCBvcmRlcmluZyAtIHRoZXkgYXJlIGFzc3VtZWQgdG8gYmUgc2libGluZ3NcclxuICAgIC8vIHNpZGUgaXMgTEVGVCBvciBSSUdIVFxyXG4gICAgdGhpcy5tb3ZlU2libGluZ05leHRUbyA9IGZ1bmN0aW9uKHNpYmxpbmcsIGdyb3VwLCBzaWRlKSB7XHJcbiAgICAgICAgdmFyIHBhcmVudCA9IGdyb3VwLmNvbnRhaW5pbmdHcm91cDtcclxuICAgICAgICBjb25zb2xlLmxvZygnbW92ZVNpYmxpbmdOZXh0VG8sIHNpYmxpbmc6ICcgKyBzaWJsaW5nICsgJywgZ3JvdXA6ICcgKyBncm91cCArICcsIHBhcmVudDogJyArIHBhcmVudCArICcsIHNpYmxpbmcuY29udGFpbmluZ0dyb3VwOiAnICsgc2libGluZy5jb250YWluaW5nR3JvdXApO1xyXG5cclxuICAgICAgICBpZiAoIXBhcmVudCB8fCBzaWJsaW5nLmNvbnRhaW5pbmdHcm91cCAhPSBwYXJlbnQpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignQ2Fubm90IGRvIG1vdmVTaWJsaW5nTmV4dFRvIG9uIG5vbi1zaWJsaW5ncyBvciB0b3AtbGV2ZWwgZ3JvdXBzJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBjcmVhdGUgbmV3IG1lbWJlciBvcmRlclxyXG4gICAgICAgIHZhciBtZW1iZXJPcmRlciA9IG5ldyBnby5MaXN0KCk7XHJcbiAgICAgICAgdmFyIGl0ID0gcGFyZW50Lm1lbWJlclBhcnRzO1xyXG4gICAgICAgIHZhciBvcmRlciA9IDA7XHJcbiAgICAgICAgd2hpbGUgKGl0Lm5leHQoKSkge1xyXG4gICAgICAgICAgICB2YXIgbWVtYmVyID0gaXQudmFsdWU7XHJcbiAgICAgICAgICAgIGlmIChtZW1iZXIgaW5zdGFuY2VvZiBnby5Hcm91cCkge1xyXG4gICAgICAgICAgICAgICAgLy8gd2UncmUgYXQgdGhlIHRhcmdldCBncm91cCwgc28gYWRkIHRoZSBtb3ZlZCB0aGluZyBlaXRoZXIgYmVmb3JlIG9yIGFmdGVyIGl0XHJcbiAgICAgICAgICAgICAgICBpZiAobWVtYmVyID09IGdyb3VwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNpZGUgPT0gc2VsZi5MRUZUKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lbWJlck9yZGVyLmFkZChzaWJsaW5nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2RpYWdyYW0ubW9kZWwuc2V0RGF0YVByb3BlcnR5KHNpYmxpbmcuZGF0YSwgJ29yZGVyJywgb3JkZXIrKyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lbWJlck9yZGVyLmFkZChtZW1iZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfZGlhZ3JhbS5tb2RlbC5zZXREYXRhUHJvcGVydHkobWVtYmVyLmRhdGEsICdvcmRlcicsIG9yZGVyKyspO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lbWJlck9yZGVyLmFkZChtZW1iZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfZGlhZ3JhbS5tb2RlbC5zZXREYXRhUHJvcGVydHkobWVtYmVyLmRhdGEsICdvcmRlcicsIG9yZGVyKyspO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZW1iZXJPcmRlci5hZGQoc2libGluZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9kaWFncmFtLm1vZGVsLnNldERhdGFQcm9wZXJ0eShzaWJsaW5nLmRhdGEsICdvcmRlcicsIG9yZGVyKyspO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIGRvbid0IHJlLWFkZCB0aGUgbW92ZWQgdGhpbmcsIGl0IHdhcyBhZGRlZCBhYm92ZVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobWVtYmVyICE9IHNpYmxpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICBtZW1iZXJPcmRlci5hZGQobWVtYmVyKTtcclxuICAgICAgICAgICAgICAgICAgICBfZGlhZ3JhbS5tb2RlbC5zZXREYXRhUHJvcGVydHkobWVtYmVyLmRhdGEsICdvcmRlcicsIG9yZGVyKyspO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBjbGVhciBleGlzdGluZyBtZW1iZXJzXHJcbiAgICAgICAgdmFyIG5ld0l0ID0gbWVtYmVyT3JkZXIuaXRlcmF0b3I7XHJcbiAgICAgICAgd2hpbGUgKG5ld0l0Lm5leHQoKSkge1xyXG4gICAgICAgICAgICB2YXIgbWVtYmVyMiA9IG5ld0l0LnZhbHVlO1xyXG4gICAgICAgICAgICBtZW1iZXIyLmNvbnRhaW5pbmdHcm91cCA9IG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBhZGQgbmV3IG1lbWJlcnNcclxuICAgICAgICBuZXdJdC5yZXNldCgpO1xyXG4gICAgICAgIHdoaWxlIChuZXdJdC5uZXh0KCkpIHtcclxuICAgICAgICAgICAgdmFyIG1lbWJlcjMgPSBuZXdJdC52YWx1ZTtcclxuICAgICAgICAgICAgbWVtYmVyMy5jb250YWluaW5nR3JvdXAgPSBwYXJlbnQ7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmFkZFRoaW5nQXNSVGhpbmcgPSBmdW5jdGlvbih0aGluZywgbGluaykge1xyXG4gICAgICAgIHRoaW5nLmxhYmVsZWRMaW5rID0gbGluaztcclxuICAgICAgICB0aGluZy51cGRhdGVUYXJnZXRCaW5kaW5ncygpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBEIGNvcm5lciBoYW5kbGVyIChzaW5nbGUgY2xpY2spXHJcbiAgICB0aGlzLnRvZ2dsZURGbGFnID0gZnVuY3Rpb24odGhpbmcpIHtcclxuICAgICAgICBfZGlhZ3JhbS5tb2RlbC5zZXREYXRhUHJvcGVydHkodGhpbmcuZGF0YSwgJ2RmbGFnJywgIXRoaW5nLmRhdGEuZGZsYWcpO1xyXG4gICAgICAgIHRoaW5nLnVwZGF0ZVRhcmdldEJpbmRpbmdzKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIFMgY29ybmVyIGhhbmRsZXIgKHNpbmdsZSBjbGljaylcclxuICAgIHRoaXMudG9nZ2xlU0V4cGFuc2lvbiA9IGZ1bmN0aW9uKHRoaW5nKSB7XHJcbiAgICAgICAgdmFyIGlzRXhwYW5kZWQgPSAhKHRoaW5nLmRhdGEgJiYgIXRoaW5nLmRhdGEuc0V4cGFuZGVkKTsgLy8gZXhwYW5kIGJ5IGRlZmF1bHQgaWYgcHJvcGVydHkgbm90IHByZXNlbnRcclxuICAgICAgICBfZGlhZ3JhbS5tb2RlbC5zZXREYXRhUHJvcGVydHkodGhpbmcuZGF0YSwgJ3NFeHBhbmRlZCcsICFpc0V4cGFuZGVkKTtcclxuICAgICAgICB0aGluZy51cGRhdGVUYXJnZXRCaW5kaW5ncygpO1xyXG4gICAgICAgIF91aS5zaG93Q29ybmVyVGlwKHRoaW5nLCAnUycpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBQIGNvcm5lciBoYW5kbGVyIChzaW5nbGUgY2xpY2spXHJcbiAgICB0aGlzLnRvZ2dsZVBFeHBhbnNpb24gPSBmdW5jdGlvbih0aGluZykge1xyXG4gICAgICAgIF9kaWFncmFtLm1vZGVsLnNldERhdGFQcm9wZXJ0eSh0aGluZy5kYXRhLCAncEV4cGFuZGVkJywgIXNlbGYucElzRXhwYW5kZWQodGhpbmcpKTtcclxuICAgICAgICB0aGluZy51cGRhdGVUYXJnZXRCaW5kaW5ncygpO1xyXG4gICAgICAgIF91aS5zaG93Q29ybmVyVGlwKHRoaW5nLCBcIlBcIik7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMucElzRXhwYW5kZWQgPSBmdW5jdGlvbihncm91cCkge1xyXG4gICAgICAgIHJldHVybiBncm91cC5kYXRhICYmIGdyb3VwLmRhdGEucEV4cGFuZGVkID09PSB0cnVlO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tIHVuZG8vcmVkbyAtLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgIHRoaXMuY2FuVW5kbyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiBfZGlhZ3JhbS5jb21tYW5kSGFuZGxlci5jYW5VbmRvKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMudW5kbyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIF9kaWFncmFtLmNvbW1hbmRIYW5kbGVyLnVuZG8oKTtcclxuICAgICAgICBfZGlhZ3JhbS5sYXlvdXREaWFncmFtKHRydWUpO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmNhblJlZG8gPSBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gX2RpYWdyYW0uY29tbWFuZEhhbmRsZXIuY2FuUmVkbygpO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnJlZG8gPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBfZGlhZ3JhbS5jb21tYW5kSGFuZGxlci5yZWRvKCk7XHJcbiAgICAgICAgX2RpYWdyYW0ubGF5b3V0RGlhZ3JhbSh0cnVlKTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5yZWZyZXNoID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgX2RpYWdyYW0udXBkYXRlQWxsVGFyZ2V0QmluZGluZ3MoKTtcclxuICAgICAgICBfZGlhZ3JhbS5sYXlvdXREaWFncmFtKHRydWUpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tIHV0aWxpdHkgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgIC8vIGNoZWNrIGZvciBhIHJlY3Qgd2l0aCBOYU4gWC9ZL1cvSCBjb29yZHMsIHNvIHdlIGNhbiBkbyBzdHVmZiB3aXRoIGl0IHN1Y2ggYXMgdW5pb25SZWN0XHJcbiAgICAvLyAoTmFOLE5hTiwwLDApID0+ICgwLDAsMCwwKVxyXG4gICAgdGhpcy5zYWZlUmVjdCA9IGZ1bmN0aW9uKHJlY3QpIHtcclxuICAgICAgICBpZiAoaXNOYU4ocmVjdC54KSkge1xyXG4gICAgICAgICAgICByZWN0LnggPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaXNOYU4ocmVjdC55KSkge1xyXG4gICAgICAgICAgICByZWN0LnkgPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaXNOYU4ocmVjdC53aWR0aCkpIHtcclxuICAgICAgICAgICAgcmVjdC53aWR0aCA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpc05hTihyZWN0LmhlaWdodCkpIHtcclxuICAgICAgICAgICAgcmVjdC5oZWlnaHQgPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVjdDtcclxuICAgIH07XHJcblxyXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLSBkZWJ1ZyBtYXAgbW9kZWwgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgIHRoaXMubG9hZE1vZGVsID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgJCgnI21hcC1tb2RlbC1kZWJ1ZycpLnZhbChfZGlhZ3JhbS5tb2RlbC50b0pzb24oKSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuc2F2ZU1vZGVsID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgX2RpYWdyYW0ubW9kZWwgPSBnby5Nb2RlbC5mcm9tSnNvbigkKCcjbWFwLW1vZGVsLWRlYnVnJykudmFsKCkpO1xyXG4gICAgICAgIF9kaWFncmFtLnVwZGF0ZUFsbFRhcmdldEJpbmRpbmdzKCk7XHJcbiAgICAgICAgX2RpYWdyYW0ubW9kZWwuYWRkQ2hhbmdlZExpc3RlbmVyKF9hdXRvc2F2ZS5tb2RlbENoYW5nZWQpO1xyXG4gICAgICAgIF9hdXRvc2F2ZS5zYXZlT25Nb2RlbENoYW5nZWQgPSB0cnVlO1xyXG4gICAgfTtcclxufTsiLCIvLyBjb250cm9sbGVyIGZvciB1c2VyJ3MgbWFwcy9kYXNoYm9hcmRcclxuXHJcbndpbmRvdy5NYXBzQ3RybCA9IGZ1bmN0aW9uKCRzY29wZSwgJGh0dHAsICRyZXNvdXJjZSwgJG1vZGFsLCAkbG9nKSB7XHJcblxyXG4gICAgJHNjb3BlLnNlYXJjaFRleHQgPSAnJztcclxuXHJcbiAgICAkc2NvcGUubGlzdGluZ1BhcmFtcyA9IG5ldyBHb3JnZXNHcmlkLkxpc3RpbmdQYXJhbXMoKTtcclxuICAgICRzY29wZS5saXN0aW5nUGFyYW1zLnNvcnRCeSA9ICd1cGRhdGVkX2F0JztcclxuICAgICRzY29wZS5saXN0aW5nUGFyYW1zLnNvcnRPcmRlciA9ICdkZXNjJztcclxuXHJcbiAgICAkc2NvcGUubGlzdGluZ1BhcmFtcy52aWV3TmFtZSA9ICRzY29wZS5wYXJhbXMudmlld05hbWUgfHwgJ2FsbCc7IC8vIHNldCBkZWZhdWx0IHZpZXdcclxuICAgICRzY29wZS5yb3dTZWxlY3Rpb24gPSBuZXcgR29yZ2VzR3JpZC5Sb3dTZWxlY3Rpb24oKTtcclxuICAgICRzY29wZS52aWV3VHJlZVN0YXRlID0gbmV3IEdvcmdlc0dyaWQuVmlld1RyZWVTdGF0ZSgpO1xyXG4gICAgJHNjb3BlLnZpZXdUcmVlU3RhdGUuZXhwYW5kZWRWaWV3cyA9IFsnb3Jnc19iZWxvbmdlZF90byddO1xyXG4gICAgJHNjb3BlLm1hcHMgPSBbXTtcclxuICAgICRzY29wZS52aWV3cyA9IFtdO1xyXG4gICAgJHNjb3BlLnVzZXJzID0gW107XHJcblxyXG4gICAgJHNjb3BlLnRhZ2dpbmcgPSBuZXcgU2FuZGJhbmtUYWdnaW5nKCRzY29wZSwgJGh0dHAsICRyZXNvdXJjZSwgJG1vZGFsLCAkbG9nKTtcclxuICAgICRzY29wZS5hZG1pblRhZ2dpbmcgPSBuZXcgU2FuZGJhbmtBZG1pblRhZ2dpbmcoJHNjb3BlLCAkaHR0cCwgJHJlc291cmNlLCAkbW9kYWwsICRsb2cpO1xyXG4gICAgJHNjb3BlLnNoYXJpbmcgPSBuZXcgU2FuZGJhbmtTaGFyaW5nKCRzY29wZSwgJGh0dHAsICRyZXNvdXJjZSwgJG1vZGFsLCAkbG9nKTtcclxuXHJcbiAgICAkc2NvcGUub3BlblRhZ2dpbmdNb2RhbCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICRzY29wZS50YWdnaW5nLm9wZW5Nb2RhbChcclxuICAgICAgICAgICAgJHNjb3BlLmdldFNlbGVjdGVkTWFwSWRzKCksXHJcbiAgICAgICAgICAgIGZhbHNlLCAvLyBkb24ndCBzaG93IGRlc2NyaXB0aW9uIGZpZWxkIChUT0RPOiBzaG93IGlmIGl0J3MgYSBzaW5nbGUgbWFwIHRoYXQgdGhlIHVzZXIgY2FuIGVkaXQ/KVxyXG4gICAgICAgICAgICBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5sb2FkTWFwcygpO1xyXG4gICAgICAgICAgICB9IC8vIG9uIHVwZGF0ZVxyXG4gICAgICAgICk7XHJcbiAgICB9O1xyXG5cclxuICAgICRzY29wZS5vcGVuQWRtaW5UYWdnaW5nTW9kYWwgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAkc2NvcGUuYWRtaW5UYWdnaW5nLm9wZW5Nb2RhbChcclxuICAgICAgICAgICAgJHNjb3BlLmdldFNlbGVjdGVkTWFwSWRzKClbMF0sXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmxvYWRNYXBzKCk7XHJcbiAgICAgICAgICAgIH0gLy8gb24gdXBkYXRlXHJcbiAgICAgICAgKTtcclxuICAgIH07XHJcblxyXG4gICAgJHNjb3BlLm9wZW5TaGFyaW5nTW9kYWwgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAkc2NvcGUuc2hhcmluZy5vcGVuTW9kYWwoXHJcbiAgICAgICAgICAgICRzY29wZS5nZXRTZWxlY3RlZE1hcElkcygpLFxyXG4gICAgICAgICAgICBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5sb2FkTWFwcygpO1xyXG4gICAgICAgICAgICB9IC8vIG9uIHVwZGF0ZVxyXG4gICAgICAgICk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0gcm93IHNlbGVjdGlvbiAtLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgIC8vIFRPRE86IGFkZCBjb25kaXRpb25zIGZvciBlbmFibGluZyB0YWcvc2hhcmUvZGVsZXRlIGJ1dHRvbnMgYmFzZWQgb24gcGVybWlzc2lvbnMgb2Ygc2VsZWN0ZWQgbWFwc1xyXG5cclxuICAgICRzY29wZS5nZXRTZWxlY3RlZE1hcElkcyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBpZHMgPSBbXTtcclxuICAgICAgICBfLmVhY2goJHNjb3BlLnJvd1NlbGVjdGlvbi5zZWxlY3RlZFJvd0luZGV4ZXMsIGZ1bmN0aW9uKGVsZW1lbnQsIGluZGV4LCBsaXN0KSB7XHJcbiAgICAgICAgICAgIGlmIChlbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLm1hcHNbaW5kZXhdKSB7IC8vIHNob3VsZCBhbHdheXMgYmUgdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgIGlkcy5wdXNoKCRzY29wZS5tYXBzW2luZGV4XS5pZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gaWRzO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tIHJlc3BvbmQgdG8gdmlldy9wYWdlIGNoYW5nZXMgLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgICAkc2NvcGUubWF5YmVTZXRWaWV3ID0gZnVuY3Rpb24odmlldykge1xyXG4gICAgICAgIC8vIGRvbid0IHNldCB0aGUgdmlldyBpZiBhIHBhcmVudCB2aWV3IGlzIGNsaWNrZWQgb25cclxuICAgICAgICBpZiAoIXZpZXcuaXNQYXJlbnQpIHtcclxuICAgICAgICAgICAgJHNjb3BlLmxpc3RpbmdQYXJhbXMudmlld05hbWUgPSB2aWV3Lm5hbWU7XHJcbiAgICAgICAgICAgICRzY29wZS5sb2FkTWFwcygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAkc2NvcGUudmlld1RyZWVTdGF0ZS5leHBhbmRWaWV3KHZpZXcubmFtZSk7XHJcbiAgICB9O1xyXG5cclxuICAgICRzY29wZS5wYWdlU2VsZWN0ZWQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAkc2NvcGUubG9hZE1hcHMoKTtcclxuICAgIH07XHJcblxyXG4gICAgJHNjb3BlLnNldFNvcnRCeSA9IGZ1bmN0aW9uKGNvbCkge1xyXG4gICAgICAgICRzY29wZS5saXN0aW5nUGFyYW1zLnNldFNvcnRCeShjb2wpO1xyXG4gICAgICAgICRzY29wZS5sb2FkTWFwcygpO1xyXG4gICAgfTtcclxuXHJcbiAgICAkc2NvcGUuZG9TZWFyY2ggPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAkc2NvcGUubG9hZE1hcHMoKTtcclxuICAgIH07XHJcblxyXG4gICAgJHNjb3BlLnJlc2V0U2VhcmNoID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgJHNjb3BlLnNlYXJjaFRleHQgPSAnJztcclxuICAgICAgICAkc2NvcGUubG9hZE1hcHMoKTtcclxuICAgIH07XHJcblxyXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLSBtYXAgZGF0YSAtLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgICRzY29wZS5sb2FkTWFwcyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHN0YXJ0U3Bpbm5lcigpO1xyXG4gICAgICAgICRodHRwLmdldCgnL21hcHMuanNvbj8nICsgJHNjb3BlLmxpc3RpbmdQYXJhbXMudG9RdWVyeVN0cmluZygpICtcclxuICAgICAgICAgICAgJyZzZWFyY2g9JyArICRzY29wZS5zZWFyY2hUZXh0XHJcbiAgICAgICAgKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBnZXQgdXBkYXRlZCBwYXJhbXNcclxuICAgICAgICAgICAgICAgIF8uZXh0ZW5kKCRzY29wZS5saXN0aW5nUGFyYW1zLCByZXNwb25zZS5kYXRhLmxpc3RpbmdQYXJhbXMpO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnJvd1NlbGVjdGlvbi5kZXNlbGVjdEFsbCgpO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnZpZXdzID0gcmVzcG9uc2UuZGF0YS52aWV3cztcclxuICAgICAgICAgICAgICAgICRzY29wZS5tYXBzID0gcmVzcG9uc2UuZGF0YS5tYXBzO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnVzZXJzID0gcmVzcG9uc2UuZGF0YS51c2VycztcclxuICAgICAgICAgICAgICAgICRzY29wZS52aWV3VHJlZVN0YXRlLmV4cGFuZFZpZXcoJHNjb3BlLnBhcmFtcy5leHBhbmRWaWV3KTtcclxuICAgICAgICAgICAgICAgIHN0b3BTcGlubmVyKCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgc3RvcFNwaW5uZXIoKTtcclxuICAgICAgICAgICAgYWxlcnQoJ0NvdWxkIG5vdCBsb2FkIGxpc3Qgb2YgTWV0YU1hcHMnKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgICRzY29wZS5sb2FkTWFwcygpO1xyXG5cclxuICAgIC8vIC0tLS0tLS0tLS0tLS0tIHZpZXcgaGVscGVycyAtLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgICRzY29wZS5saXN0VXNlclRhZ3MgPSBmdW5jdGlvbihtYXApIHtcclxuICAgICAgICByZXR1cm4gXy5wbHVjayhtYXAudXNlclRhZ3MsICduYW1lJykuam9pbignLCAnKTtcclxuICAgIH07XHJcblxyXG4gICAgJHNjb3BlLmxpc3RDY3NUYWdzID0gZnVuY3Rpb24obWFwKSB7XHJcbiAgICAgICAgcmV0dXJuIF8ucGx1Y2sobWFwLmNjc1RhZ3MsICduYW1lJykuam9pbignLCAnKTtcclxuICAgIH07XHJcblxyXG4gICAgJHNjb3BlLmxpc3RBZG1pblRhZ3MgPSBmdW5jdGlvbihtYXApIHtcclxuICAgICAgICByZXR1cm4gXy5wbHVjayhtYXAuYWRtaW5UYWdzLCAnbmFtZScpLmpvaW4oJywgJyk7XHJcbiAgICB9O1xyXG5cclxuICAgICRzY29wZS5nZXRVc2VyTmFtZSA9IGZ1bmN0aW9uKG1hcCkge1xyXG4gICAgICAgIGlmIChtYXAudXNlcklkID09PSAkc2NvcGUudXNlcklkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBcIk1lXCI7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdmFyIHVzZXIgPSBfLmZpbmRXaGVyZSgkc2NvcGUudXNlcnMsIHtcclxuICAgICAgICAgICAgICAgIGlkOiBtYXAudXNlcklkXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gKHVzZXIgPyB1c2VyLm5hbWUgOiAnJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0tIHN0YXIgYSBtYXAgLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgICAkc2NvcGUudG9nZ2xlU3RhciA9IGZ1bmN0aW9uKG1hcCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCd0b2dnbGVTdGFyJyk7XHJcbiAgICAgICAgJGh0dHAucG9zdCgnL21hcHMvJyArIG1hcC5pZCArICcvdG9nZ2xlX3N0YXInKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubG9hZE1hcHMoKTsgLy8gcmVsb2FkIHRvIHVwZGF0ZSB0b3RhbCBpbiBUT0NcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZnVuY3Rpb24oKSB7fSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIC0tLS0tLS0tLS0tLS0gZGVsZXRlIG1hcHMgLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgICAkc2NvcGUuY29uZmlybURlbGV0ZVNlbGVjdGVkID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIG1hcElkcyA9ICRzY29wZS5nZXRTZWxlY3RlZE1hcElkcygpO1xyXG5cclxuICAgICAgICAvLyBpZiAobWFwSWRzLmxlbmd0aCA9PSAxKSB7XHJcbiAgICAgICAgLy8gICAgIGFsZXJ0aWZ5LmNvbmZpcm0oJ0RlbGV0ZSBzZWxlY3RlZCBNZXRhTWFwPycsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAvLyAgICAgICAgIGlmIChlKSB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgZGVsZXRlU2VsZWN0ZWQobWFwSWRzKTtcclxuICAgICAgICAvLyAgICAgICAgIH1cclxuICAgICAgICAvLyAgICAgfSk7XHJcbiAgICAgICAgLy8gfSBlbHNlIGlmIChtYXBJZHMubGVuZ3RoID4gMSkge1xyXG4gICAgICAgIC8vICAgICBhbGVydGlmeS5jb25maXJtKCdEZWxldGUgJyArIG1hcElkcy5sZW5ndGggKyAnIHNlbGVjdGVkIE1ldGFNYXBzPycsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAvLyAgICAgICAgIGlmIChlKSB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsgLy8gdGhpcyBpcyByZXF1aXJlZCB0byBtYWtlIG11bHRpcGxlIGFsZXJ0aWZ5IGNvbmZpcm1zIHdvcmsuLi5cclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgYWxlcnRpZnkuY29uZmlybSgnWW91IGFyZSBkZWxldGluZyBtdWx0aXBsZSBNZXRhTWFwcywgYXJlIHlvdSByZWFsbHkgc3VyZT8nLCBmdW5jdGlvbihlMikge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgaWYgKGUyKSB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlU2VsZWN0ZWQobWFwSWRzKTtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgfSwgMTAwMCk7XHJcbiAgICAgICAgLy8gICAgICAgICB9XHJcbiAgICAgICAgLy8gICAgIH0pO1xyXG4gICAgICAgIC8vIH1cclxuXHJcbiAgICAgICAgaWYgKG1hcElkcy5sZW5ndGggPT0gMSkge1xyXG4gICAgICAgICAgICBpZiAoY29uZmlybSgnRGVsZXRlIHNlbGVjdGVkIE1ldGFNYXA/JykpIHtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZVNlbGVjdGVkKG1hcElkcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKG1hcElkcy5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgIGlmIChjb25maXJtKCdEZWxldGUgJyArIG1hcElkcy5sZW5ndGggKyAnIHNlbGVjdGVkIE1ldGFNYXBzPycpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29uZmlybSgnWW91IGFyZSBkZWxldGluZyBtdWx0aXBsZSBNZXRhTWFwcywgYXJlIHlvdSByZWFsbHkgc3VyZT8nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZVNlbGVjdGVkKG1hcElkcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGZ1bmN0aW9uIGRlbGV0ZVNlbGVjdGVkKG1hcElkcykge1xyXG4gICAgICAgICRodHRwLnBvc3QoJy9tYXBzL2RlbGV0ZV9tdWx0aXBsZScsIG1hcElkcykudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwIHx8IHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmxvYWRNYXBzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYWxlcnRpZnkuc3VjY2VzcygobWFwSWRzLmxlbmd0aCA+IDEgPyAnTWV0YU1hcHMnIDogJ01ldGFNYXAnKSArICcgZGVsZXRlZCcpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBhbGVydGlmeS5lcnJvcignQ291bGQgbm90IGRlbGV0ZSBNZXRhTWFwcycpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGFsZXJ0KCdDb3VsZCBub3QgZGVsZXRlIE1ldGFNYXBzJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG59O1xyXG5cclxud2luZG93Lk1hcHNDdHJsLiRpbmplY3QgPSBbJyRzY29wZScsICckaHR0cCcsICckcmVzb3VyY2UnLCAnJG1vZGFsJywgJyRsb2cnXTsiLCIvLyBmdW5jdGlvbnMgZm9yIGVkaXRpbmcgcGVyc3BlY3RpdmVzIEFORCBkaXN0aW5jdGlvbnMsIHdoaWNoIHdvcmsgc2ltaWxhcmx5IGluIHRoZSBVSVxyXG5cclxuU2FuZGJhbmtFZGl0b3IuUGVyc3BlY3RpdmVzID0gZnVuY3Rpb24oJHNjb3BlLCBtYXApIHtcclxuXHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgLy8gdGVtcG9yYXJ5IHN0YXRlIGZsYWcgZm9yIGFkZGluZy9yZW1vdmluZyBQL0Qgc2VsZWN0aW9ucyBwcm9ncmFtbWF0aWNhbGx5XHJcbiAgICB2YXIgc2VsZWN0aW5nTGlua2VkVGhpbmdzID0gZmFsc2U7XHJcblxyXG4gICAgdGhpcy5pbml0ID0gZnVuY3Rpb24oKSB7fTtcclxuXHJcbiAgICAvLyBjYWxsZWQgd2hlbiBhIHRhYiBpcyBvcGVuZWQgb3IgY2xvc2VkXHJcbiAgICB0aGlzLmN1cnJlbnRUYWJDaGFuZ2VkID0gZnVuY3Rpb24obmV3VmFsdWUsIG9sZFZhbHVlKSB7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZygnUGVyc3BlY3RpdmVzLCBjdXJyZW50VGFiQ2hhbmdlZCcpO1xyXG4gICAgICAgIGlmIChuZXdWYWx1ZSA9PSBtYXAuZ2V0VWkoKS5UQUJfSURfUEVSU1BFQ1RJVkVTKSB7IC8vIG9wZW5pbmcgcGVyc3BlY3RpdmVzXHJcbiAgICAgICAgICAgIHNldFBvckRUaGluZygnUCcpO1xyXG4gICAgICAgICAgICBtYXAuc2V0RWRpdGluZ0Jsb2NrZWQodHJ1ZSk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChvbGRWYWx1ZSA9PSBtYXAuZ2V0VWkoKS5UQUJfSURfUEVSU1BFQ1RJVkVTKSB7IC8vIGNsb3NpbmcgcGVyc3BlY3RpdmVzXHJcbiAgICAgICAgICAgIHNhdmVMaW5rcygnUCcpO1xyXG4gICAgICAgICAgICBtYXAuc2V0RWRpdGluZ0Jsb2NrZWQoZmFsc2UpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAobmV3VmFsdWUgPT0gbWFwLmdldFVpKCkuVEFCX0lEX0RJU1RJTkNUSU9OUykgeyAvLyBvcGVuaW5nIGRpc3RpbmN0aW9uc1xyXG4gICAgICAgICAgICBzZXRQb3JEVGhpbmcoJ0QnKTtcclxuICAgICAgICAgICAgbWFwLnNldEVkaXRpbmdCbG9ja2VkKHRydWUpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAob2xkVmFsdWUgPT0gbWFwLmdldFVpKCkuVEFCX0lEX0RJU1RJTkNUSU9OUykgeyAvLyBjbG9zaW5nIGRpc3RpbmN0aW9uc1xyXG4gICAgICAgICAgICBzYXZlTGlua3MoJ0QnKTtcclxuICAgICAgICAgICAgbWFwLnNldEVkaXRpbmdCbG9ja2VkKGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuaGFuZGxlRGlhZ3JhbUV2ZW50ID0gZnVuY3Rpb24oZXZlbnROYW1lLCBlKSB7XHJcbiAgICAgICAgaWYgKGV2ZW50TmFtZSA9PSAnQ2hhbmdlZFNlbGVjdGlvbicpIHtcclxuICAgICAgICAgICAgaWYgKG1hcC5nZXRVaSgpLmN1cnJlbnRUYWJJcyhtYXAuZ2V0VWkoKS5UQUJfSURfUEVSU1BFQ1RJVkVTKSB8fCBtYXAuZ2V0VWkoKS5jdXJyZW50VGFiSXMobWFwLmdldFVpKCkuVEFCX0lEX0RJU1RJTkNUSU9OUykpIHtcclxuICAgICAgICAgICAgICAgIHVwZGF0ZUxpbmtzKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIC0tLS0tLS0tLS0gUC9EIEVkaXRvciBzdGF0ZVxyXG5cclxuICAgIHRoaXMuaXNJblBPckRFZGl0b3JNb2RlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIG1hcC5nZXRVaSgpLnN0YXRlLnBlcnNwZWN0aXZlUG9pbnRLZXkgIT09IG51bGwgfHwgbWFwLmdldFVpKCkuc3RhdGUuZGlzdGluY3Rpb25UaGluZ0tleSAhPT0gbnVsbDtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5pc0luUEVkaXRvck1vZGUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gbWFwLmdldFVpKCkuc3RhdGUucGVyc3BlY3RpdmVQb2ludEtleSAhPT0gbnVsbDtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5pc0luREVkaXRvck1vZGUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gbWFwLmdldFVpKCkuc3RhdGUuZGlzdGluY3Rpb25UaGluZ0tleSAhPT0gbnVsbDtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5pc1BFZGl0b3JQb2ludCA9IGZ1bmN0aW9uKGdyb3VwKSB7XHJcbiAgICAgICAgcmV0dXJuIG1hcC5nZXRVaSgpLnN0YXRlLnBlcnNwZWN0aXZlUG9pbnRLZXkgPT0gZ3JvdXAuZGF0YS5rZXk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuaXNERWRpdG9yVGhpbmcgPSBmdW5jdGlvbihncm91cCkge1xyXG4gICAgICAgIHJldHVybiBtYXAuZ2V0VWkoKS5zdGF0ZS5kaXN0aW5jdGlvblRoaW5nS2V5ID09IGdyb3VwLmRhdGEua2V5O1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBOQjogdGhpcyBpcyBjYWxsZWQgdmlhIG1hcC5nZXRDb3JuZXJGdW5jdGlvbiwgc28gd2UgZ2V0IHRoZSBleHRyYSBjb3JuZXIgYXJnLCB3aGljaCB3ZSBjYW4gaWdub3JlXHJcbiAgICB0aGlzLnNldFBFZGl0b3JQb2ludCA9IGZ1bmN0aW9uKHRoaW5nLCBjb3JuZXIpIHtcclxuICAgICAgICBpZiAoJHNjb3BlLmNhbkVkaXQpIHtcclxuICAgICAgICAgICAgbWFwLmdldFVpKCkub3BlblRhYihtYXAuZ2V0VWkoKS5UQUJfSURfUEVSU1BFQ1RJVkVTKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuc2V0REVkaXRvclRoaW5nID0gZnVuY3Rpb24odGhpbmcpIHtcclxuICAgICAgICBpZiAoJHNjb3BlLmNhbkVkaXQpIHtcclxuICAgICAgICAgICAgLy8gTkI6IG5lZWQgdG8gc2VsZWN0IG9ubHkgdGhpcyB0aGluZywgc2luY2UgdGhpcyBpcyBpbnZva2VkXHJcbiAgICAgICAgICAgIC8vIGJ5IGEgY29udHJvbC1jbGljaywgd2hpY2ggd2lsbCBub3QgYXV0b21hdGljYWxseSBzZWxlY3QganVzdCBpdFxyXG4gICAgICAgICAgICBtYXAuZ2V0RGlhZ3JhbSgpLmNsZWFyU2VsZWN0aW9uKCk7XHJcbiAgICAgICAgICAgIHRoaW5nLmlzU2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBtYXAuZ2V0VWkoKS5vcGVuVGFiKG1hcC5nZXRVaSgpLlRBQl9JRF9ESVNUSU5DVElPTlMpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgICB0aGlzLmlzUGVyc3BlY3RpdmVQb2ludCA9IGZ1bmN0aW9uKGdyb3VwKSB7XHJcbiAgICAgICAgdmFyIGxpbmtzID0gZ3JvdXAuZmluZExpbmtzT3V0T2YoKTtcclxuICAgICAgICB3aGlsZSAobGlua3MubmV4dCgpKSB7XHJcbiAgICAgICAgICAgIHZhciBsaW5rID0gbGlua3MudmFsdWU7XHJcbiAgICAgICAgICAgIGlmIChsaW5rLmRhdGEuY2F0ZWdvcnkgPT0gJ1AnKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuaXNTZWxlY3RlZFBlcnNwZWN0aXZlVmlldyA9IGZ1bmN0aW9uKGdyb3VwKSB7XHJcbiAgICAgICAgdmFyIGxpbmtzID0gZ3JvdXAuZmluZExpbmtzSW50bygpO1xyXG4gICAgICAgIHdoaWxlIChsaW5rcy5uZXh0KCkpIHtcclxuICAgICAgICAgICAgdmFyIGxpbmsgPSBsaW5rcy52YWx1ZTtcclxuICAgICAgICAgICAgaWYgKGxpbmsuZGF0YS5jYXRlZ29yeSA9PSAnUCcgJiYgbWFwLnBJc0V4cGFuZGVkKGxpbmsuZnJvbU5vZGUpICYmIGxpbmsuZnJvbU5vZGUuaXNTZWxlY3RlZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmlzVG9nZ2xlZFBlcnNwZWN0aXZlVmlldyA9IGZ1bmN0aW9uKGdyb3VwKSB7XHJcbiAgICAgICAgdmFyIGxpbmtzID0gZ3JvdXAuZmluZExpbmtzSW50bygpO1xyXG4gICAgICAgIHdoaWxlIChsaW5rcy5uZXh0KCkpIHtcclxuICAgICAgICAgICAgdmFyIGxpbmsgPSBsaW5rcy52YWx1ZTtcclxuICAgICAgICAgICAgaWYgKGxpbmsuZGF0YS5jYXRlZ29yeSA9PSAnUCcgJiYgbWFwLnBJc0V4cGFuZGVkKGxpbmsuZnJvbU5vZGUpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuaXNNb3VzZU92ZXJQZXJzcGVjdGl2ZVZpZXcgPSBmdW5jdGlvbihncm91cCkge1xyXG4gICAgICAgIHZhciBsaW5rcyA9IGdyb3VwLmZpbmRMaW5rc0ludG8oKTtcclxuICAgICAgICB3aGlsZSAobGlua3MubmV4dCgpKSB7XHJcbiAgICAgICAgICAgIHZhciBsaW5rID0gbGlua3MudmFsdWU7XHJcbiAgICAgICAgICAgIGlmIChsaW5rLmRhdGEuY2F0ZWdvcnkgPT0gJ1AnICYmIGxpbmsuZnJvbU5vZGUgPT0gbWFwLmdldFVpKCkubW91c2VPdmVyR3JvdXApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5nZXRQZXJzcGVjdGl2ZVZpZXdXZWlnaHQgPSBmdW5jdGlvbihncm91cCkge1xyXG4gICAgICAgIHZhciBtb2RlID0gbWFwLmdldFVpKCkuZ2V0TWFwRWRpdG9yT3B0aW9ucygpLnBlcnNwZWN0aXZlTW9kZTtcclxuICAgICAgICBpZiAobW9kZSA9PSAnc3BvdGxpZ2h0JyB8fCBtb2RlID09ICdib3RoJykge1xyXG4gICAgICAgICAgICByZXR1cm4gKHNlbGYuaXNTZWxlY3RlZFBlcnNwZWN0aXZlVmlldyhncm91cCkgPyAxIDogMCkgK1xyXG4gICAgICAgICAgICAgICAgKHNlbGYuaXNUb2dnbGVkUGVyc3BlY3RpdmVWaWV3KGdyb3VwKSA/IDEgOiAwKSArXHJcbiAgICAgICAgICAgICAgICAoc2VsZi5pc01vdXNlT3ZlclBlcnNwZWN0aXZlVmlldyhncm91cCkgPyAxIDogMCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgIC8vIGNhdGVnb3J5IGlzIFwiUFwiIG9yIFwiRFwiIChwZXJzcGVjdGl2ZXMgb3IgZGlzdGluY3Rpb25zKVxyXG4gICAgZnVuY3Rpb24gc2V0UG9yRFRoaW5nKGNhdGVnb3J5KSB7XHJcbiAgICAgICAgLy8gaWYgYWxyZWFkeSBzZXQsIG11c3QgZG8gc2F2ZSBwZXJzcGVjdGl2ZXMgb3Igc2F2ZSBkaXN0aW5jdGlvbnNcclxuICAgICAgICBpZiAobWFwLmdldFVpKCkuc3RhdGUucGVyc3BlY3RpdmVQb2ludEtleSB8fCBtYXAuZ2V0VWkoKS5zdGF0ZS5kaXN0aW5jdGlvblRoaW5nS2V5KVxyXG4gICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgIHZhciB0aGluZyA9IG1hcC5nZXREaWFncmFtKCkuc2VsZWN0aW9uLmZpcnN0KCk7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZygnc2V0UG9yRFRoaW5nOiAnICsgdGhpbmcpO1xyXG4gICAgICAgIGlmICh0aGluZyBpbnN0YW5jZW9mIGdvLkdyb3VwKSB7XHJcbiAgICAgICAgICAgIHZhciBrZXkgPSB0aGluZy5kYXRhLmtleTtcclxuICAgICAgICAgICAgaWYgKGNhdGVnb3J5ID09IFwiUFwiKSB7XHJcbiAgICAgICAgICAgICAgICBtYXAuZ2V0VWkoKS5zdGF0ZS5wZXJzcGVjdGl2ZVBvaW50S2V5ID0ga2V5O1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNhdGVnb3J5ID09IFwiRFwiKSB7XHJcbiAgICAgICAgICAgICAgICBtYXAuZ2V0VWkoKS5zdGF0ZS5kaXN0aW5jdGlvblRoaW5nS2V5ID0ga2V5O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBzZWxlY3Qgdmlld3Mvb3RoZXJzXHJcbiAgICAgICAgICAgIHNlbGVjdExpbmtlZFRoaW5nc0Zvcih0aGluZywgY2F0ZWdvcnkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyB0aGlzIGlzIGNhbGxlZCB3aGVuIHRoZSBzZWxlY3Rpb24gY2hhbmdlcyAtIGlmIHRoZSB0aGluZyBpcyBzZXQsXHJcbiAgICAvLyBhZGRzL3JlbW92ZXMgRC9QIGxpbmtzIGFjY29yZGluZyB0byB3aGF0IGlzIHNlbGVjdGVkOyBvdGhlcndpc2VcclxuICAgIC8vIGp1c3Qgc2hvd3MvaGlkZXMgRC9QIGxpbmtzIGZvciB0aGUgc2VsZWN0ZWQgdGhpbmcocylcclxuICAgIGZ1bmN0aW9uIHVwZGF0ZUxpbmtzKCkge1xyXG4gICAgICAgIGlmIChzZWxlY3RpbmdMaW5rZWRUaGluZ3MpIC8vIHNlbGVjdGlvbiBpcyBiZWluZyBjaGFuZ2VkIHByb2dyYW1tYXRpY2FsbHksIHNvIGRvbid0IHJlc3BvbmRcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICB2YXIgcE9yRFRoaW5nID0gbnVsbDtcclxuICAgICAgICB2YXIgY2F0ZWdvcnkgPSBudWxsO1xyXG4gICAgICAgIGlmIChtYXAuZ2V0VWkoKS5zdGF0ZS5wZXJzcGVjdGl2ZVBvaW50S2V5KSB7XHJcbiAgICAgICAgICAgIHBPckRUaGluZyA9IG1hcC5nZXREaWFncmFtKCkuZmluZE5vZGVGb3JLZXkobWFwLmdldFVpKCkuc3RhdGUucGVyc3BlY3RpdmVQb2ludEtleSk7XHJcbiAgICAgICAgICAgIGNhdGVnb3J5ID0gXCJQXCI7XHJcbiAgICAgICAgfSBlbHNlIGlmIChtYXAuZ2V0VWkoKS5zdGF0ZS5kaXN0aW5jdGlvblRoaW5nS2V5KSB7XHJcbiAgICAgICAgICAgIHBPckRUaGluZyA9IG1hcC5nZXREaWFncmFtKCkuZmluZE5vZGVGb3JLZXkobWFwLmdldFVpKCkuc3RhdGUuZGlzdGluY3Rpb25UaGluZ0tleSk7XHJcbiAgICAgICAgICAgIGNhdGVnb3J5ID0gXCJEXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgYWRkTGlua3NUbyA9IG5ldyBnby5MaXN0KCk7XHJcbiAgICAgICAgdmFyIHJlbW92ZUxpbmtzID0gbmV3IGdvLkxpc3QoKTtcclxuXHJcbiAgICAgICAgLy8gaXRlcmF0ZSB0aHJvdWdoIGFsbCB0aGluZ3NcclxuICAgICAgICBpZiAoY2F0ZWdvcnkpIHtcclxuICAgICAgICAgICAgdmFyIGxheWVycyA9IG1hcC5nZXREaWFncmFtKCkubGF5ZXJzO1xyXG4gICAgICAgICAgICB3aGlsZSAobGF5ZXJzLm5leHQoKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGxheWVyID0gbGF5ZXJzLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgdmFyIHBhcnRzID0gbGF5ZXIucGFydHM7XHJcbiAgICAgICAgICAgICAgICB3aGlsZSAocGFydHMubmV4dCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcnQgPSBwYXJ0cy52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocGFydCBpbnN0YW5jZW9mIGdvLkdyb3VwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNhbGN1bGF0ZSBsaW5rcyB0byBhZGQvcmVtb3ZlIGJhc2VkIG9uIHNlbGVjdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocE9yRFRoaW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGlua3MgPSBwYXJ0LmZpbmRMaW5rc0ludG8oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBleGlzdGluZ0xpbmsgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGxpbmtzLm5leHQoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsaW5rID0gbGlua3MudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxpbmsuZnJvbU5vZGUuZGF0YS5rZXkgPT0gcE9yRFRoaW5nLmRhdGEua2V5ICYmIGxpbmsuZGF0YS5jYXRlZ29yeSA9PSBjYXRlZ29yeSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmdMaW5rID0gbGluaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBkZWNpZGUgd2hldGhlciB0byBhZGQgb3IgcmVtb3ZlIGEgbGluayB0byB0aGUgcGFydCwgZGVwZW5kaW5nIG9uIHdoZXRoZXIgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpdCBpcyBzZWxlY3RlZCBhbmQgd2hldGhlciBhIGxpbmsgZXhpc3RzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWV4aXN0aW5nTGluayAmJiBwYXJ0LmlzU2VsZWN0ZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkTGlua3NUby5hZGQocGFydCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChleGlzdGluZ0xpbmsgJiYgIXBhcnQuaXNTZWxlY3RlZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVMaW5rcy5hZGQoZXhpc3RpbmdMaW5rKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gZG8gdGhlIGFkZGluZy9yZW1vdmluZyBvZiBsaW5rc1xyXG4gICAgICAgIHZhciBhZGRzID0gYWRkTGlua3NUby5pdGVyYXRvcjtcclxuICAgICAgICB3aGlsZSAoYWRkcy5uZXh0KCkpIHtcclxuICAgICAgICAgICAgbWFwLmdldERpYWdyYW0oKS5tb2RlbC5zdGFydFRyYW5zYWN0aW9uKCdhZGQgbGluaycpO1xyXG4gICAgICAgICAgICB2YXIgdG8gPSBhZGRzLnZhbHVlO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygndXBkYXRlTGlua3M6IGFkZGluZyBsaW5rIGZyb20gJyArIHBPckRUaGluZyArICcgdG8gJyArIHRvKTtcclxuICAgICAgICAgICAgaWYgKGNhdGVnb3J5ID09IFwiRFwiICYmIHBPckRUaGluZy5kYXRhLmtleSA9PSB0by5kYXRhLmtleSkge1xyXG4gICAgICAgICAgICAgICAgcE9yRFRoaW5nLmlzU2VsZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGFsZXJ0KFwiWW91IGNhbid0IGRpc3Rpbmd1aXNoIGEgdGhpbmcgZnJvbSBpdHNlbGYhXCIpO1xyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbWFwLmdldERpYWdyYW0oKS5tb2RlbC5hZGRMaW5rRGF0YSh7XHJcbiAgICAgICAgICAgICAgICBmcm9tOiBwT3JEVGhpbmcuZGF0YS5rZXksXHJcbiAgICAgICAgICAgICAgICB0bzogdG8uZGF0YS5rZXksXHJcbiAgICAgICAgICAgICAgICBmcm9tUG9ydDogY2F0ZWdvcnksXHJcbiAgICAgICAgICAgICAgICB0b1BvcnQ6IGNhdGVnb3J5LFxyXG4gICAgICAgICAgICAgICAgY2F0ZWdvcnk6IGNhdGVnb3J5XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBtYXAuZ2V0RGlhZ3JhbSgpLm1vZGVsLmNvbW1pdFRyYW5zYWN0aW9uKCdhZGQgbGluaycpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgcmVtb3ZlcyA9IHJlbW92ZUxpbmtzLml0ZXJhdG9yO1xyXG4gICAgICAgIHdoaWxlIChyZW1vdmVzLm5leHQoKSkge1xyXG4gICAgICAgICAgICB2YXIgcmVtb3ZlID0gcmVtb3Zlcy52YWx1ZTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ3VwZGF0ZUxpbmtzOiByZW1vdmluZyBsaW5rIGZyb20gJyArIHJlbW92ZS5mcm9tTm9kZSArICcgdG8gJyArIHJlbW92ZS50b05vZGUpO1xyXG4gICAgICAgICAgICBtYXAuZ2V0RGlhZ3JhbSgpLm1vZGVsLnN0YXJ0VHJhbnNhY3Rpb24oJ3JlbW92ZSBsaW5rJyk7XHJcbiAgICAgICAgICAgIG1hcC5nZXREaWFncmFtKCkucmVtb3ZlKHJlbW92ZSk7XHJcbiAgICAgICAgICAgIG1hcC5nZXREaWFncmFtKCkubW9kZWwucmVtb3ZlTGlua0RhdGEocmVtb3ZlLmRhdGEpO1xyXG4gICAgICAgICAgICBtYXAuZ2V0RGlhZ3JhbSgpLm1vZGVsLmNvbW1pdFRyYW5zYWN0aW9uKCdyZW1vdmUgbGluaycpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gc2hvdyBsaW5rc1xyXG4gICAgICAgIG1hcC5nZXREaWFncmFtKCkudXBkYXRlQWxsVGFyZ2V0QmluZGluZ3MoKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzYXZlTGlua3MoY2F0ZWdvcnkpIHtcclxuICAgICAgICB2YXIgcE9yRFRoaW5nID0gbnVsbDtcclxuICAgICAgICBpZiAoY2F0ZWdvcnkgPT0gXCJQXCIpIHtcclxuICAgICAgICAgICAgcE9yRFRoaW5nID0gbWFwLmdldERpYWdyYW0oKS5maW5kTm9kZUZvcktleShtYXAuZ2V0VWkoKS5zdGF0ZS5wZXJzcGVjdGl2ZVBvaW50S2V5KTtcclxuICAgICAgICAgICAgbWFwLmdldFVpKCkuc3RhdGUucGVyc3BlY3RpdmVQb2ludEtleSA9IG51bGw7XHJcbiAgICAgICAgfSBlbHNlIGlmIChjYXRlZ29yeSA9PSBcIkRcIikge1xyXG4gICAgICAgICAgICBwT3JEVGhpbmcgPSBtYXAuZ2V0RGlhZ3JhbSgpLmZpbmROb2RlRm9yS2V5KG1hcC5nZXRVaSgpLnN0YXRlLmRpc3RpbmN0aW9uVGhpbmdLZXkpO1xyXG4gICAgICAgICAgICBtYXAuZ2V0VWkoKS5zdGF0ZS5kaXN0aW5jdGlvblRoaW5nS2V5ID0gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIG1hcC5nZXREaWFncmFtKCkuY2xlYXJTZWxlY3Rpb24oKTtcclxuICAgICAgICBtYXAuZ2V0RGlhZ3JhbSgpLnVwZGF0ZUFsbFRhcmdldEJpbmRpbmdzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2VsZWN0TGlua2VkVGhpbmdzRm9yKGdyb3VwLCBjYXRlZ29yeSkge1xyXG4gICAgICAgIHNlbGVjdGluZ0xpbmtlZFRoaW5ncyA9IHRydWU7XHJcbiAgICAgICAgbWFwLmdldERpYWdyYW0oKS5jbGVhclNlbGVjdGlvbigpO1xyXG5cclxuICAgICAgICB2YXIgbGlua3MgPSBncm91cC5maW5kTGlua3NPdXRPZigpO1xyXG4gICAgICAgIHdoaWxlIChsaW5rcy5uZXh0KCkpIHtcclxuICAgICAgICAgICAgdmFyIGxpbmsgPSBsaW5rcy52YWx1ZTtcclxuICAgICAgICAgICAgaWYgKGxpbmsuZGF0YS5jYXRlZ29yeSA9PSBjYXRlZ29yeSlcclxuICAgICAgICAgICAgICAgIGxpbmsudG9Ob2RlLmlzU2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2VsZWN0aW5nTGlua2VkVGhpbmdzID0gZmFsc2U7XHJcbiAgICB9XHJcbn07IiwiLy8gZnVuY3Rpb25zIGZvciB0aGUgcHJlc2VudGVyL3NsaWRlc1xyXG5cclxuU2FuZGJhbmtFZGl0b3IuUHJlc2VudGVyID0gZnVuY3Rpb24gKCRzY29wZSwgbWFwKSB7XHJcblxyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgIC8vIGNvbnN0YW50c1xyXG4gICAgdGhpcy5TTElERV9CTE9DS0VSX1dJRFRIID0gMTAwMDtcclxuICAgIHRoaXMuU0xJREVfQkxPQ0tFUl9DT0xPUiA9IFwiI2ZmZlwiO1xyXG4gICAgdGhpcy5TTElERV9CTE9DS0VSX09QQUNJVFkgPSAwLjk7XHJcblxyXG4gICAgLy8gc3RhdGUgdmFyc1xyXG4gICAgdGhpcy5jdXJyZW50U2xpZGVJbmRleCA9IG51bGw7XHJcbiAgICB0aGlzLmlzUHJlc2VudGluZyA9IGZhbHNlO1xyXG4gICAgdGhpcy5zaG93VE9DID0gZmFsc2U7XHJcbiAgICB0aGlzLmlzQ3JlYXRpbmdUaHVtYm5haWwgPSBmYWxzZTtcclxuXHJcbiAgICAvLyBtYXNrIGFwcGxpZWQgYXJvdW5kIHNsaWRlIHJlZ2lvbiB3aGVuIHByZXNlbnRpbmdcclxuICAgIHRoaXMuc2xpZGVCbG9ja2VyID0gbnVsbDtcclxuXHJcbiAgICB0aGlzLmRpYWdyYW1Bc3BlY3RSYXRpbyA9IG51bGw7XHJcblxyXG4gICAgdGhpcy5pbml0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmF1dG9zYXZlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgbWFwLmdldEF1dG9zYXZlKCkuc2F2ZSgnZWRpdF9wcmVzZW50ZXInKTsgXHJcbiAgICB9O1xyXG5cclxuICAgIC8vIC0tLS0tLS0tLS0gZWRpdGluZyBmdW5jdGlvbnMgZm9yIGRpZmZlcmVudCBzbGlkZSB0eXBlcyAtLS0tLS0tLS0tLS0tXHJcblxyXG4gICAgLy8gTkI6IGhhc0xpbmtzIGNhbiBoYXZlIHZhbHVlcyBmYWxzZSwgMSwgb3IgdHJ1ZSAoMSBtZWFucyBvbmx5IGEgc2luZ2xlIGxpbmspXHJcbiAgICB0aGlzLnNsaWRlVHlwZXMgPSBbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBuYW1lOiAnVElUTEVfQk9EWScsIGxhYmVsOiAnVGl0bGUgYW5kIEJvZHknLFxyXG4gICAgICAgICAgICBoYXNUaXRsZTogdHJ1ZSwgIGhhc05vdGVzOiB0cnVlLCAgaGFzQ2hlY2tzOiBmYWxzZSwgaGFzTWFwUmVnaW9uOiBmYWxzZSwgaGFzTWFwU3VtbWFyeTogZmFsc2UsIGhhc0xpbmtzOiBmYWxzZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgeyBcclxuICAgICAgICAgICAgbmFtZTogJ1RJVExFX0JPRFlfTUFQJywgbGFiZWw6ICdUaXRsZSwgQm9keSBhbmQgTWV0YU1hcCcsXHJcbiAgICAgICAgICAgIGhhc1RpdGxlOiB0cnVlLCAgaGFzTm90ZXM6IHRydWUsICBoYXNDaGVja3M6IGZhbHNlLCBoYXNNYXBSZWdpb246IHRydWUsICBoYXNNYXBTdW1tYXJ5OiBmYWxzZSwgaGFzTGlua3M6IGZhbHNlXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7IFxyXG4gICAgICAgICAgICBuYW1lOiAnQUNUSVZJVFlfTUFQJywgbGFiZWw6ICdMZXNzb24gQWN0aXZpdHkgYW5kIE1ldGFNYXAnLFxyXG4gICAgICAgICAgICBoYXNUaXRsZTogdHJ1ZSwgIGhhc05vdGVzOiB0cnVlLCAgaGFzQ2hlY2tzOiB0cnVlLCAgaGFzTWFwUmVnaW9uOiB0cnVlLCAgaGFzTWFwU3VtbWFyeTogZmFsc2UsIGhhc0xpbmtzOiB0cnVlXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7IFxyXG4gICAgICAgICAgICBuYW1lOiAnTUFQX09OTFknLCBsYWJlbDogJ01ldGFNYXAgb25seScsXHJcbiAgICAgICAgICAgIGhhc1RpdGxlOiB0cnVlLCAgaGFzTm90ZXM6IGZhbHNlLCBoYXNDaGVja3M6IGZhbHNlLCBoYXNNYXBSZWdpb246IHRydWUsICBoYXNNYXBTdW1tYXJ5OiBmYWxzZSwgaGFzTGlua3M6IGZhbHNlXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7IFxyXG4gICAgICAgICAgICBuYW1lOiAnTUFQX1NVTU1BUlknLCBsYWJlbDogJ01ldGFNYXAgU3VtbWFyeScsXHJcbiAgICAgICAgICAgIGhhc1RpdGxlOiBmYWxzZSwgaGFzTm90ZXM6IGZhbHNlLCBoYXNDaGVja3M6IGZhbHNlLCBoYXNNYXBSZWdpb246IHRydWUsIGhhc01hcFN1bW1hcnk6IHRydWUsIGhhc0xpbmtzOiBmYWxzZVxyXG4gICAgICAgIH1cclxuICAgIF07XHJcblxyXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tIGxpbmsvYXR0YWNobWVudCB0eXBlcyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgIHRoaXMubGlua1R5cGVzID0gW1xyXG4gICAgICAgIHsgbmFtZTogJycsIGxhYmVsOiAnLS0gU2VsZWN0IGF0dGFjaG1lbnQgdHlwZSAtLScgfSxcclxuICAgICAgICB7IG5hbWU6ICdXRUInLCBsYWJlbDogJ1dlYiBQYWdlJyB9LFxyXG4gICAgICAgIHsgbmFtZTogJ1BERicsIGxhYmVsOiAnUERGJyB9LFxyXG4gICAgICAgIHsgbmFtZTogJ0RPQycsIGxhYmVsOiAnRG9jdW1lbnQnIH0sXHJcbiAgICAgICAgeyBuYW1lOiAnU1BSRUFEU0hFRVQnLCBsYWJlbDogJ1NwcmVhZHNoZWV0JyB9LFxyXG4gICAgICAgIHsgbmFtZTogJ1BSRVNFTlRBVElPTicsIGxhYmVsOiAnUHJlc2VudGF0aW9uJyB9LFxyXG4gICAgICAgIHsgbmFtZTogJ01FVEFNQVAnLCBsYWJlbDogJ01ldGFNYXAnIH0sXHJcbiAgICAgICAgeyBuYW1lOiAnSU1BR0UnLCBsYWJlbDogJ0ltYWdlJyB9LFxyXG4gICAgICAgIHsgbmFtZTogJ0FVRElPJywgbGFiZWw6ICdBdWRpbycgfSxcclxuICAgICAgICB7IG5hbWU6ICdWSURFTycsIGxhYmVsOiAnVmlkZW8nIH0sXHJcbiAgICAgICAgeyBuYW1lOiAnU1VSVkVZJywgbGFiZWw6ICdTdXJ2ZXknIH0sXHJcbiAgICAgICAgeyBuYW1lOiAnV09SS1NIRUVUJywgbGFiZWw6ICdXb3Jrc2hlZXQnIH1cclxuICAgIF07XHJcblxyXG4gICAgLy8gLS0tLS0tLS0tLS0tIGxpc3Qgb2YgYWxsIHRoaW5ncyBpbiB0aGUgbWFwLCBmb3IgbWFwIHN1bW1hcnkgc2xpZGVzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgIHRoaXMuaWRlYUxpc3QgPSAnJztcclxuXHJcbiAgICAvLyBvbmx5IGNhbGwgdGhpcyBvY2Nhc2lvbmFsbHksIGFzIHRoZXkgd29uJ3QgYmUgZWRpdGluZyB0aGUgbWFwIHdoaWxlIHByZXNlbnRlciBpcyBvcGVuXHJcbiAgICBmdW5jdGlvbiB1cGRhdGVJZGVhTGlzdCgpIHtcclxuICAgICAgICB2YXIgbm9kZXMgPSBtYXAuZ2V0RGlhZ3JhbSgpLm5vZGVzO1xyXG4gICAgICAgIHZhciBsaXN0ID0gW107XHJcbiAgICAgICAgd2hpbGUgKG5vZGVzLm5leHQoKSkge1xyXG4gICAgICAgICAgICBpZiAoKG5vZGVzLnZhbHVlIGluc3RhbmNlb2YgZ28uR3JvdXApKSB7XHJcbiAgICAgICAgICAgICAgICBsaXN0LnB1c2gobm9kZXMudmFsdWUuZGF0YS50ZXh0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBsaXN0LnNvcnQoKTtcclxuXHJcbiAgICAgICAgLy8gZmlsdGVyIG91dCBwbGFjZWhvbGRlciBuYW1lcyAtIHNlZSBtYXAuanM6Z2V0TmV3VGhpbmdEYXRhLCBjcmVhdGVTaXN0ZXIsIGV0Yy5cclxuICAgICAgICBsaXN0ID0gXy5kaWZmZXJlbmNlKF8udW5pcShsaXN0LCB0cnVlKSwgXHJcbiAgICAgICAgICAgIG1hcC5nZXRHZW5lcmF0b3IoKS5nZXRQbGFjZWhvbGRlcklkZWFOYW1lcygpLCBcclxuICAgICAgICAgICAgWydOZXcgSWRlYScsICdOZXcgRGlzdGluZ3Vpc2hlZCBJZGVhJywgJ05ldyBSZWxhdGVkIElkZWEnLCAnTmV3IFJlbGF0aW9uc2hpcCBJZGVhJywgJ05ldyBQYXJ0IElkZWEnLFxyXG4gICAgICAgICAgICAgJ0lkZWEnLCAnUGFydCcsICdSZWxhdGlvbnNoaXAgSWRlYSddIC8vIG5ld2VyIHNpbXBsaWZpZWQgbmFtZXNcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBzZWxmLmlkZWFMaXN0ID0gbGlzdC5qb2luKCcsICcpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuc3VtbWFyeUFuYWx5dGljcyA9IFtcclxuICAgICAgICB7IG5hbWU6ICdDT1VOVF9USElOR1MnLCBzaW5ndWxhckxhYmVsOiAnRGlzdGluY3Rpb24nLCBwbHVyYWxMYWJlbDogJ0Rpc3RpbmN0aW9ucycgfSxcclxuICAgICAgICB7IG5hbWU6ICdDT1VOVF9TWVNURU1TJywgc2luZ3VsYXJMYWJlbDogJ1N5c3RlbScsIHBsdXJhbExhYmVsOiAnU3lzdGVtcycgfSxcclxuICAgICAgICB7IG5hbWU6ICdDT1VOVF9SRUxBVElPTlNISVBTJywgc2luZ3VsYXJMYWJlbDogJ1JlbGF0aW9uc2hpcCcsIHBsdXJhbExhYmVsOiAnUmVsYXRpb25zaGlwcycgfSxcclxuICAgICAgICB7IG5hbWU6ICdDT1VOVF9QRVJTUEVDVElWRVMnLCBzaW5ndWxhckxhYmVsOiAnUGVyc3BlY3RpdmUnLCBwbHVyYWxMYWJlbDogJ1BlcnNwZWN0aXZlcycgfSxcclxuICAgICAgICB7IG5hbWU6ICdDT1VOVF9SVEhJTkdTJywgc2luZ3VsYXJMYWJlbDogJ1JlbGF0aW9uc2hpcCBJZGVhJywgcGx1cmFsTGFiZWw6ICdSZWxhdGlvbnNoaXAgSWRlYXMnIH0sXHJcbiAgICAgICAgeyBuYW1lOiAnQ09VTlRfU1lTVEVNX1JUSElOR1MnLCBzaW5ndWxhckxhYmVsOiAnUmVsYXRpb25zaGlwIFN5c3RlbScsIHBsdXJhbExhYmVsOiAnUmVsYXRpb25zaGlwIFN5c3RlbXMnIH0sXHJcbiAgICAgICAgeyBuYW1lOiAnQ09VTlRfU1lTVEVNX1BFUlNQRUNUSVZFUycsIHNpbmd1bGFyTGFiZWw6ICdQZXJzcGVjdGl2ZSBTeXN0ZW0nLCBwbHVyYWxMYWJlbDogJ1BlcnNwZWN0aXZlIFN5c3RlbXMnIH0sXHJcbiAgICAgICAgeyBuYW1lOiAnQ09VTlRfRElTVElOQ1RJT05TJywgc2luZ3VsYXJMYWJlbDogJ0FkdmFuY2VkIERpc3RpbmN0aW9uJywgcGx1cmFsTGFiZWw6ICdBZHZhbmNlZCBEaXN0aW5jdGlvbnMnIH0sXHJcbiAgICBdO1xyXG5cclxuICAgIHRoaXMuYWRkQ2hlY2sgPSBmdW5jdGlvbihub2RlRGF0YSkge1xyXG4gICAgICAgICBub2RlRGF0YS5jaGVja3MucHVzaCh7IHRleHQ6ICcnIH0pO1xyXG4gICAgICAgICBzZWxmLmF1dG9zYXZlKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZGVsZXRlQ2hlY2sgPSBmdW5jdGlvbiAoY2hlY2ssIG5vZGVEYXRhKSB7XHJcbiAgICAgICAgdmFyIGkgPSBfLmluZGV4T2Yobm9kZURhdGEuY2hlY2tzLCBjaGVjayk7XHJcbiAgICAgICAgbm9kZURhdGEuY2hlY2tzLnNwbGljZShpLCAxKTtcclxuICAgICAgICBzZWxmLmF1dG9zYXZlKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuYWRkTGluayA9IGZ1bmN0aW9uKG5vZGVEYXRhKSB7XHJcbiAgICAgICAgbm9kZURhdGEubGlua3MucHVzaCh7IHRpdGxlOiAnJywgdXJsOiAnJywgdHlwZTogJycgfSk7XHJcbiAgICAgICAgc2VsZi5hdXRvc2F2ZSgpO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmRlbGV0ZUxpbmsgPSBmdW5jdGlvbiAobGluaywgbm9kZURhdGEpIHtcclxuICAgICAgICB2YXIgaSA9IF8uaW5kZXhPZihub2RlRGF0YS5saW5rcywgbGluayk7XHJcbiAgICAgICAgbm9kZURhdGEubGlua3Muc3BsaWNlKGksIDEpO1xyXG4gICAgICAgIHNlbGYuYXV0b3NhdmUoKTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy50b2dnbGVUT0MgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAkc2NvcGUuc2FmZUFwcGx5KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBpZiAoc2VsZi5pc1ByZXNlbnRpbmcpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYuc2hvd1RPQyA9ICFzZWxmLnNob3dUT0M7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgLy8gTkI6IGNhbid0IGNyZWF0ZSB0aGlzIGluIGluaXQgYXMgdGhlIGRpYWdyYW0gZG9lc24ndCBleGlzdCB5ZXQuLi5cclxuICAgIGZ1bmN0aW9uIG1heWJlSW5pdFNsaWRlQmxvY2tlcigpIHtcclxuICAgICAgICBpZiAoIXNlbGYuc2xpZGVCbG9ja2VyKSB7XHJcbiAgICAgICAgICAgIHZhciBtayA9IGdvLkdyYXBoT2JqZWN0Lm1ha2U7XHJcbiAgICAgICAgICAgIHNlbGYuc2xpZGVCbG9ja2VyID0gbWsoZ28uTm9kZSwgZ28uUGFuZWwuQXV0byxcclxuICAgICAgICAgICAgICAgIHsgXHJcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXJOYW1lOiAnVG9vbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogc2VsZi5TTElERV9CTE9DS0VSX09QQUNJVFlcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBtayhnby5TaGFwZSwgXCJSZWN0YW5nbGVcIixcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGw6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZTogc2VsZi5TTElERV9CTE9DS0VSX0NPTE9SLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJva2VXaWR0aDoxMDAwXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBtYXAuZ2V0RGlhZ3JhbSgpLmFkZChzZWxmLnNsaWRlQmxvY2tlcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIGNhbGxlZCB3aGVuIGEgdGFiIGlzIG9wZW5lZCBvciBjbG9zZWRcclxuICAgIHRoaXMuY3VycmVudFRhYkNoYW5nZWQgPSBmdW5jdGlvbihuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcclxuICAgICAgICBpZiAob2xkVmFsdWUgPT0gbWFwLmdldFVpKCkuVEFCX0lEX1BSRVNFTlRFUikgeyAvLyBjbG9zaW5nIHRhYlxyXG4gICAgICAgICAgICBzZWxmLnN0b3BQcmVzZW50aW5nKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKG5ld1ZhbHVlID09IG1hcC5nZXRVaSgpLlRBQl9JRF9QUkVTRU5URVIpIHsgLy8gb3BlbmluZyB0YWJcclxuICAgICAgICAgICAgLy8gc2hvdyBzbGlkZXMgKHNlZSBsYXlvdXRzLnNsaWRlVGVtcGxhdGUsIGJpbmRpbmcgb2YgdmlzaWJsZSBhdHRyKVxyXG4gICAgICAgICAgICBzZWxmLmRpYWdyYW1Bc3BlY3RSYXRpbyA9ICQoJyNkaWFncmFtJykud2lkdGgoKSAvICQoJyNkaWFncmFtJykuaGVpZ2h0KCk7ICAgICAgICBcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ2RpYWdyYW1Bc3BlY3RSYXRpbzogJyArIHNlbGYuZGlhZ3JhbUFzcGVjdFJhdGlvKTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5tYXAuZ2V0RGlhZ3JhbSgpLnVwZGF0ZUFsbFRhcmdldEJpbmRpbmdzKCk7XHJcbiAgICAgICAgICAgIHVwZGF0ZUlkZWFMaXN0KCk7XHJcbiAgICAgICAgICAgIGlmICghc2VsZi5jdXJyZW50U2xpZGVJbmRleCAmJiBzZWxmLmdldFNsaWRlTm9kZURhdGFzKCkubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5jdXJyZW50U2xpZGVJbmRleCA9IDE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2VsZi5zbGlkZVRodW1ibmFpbFNlbGVjdGVkKDEpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5oYW5kbGVEaWFncmFtRXZlbnQgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBlKSB7XHJcbiAgICAgICAgaWYgKCFtYXAuZ2V0VWkoKS5jdXJyZW50VGFiSXMobWFwLmdldFVpKCkuVEFCX0lEX1BSRVNFTlRFUikpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGV2ZW50TmFtZSA9PSAnU2VsZWN0aW9uRGVsZXRpbmcnKSB7XHJcbiAgICAgICAgICAgIHZhciBzZWxlY3Rpb24gPSBlLnN1YmplY3Q7XHJcbiAgICAgICAgICAgIGlmIChzZWxlY3Rpb24uY291bnQgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRoaW5nID0gc2VsZWN0aW9uLmZpcnN0KCk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpbmcgaW5zdGFuY2VvZiBnby5Ob2RlICYmIHRoaW5nLmRhdGEuY2F0ZWdvcnkgPT0gJ3NsaWRlJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghY29uZmlybShcIkRlbGV0ZSB0aGlzIHNsaWRlIGZyb20gdGhlIHByZXNlbnRhdGlvbj9cIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZS5jYW5jZWwgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChldmVudE5hbWUgPT0gJ1NlbGVjdGlvbkRlbGV0ZWQnKSB7XHJcbiAgICAgICAgICAgIC8vIGlmIHNsaWRlIGlzIGRlbGV0ZWQgZnJvbSBjYW52YXMgcmF0aGVyIHRoYW4gYnkgdGh1bWJuYWlsIHggYnV0dG9uLCBuZWVkIHRvIHVwZGF0ZSBpbmRleGVzXHJcbiAgICAgICAgICAgIGNvbXBhY3RTbGlkZUluZGV4ZXMoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoZXZlbnROYW1lID09ICdTZWxlY3Rpb25Nb3ZlZCcgfHwgZXZlbnROYW1lID09ICdQYXJ0UmVzaXplZCcpIHtcclxuICAgICAgICAgICAgLy8gY2xlYXIgdGh1bWJuYWlsIGNhY2hlXHJcbiAgICAgICAgICAgIHRodW1ibmFpbENhY2hlID0gW107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGV2ZW50TmFtZSA9PSAnVmlld3BvcnRCb3VuZHNDaGFuZ2VkJykge1xyXG4gICAgICAgICAgICAvLyBhZGp1c3Qgem9vbWluZyBvZiBtYXAgcmVnaW9uXHJcbiAgICAgICAgICAgIC8vc2VsZi53aW5kb3dSZXNpemVkKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLndpbmRvd1Jlc2l6ZWQgPSBfLmRlYm91bmNlKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHNlbGYuc2xpZGVUaHVtYm5haWxTZWxlY3RlZChzZWxmLmN1cnJlbnRTbGlkZUluZGV4KTtcclxuICAgIH0sIDEwMDApO1xyXG5cclxuICAgIHRoaXMuc2hvd1NpZGViYXIgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gbWFwLmdldFVpKCkuY3VycmVudFRhYklzKG1hcC5nZXRVaSgpLlRBQl9JRF9QUkVTRU5URVIpICYmICghc2VsZi5pc1ByZXNlbnRpbmcgfHwgc2VsZi5zaG93VE9DKTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5kaXNhYmxlTWFwVG9vbGJhckJ1dHRvbnMgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gIW1hcC5nZXRVaSgpLmN1cnJlbnRUYWJJcyhtYXAuZ2V0VWkoKS5UQUJfSURfUFJFU0VOVEVSKSBcclxuICAgICAgICAgICAgfHwgc2VsZi5pc1ByZXNlbnRpbmcgXHJcbiAgICAgICAgICAgIHx8ICFzZWxmLmdldEN1cnJlbnRTbGlkZVR5cGUoKS5oYXNNYXBSZWdpb247XHJcbiAgICB9XHJcblxyXG4gICAgLy8gcmV0dXJucyBhbiBhcnJheSBvZiBub2RlIGRhdGEgb2JqZWN0cyAobm90IHRoZSBzbGlkZSBub2RlcyB0aGVtc2VsdmVzKVxyXG4gICAgdGhpcy5nZXRTbGlkZU5vZGVEYXRhcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgZGlhZ3JhbSA9IG1hcC5nZXREaWFncmFtKCk7XHJcbiAgICAgICAgdmFyIG5vZGVzID0gZGlhZ3JhbS5tb2RlbC5ub2RlRGF0YUFycmF5O1xyXG4gICAgICAgIHZhciBub2RlRGF0YXMgPSBfLmZpbHRlcihub2RlcywgZnVuY3Rpb24gKG5vZGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5vZGUuY2F0ZWdvcnkgPT0gJ3NsaWRlJztcclxuICAgICAgICB9KTtcclxuICAgICAgICBub2RlRGF0YXMgPSBfLnNvcnRCeShub2RlRGF0YXMsIGZ1bmN0aW9uIChub2RlRGF0YSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbm9kZURhdGEuaW5kZXg7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZygnZ2V0U2xpZGVOb2RlRGF0YXMsIGluZGV4ZXM6ICcgKyBfLnBsdWNrKHNsaWRlc0RhdGEsICdpbmRleCcpKTtcclxuICAgICAgICByZXR1cm4gbm9kZURhdGFzO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmdldFNsaWRlQ291bnQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gc2VsZi5nZXRTbGlkZU5vZGVEYXRhcygpLmxlbmd0aDtcclxuICAgIH07ICBcclxuXHJcbiAgICB0aGlzLmdldEFjdGl2aXR5U2xpZGVDb3VudCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiBfLndoZXJlKHNlbGYuZ2V0U2xpZGVOb2RlRGF0YXMoKSwgeyB0eXBlOiAnQUNUSVZJVFlfTUFQJyB9KS5sZW5ndGg7XHJcbiAgICB9OyAgXHJcblxyXG4gICAgdGhpcy5nZXRTbGlkZVR5cGUgPSBmdW5jdGlvbih0eXBlTmFtZSkge1xyXG4gICAgICAgIHJldHVybiBfLmZpbmRXaGVyZShzZWxmLnNsaWRlVHlwZXMsIHsgbmFtZTogdHlwZU5hbWUgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZ2V0Q3VycmVudFNsaWRlVHlwZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBzbGlkZSA9IGZpbmRTbGlkZUJ5SW5kZXgoc2VsZi5jdXJyZW50U2xpZGVJbmRleCk7XHJcbiAgICAgICAgaWYgKHNsaWRlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfLmZpbmRXaGVyZShzZWxmLnNsaWRlVHlwZXMsIHsgbmFtZTogc2xpZGUuZGF0YS50eXBlIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHt9O1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24gZmluZFNsaWRlQnlJbmRleChpbmRleCkge1xyXG4gICAgICAgIHZhciBkaWFncmFtID0gbWFwLmdldERpYWdyYW0oKTtcclxuICAgICAgICB2YXIgc2xpZGVEYXRhID0gXy5maW5kKHNlbGYuZ2V0U2xpZGVOb2RlRGF0YXMoKSwgZnVuY3Rpb24gKHNsaWRlRGF0YSkge1xyXG4gICAgICAgICAgICByZXR1cm4gc2xpZGVEYXRhLmluZGV4ID09IGluZGV4O1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmIChzbGlkZURhdGEgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZGlhZ3JhbS5maW5kTm9kZUZvcktleShzbGlkZURhdGEua2V5KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIGluY3JlbWVudCBpcyAtMSBvciArMVxyXG4gICAgdGhpcy5tb3ZlU2xpZGUgPSBmdW5jdGlvbiAoaW5kZXgsIGluY3JlbWVudCkge1xyXG4gICAgICAgICRzY29wZS5zYWZlQXBwbHkoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciBkaWFncmFtID0gbWFwLmdldERpYWdyYW0oKTtcclxuICAgICAgICAgICAgdmFyIHNsaWRlID0gZmluZFNsaWRlQnlJbmRleChpbmRleCk7XHJcbiAgICAgICAgICAgIHZhciBuZWlnaGJvciA9IGZpbmRTbGlkZUJ5SW5kZXgoaW5kZXggKyBpbmNyZW1lbnQpO1xyXG4gICAgICAgICAgICBpZiAoc2xpZGUgJiYgbmVpZ2hib3IpIHtcclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ21vdmVTbGlkZTogc3dhcHBpbmcgJyArIHNsaWRlLmRhdGEua2V5ICsgJyB3aXRoICcgKyBuZWlnaGJvci5kYXRhLmtleSk7XHJcbiAgICAgICAgICAgICAgICBkaWFncmFtLnN0YXJ0VHJhbnNhY3Rpb24oXCJtb3ZlIHNsaWRlXCIpO1xyXG4gICAgICAgICAgICAgICAgZGlhZ3JhbS5tb2RlbC5zZXREYXRhUHJvcGVydHkoc2xpZGUuZGF0YSwgJ2luZGV4Jywgc2xpZGUuZGF0YS5pbmRleCArIGluY3JlbWVudCk7XHJcbiAgICAgICAgICAgICAgICBkaWFncmFtLm1vZGVsLnNldERhdGFQcm9wZXJ0eShuZWlnaGJvci5kYXRhLCAnaW5kZXgnLCBuZWlnaGJvci5kYXRhLmluZGV4IC0gaW5jcmVtZW50KTtcclxuICAgICAgICAgICAgICAgIGRpYWdyYW0uY29tbWl0VHJhbnNhY3Rpb24oXCJtb3ZlIHNsaWRlXCIpO1xyXG4gICAgICAgICAgICAgICAgdGh1bWJuYWlsQ2FjaGUgPSBbXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICBmdW5jdGlvbiBjb21wYWN0U2xpZGVJbmRleGVzKCkge1xyXG4gICAgICAgICRzY29wZS5zYWZlQXBwbHkoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ2NvbXBhY3RTbGlkZUluZGV4ZXMnKTtcclxuICAgICAgICAgICAgdmFyIHNsaWRlc0RhdGEgPSBzZWxmLmdldFNsaWRlTm9kZURhdGFzKCk7XHJcbiAgICAgICAgICAgIHZhciBkaWFncmFtID0gbWFwLmdldERpYWdyYW0oKTtcclxuICAgICAgICAgICAgdmFyIG5ld0luZGV4ID0gMTtcclxuICAgICAgICAgICAgZGlhZ3JhbS5zdGFydFRyYW5zYWN0aW9uKFwiY29tcGFjdCBzbGlkZSBpbmRleGVzXCIpO1xyXG4gICAgICAgICAgICBfLmVhY2goc2xpZGVzRGF0YSwgZnVuY3Rpb24gKHNsaWRlRGF0YSkge1xyXG4gICAgICAgICAgICAgICAgZGlhZ3JhbS5tb2RlbC5zZXREYXRhUHJvcGVydHkoc2xpZGVEYXRhLCAnaW5kZXgnLCBuZXdJbmRleCk7XHJcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdjb21wYWN0U2xpZGVJbmRleGVzOiBzZXQgaW5kZXggZm9yICcgKyBzbGlkZURhdGEua2V5ICsgJyB0byAnICsgbmV3SW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgbmV3SW5kZXgrKztcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGRpYWdyYW0uY29tbWl0VHJhbnNhY3Rpb24oXCJjb21wYWN0IHNsaWRlIGluZGV4ZXNcIik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0TmV3U2xpZGVLZXkoKSB7XHJcbiAgICAgICAgdmFyIGRpYWdyYW0gPSBtYXAuZ2V0RGlhZ3JhbSgpO1xyXG4gICAgICAgIHZhciBpID0gMTtcclxuICAgICAgICB3aGlsZSAoZGlhZ3JhbS5tb2RlbC5maW5kTm9kZURhdGFGb3JLZXkoJ3NsaWRlLScgKyBpKSkge1xyXG4gICAgICAgICAgICBpKys7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAnc2xpZGUtJyArIGk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTkI6IGluZGV4ZXMgKGFuZCBrZXlzPykgbXVzdCBiZSAxLWJhc2VkLCBvdGhlcndpc2UgZmlyc3Qgc2xpZGUgZ2V0cyBzY3Jld2VkIHVwXHJcbiAgICAvLyAoc29tZXdoZXJlIHRoZSBpbmRleCBzaG93cyB1cCBhcyAnJyBpbnN0ZWFkIG9mIDApXHJcbiAgICBmdW5jdGlvbiBnZXROZXdTbGlkZUluZGV4KCkge1xyXG4gICAgICAgIHZhciBzbGlkZXMgPSBzZWxmLmdldFNsaWRlTm9kZURhdGFzKCk7XHJcbiAgICAgICAgcmV0dXJuIHNsaWRlcy5sZW5ndGggKyAxOyBcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmFkZFNsaWRlID0gZnVuY3Rpb24gKHR5cGVOYW1lKSB7XHJcbiAgICAgICAgJHNjb3BlLnNhZmVBcHBseShmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ2FkZFNsaWRlOiAnICsgdHlwZU5hbWUpO1xyXG4gICAgICAgICAgICB2YXIgZGlhZ3JhbSA9IG1hcC5nZXREaWFncmFtKCk7XHJcblxyXG4gICAgICAgICAgICB2YXIgZGIgPSBtYXAuY29tcHV0ZU1hcEJvdW5kcygpO1xyXG4gICAgICAgICAgICBkYi5pbmZsYXRlKGRiLndpZHRoIC8gMjAsIGRiLmhlaWdodCAvIDEwKTtcclxuICAgICAgICAgICAgdmFyIG5ld0xvYyA9IGRiLnggKyAnICcgKyBkYi55O1xyXG4gICAgICAgICAgICB2YXIgbmV3SW5kZXggPSBnZXROZXdTbGlkZUluZGV4KCk7XHJcblxyXG4gICAgICAgICAgICB2YXIgc2xpZGVUeXBlID0gXy5maW5kV2hlcmUoc2VsZi5zbGlkZVR5cGVzLCB7IG5hbWU6IHR5cGVOYW1lIH0pO1xyXG5cclxuICAgICAgICAgICAgZGlhZ3JhbS5zdGFydFRyYW5zYWN0aW9uKFwiYWRkIHNsaWRlXCIpO1xyXG4gICAgICAgICAgICBkaWFncmFtLm1vZGVsLmFkZE5vZGVEYXRhKHtcclxuICAgICAgICAgICAgICAgIGtleTogZ2V0TmV3U2xpZGVLZXkoKSxcclxuICAgICAgICAgICAgICAgIGNhdGVnb3J5OiAnc2xpZGUnLFxyXG4gICAgICAgICAgICAgICAgaW5kZXg6IG5ld0luZGV4LFxyXG4gICAgICAgICAgICAgICAgaXNHcm91cDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICB3aWR0aDogZGIud2lkdGgsXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGRiLmhlaWdodCxcclxuICAgICAgICAgICAgICAgIGxvYzogbmV3TG9jLFxyXG4gICAgICAgICAgICAgICAgbGV2ZWw6IDAsXHJcbiAgICAgICAgICAgICAgICBjaGlsZHJlbjogMCxcclxuICAgICAgICAgICAgICAgIHR5cGU6IHR5cGVOYW1lLFxyXG4gICAgICAgICAgICAgICAgdGl0bGU6ICcnLFxyXG4gICAgICAgICAgICAgICAgbm90ZXM6ICcnLFxyXG4gICAgICAgICAgICAgICAgY2hlY2tzOiBbXSxcclxuICAgICAgICAgICAgICAgIGhhc1JlZ2lvbjogc2xpZGVUeXBlLmhhc01hcFJlZ2lvbixcclxuICAgICAgICAgICAgICAgIGlzU3VtbWFyeTogc2xpZGVUeXBlLmhhc01hcFN1bW1hcnksXHJcbiAgICAgICAgICAgICAgICBsaW5rczogW11cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGRpYWdyYW0uY29tbWl0VHJhbnNhY3Rpb24oXCJhZGQgc2xpZGVcIik7XHJcbiAgICAgICAgICAgIHRodW1ibmFpbENhY2hlID0gW107XHJcblxyXG4gICAgICAgICAgICBzZWxmLnNsaWRlVGh1bWJuYWlsU2VsZWN0ZWQobmV3SW5kZXgpOyAvLyB0cmlnZ2VyIGRpc3BsYXkgb2YgZWRpdCBmb3JtLCB6b29tIHRvIG1hcCByZWdpb24gaWYgYXBwbGljYWJsZVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmR1cGxpY2F0ZVNsaWRlID0gZnVuY3Rpb24gKGluZGV4KSB7XHJcbiAgICAgICAgJHNjb3BlLnNhZmVBcHBseShmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIGRpYWdyYW0gPSBtYXAuZ2V0RGlhZ3JhbSgpO1xyXG4gICAgICAgICAgICB2YXIgbmV3SW5kZXggPSBnZXROZXdTbGlkZUluZGV4KCk7XHJcbiAgICAgICAgICAgIHZhciBzbGlkZSA9IGZpbmRTbGlkZUJ5SW5kZXgoaW5kZXgpOyBcclxuICAgICAgICAgICAgaWYgKHNsaWRlKSB7XHJcbiAgICAgICAgICAgICAgICBkaWFncmFtLnN0YXJ0VHJhbnNhY3Rpb24oXCJkdXBsaWNhdGUgc2xpZGVcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gYnVtcCB1cCBpbmRleGVzIG9uIHN1YnNlcXVlbnQgc2xpZGVzIHRvIG1ha2Ugcm9vbSBmb3IgbmV3IHNsaWRlIGFmdGVyIGN1cnJlbnQgb25lXHJcbiAgICAgICAgICAgICAgICBfLmVhY2goc2VsZi5nZXRTbGlkZU5vZGVEYXRhcygpLCBmdW5jdGlvbiAoc2xpZGVEYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNsaWRlRGF0YS5pbmRleCA+IGluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpYWdyYW0ubW9kZWwuc2V0RGF0YVByb3BlcnR5KHNsaWRlRGF0YSwgJ2luZGV4Jywgc2xpZGVEYXRhLmluZGV4ICsgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gTkI6IGNyZWF0aW5nIGEgbmV3IG5vZGVEYXRhIG9iamVjdCBoZXJlIHJhdGhlciB0aGFuIGNvcHlpbmcgYW5kIG1vZGlmeWluZywgdG8gYXZvaWQgY29weWluZyAkJGhhc2hLZXkgKD8/KVxyXG4gICAgICAgICAgICAgICAgZGlhZ3JhbS5tb2RlbC5hZGROb2RlRGF0YSh7XHJcbiAgICAgICAgICAgICAgICAgICAga2V5OiBnZXROZXdTbGlkZUtleSgpLFxyXG4gICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5OiAnc2xpZGUnLFxyXG4gICAgICAgICAgICAgICAgICAgIGluZGV4OiBpbmRleCArIDEsXHJcbiAgICAgICAgICAgICAgICAgICAgaXNHcm91cDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IHNsaWRlLmRhdGEud2lkdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBzbGlkZS5kYXRhLmhlaWdodCxcclxuICAgICAgICAgICAgICAgICAgICBsb2M6IHNsaWRlLmRhdGEubG9jLFxyXG4gICAgICAgICAgICAgICAgICAgIGxldmVsOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IHNsaWRlLmRhdGEudHlwZSxcclxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogc2xpZGUuZGF0YS50aXRsZSArICcgKENvcHkpJyxcclxuICAgICAgICAgICAgICAgICAgICBub3Rlczogc2xpZGUuZGF0YS5ub3RlcyxcclxuICAgICAgICAgICAgICAgICAgICBjaGVja3M6IHNsaWRlLmRhdGEuY2hlY2tzLCAvLyBjbG9uZT9cclxuICAgICAgICAgICAgICAgICAgICBoYXNSZWdpb246IHNsaWRlLmRhdGEuaGFzUmVnaW9uLFxyXG4gICAgICAgICAgICAgICAgICAgIGlzU3VtbWFyeTogc2xpZGUuZGF0YS5pc1N1bW1hcnksXHJcbiAgICAgICAgICAgICAgICAgICAgbGlua3M6IHNsaWRlLmRhdGEubGlua3MgLy8gY2xvbmU/XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGRpYWdyYW0uY29tbWl0VHJhbnNhY3Rpb24oXCJkdXBsaWNhdGUgc2xpZGVcIik7XHJcbiAgICAgICAgICAgICAgICB0aHVtYm5haWxDYWNoZSA9IFtdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMucmVtb3ZlU2xpZGUgPSBmdW5jdGlvbiAoaW5kZXgpIHtcclxuICAgICAgICAkc2NvcGUuc2FmZUFwcGx5KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdyZW1vdmVTbGlkZTogJyArIGluZGV4KTtcclxuICAgICAgICAgICAgdmFyIGRpYWdyYW0gPSBtYXAuZ2V0RGlhZ3JhbSgpO1xyXG4gICAgICAgICAgICB2YXIgc2xpZGUgPSBmaW5kU2xpZGVCeUluZGV4KGluZGV4KTsgXHJcbiAgICAgICAgICAgIGlmIChzbGlkZSkge1xyXG4gICAgICAgICAgICAgICAgZGlhZ3JhbS5zdGFydFRyYW5zYWN0aW9uKFwicmVtb3ZlIHNsaWRlXCIpO1xyXG4gICAgICAgICAgICAgICAgZGlhZ3JhbS5tb2RlbC5yZW1vdmVOb2RlRGF0YShzbGlkZS5kYXRhKTtcclxuICAgICAgICAgICAgICAgIGRpYWdyYW0uY29tbWl0VHJhbnNhY3Rpb24oXCJyZW1vdmUgc2xpZGVcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2VsZi5jdXJyZW50U2xpZGVJbmRleCA9IG51bGw7XHJcbiAgICAgICAgICAgIHRodW1ibmFpbENhY2hlID0gW107XHJcbiAgICAgICAgICAgIGNvbXBhY3RTbGlkZUluZGV4ZXMoKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgdmFyIHRodW1ibmFpbENhY2hlID0gW107XHJcblxyXG4gICAgdGhpcy5nZXRTbGlkZVRodW1ibmFpbCA9IGZ1bmN0aW9uIChpbmRleCkge1xyXG4gICAgICAgIHJldHVybiB0aHVtYm5haWxDYWNoZVtpbmRleF07XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuY3JlYXRlU2xpZGVUaHVtYm5haWxzID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgXy5lYWNoKHNlbGYuZ2V0U2xpZGVOb2RlRGF0YXMoKSwgZnVuY3Rpb24obmQpIHsgXHJcbiAgICAgICAgICAgIHNlbGYuY3JlYXRlU2xpZGVUaHVtYm5haWwobmQuaW5kZXgpOyBcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5jcmVhdGVTbGlkZVRodW1ibmFpbCA9IGZ1bmN0aW9uIChpbmRleCkge1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coJ2NyZWF0ZVNsaWRlVGh1bWJuYWlsJyk7XHJcblxyXG4gICAgICAgIHZhciB0aHVtYldpZHRoID0gMTAwMDtcclxuICAgICAgICB2YXIgdGh1bWJIZWlnaHQgPSA2MDA7XHJcbiAgICAgICAgdmFyIGRpYWdyYW0gPSBtYXAuZ2V0RGlhZ3JhbSgpO1xyXG5cclxuICAgICAgICB2YXIgc2xpZGUgPSBmaW5kU2xpZGVCeUluZGV4KGluZGV4KTtcclxuICAgICAgICBpZiAoIXNsaWRlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoIXNsaWRlLmRhdGEuaGFzUmVnaW9uICYmICFzbGlkZS5kYXRhLmlzU3VtbWFyeSkge1xyXG4gICAgICAgICAgICByZXR1cm4gJyc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB2YXIgZGIgPSBkaWFncmFtLmRvY3VtZW50Qm91bmRzO1xyXG4gICAgICAgICAgICB2YXIgc2I7XHJcbiAgICAgICAgICAgIGlmIChzbGlkZS5kYXRhLmlzU3VtbWFyeSkgeyAvLyBmb3IgYSBzdW1tYXJ5IHNsaWRlIHdlIHNob290IHRoZSB3aG9sZSBtYXBcclxuICAgICAgICAgICAgICAgIHNiID0gbWFwLnNhZmVSZWN0KG1hcC5jb21wdXRlTWFwQm91bmRzKCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgeyAvLyBvdGhlcndpc2UganVzdCBzaG9vdCB0aGUgc2xpZGUgcmVnaW9uXHJcbiAgICAgICAgICAgICAgICBzYiA9IHNsaWRlLnBhcnQuYWN0dWFsQm91bmRzO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgaW1hZ2VQb3NpdGlvbiA9IG5ldyBnby5Qb2ludChzYi54LCBzYi55KTtcclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnZ2V0U2xpZGVUaHVtYm5haWwsIHNsaWRlIGJvdW5kczogJyArIHNiICsgJywgZG9jdW1lbnQgYm91bmRzOiAnICsgZGIgKyAnLCBpbWFnZVBvc2l0aW9uOiAnICsgaW1hZ2VQb3NpdGlvbik7XHJcblxyXG4gICAgICAgICAgICB2YXIgd1NjYWxlID0gdGh1bWJXaWR0aCAvIHNiLndpZHRoO1xyXG4gICAgICAgICAgICB2YXIgaFNjYWxlID0gdGh1bWJIZWlnaHQgLyBzYi5oZWlnaHQ7XHJcbiAgICAgICAgICAgIHZhciB0aHVtYlNjYWxlID0gTWF0aC5taW4od1NjYWxlLCBoU2NhbGUpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnc2NhbGU6ICcgKyB3U2NhbGUgKyAnLCcgKyBoU2NhbGUpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHcgPSB0aHVtYlNjYWxlICogc2Iud2lkdGg7XHJcbiAgICAgICAgICAgIHZhciBoID0gdGh1bWJTY2FsZSAqIHNiLmhlaWdodDtcclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZygndGh1bWJuYWlsIHcvaDogJyArIHcgKyAnLCcgKyBoKTtcclxuXHJcbiAgICAgICAgICAgIC8vIGhpZGUgc2xpZGVzIHRlbXBvcmFyaWx5IHdoaWxlIGNyZWF0aW5nIHRodW1ibmFpbFxyXG4gICAgICAgICAgICBzZWxmLmlzQ3JlYXRpbmdUaHVtYm5haWwgPSB0cnVlO1xyXG4gICAgICAgICAgICBkaWFncmFtLnVwZGF0ZUFsbFRhcmdldEJpbmRpbmdzKCk7XHJcblxyXG4gICAgICAgICAgICBkaWFncmFtLnNjYWxlID0gdGh1bWJTY2FsZTtcclxuXHJcbiAgICAgICAgICAgIHZhciBpbWdEYXRhID0gZGlhZ3JhbS5tYWtlSW1hZ2VEYXRhKHtcclxuICAgICAgICAgICAgICAgIHNpemU6IG5ldyBnby5TaXplKHcsIGgpLFxyXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IGltYWdlUG9zaXRpb24sXHJcbiAgICAgICAgICAgICAgICBzY2FsZTogdGh1bWJTY2FsZVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHNlbGYuaXNDcmVhdGluZ1RodW1ibmFpbCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBkaWFncmFtLnVwZGF0ZUFsbFRhcmdldEJpbmRpbmdzKCk7XHJcblxyXG4gICAgICAgICAgICB0aHVtYm5haWxDYWNoZVtpbmRleF0gPSBpbWdEYXRhO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGltZ0RhdGE7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBnZXRzIGEgdGh1bWJuYWlsIG9mIHRoZSB3aG9sZSBtYXAsIGZvciBzYXZpbmcgKHNlZSBhdXRvc2F2ZS5qcylcclxuICAgIHRoaXMuZ2V0TWFwVGh1bWJuYWlsID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICB2YXIgZGlhZ3JhbSA9IG1hcC5nZXREaWFncmFtKCk7XHJcbiAgICAgICAgdmFyIHNiID0gbWFwLnNhZmVSZWN0KG1hcC5jb21wdXRlTWFwQm91bmRzKCkpO1xyXG4gICAgICAgIHNiLmdyb3coMTAsMTAsMTAsMTApO1xyXG4gICAgICAgIHZhciB3ID0gMTUwO1xyXG4gICAgICAgIHZhciBoID0gMTAwO1xyXG5cclxuICAgICAgICAvLyBoaWRlIHNsaWRlcyB0ZW1wb3JhcmlseSB3aGlsZSBjcmVhdGluZyB0aHVtYm5haWxcclxuICAgICAgICBzZWxmLmlzQ3JlYXRpbmdUaHVtYm5haWwgPSB0cnVlO1xyXG4gICAgICAgIGRpYWdyYW0udXBkYXRlQWxsVGFyZ2V0QmluZGluZ3MoKTtcclxuXHJcbiAgICAgICAgdmFyIGltZ0RhdGEgPSBkaWFncmFtLm1ha2VJbWFnZURhdGEoe1xyXG4gICAgICAgICAgICBzY2FsZTogTWF0aC5taW4oaCAvIHNiLmhlaWdodCwgdyAvIHNiLndpZHRoKSxcclxuICAgICAgICAgICAgcG9zaXRpb246IG5ldyBnby5Qb2ludChzYi54LCBzYi55KSxcclxuICAgICAgICAgICAgc2l6ZTpuZXcgZ28uU2l6ZSh3LCBoKVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBzZWxmLmlzQ3JlYXRpbmdUaHVtYm5haWwgPSBmYWxzZTtcclxuICAgICAgICBkaWFncmFtLnVwZGF0ZUFsbFRhcmdldEJpbmRpbmdzKCk7XHJcblxyXG4gICAgICAgIHJldHVybiBpbWdEYXRhO1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgLy8gY2FsbGVkIHZpYSBuZy1jbGljayBvbiB0aHVtYm5haWxcclxuICAgIHRoaXMuc2xpZGVUaHVtYm5haWxTZWxlY3RlZCA9IGZ1bmN0aW9uIChpbmRleCkge1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coJ3NsaWRlVGh1bWJuYWlsU2VsZWN0ZWQ6ICcgKyBpbmRleCk7XHJcbiAgICAgICAgdmFyIGRpYWdyYW0gPSBtYXAuZ2V0RGlhZ3JhbSgpO1xyXG4gICAgICAgIHZhciBzbGlkZSA9IGZpbmRTbGlkZUJ5SW5kZXgoaW5kZXgpO1xyXG5cclxuICAgICAgICAkc2NvcGUuc2FmZUFwcGx5KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAvLyBOQjogb3JkZXIgb2Ygc3RhdGVtZW50cyBpcyBpbXBvcnRhbnQgaGVyZSwgYXMgc2VsZWN0U2xpZGUgY2FuIHRyaWdnZXIgY2hhbmdlZFNlbGVjdGlvbiB3aXRoIGFuIGVtcHR5IHNlbGVjdGlvbiBzb21ldGltZXMuLi4gPz9cclxuICAgICAgICAgICAgc2VsZWN0U2xpZGUoaW5kZXgpO1xyXG4gICAgICAgICAgICBzZWxmLmN1cnJlbnRTbGlkZUluZGV4ID0gaW5kZXg7XHJcbiAgICAgICAgICAgIGRpYWdyYW0udXBkYXRlQWxsVGFyZ2V0QmluZGluZ3MoKTsgLy8gc2hvdy9oaWRlIHNsaWRlIG5vZGVzIC0gc2VlIHRlbXBsYXRlcy5qczogc2xpZGVUZW1wbGF0ZVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKHNsaWRlKSB7XHJcbiAgICAgICAgICAgICAgICB6b29tVG9TbGlkZUluQ2VudGVyKHNsaWRlKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgaWYgKHNlbGYuaXNQcmVzZW50aW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5zaG93VE9DID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5uZWVkc05hcnJvd0NhbnZhcyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBzbGlkZSA9IGZpbmRTbGlkZUJ5SW5kZXgoc2VsZi5jdXJyZW50U2xpZGVJbmRleCk7XHJcbiAgICAgICAgcmV0dXJuIG1hcC5nZXRVaSgpLmN1cnJlbnRUYWJJcyhtYXAuZ2V0VWkoKS5UQUJfSURfUFJFU0VOVEVSKSAmJiBcclxuICAgICAgICAgICBzbGlkZSAhPSBudWxsICYmIFxyXG4gICAgICAgICAgIChzbGlkZS5kYXRhLnR5cGUgPT0gJ1RJVExFX0JPRFlfTUFQJyB8fCBzbGlkZS5kYXRhLnR5cGUgPT0gJ0FDVElWSVRZX01BUCcgfHwgc2xpZGUuZGF0YS50eXBlID09ICdNQVBfU1VNTUFSWScpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBzZXRzIHRoZSBzbGlkZSBub2RlIGFzIHNlbGVjdGVkIGluIHRoZSBkaWFncmFtLlxyXG4gICAgZnVuY3Rpb24gc2VsZWN0U2xpZGUoaW5kZXgpIHtcclxuICAgICAgICAkc2NvcGUuc2FmZUFwcGx5KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdzZWxlY3Qgc2xpZGU6ICcgKyBpbmRleCk7XHJcbiAgICAgICAgICAgIHZhciBkaWFncmFtID0gbWFwLmdldERpYWdyYW0oKTtcclxuICAgICAgICAgICAgZGlhZ3JhbS5jbGVhclNlbGVjdGlvbigpO1xyXG4gICAgICAgICAgICBpZiAoaW5kZXgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzbGlkZSA9IGZpbmRTbGlkZUJ5SW5kZXgoaW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHNsaWRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2xpZGUuaXNTZWxlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gVE9ETzogc2Nyb2xsIHRvIHNsaWRlP1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMucGxheVNsaWRlID0gZnVuY3Rpb24gKGluZGV4KSB7XHJcbiAgICAgICAgdmFyIGRpYWdyYW0gPSBtYXAuZ2V0RGlhZ3JhbSgpO1xyXG4gICAgICAgIG1hcC5nZXRVaSgpLm9wZW5UYWIobWFwLmdldFVpKCkuVEFCX0lEX1BSRVNFTlRFUik7IFxyXG5cclxuICAgICAgICB2YXIgc2xpZGVzID0gc2VsZi5nZXRTbGlkZU5vZGVEYXRhcygpO1xyXG4gICAgICAgIGlmIChzbGlkZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHNlbGYuc2hvd1RPQyA9IGZhbHNlO1xyXG4gICAgICAgICAgICBwcmVzZW50U2xpZGUoaW5kZXgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy8gaW5jcmVtZW50IGlzIC0xIG9yICsxXHJcbiAgICB0aGlzLmFkdmFuY2VTbGlkZSA9IGZ1bmN0aW9uIChpbmNyZW1lbnQpIHtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKCdhZHZhbmNlU2xpZGUsIGN1cnJlbnRTbGlkZUluZGV4OiAnICsgc2VsZi5jdXJyZW50U2xpZGVJbmRleCk7XHJcbiAgICAgICAgJHNjb3BlLnNhZmVBcHBseShmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIHNsaWRlID0gZmluZFNsaWRlQnlJbmRleChzZWxmLmN1cnJlbnRTbGlkZUluZGV4KTtcclxuICAgICAgICAgICAgaWYgKHNsaWRlKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmN1cnJlbnRTbGlkZUluZGV4ICs9IChpbmNyZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHNlbGYuaXNQcmVzZW50aW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJlc2VudFNsaWRlKHNlbGYuY3VycmVudFNsaWRlSW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIGZ1bmN0aW9uIHByZXNlbnRTbGlkZShpbmRleCkge1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coJ3ByZXNlbnRTbGlkZScpO1xyXG4gICAgICAgICRzY29wZS5zYWZlQXBwbHkoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciBkaWFncmFtID0gbWFwLmdldERpYWdyYW0oKTtcclxuICAgICAgICAgICAgdmFyIHNsaWRlID0gZmluZFNsaWRlQnlJbmRleChpbmRleCk7XHJcbiAgICAgICAgICAgIGlmICghc2xpZGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZGlhZ3JhbS5jbGVhclNlbGVjdGlvbigpO1xyXG4gICAgICAgICAgICAvLyBOQjogbmVlZCB0byBzZXQgdGhpcyBhZnRlciBjbGVhclNlbGVjdGlvbiwgYXMgdGhhdCB3aWxsIHNldCBpdCB0byBudWxsISAoc2VlIGNoYW5nZWRTZWxlY3Rpb24pXHJcbiAgICAgICAgICAgIHNlbGYuY3VycmVudFNsaWRlSW5kZXggPSBpbmRleDtcclxuICAgICAgICAgICAgbWFwLnNldEVkaXRpbmdCbG9ja2VkKHRydWUpO1xyXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdwcmVzZW50U2xpZGUsIGluZGV4OiAnICsgaW5kZXggKyAnLCBzbGlkZTogJyArIHNsaWRlICsgJywgY3VycmVudFNsaWRlSW5kZXg6ICcgKyBzZWxmLmN1cnJlbnRTbGlkZUluZGV4KTtcclxuXHJcbiAgICAgICAgICAgIG1heWJlSW5pdFNsaWRlQmxvY2tlcigpO1xyXG4gICAgICAgICAgICB2YXIgYmxvY2tlclcgPSBzZWxmLlNMSURFX0JMT0NLRVJfV0lEVEg7XHJcblxyXG4gICAgICAgICAgICBpZiAoc2xpZGUuZGF0YS5oYXNSZWdpb24pIHtcclxuICAgICAgICAgICAgICAgIHpvb21Ub1NsaWRlSW5DZW50ZXIoc2xpZGUpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIHNob3cgc2xpZGUgYmxvY2tlclxyXG4gICAgICAgICAgICAgICAgc2VsZi5zbGlkZUJsb2NrZXIuZGVzaXJlZFNpemUgPSBuZXcgZ28uU2l6ZShcclxuICAgICAgICAgICAgICAgICAgICBzbGlkZS5hY3R1YWxCb3VuZHMud2lkdGggKyAyICogYmxvY2tlclcsIFxyXG4gICAgICAgICAgICAgICAgICAgIHNsaWRlLmFjdHVhbEJvdW5kcy5oZWlnaHQgKyAyICogYmxvY2tlclcpO1xyXG4gICAgICAgICAgICAgICAgc2VsZi5zbGlkZUJsb2NrZXIubG9jYXRpb24gPSBuZXcgZ28uUG9pbnQoXHJcbiAgICAgICAgICAgICAgICAgICAgc2xpZGUuYWN0dWFsQm91bmRzLnggLSBibG9ja2VyVywgXHJcbiAgICAgICAgICAgICAgICAgICAgc2xpZGUuYWN0dWFsQm91bmRzLnkgLSBibG9ja2VyVyk7XHJcbiAgICAgICAgICAgICAgICBzZWxmLnNsaWRlQmxvY2tlci52aXNpYmxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ3NsaWRlQmxvY2tlcjogJyArIHNlbGYuc2xpZGVCbG9ja2VyLmFjdHVhbEJvdW5kcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoc2xpZGUuZGF0YS5pc1N1bW1hcnkpIHtcclxuICAgICAgICAgICAgICAgIHpvb21Ub1NsaWRlSW5DZW50ZXIoc2xpZGUpO1xyXG4gICAgICAgICAgICAgICAgc2VsZi5zbGlkZUJsb2NrZXIudmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbWFwLmdldFVpKCkucmVzZXRab29tKCk7XHJcbiAgICAgICAgICAgICAgICBzZWxmLnNsaWRlQmxvY2tlci52aXNpYmxlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHNlbGYuaXNQcmVzZW50aW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgJCgnYm9keScpLmFkZENsYXNzKCdwcmVzZW50ZXItcGxheWluZycpO1xyXG5cclxuICAgICAgICAgICAgbWFwLmdldERpYWdyYW0oKS51cGRhdGVBbGxUYXJnZXRCaW5kaW5ncygpOyAvLyBoaWRlIHNsaWRlIG5vZGVzIC0gc2VlIHRlbXBsYXRlcy5qczogc2xpZGVUZW1wbGF0ZVxyXG4gICAgICAgIH0pOyAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgLy8gem9vbSB0aGUgZGlhZ3JhbSB0byBzaG93IHRoZSBnaXZlbiBzbGlkZSBpbiB0aGUgY2VudGVyIG9mIHRoZSBjYW52YXNcclxuICAgIGZ1bmN0aW9uIHpvb21Ub1NsaWRlSW5DZW50ZXIoc2xpZGUpXHJcbiAgICB7XHJcbiAgICAgICAgdmFyIGRpYWdyYW0gPSBtYXAuZ2V0RGlhZ3JhbSgpO1xyXG5cclxuICAgICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgIHZhciBoYWxmV2lkdGggPSAoc2xpZGUuZGF0YS50eXBlICE9ICdNQVBfT05MWScpO1xyXG4gICAgICAgIHZhciB6b29tUmVjdCA9IHNlbGYuZ2V0TGV0dGVyYm94ZWRSZWN0KHNsaWRlLmFjdHVhbEJvdW5kcywgaGFsZldpZHRoKTtcclxuICAgICAgICB6b29tUmVjdC5pbmZsYXRlKHpvb21SZWN0LndpZHRoIC8gMTAsIHpvb21SZWN0LmhlaWdodCAvIDEwKTtcclxuICAgICAgICBkaWFncmFtLnpvb21Ub1JlY3Qoem9vbVJlY3QsIGdvLkRpYWdyYW0uVW5pZm9ybSk7XHJcbiAgICAgICAgfSwgMTAwKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXR1cm5zIGEgcmVjdGFuZ2xlIGNvbnRhaW5pbmcgdGhlIGdpdmVuIHJlY3QsIGJ1dCB3aXRoIGFwcHJvcHJpYXRlIHdpZHRoIG9yIGhlaWdodCBhZGRlZFxyXG4gICAgLy8gdG8gZ2l2ZSBpdCBzYW1lIGFzcGVjdCByYXRpbyBhcyB0aGUgZGlhZ3JhbS5cclxuICAgIHRoaXMuZ2V0TGV0dGVyYm94ZWRSZWN0ID0gZnVuY3Rpb24gKHJlY3QsIGhhbGZXaWR0aCkge1xyXG5cclxuICAgICAgICAvLyBOQjogd2UgY2FsY3VsYXRlIHRoZSBhc3BlY3QgcmF0aW8gd2hlbiB0aGUgdGFiIGlzIG9wZW5lZCwgXHJcbiAgICAgICAgLy8gcmF0aGVyIHRoYW4gZWFjaCB0aW1lIGFzIHRoZSBkaWFncmFtIHNpemUgbWlnaHQgYmUgY2hhbmdpbmcuLi5cclxuICAgICAgICB2YXIgZGFyID0gKGhhbGZXaWR0aCA/IHNlbGYuZGlhZ3JhbUFzcGVjdFJhdGlvIC8gMiA6IHNlbGYuZGlhZ3JhbUFzcGVjdFJhdGlvKTtcclxuICAgICAgICBjb25zb2xlLmxvZygncmVjdDogJyArIHJlY3QgKyAnLCBkYXI6ICcgKyBkYXIpO1xyXG5cclxuICAgICAgICB2YXIgcmVjdEFzcGVjdFJhdGlvID0gcmVjdC53aWR0aCAvIHJlY3QuaGVpZ2h0O1xyXG5cclxuICAgICAgICBpZiAoZGFyID4gcmVjdEFzcGVjdFJhdGlvKSB7XHJcbiAgICAgICAgICAgIC8vIHRhbGwgc2tpbm55IHJlY3QsIHNob3J0IHdpZGUgdGFyZ2V0IEFSLCBzbyBhZGQgc2lkZSBwYWRkaW5nIHRvIHRoZSByZWN0XHJcbiAgICAgICAgICAgIHZhciBsYncgPSByZWN0LmhlaWdodCAqIGRhcjsgLy8gYmVjYXVzZSBsYncgLyBsYmggPT0gZGFyID09IGxidyAvIHJlY3QuaGVpZ2h0IChsYmggPT0gcmVjdC5oZWlnaHQpXHJcbiAgICAgICAgICAgIHJldHVybiByZWN0LmNvcHkoKS5pbmZsYXRlKChsYncgLSByZWN0LndpZHRoKSAvIDIsIDApOyAvLyBhZGQgaGFsZiB0aGUgd2lkdGggZGlmZmVyZW5jZSB0byBlYWNoIHNpZGUgb2YgdGhlIHJlY3RcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHNob3J0IHdpZGUgcmVjdCwgdGFsbCBza2lubnkgdGFyZ2V0IEFSLCBzbyBhZGQgdG9wL2JvdHRvbSBwYWRkaW5nIHRvIHRoZSByZWN0XHJcbiAgICAgICAgICAgIHZhciBsYmggPSByZWN0LndpZHRoIC8gZGFyOyAvLyBiZWNhdXNlIGxidyAvIGxiaCA9PSBkYXIgPT0gbGJoIC8gcmVjdC53aWR0aCAobGJ3ID09IHJlY3Qud2lkdGgpXHJcbiAgICAgICAgICAgIHJldHVybiByZWN0LmNvcHkoKS5pbmZsYXRlKDAsIChsYmggLSByZWN0LmhlaWdodCkgLyAyKTsgIC8vIGFkZCBoYWxmIHRoZSBoZWlnaHQgZGlmZmVyZW5jZSB0byB0b3AvYm90dG9tIG9mIHRoZSByZWN0XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnN0b3BQcmVzZW50aW5nID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICRzY29wZS5zYWZlQXBwbHkoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ3N0b3BQcmVzZW50aW5nLCBjdXJyZW50U2xpZGVJbmRleDogJyArIHNlbGYuY3VycmVudFNsaWRlSW5kZXgpO1xyXG4gICAgICAgICAgICB2YXIgZGlhZ3JhbSA9IG1hcC5nZXREaWFncmFtKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoc2VsZi5zbGlkZUJsb2NrZXIpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYuc2xpZGVCbG9ja2VyLnZpc2libGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy9zZWxmLmN1cnJlbnRTbGlkZUluZGV4ID0gbnVsbDtcclxuICAgICAgICAgICAgc2VsZi5pc1ByZXNlbnRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgJCgnYm9keScpLnJlbW92ZUNsYXNzKCdwcmVzZW50ZXItcGxheWluZycpO1xyXG5cclxuICAgICAgICAgICAgbWFwLmdldERpYWdyYW0oKS51cGRhdGVBbGxUYXJnZXRCaW5kaW5ncygpOyAvLyBzaG93IHNsaWRlIG5vZGVzXHJcblxyXG4gICAgICAgICAgICBkaWFncmFtLmNsZWFyU2VsZWN0aW9uKCk7XHJcbiAgICAgICAgICAgIG1hcC5zZXRFZGl0aW5nQmxvY2tlZChmYWxzZSk7XHJcbiAgICAgICAgICAgIC8vbWFwLmdldFVpKCkucmVzZXRab29tKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxufTtcclxuIiwiLy8gZnVuY3Rpb25zIGZvciBzaGFyaW5nIG1hcHMsIHdpdGggYSBtb2RhbCBkaWFsb2dcclxuXHJcbndpbmRvdy5TYW5kYmFua1NoYXJpbmcgPSB7fTtcclxuXHJcblNhbmRiYW5rU2hhcmluZyA9IGZ1bmN0aW9uKCRzY29wZSwgJGh0dHAsICRyZXNvdXJjZSwgJG1vZGFsLCAkbG9nKSB7XHJcblxyXG4gICAgdGhpcy5vcGVuTW9kYWwgPSBmdW5jdGlvbihtYXBJZHMsIG9uVXBkYXRlKSB7XHJcbiAgICAgICAgdmFyIG1vZGFsSW5zdGFuY2UgPSAkbW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGVfbWFwX3NoYXJpbmdfbW9kYWwuaHRtbCcsIC8vIHNlZSB2aWV3cy9zaGFyZXMvX3RlbXBsYXRlX21hcF9zaGFyaW5nX21vZGFsXHJcbiAgICAgICAgICAgIGJhY2tkcm9wOiAnc3RhdGljJyxcclxuICAgICAgICAgICAgY29udHJvbGxlcjogc2hhcmluZ01vZGFsQ3RybCxcclxuICAgICAgICAgICAgd2luZG93Q2xhc3M6ICdzaGFyaW5nLW1vZGFsJyxcclxuICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgdXNlcklkOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHNjb3BlLnVzZXJJZDtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB1c2VyUHJvZmlsZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRzY29wZS51c2VyUHJvZmlsZTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBtYXBJZHM6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtYXBJZHM7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgb25VcGRhdGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvblVwZGF0ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBtb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uKCkge30pO1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tIGNvbnRyb2xsZXIgZm9yIHNoYXJpbmcgbW9kYWwgLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICAgdmFyIHNoYXJpbmdNb2RhbEN0cmwgPSBmdW5jdGlvbigkc2NvcGUsICRtb2RhbEluc3RhbmNlLCB1c2VySWQsIHVzZXJQcm9maWxlLCBtYXBJZHMsIG9uVXBkYXRlKSB7XHJcblxyXG4gICAgICAgICRzY29wZS51c2VySWQgPSB1c2VySWQ7XHJcbiAgICAgICAgJHNjb3BlLnVzZXJQcm9maWxlID0gdXNlclByb2ZpbGU7XHJcbiAgICAgICAgJHNjb3BlLm1hcElkcyA9IG1hcElkcztcclxuXHJcbiAgICAgICAgLy8gYWxsIGV4aXN0aW5nIHNoYXJlcyBmb3Igc2VsZWN0ZWQgbWFwc1xyXG4gICAgICAgIC8vIGZvcm1hdDogW3ttYXBJZDoxLCBzaGFyZUlkOjEsIGNhbkVkaXQ6dHJ1ZSwgdXNlcklkOjIsIHVzZXJFbWFpbDonZm9vQGJhci5jb20nLCBncm91cElkOm51bGwsIG9yZ2FuaXphdGlvbklkOm51bGwsIGlzUHVibGljOmZhbHNlIH0sIC4uLl1cclxuICAgICAgICAkc2NvcGUubWFwU2hhcmVzID0gW107XHJcblxyXG4gICAgICAgIC8vIGV4aXN0aW5nIHNoYXJlcywgZ3JvdXBlZCBmb3IgZGlzcGxheVxyXG4gICAgICAgIC8vIGZvcm1hdDogW3tuYW1lOidmb28nLCB1c2VyRW1haWw6J2Zvb0BiYXIuY29tJywgdXNlcklkOiBudWxsLCBncm91cElkOiBpZCwgb3JnYW5pemF0aW9uSWQ6IG51bGwsIGlzUHVibGljOmZhbHNlLCBjYW5FZGl0OnRydWUsIG1hcElkczpbMSwyXX0sIC4uLl1cclxuICAgICAgICAkc2NvcGUuZXhpc3RpbmdTaGFyZXMgPSBbXTtcclxuXHJcbiAgICAgICAgLy8gbmV3IHNoYXJlcyBhZGRlZCBpbiB0aGUgZGlhbG9nIFxyXG4gICAgICAgIC8vIGZvcm1hdDogW3tzaGFyZVR5cGU6U0hBUkVfVFlQRV9JTkRJVklEVUFMLCBzaGFyZVBlcm1pc3Npb246U0hBUkVfUEVSTUlTU0lPTl9DQU5WSUVXLCB1c2VyRW1haWw6J2Zvb0BiYXIuY29tJywgZ3JvdXBJZDpudWxsLCBvcmdhbml6YXRpb25JZDpudWxsLCBpc1B1YmxpYzpmYWxzZSB9LCAuLi5dXHJcbiAgICAgICAgJHNjb3BlLm5ld1NoYXJlcyA9IFtdO1xyXG5cclxuICAgICAgICAvLyBhbGwgdXBkYXRlZCBzaGFyZXMsIHRvIGJlIHNhdmVkXHJcbiAgICAgICAgLy8gZm9ybWF0OiBbe21hcElkOjEsIGNhbkVkaXQ6ZmFsc2UsIHVzZXJFbWFpbDonZm9vQGJhci5jb20nLCBncm91cElkOm51bGwsIG9yZ2FuaXphdGlvbklkOm51bGwsIGlzUHVibGljOmZhbHNlIH0sIC4uLl1cclxuICAgICAgICAkc2NvcGUudXBkYXRlZFNoYXJlcyA9IFtdO1xyXG5cclxuICAgICAgICAvLyBpbmRleGVzIG9mIHVzZXJzL2dyb3Vwcy9vcmdzIC0gZm9ybWF0OiBbe2lkOjEsIG5hbWU6J2Zvbyd9LCAuLi5dXHJcbiAgICAgICAgJHNjb3BlLnVzZXJzID0gW107XHJcbiAgICAgICAgJHNjb3BlLmdyb3VwcyA9IFtdO1xyXG4gICAgICAgICRzY29wZS5vcmdhbml6YXRpb25zID0gW107XHJcblxyXG4gICAgICAgIC8vIGNvbnN0YW50c1xyXG4gICAgICAgICRzY29wZS5TSEFSRV9UWVBFX0lORElWSURVQUwgPSAnT25lIG9yIG1vcmUgSW5kaXZpZHVhbHMnO1xyXG4gICAgICAgICRzY29wZS5TSEFSRV9UWVBFX0dST1VQID0gJ0dyb3VwJztcclxuICAgICAgICAkc2NvcGUuU0hBUkVfVFlQRV9PUkdBTklaQVRJT04gPSAnVGhpbmtOYXRpb24nO1xyXG4gICAgICAgICRzY29wZS5TSEFSRV9UWVBFX1BVQkxJQyA9ICdBbGwgTWV0YU1hcCBVc2Vycyc7XHJcblxyXG4gICAgICAgICRzY29wZS5zaGFyZVR5cGVzID0gW1xyXG4gICAgICAgICAgICAkc2NvcGUuU0hBUkVfVFlQRV9JTkRJVklEVUFMLFxyXG4gICAgICAgICAgICAvLyRzY29wZS5TSEFSRV9UWVBFX0dST1VQLCBcclxuICAgICAgICAgICAgJHNjb3BlLlNIQVJFX1RZUEVfT1JHQU5JWkFUSU9OLFxyXG4gICAgICAgICAgICAkc2NvcGUuU0hBUkVfVFlQRV9QVUJMSUNcclxuICAgICAgICBdO1xyXG5cclxuICAgICAgICAkc2NvcGUuU0hBUkVfUEVSTUlTU0lPTl9DQU5WSUVXID0gJ0NhbiB2aWV3JztcclxuICAgICAgICAkc2NvcGUuU0hBUkVfUEVSTUlTU0lPTl9DQU5FRElUID0gJ0NhbiBlZGl0JztcclxuXHJcbiAgICAgICAgJHNjb3BlLnNoYXJlUGVybWlzc2lvbnMgPSBbXHJcbiAgICAgICAgICAgICRzY29wZS5TSEFSRV9QRVJNSVNTSU9OX0NBTlZJRVcsXHJcbiAgICAgICAgICAgICRzY29wZS5TSEFSRV9QRVJNSVNTSU9OX0NBTkVESVRcclxuICAgICAgICBdO1xyXG5cclxuICAgICAgICAkc2NvcGUuY2FuU2hhcmVDdWx0dXJlTWFwID0gZnVuY3Rpb24oc2hhcmUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF8uZmluZFdoZXJlKCRzY29wZS51c2VyUHJvZmlsZS5tZW1iZXJzaGlwcywge1xyXG4gICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uSWQ6IHNoYXJlLm9yZ2FuaXphdGlvbklkLFxyXG4gICAgICAgICAgICAgICAgbGVhZGVyOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIGdldCBleGlzdGluZyBzaGFyZXNcclxuICAgICAgICBmdW5jdGlvbiBsb2FkU2hhcmVzKG1hcElkcykge1xyXG4gICAgICAgICAgICAkaHR0cC5nZXQoJy9zaGFyZXMvbWFwX3NoYXJlcy5qc29uP2lkcz0nICsgbWFwSWRzLmpvaW4oJywnKSkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwMCB8fCByZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWFwU2hhcmVzID0gcmVzcG9uc2UuZGF0YS5tYXBTaGFyZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS51c2VycyA9IHJlc3BvbnNlLmRhdGEudXNlcnM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ncm91cHMgPSByZXNwb25zZS5kYXRhLmdyb3VwcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9yZ2FuaXphdGlvbnMgPSByZXNwb25zZS5kYXRhLm9yZ2FuaXphdGlvbnM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluaXRFeGlzdGluZ1NoYXJlcygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISRzY29wZS5leGlzdGluZ1NoYXJlcy5sZW5ndGggJiYgJHNjb3BlLmNhbkFkZE5ld1NoYXJlKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGROZXdTaGFyZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KCdDb3VsZCBub3QgbG9hZCBzaGFyaW5nIGluZm8nKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbG9hZFNoYXJlcyhtYXBJZHMpO1xyXG5cclxuICAgICAgICAvLyBncm91cCB0aGUgZXhpc3Rpbmcgc2hhcmVzIGJ5IHVzZXIsIGdyb3VwLCBvcmcgYW5kIHB1YmxpY1xyXG4gICAgICAgIGZ1bmN0aW9uIGluaXRFeGlzdGluZ1NoYXJlcygpIHtcclxuICAgICAgICAgICAgLy8gZmluZCBhbGwgZW1haWxzIHRoYXQgb2NjdXIgaW4gYSBzaGFyZVxyXG4gICAgICAgICAgICB2YXIgdXNlckVtYWlscyA9IF8ud2l0aG91dChfLnVuaXEoXy5wbHVjaygkc2NvcGUubWFwU2hhcmVzLCAndXNlckVtYWlsJykpLCBudWxsKTtcclxuICAgICAgICAgICAgLy8gYnVpbGQgYW4gYXJyYXkgb2Ygc2hhcmVzLCBvbmUgZm9yIGVhY2ggZW1haWwsIHdpdGggdGhlIGFwcGxpY2FibGUgbWFwIElEc1xyXG4gICAgICAgICAgICB2YXIgc2hhcmVzQnlVc2VyRW1haWwgPSBfLm1hcCh1c2VyRW1haWxzLCBmdW5jdGlvbihlbWFpbCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHVzZXIgPSBfLmZpbmRXaGVyZSgkc2NvcGUudXNlcnMsIHtcclxuICAgICAgICAgICAgICAgICAgICBlbWFpbDogZW1haWxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICBpc0RlbGV0ZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIHVzZXJFbWFpbDogZW1haWwsXHJcbiAgICAgICAgICAgICAgICAgICAgdXNlcklkOiAodXNlciA/IHVzZXIuaWQgOiBudWxsKSxcclxuICAgICAgICAgICAgICAgICAgICBncm91cElkOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvbklkOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgIGlzUHVibGljOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICBpc0N1bHR1cmVNYXA6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IGVtYWlsLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIE5COiBmb3IgdGhpcyBhdHRyaWJ1dGUgd2UgZG9uJ3QgdHJ5IHRvIHN1bW1hcml6ZSB0aGUgdmFsdWUgZm9yIGFsbCB0aGUgZXhpc3Rpbmcgc2hhcmVzLCBcclxuICAgICAgICAgICAgICAgICAgICAvLyBiZWNhdXNlIGl0IHdvdWxkIGJlIHRvbyBjb21wbGljYXRlZCB0byBkaXNwbGF5Li4uXHJcbiAgICAgICAgICAgICAgICAgICAgY2FuRWRpdDogJHNjb3BlLm1hcFNoYXJlcy5sZW5ndGggPT0gMSAmJiAkc2NvcGUubWFwU2hhcmVzWzBdLmNhbkVkaXQsXHJcbiAgICAgICAgICAgICAgICAgICAgbWFwSWRzOiBfLnBsdWNrKF8ud2hlcmUoJHNjb3BlLm1hcFNoYXJlcywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyRW1haWw6IGVtYWlsXHJcbiAgICAgICAgICAgICAgICAgICAgfSksICdtYXBJZCcpXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHZhciBncm91cElkcyA9IF8ud2l0aG91dChfLnVuaXEoXy5wbHVjaygkc2NvcGUubWFwU2hhcmVzLCAnZ3JvdXBJZCcpKSwgbnVsbCk7XHJcbiAgICAgICAgICAgIHZhciBzaGFyZXNCeUdyb3VwSWQgPSBfLm1hcChncm91cElkcywgZnVuY3Rpb24oaWQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBncm91cCA9IF8uZmluZFdoZXJlKCRzY29wZS5ncm91cHMsIHtcclxuICAgICAgICAgICAgICAgICAgICBpZDogaWRcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICBpc0RlbGV0ZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIHVzZXJFbWFpbDogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICB1c2VySWQ6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXBJZDogaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uSWQ6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgaXNQdWJsaWM6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIGlzQ3VsdHVyZU1hcDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ0dyb3VwOiAnICsgKGdyb3VwID8gZ3JvdXAubmFtZSA6ICcnKSxcclxuICAgICAgICAgICAgICAgICAgICBjYW5FZGl0OiAkc2NvcGUubWFwU2hhcmVzLmxlbmd0aCA9PSAxICYmICRzY29wZS5tYXBTaGFyZXNbMF0uY2FuRWRpdCxcclxuICAgICAgICAgICAgICAgICAgICBtYXBJZHM6IF8ucGx1Y2soXy53aGVyZSgkc2NvcGUubWFwU2hhcmVzLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwSWQ6IGlkXHJcbiAgICAgICAgICAgICAgICAgICAgfSksICdtYXBJZCcpXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHZhciBvcmdhbml6YXRpb25JZHMgPSBfLndpdGhvdXQoXy51bmlxKF8ucGx1Y2soJHNjb3BlLm1hcFNoYXJlcywgJ29yZ2FuaXphdGlvbklkJykpLCBudWxsKTtcclxuICAgICAgICAgICAgdmFyIHNoYXJlc0J5T3JnYW5pemF0aW9uSWQgPSBfLm1hcChvcmdhbml6YXRpb25JZHMsIGZ1bmN0aW9uKGlkKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgb3JnYW5pemF0aW9uID0gXy5maW5kV2hlcmUoJHNjb3BlLm9yZ2FuaXphdGlvbnMsIHtcclxuICAgICAgICAgICAgICAgICAgICBpZDogaWRcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICBpc0RlbGV0ZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIHVzZXJFbWFpbDogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICB1c2VySWQ6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXBJZDogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICBvcmdhbml6YXRpb25JZDogaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgaXNQdWJsaWM6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIGlzQ3VsdHVyZU1hcDogJHNjb3BlLm1hcFNoYXJlcy5sZW5ndGggPT0gMSAmJiAkc2NvcGUubWFwU2hhcmVzWzBdLmlzQ3VsdHVyZU1hcCxcclxuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnVGhpbmtOYXRpb246ICcgKyAob3JnYW5pemF0aW9uID8gb3JnYW5pemF0aW9uLm5hbWUgOiAnJyksXHJcbiAgICAgICAgICAgICAgICAgICAgY2FuRWRpdDogJHNjb3BlLm1hcFNoYXJlcy5sZW5ndGggPT0gMSAmJiAkc2NvcGUubWFwU2hhcmVzWzBdLmNhbkVkaXQsXHJcbiAgICAgICAgICAgICAgICAgICAgbWFwSWRzOiBfLnBsdWNrKF8ud2hlcmUoJHNjb3BlLm1hcFNoYXJlcywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcmdhbml6YXRpb25JZDogaWRcclxuICAgICAgICAgICAgICAgICAgICB9KSwgJ21hcElkJylcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gYXJlIGFueSBvZiB0aGUgc2VsZWN0ZWQgbWFwcyBzaGFyZWQgcHVibGljbHk/XHJcbiAgICAgICAgICAgIHZhciBwdWJsaWNTaGFyZXMgPSBbXTtcclxuICAgICAgICAgICAgaWYgKF8ud2hlcmUoJHNjb3BlLm1hcFNoYXJlcywge1xyXG4gICAgICAgICAgICAgICAgaXNQdWJsaWM6IHRydWVcclxuICAgICAgICAgICAgfSkubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBwdWJsaWNTaGFyZXMgPSBbe1xyXG4gICAgICAgICAgICAgICAgICAgIGlzRGVsZXRlZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgdXNlckVtYWlsOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgIHVzZXJJZDogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICBncm91cElkOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvbklkOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgIGlzUHVibGljOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIGlzQ3VsdHVyZU1hcDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ0V2ZXJ5b25lJyxcclxuICAgICAgICAgICAgICAgICAgICBjYW5FZGl0OiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICBtYXBJZHM6IF8ucGx1Y2soXy53aGVyZSgkc2NvcGUubWFwU2hhcmVzLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzUHVibGljOiB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgfSksICdtYXBJZCcpXHJcbiAgICAgICAgICAgICAgICB9XTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgJHNjb3BlLmV4aXN0aW5nU2hhcmVzID0gXy51bmlvbihzaGFyZXNCeVVzZXJFbWFpbCwgc2hhcmVzQnlHcm91cElkLCBzaGFyZXNCeU9yZ2FuaXphdGlvbklkLCBwdWJsaWNTaGFyZXMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gYnVpbGRVcGRhdGVkU2hhcmVzKCkge1xyXG4gICAgICAgICAgICAkc2NvcGUudXBkYXRlZFNoYXJlcyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgLy8gZm9yIGVhY2ggc2VsZWN0ZWQgbWFwLCBkZWNvbXBvc2UgdGhlIGV4aXN0aW5nU2hhcmVzIChncm91cGVkIGJ5IHVzZXIvZ3JvdXAvb3JnL3B1YmxpYykgaW50byBpbmRpdmlkdWFsIHNoYXJlcyBmb3Igc2F2aW5nXHJcbiAgICAgICAgICAgIF8uZWFjaChtYXBJZHMsIGZ1bmN0aW9uKGlkKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBnZXQgZXhpc3Rpbmcgc2hhcmVzIGZvciB0aGlzIG1hcFxyXG4gICAgICAgICAgICAgICAgdmFyIGV4aXN0aW5nU2hhcmVzRm9yTWFwSWQgPSBfLmZpbHRlcigkc2NvcGUuZXhpc3RpbmdTaGFyZXMsIGZ1bmN0aW9uKGV4aXN0aW5nU2hhcmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBleGlzdGluZ1NoYXJlcyBmb3JtYXQ6IFt7bmFtZTonZm9vJywgdXNlckVtYWlsOidmb29AYmFyLmNvbScsIHVzZXJJZDogbnVsbCwgZ3JvdXBJZDogaWQsIG9yZ2FuaXphdGlvbklkOiBudWxsLCBpc1B1YmxpYzpmYWxzZSwgaXNDdWx0dXJlTWFwOmZhbHNlLCBjYW5FZGl0OnRydWUsIG1hcElkczpbMSwyXX0sIC4uLl1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXy5jb250YWlucyhleGlzdGluZ1NoYXJlLm1hcElkcywgaWQpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAvLyBkZWNvbXBvc2UgdGhlc2UgaW50byBpbmRpdmlkdWFsIHNoYXJlc1xyXG4gICAgICAgICAgICAgICAgXy5lYWNoKGV4aXN0aW5nU2hhcmVzRm9yTWFwSWQsIGZ1bmN0aW9uKGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnVwZGF0ZWRTaGFyZXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzTmV3OiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNEZWxldGVkOiBlcy5pc0RlbGV0ZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcElkOiBpZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlckVtYWlsOiBlcy51c2VyRW1haWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJJZDogZXMudXNlcklkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBncm91cElkOiBlcy5ncm91cElkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcmdhbml6YXRpb25JZDogZXMub3JnYW5pemF0aW9uSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzUHVibGljOiBlcy5pc1B1YmxpYyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNDdWx0dXJlTWFwOiBlcy5pc0N1bHR1cmVNYXAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbkVkaXQ6IGVzLmNhbkVkaXRcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIGFkZCBpbiB0aGUgbmV3U2hhcmVzIChmb3IgZWFjaCBzZWxlY3RlZCBtYXApXHJcbiAgICAgICAgICAgIF8uZWFjaChtYXBJZHMsIGZ1bmN0aW9uKGlkKSB7XHJcbiAgICAgICAgICAgICAgICBfLmVhY2goJHNjb3BlLm5ld1NoYXJlcywgZnVuY3Rpb24obnMpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUudXBkYXRlZFNoYXJlcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNOZXc6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcElkOiBpZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlckVtYWlsOiAobnMuc2hhcmVUeXBlID09ICRzY29wZS5TSEFSRV9UWVBFX0lORElWSURVQUwgPyBucy51c2VyRW1haWwgOiBudWxsKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXBJZDogKG5zLnNoYXJlVHlwZSA9PSAkc2NvcGUuU0hBUkVfVFlQRV9HUk9VUCA/IG5zLmdyb3VwSWQgOiBudWxsKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uSWQ6IChucy5zaGFyZVR5cGUgPT0gJHNjb3BlLlNIQVJFX1RZUEVfT1JHQU5JWkFUSU9OID8gbnMub3JnYW5pemF0aW9uSWQgOiBudWxsKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNQdWJsaWM6IG5zLnNoYXJlVHlwZSA9PSAkc2NvcGUuU0hBUkVfVFlQRV9QVUJMSUMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzQ3VsdHVyZU1hcDogbnMuaXNDdWx0dXJlTWFwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYW5FZGl0OiAobnMuc2hhcmVUeXBlID09ICRzY29wZS5TSEFSRV9UWVBFX1BVQkxJQyA/IGZhbHNlIDogbnMuc2hhcmVQZXJtaXNzaW9uID09ICRzY29wZS5TSEFSRV9QRVJNSVNTSU9OX0NBTkVESVQpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBucy5tZXNzYWdlXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBzYXZlU2hhcmVzKG9uVXBkYXRlKSB7XHJcbiAgICAgICAgICAgICRodHRwLnB1dCgnL3NoYXJlcy91cGRhdGVfbWFwX3NoYXJlcycsICRzY29wZS51cGRhdGVkU2hhcmVzKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb25VcGRhdGUoKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICBhbGVydCgnQ291bGQgbm90IHNhdmUgc2hhcmluZyBpbmZvJyk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICRzY29wZS5jYW5EZWxldGVFeGlzdGluZ1NoYXJlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAkc2NvcGUuY2FuQWRkTmV3U2hhcmUoKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAkc2NvcGUuZGVsZXRlRXhpc3RpbmdTaGFyZSA9IGZ1bmN0aW9uKHNoYXJlKSB7XHJcbiAgICAgICAgICAgIHNoYXJlLmlzRGVsZXRlZCA9IHRydWU7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgJHNjb3BlLmNhbkFkZE5ld1NoYXJlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIC8vIG1ha2Ugc3VyZSBhbGwgbWFwcyBhcmUgb3duZWQgYnkgdGhlIGN1cnJlbnQgdXNlclxyXG4gICAgICAgICAgICB2YXIgbWFwVXNlcklkcyA9IF8udW5pcShfLnBsdWNrKCRzY29wZS5tYXBTaGFyZXMsICdtYXBVc2VySWQnKSk7XHJcbiAgICAgICAgICAgIHJldHVybiBtYXBVc2VySWRzLmxlbmd0aCA9PSAwIHx8IChtYXBVc2VySWRzLmxlbmd0aCA9PSAxICYmIG1hcFVzZXJJZHNbMF0gPT0gJHNjb3BlLnVzZXJJZCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgJHNjb3BlLmFkZE5ld1NoYXJlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIC8vIE5COiBpc1B1YmxpYyBhbmQgY2FuRWRpdCBhcmUgc2V0IGluIGJ1aWxkVXBkYXRlU2hhcmVzXHJcbiAgICAgICAgICAgICRzY29wZS5uZXdTaGFyZXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBzaGFyZVR5cGU6ICRzY29wZS5TSEFSRV9UWVBFX0lORElWSURVQUwsXHJcbiAgICAgICAgICAgICAgICBzaGFyZVBlcm1pc3Npb246ICRzY29wZS5TSEFSRV9QRVJNSVNTSU9OX0NBTlZJRVcsXHJcbiAgICAgICAgICAgICAgICB1c2VyRW1haWw6ICcnLFxyXG4gICAgICAgICAgICAgICAgZ3JvdXBJZDogKCRzY29wZS5ncm91cHMubGVuZ3RoID8gJHNjb3BlLmdyb3Vwc1swXS5pZCA6IG51bGwpLFxyXG4gICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uSWQ6ICgkc2NvcGUub3JnYW5pemF0aW9ucy5sZW5ndGggPyAkc2NvcGUub3JnYW5pemF0aW9uc1swXS5pZCA6IG51bGwpLFxyXG4gICAgICAgICAgICAgICAgaXNDdWx0dXJlTWFwOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICcnXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgICRzY29wZS5kZWxldGVOZXdTaGFyZSA9IGZ1bmN0aW9uKHNoYXJlKSB7XHJcbiAgICAgICAgICAgIHZhciBpID0gXy5pbmRleE9mKCRzY29wZS5uZXdTaGFyZXMsIHNoYXJlKTtcclxuICAgICAgICAgICAgJHNjb3BlLm5ld1NoYXJlcy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGJ1aWxkVXBkYXRlZFNoYXJlcygpO1xyXG4gICAgICAgICAgICBzYXZlU2hhcmVzKG9uVXBkYXRlKTtcclxuICAgICAgICAgICAgJG1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICRtb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG5cclxuICAgIHNoYXJpbmdNb2RhbEN0cmwuJGluamVjdCA9IFsnJHNjb3BlJywgJyRtb2RhbEluc3RhbmNlJywgJ3VzZXJJZCcsICd1c2VyUHJvZmlsZScsICdtYXBJZHMnLCAnb25VcGRhdGUnXTtcclxufTsiLCIvLyBjb21tb24gY29yZSBzdGFuZGFyZHMgdGFiIC1cclxuLy8gdGhpcyBpcyBkZWxlZ2F0ZWQgdG8gdGhlIFNhbmRiYW5rQ2NzVGFnZ2luZyBtb2R1bGUsIHdoaWNoIGhhbmRsZXMgQ0NTIFxyXG4vLyBmb3IgYSBtYXAgT1IgdGhlIHVzZXIgcHJvZmlsZSAtIHNlZSB0YWdnaW5nX2Njcy5qc1xyXG5cclxuU2FuZGJhbmtFZGl0b3IuU3RhbmRhcmRzID0gZnVuY3Rpb24gKCRzY29wZSwgbWFwKSB7XHJcblxyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgIHRoaXMuaW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIH07XHJcblxyXG4gICAgLy8gY2FsbGVkIHdoZW4gYSB0YWIgaXMgb3BlbmVkIG9yIGNsb3NlZFxyXG4gICAgdGhpcy5jdXJyZW50VGFiQ2hhbmdlZCA9IGZ1bmN0aW9uKG5ld1ZhbHVlLCBvbGRWYWx1ZSkge1xyXG4gICAgICAgIGlmIChuZXdWYWx1ZSA9PSBtYXAuZ2V0VWkoKS5UQUJfSURfU1RBTkRBUkRTKSB7IC8vIG9wZW5pbmcgdGFiXHJcbiAgICAgICAgICAgIC8vIGlmIHRoZXJlIGFyZSBubyBsaW5rcywgc2hvdyB0aGUgbW9kYWxcclxuICAgICAgICAgICAgaWYgKCRzY29wZS5jYW5FZGl0ICYmICEkc2NvcGUuY2NzVGFnZ2luZy5saW5rcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5jY3NUYWdnaW5nLmFkZExpbmsoKTsgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG9sZFZhbHVlID09IG1hcC5nZXRVaSgpLlRBQl9JRF9TVEFOREFSRFMpIHsgLy8gY2xvc2luZyB0YWJcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59OyIsIi8vIGZ1bmN0aW9ucyBmb3IgdXNlci10YWdnaW5nIG1hcHMsIHdpdGggYSBtb2RhbCBkaWFsb2dcclxuXHJcbi8vIE5COiB0aGUgY29tcGxleGl0eSBoZXJlIGlzIGR1ZSB0byB0aGUgbmVlZCB0byBzaG93IGV4aXN0aW5nIHRhZ3MgdGhhdCBtYXkgYXBwbHkgXHJcbi8vIHRvIGFueSBudW1iZXIgb2YgdGhlIHNlbGVjdGVkIG1hcHMsIHZzLiBuZXcgdGFncyB0aGF0IHdpbGwgYmUgYWRkZWQgdG8gYWxsIHNlbGVjdGVkIG1hcHMgLVxyXG4vLyB0aGUgdGFnZ2luZyBpbmZvIG5lZWRzIHRvIGJlIGdyb3VwZWQgYW5kIHVuZ3JvdXBlZCB3aGVuIGxvYWRpbmcgYW5kIHNhdmluZyB0byBoYW5kbGUgdGhpcy5cclxuXHJcbndpbmRvdy5TYW5kYmFua1RhZ2dpbmcgPSB7fTtcclxuXHJcblNhbmRiYW5rVGFnZ2luZyA9IGZ1bmN0aW9uKCRzY29wZSwgJGh0dHAsICRyZXNvdXJjZSwgJG1vZGFsLCAkbG9nKSB7XHJcblxyXG4gICAgdGhpcy5vcGVuTW9kYWwgPSBmdW5jdGlvbiAobWFwSWRzLCBzaG93RGVzY3JpcHRpb24sIG9uVXBkYXRlKSB7XHJcbiAgICAgICAgdmFyIG1vZGFsSW5zdGFuY2UgPSAkbW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGVfbWFwX3RhZ2dpbmdfbW9kYWwuaHRtbCcsIC8vIHNlZSB2aWV3cy91c2VyX3RhZ3MvX3RlbXBsYXRlX21hcF90YWdnaW5nX21vZGFsXHJcbiAgICAgICAgICAgIGJhY2tkcm9wOiAnc3RhdGljJyxcclxuICAgICAgICAgICAgY29udHJvbGxlcjogdGFnc01vZGFsQ3RybCxcclxuICAgICAgICAgICAgd2luZG93Q2xhc3M6ICd0YWdzLW1vZGFsJyxcclxuICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgbWFwSWRzOiBmdW5jdGlvbigpIHsgcmV0dXJuIG1hcElkczsgfSxcclxuICAgICAgICAgICAgICAgIHNob3dEZXNjcmlwdGlvbjogZnVuY3Rpb24oKSB7IHJldHVybiBzaG93RGVzY3JpcHRpb247IH0sXHJcbiAgICAgICAgICAgICAgICBvblVwZGF0ZTogZnVuY3Rpb24oKSB7IHJldHVybiBvblVwZGF0ZTsgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24oKSB7fSk7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0gY29udHJvbGxlciBmb3IgdGFncyBtb2RhbCAtLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgICB2YXIgdGFnc01vZGFsQ3RybCA9IGZ1bmN0aW9uICgkc2NvcGUsICRtb2RhbEluc3RhbmNlLCBtYXBJZHMsIHNob3dEZXNjcmlwdGlvbiwgb25VcGRhdGUpIHtcclxuXHJcbiAgICAgICAgJHNjb3BlLm1hcElkcyA9IG1hcElkcztcclxuXHJcbiAgICAgICAgLy8gYWxsIGV4aXN0aW5nIHRhZ3MgZm9yIHNlbGVjdGVkIG1hcHMgLSBmb3JtYXQ6IFt7bWFwSWQ6IDEsIHRhZ0lkOiAxLCB0YWdOYW1lOidmb28nfSwgLi4uXVxyXG4gICAgICAgICRzY29wZS5tYXBVc2VyVGFncyA9IFtdOyAgICBcclxuICAgICAgICBcclxuICAgICAgICAvLyBleGlzdGluZyB0YWdzLCBncm91cGVkIGZvciBkaXNwbGF5IC0gZm9ybWF0OiBbe25hbWU6J2ZvbycsIG1hcElkczpbMSwyXX0sIC4uLl1cclxuICAgICAgICAkc2NvcGUuZXhpc3RpbmdUYWdzID0gW107ICAgXHJcblxyXG4gICAgICAgIC8vIG5ldyB0YWdzIGFkZGVkIGluIHRoZSBkaWFsb2cgLSBmb3JtYXQ6IFt7bmFtZTonZm9vJ30sIC4uLl1cclxuICAgICAgICAkc2NvcGUubmV3VGFncyA9IFtdOyAgICAgICAgXHJcblxyXG4gICAgICAgIC8vIGFsbCB1cGRhdGVkIHRhZ3MsIHRvIGJlIHNhdmVkIC0gdGFncyBmb3JtYXQ6IFt7bWFwSWQ6IDEsIHVzZXJUYWdzOiBcImZvbywgYmFyLCBiYW1cIn0sIC4uLl1cclxuICAgICAgICAkc2NvcGUudXBkYXRlZFRhZ3MgPSB7IGRlc2NyaXB0aW9uOiAnJywgdGFnczogW10gfTtcclxuXHJcbiAgICAgICAgJHNjb3BlLnNob3dEZXNjcmlwdGlvbiA9IHNob3dEZXNjcmlwdGlvbjtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gbG9hZFRhZ3MobWFwSWRzKSB7XHJcbiAgICAgICAgICAgICRodHRwLmdldCgnL3VzZXJfdGFncy9tYXBfdXNlcl90YWdzLmpzb24/aWRzPScgKyBtYXBJZHMuam9pbignLCcpKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubWFwVXNlclRhZ3MgPSByZXNwb25zZS5kYXRhLm1hcFVzZXJUYWdzO1xyXG4gICAgICAgICAgICAgICAgLy8gTkI6IHRoZSBtYXAgZGVzY3JpcHRpb24gaXMgYWx3YXlzIHBhc3NlZCBiYWNrIGlmIHdlIG9ubHkgcGFzcyBvbmUgbWFwIElELCBcclxuICAgICAgICAgICAgICAgIC8vIGJ1dCB3ZSBtYXkgbm90IGRpc3BsYXkgaXQgaW4gdGhlIGRpYWxvZyAtIGRlcGVuZHMgb24gdGhlIHZhbHVlIG9mIHRoZSBzaG93RGVzY3JpcHRpb24gZmxhZy5cclxuICAgICAgICAgICAgICAgIGlmIChtYXBJZHMubGVuZ3RoID09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUudXBkYXRlZFRhZ3MuZGVzY3JpcHRpb24gPSByZXNwb25zZS5kYXRhLm1hcERlc2NyaXB0aW9uO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaW5pdEV4aXN0aW5nVGFncygpO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFkZE5ld1RhZygpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGFsZXJ0KCdDb3VsZCBub3QgbG9hZCB0YWdzJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbG9hZFRhZ3MobWFwSWRzKTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gaW5pdEV4aXN0aW5nVGFncygpIHtcclxuICAgICAgICAgICAgdmFyIHRhZ05hbWVzID0gXy51bmlxKF8ucGx1Y2soJHNjb3BlLm1hcFVzZXJUYWdzLCAndGFnTmFtZScpKS5zb3J0KCk7XHJcbiAgICAgICAgICAgICRzY29wZS5leGlzdGluZ1RhZ3MgPSBfLm1hcCh0YWdOYW1lcywgZnVuY3Rpb24obmFtZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG1hcFVzZXJUYWdzRm9yTmFtZSA9IF8ud2hlcmUoJHNjb3BlLm1hcFVzZXJUYWdzLCB7dGFnTmFtZTogbmFtZX0pO1xyXG4gICAgICAgICAgICAgICAgdmFyIG1hcElkcyA9IF8ucGx1Y2sobWFwVXNlclRhZ3NGb3JOYW1lLCAnbWFwSWQnKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7IFxyXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6bmFtZSwgXHJcbiAgICAgICAgICAgICAgICAgICAgbWFwSWRzOm1hcElkc1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBidWlsZFVwZGF0ZWRUYWdzKCkge1xyXG4gICAgICAgICAgJHNjb3BlLnVwZGF0ZWRUYWdzLnRhZ3MgPSBbXTtcclxuICAgICAgICAgIF8uZWFjaChtYXBJZHMsIGZ1bmN0aW9uKGlkKSB7XHJcbiAgICAgICAgICAgICAgdmFyIGV4aXN0aW5nVGFnc0ZvcklkID0gXy5maWx0ZXIoJHNjb3BlLmV4aXN0aW5nVGFncywgZnVuY3Rpb24oZXhpc3RpbmdUYWcpIHsgXHJcbiAgICAgICAgICAgICAgICAvLyBleGlzdGluZ1RhZyBmb3JtYXQ6IHtuYW1lOidmb28nLCBtYXBJZHM6WzEsMl19XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gXy5jb250YWlucyhleGlzdGluZ1RhZy5tYXBJZHMsIGlkKTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAkc2NvcGUudXBkYXRlZFRhZ3MudGFncy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgbWFwSWQ6IGlkLCBcclxuICAgICAgICAgICAgICAgICAgdXNlclRhZ3M6IF8udW5pb24oXHJcbiAgICAgICAgICAgICAgICAgICAgICBfLnBsdWNrKGV4aXN0aW5nVGFnc0ZvcklkLCAnbmFtZScpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgXy53aXRob3V0KF8ucGx1Y2soJHNjb3BlLm5ld1RhZ3MsICduYW1lJyksICcnKSAvLyByZW1vdmUgZW1wdHkgdGFnc1xyXG4gICAgICAgICAgICAgICAgICApLmpvaW4oJywgJylcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc2F2ZVRhZ3Mob25VcGRhdGUpIHtcclxuICAgICAgICAgICAgJGh0dHAucHV0KCcvdXNlcl90YWdzL3VwZGF0ZV9tYXBfdXNlcl90YWdzJywgWyRzY29wZS51cGRhdGVkVGFnc10pLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgIG9uVXBkYXRlKCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgYWxlcnQoJ0NvdWxkIG5vdCBzYXZlIHRhZ3MnKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkc2NvcGUuZGVsZXRlRXhpc3RpbmdUYWcgPSBmdW5jdGlvbih0YWcpIHtcclxuICAgICAgICAgICAgdmFyIGkgPSBfLmluZGV4T2YoJHNjb3BlLmV4aXN0aW5nVGFncywgdGFnKTtcclxuICAgICAgICAgICAgJHNjb3BlLmV4aXN0aW5nVGFncy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgfTsgIFxyXG5cclxuICAgICAgICAkc2NvcGUuYWRkTmV3VGFnID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5uZXdUYWdzLnB1c2goe25hbWU6ICcnfSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgJHNjb3BlLnRhZ1NlbGVjdGVkID0gZnVuY3Rpb24oaXRlbSwgbW9kZWwsIGxhYmVsKSB7XHJcbiAgICAgICAgICAvL2NvbnNvbGUubG9nKCd0YWdTZWxlY3RlZDogJyArIGl0ZW0gKyAnLCAnICsgbW9kZWwgKyAnLCAnICsgbGFiZWwpO1xyXG4gICAgICAgICAgJHNjb3BlLmFkZE5ld1RhZygpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgICRzY29wZS5lZGl0aW5nVGFnS2V5cHJlc3MgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgIGlmIChlLndoaWNoID09IDEzKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWRkTmV3VGFnKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAkc2NvcGUuZGVsZXRlTmV3VGFnID0gZnVuY3Rpb24odGFnKSB7XHJcbiAgICAgICAgICAgIHZhciBpID0gXy5pbmRleE9mKCRzY29wZS5uZXdUYWdzLCB0YWcpO1xyXG4gICAgICAgICAgICAkc2NvcGUubmV3VGFncy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICAgIGlmICghJHNjb3BlLm5ld1RhZ3MubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWRkTmV3VGFnKCk7IC8vIGFsd2F5cyBsZWF2ZSBhdCBsZWFzdCBvbmUgdGFnIGZpZWxkXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuXHJcbiAgICAgICAgLy8gdGFnIGF1dG9jb21wbGV0ZVxyXG4gICAgICAgICRzY29wZS5nZXRVc2VyVGFncyA9IGZ1bmN0aW9uKHZpZXdWYWx1ZSkge1xyXG4gICAgICAgICAgICB2YXIgdXJsID0gJy91c2VyX3RhZ3MvbGlzdC5qc29uP3E9JyArIHZpZXdWYWx1ZTsgXHJcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5nZXQodXJsKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YS50YWdzO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGJ1aWxkVXBkYXRlZFRhZ3MoKTtcclxuICAgICAgICAgICAgc2F2ZVRhZ3Mob25VcGRhdGUpO1xyXG4gICAgICAgICAgICAkbW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgICRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICRtb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG5cclxuICAgIHRhZ3NNb2RhbEN0cmwuJGluamVjdCA9IFsnJHNjb3BlJywgJyRtb2RhbEluc3RhbmNlJywgJ21hcElkcycsICdzaG93RGVzY3JpcHRpb24nLCAnb25VcGRhdGUnXTtcclxufTtcclxuIiwiLy8gZnVuY3Rpb25zIGZvciBhZG1pbi10YWdnaW5nIG1hcHMsIHdpdGggYSBtb2RhbCBkaWFsb2dcclxuXHJcbndpbmRvdy5TYW5kYmFua0FkbWluVGFnZ2luZyA9IHt9O1xyXG5cclxuU2FuZGJhbmtBZG1pblRhZ2dpbmcgPSBmdW5jdGlvbigkc2NvcGUsICRodHRwLCAkcmVzb3VyY2UsICRtb2RhbCwgJGxvZykge1xyXG5cclxuICAgIHRoaXMub3Blbk1vZGFsID0gZnVuY3Rpb24gKG1hcElkLCBvblVwZGF0ZSkge1xyXG4gICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0gJG1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlX21hcF9hZG1pbl90YWdnaW5nX21vZGFsLmh0bWwnLCAvLyBzZWUgdmlld3MvYWRtaW5fdGFncy9fdGVtcGxhdGVfbWFwX2FkbWluX3RhZ2dpbmdfbW9kYWxcclxuICAgICAgICAgICAgYmFja2Ryb3A6ICdzdGF0aWMnLFxyXG4gICAgICAgICAgICBjb250cm9sbGVyOiB0YWdzTW9kYWxDdHJsLFxyXG4gICAgICAgICAgICB3aW5kb3dDbGFzczogJ3RhZ3MtbW9kYWwnLFxyXG4gICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICBtYXBJZDogZnVuY3Rpb24oKSB7IHJldHVybiBtYXBJZDsgfSxcclxuICAgICAgICAgICAgICAgIG9uVXBkYXRlOiBmdW5jdGlvbigpIHsgcmV0dXJuIG9uVXBkYXRlOyB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbigpIHt9KTtcclxuICAgIH07XHJcblxyXG5cclxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLSBjb250cm9sbGVyIGZvciB0YWdzIG1vZGFsIC0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgIHZhciB0YWdzTW9kYWxDdHJsID0gZnVuY3Rpb24gKCRzY29wZSwgJG1vZGFsSW5zdGFuY2UsIG1hcElkLCBvblVwZGF0ZSkge1xyXG5cclxuICAgICAgICAkc2NvcGUubWFwSWQgPSBtYXBJZDtcclxuXHJcbiAgICAgICAgLy8gYWRtaW4gdGFncyBhcHBsaWVkIHRvIHRoZSBtYXBcclxuICAgICAgICAkc2NvcGUubWFwQWRtaW5UYWdzID0gW107XHJcbiAgICAgICAgLy8gbGlzdCBvZiBhbGwgYWRtaW4gdGFnc1xyXG4gICAgICAgICRzY29wZS5hZG1pblRhZ0xpc3QgPSBbXTtcclxuXHJcbiAgICAgICAgLy8gY2hlY2tib3ggc2VsZWN0aW9ucyBmb3IgYWRtaW4gdGFncyAtIGtleSAoaW5kZXgpOiBhZG1pbiB0YWcgSUQ7IHZhbHVlOiB0cnVlL2ZhbHNlIChpZiBtYXAgaGFzIHRoZSBhZG1pbiB0YWcpXHJcbiAgICAgICAgJHNjb3BlLnNlbGVjdGVkQWRtaW5UYWdzID0gW107XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGluaXRTZWxlY3RlZEFkbWluVGFncygpIHtcclxuICAgICAgICAgICAgJHNjb3BlLnNlbGVjdGVkQWRtaW5UYWdzID0gW107XHJcbiAgICAgICAgICAgIF8uZWFjaCgkc2NvcGUuYWRtaW5UYWdMaXN0LCBmdW5jdGlvbih0YWcpIHtcclxuICAgICAgICAgICAgICAgIGlmIChfLmZpbmRXaGVyZSgkc2NvcGUubWFwQWRtaW5UYWdzLCB7IGlkOiB0YWcuaWQgfSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2VsZWN0ZWRBZG1pblRhZ3NbdGFnLmlkXSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gbG9hZFRhZ3MobWFwSWQpIHtcclxuICAgICAgICAgICAgJGh0dHAuZ2V0KCcvYWRtaW5fdGFncy9tYXBfYWRtaW5fdGFncy5qc29uP2lkPScgKyBtYXBJZCkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm1hcEFkbWluVGFncyA9IHJlc3BvbnNlLmRhdGEubWFwQWRtaW5UYWdzO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFkbWluVGFnTGlzdCA9IHJlc3BvbnNlLmRhdGEuYWRtaW5UYWdMaXN0O1xyXG4gICAgICAgICAgICAgICAgaW5pdFNlbGVjdGVkQWRtaW5UYWdzKCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgYWxlcnQoJ0NvdWxkIG5vdCBsb2FkIHRhZ3MnKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsb2FkVGFncyhtYXBJZCk7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHNhdmVUYWdzKG9uVXBkYXRlKSB7XHJcbiAgICAgICAgICAgIHZhciBzZWxlY3RlZFRhZ05hbWVzID0gXy5tYXAoJHNjb3BlLmFkbWluVGFnTGlzdCwgZnVuY3Rpb24odGFnKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJHNjb3BlLnNlbGVjdGVkQWRtaW5UYWdzW3RhZy5pZF0gPyB0YWcubmFtZSA6IG51bGw7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB2YXIgdGFnTGlzdCA9IF8ud2l0aG91dChzZWxlY3RlZFRhZ05hbWVzLCBudWxsKS5qb2luKCcsJyk7XHJcblxyXG4gICAgICAgICAgICAkaHR0cC5wdXQoJy9hZG1pbl90YWdzL3VwZGF0ZV9tYXBfYWRtaW5fdGFncycsIFt7IG1hcElkOiAkc2NvcGUubWFwSWQsIGFkbWluVGFnczogdGFnTGlzdCB9XSkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgb25VcGRhdGUoKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBhbGVydCgnQ291bGQgbm90IHNhdmUgdGFncycpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgc2F2ZVRhZ3Mob25VcGRhdGUpO1xyXG4gICAgICAgICAgICAkbW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgICRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICRtb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG5cclxuICAgIHRhZ3NNb2RhbEN0cmwuJGluamVjdCA9IFsnJHNjb3BlJywgJyRtb2RhbEluc3RhbmNlJywgJ21hcElkJywgJ29uVXBkYXRlJ107XHJcbn07XHJcbiIsIi8vIGZ1bmN0aW9ucyBmb3IgdGFnZ2luZyBtYXBzIG9yIHVzZXJzIHdpdGggY29tbW9uIGNvcmUgc3RhbmRhcmRzLCB3aXRoIGEgbW9kYWwgZGlhbG9nXHJcblxyXG53aW5kb3cuU2FuZGJhbmtDY3NUYWdnaW5nID0ge307XHJcblxyXG5TYW5kYmFua0Njc1RhZ2dpbmcgPSBmdW5jdGlvbigkc2NvcGUsICRodHRwLCAkbW9kYWwpIHtcclxuXHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgLy8gdGhpcyBpcyBzZXQgaW4gZWl0aGVyIHVzZXIuanMgb3IgZWRpdG9yLmpzLCBhbmQgdGVsbHMgdXMgaWYgd2UncmUgXHJcbiAgICAvLyBlZGl0aW5nIENDUyB0YWdzIGZvciB0aGUgY3VycmVudCB1c2VyIG9yIGZvciB0aGUgY3VycmVudCBtYXBcclxuICAgIHRoaXMubWFwSWQgPSBudWxsO1xyXG5cclxuICAgIC8vIHRoZSBsaXN0IG9mIGxpbmtzIHRvIHN0YW5kYXJkcyBmb3IgdGhpcyBtYXAgb3IgdXNlci5cclxuICAgIC8vIGVhY2ggbGluayBpcyBhIHdyYXBwZXIgZm9yIHRoZSBzdGFuZGFyZCwgd2l0aCB0aGlzIGZvcm1hdDpcclxuICAgIC8vIHsgc3RhbmRhcmQ6IHsgbmFtZTogXCJLLkNDLkEuMVwiLCBzdGF0ZW1lbnQ6IFwiLi4uXCIgfSwgZWRpdGluZzogZmFsc2UgfVxyXG4gICAgdGhpcy5saW5rcyA9IFtdO1xyXG5cclxuICAgIHRoaXMuYWRkTGluayA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBsaW5rID0ge1xyXG4gICAgICAgICAgICBzdGFuZGFyZDogbnVsbCxcclxuICAgICAgICAgICAgZWRpdGluZzogdHJ1ZVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgc2VsZi5saW5rcy5wdXNoKGxpbmspO1xyXG4gICAgICAgIHNlbGYub3Blbk1vZGFsKGxpbmspO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmRlbGV0ZUxpbmsgPSBmdW5jdGlvbihsaW5rKSB7XHJcbiAgICAgICAgdmFyIGkgPSBfLmluZGV4T2Yoc2VsZi5saW5rcywgbGluayk7XHJcbiAgICAgICAgc2VsZi5saW5rcy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgc2VsZi5zYXZlQ2NzVGFncygpO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmVkaXRpbmdBTGluayA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiBzZWxmLmxpbmtzICYmIF8uZmluZFdoZXJlKHNlbGYubGlua3MsIHtcclxuICAgICAgICAgICAgZWRpdGluZzogdHJ1ZVxyXG4gICAgICAgIH0pICE9PSB1bmRlZmluZWQ7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIHJldHVybnMgYW4gbGlzdCBvZiBuYW1lcyBvZiB0aGUgc2VsZWN0ZWQgc3RhbmRhcmRzXHJcbiAgICB0aGlzLmdldExpbmtOYW1lcyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiBfLm1hcChzZWxmLmxpbmtzLCBmdW5jdGlvbihsaW5rKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBsaW5rLnN0YW5kYXJkLm5hbWU7XHJcbiAgICAgICAgfSkuam9pbignLCcpO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmxvYWRDY3NUYWdzID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKHNlbGYubWFwSWQpIHtcclxuICAgICAgICAgICAgJGh0dHAuZ2V0KCcvY29tbW9uX2NvcmVfc3RhbmRhcmRzL21hcF9jY3NfdGFncy5qc29uP2lkPScgKyBzZWxmLm1hcElkKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgXy5lYWNoKHJlc3BvbnNlLmRhdGEubWFwQ2NzVGFncywgZnVuY3Rpb24odGFnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYubGlua3MucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFuZGFyZDogdGFnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdGluZzogZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24oKSB7fSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgXy5lYWNoKCRzY29wZS51c2VyUHJvZmlsZS51c2VyQ2NzVGFncywgZnVuY3Rpb24odGFnKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmxpbmtzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YW5kYXJkOiB0YWcsXHJcbiAgICAgICAgICAgICAgICAgICAgZWRpdGluZzogZmFsc2VcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuc2F2ZUNjc1RhZ3MgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAoc2VsZi5tYXBJZCkge1xyXG4gICAgICAgICAgICAkaHR0cC5wdXQoJy9jb21tb25fY29yZV9zdGFuZGFyZHMvdXBkYXRlX21hcF9jY3NfdGFncycsIFt7XHJcbiAgICAgICAgICAgICAgICBtYXBJZDogc2VsZi5tYXBJZCxcclxuICAgICAgICAgICAgICAgIGNjc1RhZ3M6IHNlbGYuZ2V0TGlua05hbWVzKClcclxuICAgICAgICAgICAgfV0pLnRoZW4oXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbihyZXNwb25zZSkge30sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICBhbGVydCgnQ291bGQgbm90IHNhdmUgQ29tbW9uIENvcmUgU3RhbmRhcmRzJyk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkaHR0cC5wdXQoJy9jb21tb25fY29yZV9zdGFuZGFyZHMvdXBkYXRlX3VzZXJfY2NzX3RhZ3MnLCBbc2VsZi5nZXRMaW5rTmFtZXMoKV0pLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyAkc2NvcGUubG9hZFVzZXJQcm9maWxlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gJHNjb3BlLnByb2ZpbGVFZGl0U3RhdHVzID0gJ0NDUyBUYWdzIHNhdmVkJztcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUucHJvZmlsZUVkaXRTdGF0dXMgPSAnQ291bGQgbm90IHNhdmUgQ0NTIHRhZ3MnO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLm9wZW5Nb2RhbCA9IGZ1bmN0aW9uKGxpbmssIG9uVXBkYXRlKSB7XHJcbiAgICAgICAgdmFyIG1vZGFsSW5zdGFuY2UgPSAkbW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGVfY2NzX3RhZ2dpbmdfbW9kYWwuaHRtbCcsXHJcbiAgICAgICAgICAgIGJhY2tkcm9wOiAnc3RhdGljJyxcclxuICAgICAgICAgICAgY29udHJvbGxlcjogY2NzVGFnc01vZGFsQ3RybCxcclxuICAgICAgICAgICAgd2luZG93Q2xhc3M6ICdzdGFuZGFyZHMtbW9kYWwnLFxyXG4gICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICBsaW5rOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbGluaztcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBvblVwZGF0ZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9uVXBkYXRlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24oKSB7fSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLSBjb250cm9sbGVyIGZvciB0YWdzIG1vZGFsIC0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgIHZhciBjY3NUYWdzTW9kYWxDdHJsID0gZnVuY3Rpb24oJHNjb3BlLCAkbW9kYWxJbnN0YW5jZSwgbGluaywgb25VcGRhdGUpIHtcclxuXHJcbiAgICAgICAgLy8gdGhlIGxpc3Qgb2YgYWxsIHN0YW5kYXJkcywgd2hpY2ggdGhlIHVzZXIgc2VsZWN0cyBmcm9tXHJcbiAgICAgICAgJHNjb3BlLnN0YW5kYXJkcyA9IFtdO1xyXG4gICAgICAgICRzY29wZS5zZWxlY3Rpb24gPSB7XHJcbiAgICAgICAgICAgIHN0YW5kYXJkOiBsaW5rLnN0YW5kYXJkXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gVE9ETzogY2FjaGUgdGhlc2Ugc29tZWhvdz8/XHJcbiAgICAgICAgJHNjb3BlLmxvYWRTdGFuZGFyZHMgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIHVybCA9ICcvY29tbW9uX2NvcmVfc3RhbmRhcmRzLmpzb24nO1xyXG4gICAgICAgICAgICAkaHR0cC5nZXQodXJsKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc3RhbmRhcmRzID0gcmVzcG9uc2UuZGF0YS5zdGFuZGFyZHM7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYXBwbHlGaWx0ZXJzKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgICRzY29wZS5sb2FkU3RhbmRhcmRzKCk7XHJcblxyXG4gICAgICAgICRzY29wZS5maWx0ZXJzID0ge1xyXG4gICAgICAgICAgICAvLyBwb3NzaWJsZSB2YWx1ZXMgZm9yIGZpbHRlciB2YXJzXHJcbiAgICAgICAgICAgIGZpbHRlcmVkU3RhbmRhcmRUeXBlczogW10sIC8vIHRoZXNlIGRvbid0IGFjdHVhbGx5IGdldCBmaWx0ZXJlZCwgYnV0IG5hbWluZyBmb3IgY29uc2lzdGVuY3lcclxuICAgICAgICAgICAgZmlsdGVyZWRHcmFkZXM6IFtdLFxyXG4gICAgICAgICAgICBmaWx0ZXJlZENhdGVnb3JpZXM6IFtdLFxyXG4gICAgICAgICAgICBmaWx0ZXJlZFN0YW5kYXJkczogW10sXHJcblxyXG4gICAgICAgICAgICAvLyBmaWx0ZXIgdmFyc1xyXG4gICAgICAgICAgICBzdGFuZGFyZFR5cGVGaWx0ZXI6IG51bGwsXHJcbiAgICAgICAgICAgIGdyYWRlRmlsdGVyOiBudWxsLFxyXG4gICAgICAgICAgICBjYXRlZ29yeUZpbHRlcjogbnVsbFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gZmlsdGVyIHRoZSBkcm9wLWRvd25zIGFuZCB0aGUgc3RhbmRhcmRzIGxpc3QgYWNjb3JkaW5nIHRvIGN1cnJlbnQgc2VsZWN0aW9uc1xyXG4gICAgICAgICRzY29wZS5hcHBseUZpbHRlcnMgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgLy8gZ2V0IHN0YW5kYXJkIHR5cGVzIChlLmcuICdNYXRoZW1hdGljcycpXHJcbiAgICAgICAgICAgICRzY29wZS5maWx0ZXJzLmZpbHRlcmVkU3RhbmRhcmRUeXBlcyA9IF8udW5pcShfLnBsdWNrKCRzY29wZS5zdGFuZGFyZHMsICdzdGFuZGFyZCcpKTtcclxuXHJcbiAgICAgICAgICAgIC8vIGdldCBncmFkZSBvcHRpb25zIGZvciBzZWxlY3RlZCBzdGFuZGFyZFxyXG4gICAgICAgICAgICAkc2NvcGUuZmlsdGVycy5maWx0ZXJlZEdyYWRlcyA9IF8udW5pcShfLnBsdWNrKF8ud2hlcmUoJHNjb3BlLnN0YW5kYXJkcywge1xyXG4gICAgICAgICAgICAgICAgc3RhbmRhcmQ6ICRzY29wZS5maWx0ZXJzLnN0YW5kYXJkVHlwZUZpbHRlclxyXG4gICAgICAgICAgICB9KSwgJ2dyYWRlJykpO1xyXG5cclxuICAgICAgICAgICAgLy8gZ2V0IGNhdGVnb3J5IG9wdGlvbnMgZm9yIHNlbGVjdGVkIHN0YW5kYXJkIGFuZCBncmFkZVxyXG4gICAgICAgICAgICAkc2NvcGUuZmlsdGVycy5maWx0ZXJlZENhdGVnb3JpZXMgPSBfLnVuaXEoXy5wbHVjayhfLndoZXJlKCRzY29wZS5zdGFuZGFyZHMsIHtcclxuICAgICAgICAgICAgICAgIHN0YW5kYXJkOiAkc2NvcGUuZmlsdGVycy5zdGFuZGFyZFR5cGVGaWx0ZXIsXHJcbiAgICAgICAgICAgICAgICBncmFkZTogJHNjb3BlLmZpbHRlcnMuZ3JhZGVGaWx0ZXJcclxuICAgICAgICAgICAgfSksICdjYXRlZ29yeScpKTtcclxuXHJcbiAgICAgICAgICAgIC8vIGdldCBzdGFuZGFyZHMgZm9yIHNlbGVjdGVkIHN0YW5kYXJkLCBncmFkZSBhbmQgY2F0ZWdvcnlcclxuICAgICAgICAgICAgJHNjb3BlLmZpbHRlcnMuZmlsdGVyZWRTdGFuZGFyZHMgPSBfLmZpbHRlcigkc2NvcGUuc3RhbmRhcmRzLCBmdW5jdGlvbihzdGQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAoISRzY29wZS5maWx0ZXJzLnN0YW5kYXJkVHlwZUZpbHRlciB8fCBzdGQuc3RhbmRhcmQgPT0gJHNjb3BlLmZpbHRlcnMuc3RhbmRhcmRUeXBlRmlsdGVyKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICghJHNjb3BlLmZpbHRlcnMuZ3JhZGVGaWx0ZXIgfHwgc3RkLmdyYWRlID09ICRzY29wZS5maWx0ZXJzLmdyYWRlRmlsdGVyKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICghJHNjb3BlLmZpbHRlcnMuY2F0ZWdvcnlGaWx0ZXIgfHwgc3RkLmNhdGVnb3J5ID09ICRzY29wZS5maWx0ZXJzLmNhdGVnb3J5RmlsdGVyKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gc2V0IHRoZSBmaWx0ZXIgZHJvcC1kb3ducyB0byBtYXRjaCB0aGUgc2VsZWN0ZWQgc3RhbmRhcmRcclxuICAgICAgICAkc2NvcGUuc2V0RmlsdGVycyA9IGZ1bmN0aW9uKGxpbmspIHtcclxuICAgICAgICAgICAgaWYgKGxpbmsuc3RhbmRhcmQpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5maWx0ZXJzLnN0YW5kYXJkVHlwZUZpbHRlciA9IGxpbmsuc3RhbmRhcmQuc3RhbmRhcmQ7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZmlsdGVycy5ncmFkZUZpbHRlciA9IGxpbmsuc3RhbmRhcmQuZ3JhZGU7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZmlsdGVycy5jYXRlZ29yeUZpbHRlciA9IGxpbmsuc3RhbmRhcmQuY2F0ZWdvcnk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZmlsdGVycy5zdGFuZGFyZFR5cGVGaWx0ZXIgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmZpbHRlcnMuZ3JhZGVGaWx0ZXIgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmZpbHRlcnMuY2F0ZWdvcnlGaWx0ZXIgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICRzY29wZS5hcHBseUZpbHRlcnMoKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAkc2NvcGUuc2V0RmlsdGVycyhsaW5rKTtcclxuXHJcbiAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGxpbmsuc3RhbmRhcmQgPSAkc2NvcGUuc2VsZWN0aW9uLnN0YW5kYXJkO1xyXG4gICAgICAgICAgICBsaW5rLmVkaXRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgJG1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgc2VsZi5zYXZlQ2NzVGFncygpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgICRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgbGluay5lZGl0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIC8vIGlmIHdlIHdlcmUgYWRkaW5nIGEgbmV3IGxpbmssIGdldCByaWQgb2YgaXRcclxuICAgICAgICAgICAgaWYgKCFsaW5rLnN0YW5kYXJkKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmRlbGV0ZUxpbmsobGluayk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgJG1vZGFsSW5zdGFuY2UuZGlzbWlzcygnY2FuY2VsJyk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICB9O1xyXG5cclxuICAgIGNjc1RhZ3NNb2RhbEN0cmwuJGluamVjdCA9IFsnJHNjb3BlJywgJyRtb2RhbEluc3RhbmNlJywgJ2xpbmsnLCAnb25VcGRhdGUnXTtcclxufTsiLCIvLyBnb0pTIHRlbXBsYXRlcyB1c2VkIGluIHRoZSBlZGl0b3JcclxuXHJcblNhbmRiYW5rRWRpdG9yLlRlbXBsYXRlcyA9IGZ1bmN0aW9uKCRzY29wZSwgbWFwKSB7XHJcblxyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgIC8vIGNvbnN0YW50c1xyXG4gICAgdGhpcy5ncm91cEZpbGxDb2xvciA9IFwiI2Y5ZjlmOVwiO1xyXG5cclxuICAgIHRoaXMuaW5pdCA9IGZ1bmN0aW9uKCkge307XHJcblxyXG4gICAgLy8gaW5pdGlhbGl6ZSB0ZW1wbGF0ZS1yZWxhdGVkIHN0dWZmIHRoYXQgZGVwZW5kcyBvbiB0aGUgZGlhZ3JhbSAoYW5kIHRoZXJlZm9yZSBjYW4ndCBnbyBpbiBpbml0KCkpXHJcbiAgICB0aGlzLmluaXRUZW1wbGF0ZXMgPSBmdW5jdGlvbihkaWFncmFtKSB7XHJcbiAgICAgICAgZGlhZ3JhbS5ncm91cFRlbXBsYXRlID0gc2VsZi5ncm91cFRlbXBsYXRlO1xyXG4gICAgICAgIGRpYWdyYW0ubm9kZVRlbXBsYXRlID0gc2VsZi5zbGlkZVRlbXBsYXRlO1xyXG4gICAgICAgIGRpYWdyYW0ubGlua1RlbXBsYXRlID0gc2VsZi5saW5rVGVtcGxhdGU7XHJcbiAgICAgICAgZGlhZ3JhbS5saW5rVGVtcGxhdGVNYXAuYWRkKCdQJywgc2VsZi5wTGlua1RlbXBsYXRlKTtcclxuICAgICAgICBkaWFncmFtLmxpbmtUZW1wbGF0ZU1hcC5hZGQoJ0QnLCBzZWxmLmRMaW5rVGVtcGxhdGUpO1xyXG5cclxuICAgICAgICBzZWxmLnNldFRlbXBvcmFyeUxpbmtUZW1wbGF0ZXMoZGlhZ3JhbS50b29sTWFuYWdlci5saW5raW5nVG9vbCk7XHJcbiAgICAgICAgc2VsZi5zZXRUZW1wb3JhcnlMaW5rVGVtcGxhdGVzKGRpYWdyYW0udG9vbE1hbmFnZXIucmVsaW5raW5nVG9vbCk7XHJcblxyXG4gICAgICAgIGRpYWdyYW0udG9vbE1hbmFnZXIubGlua2luZ1Rvb2wucG9ydFRhcmdldGVkID0gZnVuY3Rpb24ocmVhbG5vZGUsIHJlYWxwb3J0LCB0ZW1wbm9kZSwgdGVtcHBvcnQsIHRvZW5kKSB7XHJcbiAgICAgICAgICAgIHNlbGYuaGFuZGxlUG9ydFRhcmdldGVkKGRpYWdyYW0udG9vbE1hbmFnZXIubGlua2luZ1Rvb2wsIHJlYWxub2RlLCByZWFscG9ydCwgdGVtcG5vZGUsIHRlbXBwb3J0LCB0b2VuZCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgZGlhZ3JhbS50b29sTWFuYWdlci5yZWxpbmtpbmdUb29sLnBvcnRUYXJnZXRlZCA9IGZ1bmN0aW9uKHJlYWxub2RlLCByZWFscG9ydCwgdGVtcG5vZGUsIHRlbXBwb3J0LCB0b2VuZCkge1xyXG4gICAgICAgICAgICBzZWxmLmhhbmRsZVBvcnRUYXJnZXRlZChkaWFncmFtLnRvb2xNYW5hZ2VyLnJlbGlua2luZ1Rvb2wsIHJlYWxub2RlLCByZWFscG9ydCwgdGVtcG5vZGUsIHRlbXBwb3J0LCB0b2VuZCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgZGlhZ3JhbS50b29sTWFuYWdlci5yZWxpbmtpbmdUb29sLnVwZGF0ZUFkb3JubWVudHMgPSBmdW5jdGlvbihwYXJ0KSB7XHJcbiAgICAgICAgICAgIGdvLlJlbGlua2luZ1Rvb2wucHJvdG90eXBlLnVwZGF0ZUFkb3JubWVudHMuY2FsbCh0aGlzLCBwYXJ0KTtcclxuICAgICAgICAgICAgdmFyIGZyb20gPSBwYXJ0LmZpbmRBZG9ybm1lbnQoJ1JlbGlua0Zyb20nKTtcclxuICAgICAgICAgICAgdmFyIHRvID0gcGFydC5maW5kQWRvcm5tZW50KCdSZWxpbmtUbycpO1xyXG4gICAgICAgICAgICAvLyBpZiAoZnJvbSlcclxuICAgICAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKCdyZWxpbmtmcm9tOiAnICsgZnJvbS5wYXJ0LndpZHRoKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBkaWFncmFtLnRvb2xNYW5hZ2VyLmxpbmtpbmdUb29sLmxpbmtWYWxpZGF0aW9uID0gc2VsZi52YWxpZGF0ZUxpbms7XHJcbiAgICAgICAgZGlhZ3JhbS50b29sTWFuYWdlci5yZWxpbmtpbmdUb29sLmxpbmtWYWxpZGF0aW9uID0gc2VsZi52YWxpZGF0ZUxpbms7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIGNvbnZlbmllbnQgYWJicmV2aWF0aW9uIGZvciBjcmVhdGluZyB0ZW1wbGF0ZXNcclxuICAgIHZhciBtayA9IGdvLkdyYXBoT2JqZWN0Lm1ha2U7XHJcblxyXG4gICAgLy8gRFNSUCBjb2xvcnMgKGZyb20gX3ZhcmlhYmxlcy5zY3NzKVxyXG4gICAgdmFyIGNvbG9yRCA9IFwiI2YyNjI0Y1wiO1xyXG4gICAgdmFyIGNvbG9yUyA9IFwiIzk2YzkzZFwiO1xyXG4gICAgdmFyIGNvbG9yUiA9IFwiIzRjYmZjMlwiO1xyXG4gICAgdmFyIGNvbG9yUCA9IFwiI2ZiYWEzNlwiO1xyXG4gICAgdmFyIGNvbG9yUExpZ2h0ID0gXCIjRkREREFGXCI7XHJcbiAgICB2YXIgY29sb3JQRGFyayA9IFwiI0M5ODgyQlwiO1xyXG5cclxuICAgIHZhciBleWVTdmdQYXRoID0gXCJNIDI1Ni4wMCw5Ni4wMEMgMTQ0LjM0MSw5Ni4wMCwgNDcuNTU5LDE2MS4wMjEsMC4wMCwyNTYuMDBjIDQ3LjU1OSw5NC45NzksIDE0NC4zNDEsMTYwLjAwLCAyNTYuMDAsMTYwLjAwYyAxMTEuNjU3LDAuMDAsIDIwOC40MzktNjUuMDIxLCAyNTYuMDAtMTYwLjAwIEMgNDY0LjQ0MiwxNjEuMDIxLCAzNjcuNjU3LDk2LjAwLCAyNTYuMDAsOTYuMDB6IE0gMzgyLjIyNSwxODAuODUyYyAzMC4wODEsMTkuMTg3LCA1NS41NzEsNDQuODg3LCA3NC43MTcsNzUuMTQ4IGMtMTkuMTQ2LDMwLjI2MS00NC42MzcsNTUuOTYxLTc0LjcxOCw3NS4xNDlDIDM0NC40MjcsMzU1LjI1NywgMzAwLjc3OSwzNjguMDAsIDI1Ni4wMCwzNjguMDBjLTQ0Ljc4LDAuMDAtODguNDI4LTEyLjc0My0xMjYuMjI1LTM2Ljg1MiBDIDk5LjY5NSwzMTEuOTYyLCA3NC4yMDUsMjg2LjI2MiwgNTUuMDU4LDI1Ni4wMGMgMTkuMTQ2LTMwLjI2MiwgNDQuNjM3LTU1Ljk2MiwgNzQuNzE3LTc1LjE0OGMgMS45NTktMS4yNSwgMy45MzgtMi40NjEsIDUuOTI5LTMuNjUgQyAxMzAuNzI1LDE5MC44NjYsIDEyOC4wMCwyMDUuNjEzLCAxMjguMDAsMjIxLjAwYzAuMDAsNzAuNjkyLCA1Ny4zMDgsMTI4LjAwLCAxMjguMDAsMTI4LjAwcyAxMjguMDAtNTcuMzA4LCAxMjguMDAtMTI4LjAwYzAuMDAtMTUuMzg3LTIuNzI1LTMwLjEzNC03LjcwNC00My43OTkgQyAzNzguMjg2LDE3OC4zOSwgMzgwLjI2NSwxNzkuNjAyLCAzODIuMjI1LDE4MC44NTJ6IE0gMjU2LjAwLDIwNS4wMGMwLjAwLDI2LjUxLTIxLjQ5LDQ4LjAwLTQ4LjAwLDQ4LjAwcy00OC4wMC0yMS40OS00OC4wMC00OC4wMHMgMjEuNDktNDguMDAsIDQ4LjAwLTQ4LjAwIFMgMjU2LjAwLDE3OC40OSwgMjU2LjAwLDIwNS4wMHpcIjtcclxuICAgIHZhciBleWVCbG9ja2VkU3ZnUGF0aCA9IFwiTSA0MTkuNjYxLDE0OC4yMDggQyA0NTguNDgzLDE3NS43MjMgNDkwLjM0NiwyMTIuNzU0IDUxMi4wMCwyNTYuMDAgQyA0NjQuNDM5LDM1MC45NzkgMzY3LjY1Nyw0MTYuMDAgMjU2LjAwLDQxNi4wMCBDIDIyNC43MTcsNDE2LjAwIDE5NC42MDQsNDEwLjg5NCAxNjYuNDExLDQwMS40NTggTCAyMDUuMzg5LDM2Mi40OCBDIDIyMS45MTgsMzY2LjEzIDIzOC44NzUsMzY4LjAwIDI1Ni4wMCwzNjguMDAgQyAzMDAuNzc5LDM2OC4wMCAzNDQuNDI3LDM1NS4yNTcgMzgyLjIyMywzMzEuMTQ4IEMgNDEyLjMwNCwzMTEuOTYgNDM3Ljc5NSwyODYuMjYgNDU2Ljk0MSwyNTUuOTk5IEMgNDM4LjQxNSwyMjYuNzE2IDQxMy45MzQsMjAxLjcyNCAzODUuMTE2LDE4Mi43NTIgTCA0MTkuNjYxLDE0OC4yMDggWk0gMjU2LjAwLDM0OS4wMCBDIDI0NC42MzgsMzQ5LjAwIDIzMy42MjQsMzQ3LjUxMiAyMjMuMTM2LDM0NC43MzMgTCAzNzkuNzI5LDE4OC4xNDEgQyAzODIuNTEsMTk4LjYyNyAzODQuMDAsMjA5LjYzOCAzODQuMDAsMjIxLjAwIEMgMzg0LjAwLDI5MS42OTIgMzI2LjY5MiwzNDkuMDAgMjU2LjAwLDM0OS4wMCBaTSA0ODAuMDAsMC4wMGwtMjYuODY5LDAuMDAgTCAzNDMuMzI1LDEwOS44MDZDIDMxNS43ODcsMTAwLjg0NCwgMjg2LjQ0OCw5Ni4wMCwgMjU2LjAwLDk2LjAwQyAxNDQuMzQxLDk2LjAwLCA0Ny41NTksMTYxLjAyMSwwLjAwLDI1Ni4wMCBjIDIxLjMyOSw0Mi41OTYsIDUyLjU2NCw3OS4xNTQsIDkwLjU5NywxMDYuNTM0TDAuMDAsNDUzLjEzMUwwLjAwLDQ4MC4wMCBsIDI2Ljg2OSwwLjAwIEwgNDgwLjAwLDI2Ljg2OUwgNDgwLjAwLDAuMDAgeiBNIDIwOC4wMCwxNTcuMDBjIDI0LjAyMiwwLjAwLCA0My45MjMsMTcuNjQ3LCA0Ny40NDYsNDAuNjg1IGwtNTQuNzYyLDU0Ljc2MkMgMTc3LjY0NywyNDguOTIzLCAxNjAuMDAsMjI5LjAyMiwgMTYwLjAwLDIwNS4wMEMgMTYwLjAwLDE3OC40OSwgMTgxLjQ5LDE1Ny4wMCwgMjA4LjAwLDE1Ny4wMHogTSA1NS4wNTgsMjU2LjAwIGMgMTkuMTQ2LTMwLjI2MiwgNDQuNjM3LTU1Ljk2MiwgNzQuNzE3LTc1LjE0OGMgMS45NTktMS4yNSwgMy45MzgtMi40NjEsIDUuOTI5LTMuNjVDIDEzMC43MjUsMTkwLjg2NiwgMTI4LjAwLDIwNS42MTMsIDEyOC4wMCwyMjEuMDAgYzAuMDAsMjkuMjYyLCA5LjgyNSw1Ni4yMjQsIDI2LjM0OSw3Ny43ODFsLTI5LjI3NSwyOS4yNzVDIDk3LjAzOCwzMDkuMjM1LCA3My4xOTcsMjg0LjY3LCA1NS4wNTgsMjU2LjAwelwiO1xyXG4gICAgdmFyIHBhcGVyY2xpcFN2Z1BhdGggPSBcIk0gMzQ4LjkxNiwxNjMuNTI0bC0zMi40NzYtMzIuNDYxTCAxNTQuMDM1LDI5My40MzRjLTI2LjkwNywyNi44OTYtMjYuOTA3LDcwLjUyNCwwLjAwLDk3LjQyMiBjIDI2LjkwMiwyNi44OTYsIDcwLjUzLDI2Ljg5NiwgOTcuNDM3LDAuMDBsIDE5NC44ODYtMTk0Ljg1NGMgNDQuODU3LTQ0LjgzMSwgNDQuODU3LTExNy41MzEsMC4wMC0xNjIuMzYzIGMtNDQuODMzLTQ0Ljg1Mi0xMTcuNTU2LTQ0Ljg1Mi0xNjIuMzkxLDAuMDBMIDc5LjMzNSwyMzguMjEybCAwLjAxNywwLjAxNmMtMC4xNDUsMC4xNTItMC4zMDYsMC4yODgtMC40MzgsMC40MjMgYy02Mi41NTEsNjIuNTQ4LTYyLjU1MSwxNjMuOTI4LDAuMDAsMjI2LjQ1M2MgNjIuNTI3LDYyLjUyOCwgMTYzLjkzNCw2Mi41MjgsIDIyNi40OTQsMC4wMGMgMC4xMzctMC4xMzcsIDAuMjU4LTAuMjg0LCAwLjQxLTAuNDM4bCAwLjAxNiwwLjAxNyBsIDEzOS42NjYtMTM5LjY0NmwtMzIuNDkzLTMyLjQ2TCAyNzMuMzUsNDMyLjIwOGwtMC4wMDgsMC4wMCBjLTAuMTQ4LDAuMTM0LTAuMjgyLDAuMjg1LTAuNDIzLDAuNDIyIGMtNDQuNTM3LDQ0LjUyOS0xMTYuOTksNDQuNTI5LTE2MS41MzgsMC4wMGMtNDQuNTMxLTQ0LjUyMS00NC41MzEtMTE2Ljk2MSwwLjAwLTE2MS40ODljIDAuMTUyLTAuMTUyLCAwLjMwMi0wLjI5MSwgMC40NDQtMC40MjNsLTAuMDIzLTAuMDMgbCAyMDQuNjQtMjA0LjU4M2MgMjYuODU2LTI2Ljg2OSwgNzAuNTcyLTI2Ljg2OSwgOTcuNDQzLDAuMDBjIDI2Ljg1NiwyNi44NjcsIDI2Ljg1Niw3MC41NzQsMC4wMCw5Ny40MkwgMjE4Ljk5OSwzNTguMzc1IGMtOC45NjgsOC45NjEtMjMuNTI3LDguOTYxLTMyLjQ4NiwwLjAwYy04Ljk0Ny04Ljk0My04Ljk0Ny0yMy41MTYsMC4wMC0zMi40NkwgMzQ4LjkxNiwxNjMuNTI0elwiO1xyXG5cclxuICAgIC8vIGZvb3RlciBmb3IgaW1hZ2UgZXhwb3J0XHJcbiAgICB2YXIgX2V4cG9ydEZvb3RlciA9IG51bGw7XHJcblxyXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLSBkZWJ1ZyBpbmZvIGZvciBncm91cHMvbGlua3MgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgICBmdW5jdGlvbiBncm91cEluZm8ob2JqKSB7XHJcbiAgICAgICAgcmV0dXJuIG9iai5kYXRhLnRleHQgKyBcIlxcblwiICtcclxuICAgICAgICAgICAgJ29iamVjdDogJyArIG9iaiArIFwiXFxuXCIgK1xyXG4gICAgICAgICAgICAna2V5OiAnICsgb2JqLmRhdGEua2V5ICsgXCJcXG5cIiArXHJcbiAgICAgICAgICAgICdjb250YWluaW5nR3JvdXA6ICcgKyBvYmouY29udGFpbmluZ0dyb3VwICsgXCJcXG5cIiArXHJcbiAgICAgICAgICAgICdsYXlvdXQ6ICcgKyBvYmoubGF5b3V0ICsgXCJcXG5cIiArXHJcbiAgICAgICAgICAgICdkYXRhLmxheW91dDogJyArIG9iai5kYXRhLmxheW91dCArIFwiXFxuXCIgK1xyXG4gICAgICAgICAgICAncG9zaXRpb246ICcgKyBwYXJzZUludChvYmoucG9zaXRpb24ueCwgMTApICsgJywgJyArIHBhcnNlSW50KG9iai5wb3NpdGlvbi55LCAxMCkgKyBcIlxcblwiICtcclxuICAgICAgICAgICAgJ2ZyZWVoYW5kIHBvc2l0aW9uIChkYXRhLmxvYyk6ICcgKyBnby5Qb2ludC5wYXJzZShvYmouZGF0YS5sb2MpICsgXCJcXG5cIiArXHJcbiAgICAgICAgICAgICd3aWR0aC9oZWlnaHQ6ICcgKyBwYXJzZUludChvYmouYWN0dWFsQm91bmRzLndpZHRoLCAxMCkgKyAnLycgKyBwYXJzZUludChvYmouYWN0dWFsQm91bmRzLmhlaWdodCwgMTApICsgXCJcXG5cIiArXHJcbiAgICAgICAgICAgICdnZXRTY2FsZSgpOiAnICsgbWFwLmdldExheW91dHMoKS5nZXRTY2FsZShvYmopICsgXCJcXG5cIiArXHJcbiAgICAgICAgICAgICdpc0xpbmtMYWJlbDogJyArIG9iai5kYXRhLmlzTGlua0xhYmVsICsgXCJcXG5cIiArXHJcbiAgICAgICAgICAgICdsYWJlbGVkTGluazogJyArIG9iai5sYWJlbGVkTGluayArIFwiXFxuXCI7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbm9kZUluZm8ob2JqKSB7XHJcbiAgICAgICAgcmV0dXJuICdvYmplY3Q6ICcgKyBvYmogKyBcIlxcblwiICtcclxuICAgICAgICAgICAgJ2tleTogJyArIG9iai5kYXRhLmtleSArIFwiXFxuXCIgK1xyXG4gICAgICAgICAgICAncG9zaXRpb246ICcgKyBwYXJzZUludChvYmoucG9zaXRpb24ueCwgMTApICsgJywgJyArIHBhcnNlSW50KG9iai5wb3NpdGlvbi55LCAxMCkgKyBcIlxcblwiICtcclxuICAgICAgICAgICAgJ3dpZHRoL2hlaWdodDogJyArIHBhcnNlSW50KG9iai5hY3R1YWxCb3VuZHMud2lkdGgsIDEwKSArICcvJyArIHBhcnNlSW50KG9iai5hY3R1YWxCb3VuZHMuaGVpZ2h0LCAxMCkgKyBcIlxcblwiO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGxpbmtJbmZvKG9iaikge1xyXG4gICAgICAgIHZhciBzbnBvcyA9IG1hcC5nZXRMYXlvdXRzKCkuZ2V0U2FtZU5vZGVzTGlua1Bvc2l0aW9uKG9iaik7XHJcbiAgICAgICAgcmV0dXJuICcnICtcclxuICAgICAgICAgICAgJ29iamVjdDogJyArIG9iaiArIFwiXFxuXCIgK1xyXG4gICAgICAgICAgICAnZnJvbU5vZGU6ICcgKyBvYmouZnJvbU5vZGUgKyBcIlxcblwiICtcclxuICAgICAgICAgICAgJ3RvTm9kZTogJyArIG9iai50b05vZGUgKyBcIlxcblwiICtcclxuICAgICAgICAgICAgJ2xhYmVsTm9kZXM6ICcgKyBvYmoubGFiZWxOb2Rlcy5jb3VudCArIFwiXFxuXCIgK1xyXG4gICAgICAgICAgICAnbGFiZWxOb2RlSXNWaXNpYmxlOiAnICsgbWFwLmdldExheW91dHMoKS5sYWJlbE5vZGVJc1Zpc2libGUob2JqKSArIFwiXFxuXCIgK1xyXG4gICAgICAgICAgICAnZnJvbVBvcnRJZDogJyArIG9iai5mcm9tUG9ydElkICsgXCJcXG5cIiArXHJcbiAgICAgICAgICAgICd0b1BvcnRJZDogJyArIG9iai50b1BvcnRJZCArIFwiXFxuXCIgK1xyXG4gICAgICAgICAgICAnY2F0ZWdvcnk6ICcgKyAob2JqLmRhdGEgPyBvYmouZGF0YS5jYXRlZ29yeSA6ICcnKSArIFwiXFxuXCIgK1xyXG4gICAgICAgICAgICAnY29udGFpbmluZ0dyb3VwOiAnICsgb2JqLmNvbnRhaW5pbmdHcm91cCArIFwiXFxuXCIgK1xyXG4gICAgICAgICAgICAnZnJvbUFuZFRvTm9kZXNBcmVWaXNpYmxlOiAnICsgbWFwLmdldExheW91dHMoKS5mcm9tQW5kVG9Ob2Rlc0FyZVZpc2libGUob2JqKSArIFwiXFxuXCIgK1xyXG4gICAgICAgICAgICAnY3VydmU6ICcgKyBvYmouY3VydmUgKyBcIlxcblwiICtcclxuICAgICAgICAgICAgJ2N1cnZpbmVzczogJyArIG9iai5jdXJ2aW5lc3MgKyBcIlxcblwiICtcclxuICAgICAgICAgICAgJ2Zyb21FbmRTZWdtZW50TGVuZ3RoOiAnICsgTWF0aC5yb3VuZChvYmouZnJvbUVuZFNlZ21lbnRMZW5ndGgpICsgXCJcXG5cIiArXHJcbiAgICAgICAgICAgICd0b0VuZFNlZ21lbnRMZW5ndGg6ICcgKyBNYXRoLnJvdW5kKG9iai50b0VuZFNlZ21lbnRMZW5ndGgpICsgXCJcXG5cIiArXHJcbiAgICAgICAgICAgICdzYW1lTm9kZXNMaW5rUG9zaXRpb246ICcgKyBzbnBvcy5pbmRleCArICcgb2YgJyArIHNucG9zLmNvdW50ICsgXCJcXG5cIiArXHJcbiAgICAgICAgICAgIC8vKyAnZ2VvbWV0cnk6ICcgKyBvYmouZ2VvbWV0cnkgKyBcIlxcblwiICtcclxuICAgICAgICAgICAgJ2dldExpbmtTdHJva2VXaWR0aDogJyArIG1hcC5nZXRMYXlvdXRzKCkuZ2V0TGlua1N0cm9rZVdpZHRoKG9iaikgKyBcIlxcblwiO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICAgLy8gTkI6IHRoZXNlIGFyZSBoZXJlIGJlY2F1c2UgdGhleSBhcmUgYWJvdXQgY29sb3JzOyBcclxuICAgIC8vIHNpbWlsYXIgZnVuY3Rpb25zIHRoYXQgYXJlIHNjYWxlLXJlbGF0ZWQgYXJlIGluIGxheW91dHMuanMuLi5cclxuICAgIGZ1bmN0aW9uIGdldEdyb3VwU2VsZWN0aW9uU3Ryb2tlKG9iaikge1xyXG4gICAgICAgIGlmIChvYmouaXNTZWxlY3RlZCkge1xyXG4gICAgICAgICAgICBpZiAobWFwLmdldFBlcnNwZWN0aXZlcygpLmlzSW5QRWRpdG9yTW9kZSgpKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbG9yUDtcclxuICAgICAgICAgICAgZWxzZSBpZiAobWFwLmdldFBlcnNwZWN0aXZlcygpLmlzSW5ERWRpdG9yTW9kZSgpKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbG9yRDtcclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiIzAwMFwiO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBcIiMwMDBcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gT0ssIHRoaXMgaXNuJ3QgYWJvdXQgY29sb3JzLCBidXQgaXQgd2FudHMgdG8gYmUgbmVhciB0aGUgb25lIGFib3ZlLi4uXHJcbiAgICBmdW5jdGlvbiBnZXRHcm91cFNlbGVjdGlvblN0cm9rZVdpZHRoKG9iaikge1xyXG4gICAgICAgIHJldHVybiAob2JqLmlzU2VsZWN0ZWQgPyAzIDogMSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0UkxpbmtTZWxlY3Rpb25TdHJva2Uob2JqKSB7XHJcbiAgICAgICAgaWYgKG9iai5pc1NlbGVjdGVkIHx8IG9iaiA9PSBtYXAuZ2V0VWkoKS5tb3VzZU92ZXJMaW5rKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb2xvclI7IC8vIFRPRE86IGNhbiBQIGxpbmtzIGJlIHNlbGVjdGVkP1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBcIiMwMDBcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgICAvLyBjYWxsYmFja3MgdG8gZGV0ZXJtaW5lIHdoZW4gdGhlIGNvcm5lcnMgc2hvdWxkIGJlIHZpc2libGVcclxuXHJcbiAgICBmdW5jdGlvbiBzaG93RENvcm5lcihncm91cCkge1xyXG4gICAgICAgIGlmIChtYXAuZ2V0UGVyc3BlY3RpdmVzKCkuaXNERWRpdG9yVGhpbmcoZ3JvdXApKSB7IC8vIG1hcmsgZGlzdGluY3Rpb24gdGhpbmdcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfSBlbHNlIGlmIChtYXAuZ2V0UGVyc3BlY3RpdmVzKCkuaXNJblBPckRFZGl0b3JNb2RlKCkpIHsgLy8gZG9uJ3Qgc2hvdyBhbnkgY29ybmVycyBpZiBpbiBQL0QgZWRpdG9yIG1vZGVcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH0gZWxzZSBpZiAobWFwLmdldFByZXNlbnRlcigpLmlzQ3JlYXRpbmdUaHVtYm5haWwpIHsgLy8gZG9uJ3Qgc2hvdyBhbnkgY29ybmVycyBpZiBjYXB0dXJpbmcgdGh1bWJuYWlsXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gKGdyb3VwID09IG1hcC5nZXRVaSgpLm1vdXNlT3Zlckdyb3VwKSB8fCAvLyBzaG93IGNvcm5lcnMgb24gbW91c2VvdmVyXHJcbiAgICAgICAgICAgICAgICAoJHNjb3BlLmlzVG91Y2hEZXZpY2UoKSAmJiBncm91cC5pc1NlbGVjdGVkKSB8fFxyXG4gICAgICAgICAgICAgICAgKGNhbkRyYWdTZWxlY3Rpb25Ub0JlY29tZVNpc3RlcnNPZihncm91cCwgZmFsc2UpICYmIC8vIGRyYWcgdG8gRCAobWFrZSBpdCBzaXN0ZXJzKVxyXG4gICAgICAgICAgICAgICAgICAgIChtYXAuZ2V0VWkoKS5kcmFnVGFyZ2V0UG9zaXRpb24gPT09IG51bGwgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2Fubm90RHJhZ1NlbGVjdGlvblRvQmVjb21lT3JkZXJlZFNpc3Rlck9mKGdyb3VwKSkpOyAvLyBub3Qgc2hvd2luZyBkcmFnIGFib3ZlL2JlbG93IGluZGljYXRvcnNcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2hvd1NDb3JuZXIoZ3JvdXApIHtcclxuICAgICAgICBpZiAobWFwLmdldFBlcnNwZWN0aXZlcygpLmlzSW5QT3JERWRpdG9yTW9kZSgpKSB7IC8vIGRvbid0IHNob3cgYW55IGNvcm5lcnMgaWYgaW4gUC9EIGVkaXRvciBtb2RlXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9IGVsc2UgaWYgKG1hcC5nZXRQcmVzZW50ZXIoKS5pc0NyZWF0aW5nVGh1bWJuYWlsKSB7IC8vIGRvbid0IHNob3cgYW55IGNvcm5lcnMgaWYgY2FwdHVyaW5nIHRodW1ibmFpbFxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIChncm91cCA9PSBtYXAuZ2V0VWkoKS5tb3VzZU92ZXJHcm91cCkgfHwgLy8gc2hvdyBjb3JuZXJzIG9uIG1vdXNlb3ZlclxyXG4gICAgICAgICAgICAgICAgKCRzY29wZS5pc1RvdWNoRGV2aWNlKCkgJiYgZ3JvdXAuaXNTZWxlY3RlZCkgfHxcclxuICAgICAgICAgICAgICAgIChjYW5EcmFnU2VsZWN0aW9uVG9CZWNvbWVDaGlsZHJlbk9mKGdyb3VwLCBmYWxzZSkgJiYgLy8gZHJhZyB0byBTIChtYWtlIGl0IGNoaWxkcmVuKVxyXG4gICAgICAgICAgICAgICAgICAgIChtYXAuZ2V0VWkoKS5kcmFnVGFyZ2V0UG9zaXRpb24gPT09IG51bGwgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2Fubm90RHJhZ1NlbGVjdGlvblRvQmVjb21lT3JkZXJlZFNpc3Rlck9mKGdyb3VwKSkpOyAvLyBub3Qgc2hvd2luZyBkcmFnIGFib3ZlL2JlbG93IGluZGljYXRvcnNcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2hvd1JDb3JuZXIoZ3JvdXApIHtcclxuICAgICAgICBpZiAobWFwLmdldFBlcnNwZWN0aXZlcygpLmlzSW5QT3JERWRpdG9yTW9kZSgpKSB7IC8vIGRvbid0IHNob3cgYW55IGNvcm5lcnMgaWYgaW4gUC9EIGVkaXRvciBtb2RlXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9IGVsc2UgaWYgKG1hcC5nZXRQcmVzZW50ZXIoKS5pc0NyZWF0aW5nVGh1bWJuYWlsKSB7IC8vIGRvbid0IHNob3cgYW55IGNvcm5lcnMgaWYgY2FwdHVyaW5nIHRodW1ibmFpbFxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGdyb3VwID09IG1hcC5nZXRVaSgpLm1vdXNlT3Zlckdyb3VwIHx8XHJcbiAgICAgICAgICAgICAgICAoJHNjb3BlLmlzVG91Y2hEZXZpY2UoKSAmJiBncm91cC5pc1NlbGVjdGVkKTsgLy8gc2hvdyBjb3JuZXJzIG9uIG1vdXNlb3ZlclxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzaG93UENvcm5lcihncm91cCkge1xyXG4gICAgICAgIGlmIChtYXAuZ2V0UGVyc3BlY3RpdmVzKCkuaXNQRWRpdG9yUG9pbnQoZ3JvdXApKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlOyAvLyBtYXJrIHBlcnNwZWN0aXZlIHBvaW50XHJcbiAgICAgICAgfSBlbHNlIGlmIChtYXAuZ2V0UGVyc3BlY3RpdmVzKCkuaXNJblBPckRFZGl0b3JNb2RlKCkpIHsgLy8gZG9uJ3Qgc2hvdyBhbnkgY29ybmVycyBpZiBpbiBQL0QgZWRpdG9yIG1vZGVcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH0gZWxzZSBpZiAobWFwLmdldFByZXNlbnRlcigpLmlzQ3JlYXRpbmdUaHVtYm5haWwpIHsgLy8gZG9uJ3Qgc2hvdyBhbnkgY29ybmVycyBpZiBjYXB0dXJpbmcgdGh1bWJuYWlsXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gZ3JvdXAgPT0gbWFwLmdldFVpKCkubW91c2VPdmVyR3JvdXAgfHxcclxuICAgICAgICAgICAgICAgICgkc2NvcGUuaXNUb3VjaERldmljZSgpICYmIGdyb3VwLmlzU2VsZWN0ZWQpOyAvLyBzaG93IGNvcm5lcnMgb24gbW91c2VvdmVyXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIHdoZW4gYSBQIGxpbmsgc2hvdWxkIGJlIHZpc2libGVcclxuXHJcbiAgICB0aGlzLnNob3dQTGluayA9IGZ1bmN0aW9uKGxpbmspIHtcclxuICAgICAgICB2YXIgbW9kZSA9IG1hcC5nZXRVaSgpLmdldE1hcEVkaXRvck9wdGlvbnMoKS5wZXJzcGVjdGl2ZU1vZGU7XHJcbiAgICAgICAgaWYgKG1hcC5nZXRQZXJzcGVjdGl2ZXMoKS5pc1BFZGl0b3JQb2ludChsaW5rLmZyb21Ob2RlKSkgeyAvLyBzaG93IFAncyB3aGVuIHRoaXMgbGluayBpcyBmcm9tIHRoZSBjdXJyZW50IFBvaW50XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSBpZiAobWFwLmdldFBlcnNwZWN0aXZlcygpLmlzSW5QT3JERWRpdG9yTW9kZSgpKSB7IC8vIGRvbid0IHNob3cgUCdzIGZvciBub24tUG9pbnQgdGhpbmdzLCBldmVuIG9uIG1vdXNlb3ZlclxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIChtb2RlID09ICdsaW5lcycgfHwgbW9kZSA9PSAnYm90aCcpICYmIChsaW5rLmZyb21Ob2RlID09IG1hcC5nZXRVaSgpLm1vdXNlT3Zlckdyb3VwIHx8IG1hcC5wSXNFeHBhbmRlZChsaW5rLmZyb21Ob2RlKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnNob3dQRG90ID0gZnVuY3Rpb24obGluaykge1xyXG4gICAgICAgIHJldHVybiB0cnVlOyAvLyBtYXAuZ2V0VWkoKS5nZXRNYXBFZGl0b3JPcHRpb25zKCkucGVyc3BlY3RpdmVNb2RlICE9ICdib3RoJztcclxuICAgIH07XHJcblxyXG4gICAgLy8gdGhlc2UgZnVuY3Rpb25zIGFyZSB1c2VkIGluIHR3byBtb2RlczpcclxuICAgIC8vIDEuIHdpdGggaXNEcm9wcGluZyA9PSBmYWxzZSwgdG8gaGlnaGxpZ2h0IGRyb3AgdGFyZ2V0cyBiYXNlZCBvbiBtYXAuZ2V0VWkoKS5kcmFnVGFyZ2V0R3JvdXAgYW5kIG1hcC5nZXRVaSgpLmRyYWdUYXJnZXRQb3NpdGlvbixcclxuICAgIC8vICAgIHdoaWNoIGFyZSBzZXQgb24gbW91c2VEcmFnRW50ZXIvbW91c2VEcmFnbGVhdmVcclxuICAgIC8vIDIuIHdpdGggaXNEcm9wcGluZyA9PSB0cnVlLCBvbiBkcm9wLCB3aGVuIHRoZSBhYm92ZSBpbmRpY2F0b3JzIGhhdmUgZ29uZSBhd2F5LCBidXQgd2Uga25vdyB3aGF0IHRoZSBkcm9wcGVkXHJcbiAgICAvLyAgICBhbmQgdGFyZ2V0IGdyb3VwcyBhcmUsIGFuZCB3ZSB3YW50IHRvIGtub3cgd2hhdCB0aGUgZHJvcCBzaG91bGQgZG8uXHJcblxyXG4gICAgZnVuY3Rpb24gY2FuRHJhZ1NlbGVjdGlvblRvQmVjb21lU2lzdGVyc09mKGdyb3VwLCBpc0Ryb3BwaW5nKSB7XHJcbiAgICAgICAgcmV0dXJuIChncm91cCA9PSBtYXAuZ2V0VWkoKS5kcmFnVGFyZ2V0R3JvdXAgfHwgaXNEcm9wcGluZykgJiZcclxuICAgICAgICAgICAgbWFwLnRoaW5nc1NlbGVjdGVkQXJlRGVzY2VuZGFudHNPZihncm91cCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY2FuRHJhZ1NlbGVjdGlvblRvQmVjb21lQ2hpbGRyZW5PZihncm91cCwgaXNEcm9wcGluZykge1xyXG4gICAgICAgIHJldHVybiAoZ3JvdXAgPT0gbWFwLmdldFVpKCkuZHJhZ1RhcmdldEdyb3VwIHx8IGlzRHJvcHBpbmcpICYmXHJcbiAgICAgICAgICAgICFtYXAudGhpbmdzU2VsZWN0ZWRJbmNsdWRlU2xpZGUoKSAmJlxyXG4gICAgICAgICAgICAhbWFwLnRoaW5nc1NlbGVjdGVkQXJlRGVzY2VuZGFudHNPZihncm91cCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gc2lkZSBpcyBtYXAuTEVGVCBvciBtYXAuUklHSFRcclxuICAgIGZ1bmN0aW9uIGNhbkRyYWdTZWxlY3Rpb25Ub0JlY29tZU9yZGVyZWRTaXN0ZXJPZih0YXJnZXRHcm91cCwgc2lkZSwgaXNEcm9wcGluZykge1xyXG4gICAgICAgIC8vIG11c3QgYmUgZHJhZ2dpbmcgc2luZ2xlIGdyb3VwXHJcbiAgICAgICAgdmFyIGRyYWdnZWRHcm91cCA9IG1hcC5nZXRVbmlxdWVUaGluZ1NlbGVjdGVkKCk7XHJcbiAgICAgICAgaWYgKCFkcmFnZ2VkR3JvdXApIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gZHJhZ2dlZCBhbmQgdGFyZ2V0IG11c3QgYmUgU2lzdGVycyBpbiBpbnZlbnRvcnkgbGF5b3V0XHJcbiAgICAgICAgcmV0dXJuICh0YXJnZXRHcm91cCA9PSBtYXAuZ2V0VWkoKS5kcmFnVGFyZ2V0R3JvdXAgfHwgaXNEcm9wcGluZykgJiZcclxuICAgICAgICAgICAgKG1hcC5nZXRVaSgpLmRyYWdUYXJnZXRQb3NpdGlvbiA9PSBzaWRlIHx8IGlzRHJvcHBpbmcpICYmXHJcbiAgICAgICAgICAgIG1hcC5nZXRMYXlvdXRzKCkuYXJlU2lzdGVyc0luSW52ZW50b3J5TGF5b3V0KGRyYWdnZWRHcm91cCwgdGFyZ2V0R3JvdXApO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNhbm5vdERyYWdTZWxlY3Rpb25Ub0JlY29tZU9yZGVyZWRTaXN0ZXJPZih0YXJnZXRHcm91cCkge1xyXG4gICAgICAgIHJldHVybiAhY2FuRHJhZ1NlbGVjdGlvblRvQmVjb21lT3JkZXJlZFNpc3Rlck9mKHRhcmdldEdyb3VwLCBtYXAuTEVGVCkgJiZcclxuICAgICAgICAgICAgIWNhbkRyYWdTZWxlY3Rpb25Ub0JlY29tZU9yZGVyZWRTaXN0ZXJPZih0YXJnZXRHcm91cCwgbWFwLlJJR0hUKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBoYW5kbGUgZHJvcCBvbiBvbmUgb2YgdGhlIHRocmVlIHRhcmdldCByZWdpb25zICh0b3AsIG1pZGRsZSwgYm90dG9tKVxyXG4gICAgLy8gc2lkZSBpcyBtYXAuTEVGVCBvciBtYXAuUklHSFRcclxuICAgIGZ1bmN0aW9uIGhhbmRsZUdyb3VwTW91c2VEcm9wKGV2ZW50LCBkcm9wVGFyZ2V0LCBzaWRlKSB7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZygnZHJhZ0Fib3ZlVGFyZ2V0Lm1vdXNlRHJvcCwgdGFyZ2V0OiAnICsgZHJvcFRhcmdldCArICcsIHBhcnQ6ICcgKyBkcm9wVGFyZ2V0IC5wYXJ0ICsgJywgc2hvdzogJyArIHNob3cpO1xyXG4gICAgICAgIGlmIChzaWRlICE9PSBudWxsICYmIGNhbkRyYWdTZWxlY3Rpb25Ub0JlY29tZU9yZGVyZWRTaXN0ZXJPZihkcm9wVGFyZ2V0LnBhcnQsIHNpZGUsIHRydWUpKSB7XHJcbiAgICAgICAgICAgIG1hcC5hZGRTZWxlY3RlZFRoaW5nQXNPcmRlcmVkU2lzdGVyT2YoZHJvcFRhcmdldC5wYXJ0LCBzaWRlKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGNhbkRyYWdTZWxlY3Rpb25Ub0JlY29tZVNpc3RlcnNPZihkcm9wVGFyZ2V0LnBhcnQsIHRydWUpKSB7XHJcbiAgICAgICAgICAgIG1hcC5hZGRTZWxlY3RlZFRoaW5nc0FzU2lzdGVyc09mKGRyb3BUYXJnZXQucGFydCk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChjYW5EcmFnU2VsZWN0aW9uVG9CZWNvbWVDaGlsZHJlbk9mKGRyb3BUYXJnZXQucGFydCwgdHJ1ZSkpIHtcclxuICAgICAgICAgICAgbWFwLmFkZFNlbGVjdGVkVGhpbmdzQXNDaGlsZHJlbk9mKGRyb3BUYXJnZXQucGFydCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIHdoZW4gdG8gc2hvdyB0aGUgUi10aGluZyBrbm9iIG9uIGEgbGlua1xyXG4gICAgZnVuY3Rpb24gc2hvd0tub2IobGluaykge1xyXG4gICAgICAgIHJldHVybiBsaW5rID09IG1hcC5nZXRVaSgpLm1vdXNlT3Zlckxpbms7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLSBjb21wb25lbnRzIGZvciBtYWluIGdyb3VwIHRlbXBsYXRlIC0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgIGZ1bmN0aW9uIGRGbGFnTWFya2VyKCkge1xyXG4gICAgICAgIHJldHVybiBtayhnby5TaGFwZSxcclxuICAgICAgICAgICAgbmV3IGdvLkJpbmRpbmcoJ2ZpbGwnLCAnJywgZnVuY3Rpb24ob2JqKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqLmRhdGEuZGZsYWcgPyAnIzAwMCcgOiBudWxsO1xyXG4gICAgICAgICAgICB9KS5vZk9iamVjdCgpLCB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBcImRmbGFnXCIsXHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogbmV3IGdvLlBvaW50KDAsIDApLFxyXG4gICAgICAgICAgICAgICAgZGVzaXJlZFNpemU6IG5ldyBnby5TaXplKDE4LCAxOCksXHJcbiAgICAgICAgICAgICAgICBnZW9tZXRyeTogZ28uR2VvbWV0cnkucGFyc2UoXCJGIE0wIDEgTDAgMTggTDE4IDAgTDEgMHpcIiwgdHJ1ZSksXHJcbiAgICAgICAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxyXG4gICAgICAgICAgICAgICAgcGlja2FibGU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlOiBudWxsXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFwiRFwiIGNvcm5lciAodG9wIGxlZnQsIHJlZClcclxuICAgIGZ1bmN0aW9uIGNvcm5lckQoKSB7XHJcbiAgICAgICAgcmV0dXJuIG1rKGdvLlBhbmVsLCBnby5QYW5lbC5Qb3NpdGlvbixcclxuICAgICAgICAgICAgbmV3IGdvLkJpbmRpbmcoJ29wYWNpdHknLCAnJywgZnVuY3Rpb24ob2JqKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKHNob3dEQ29ybmVyKG9iaikgPyAxIDogMCk7XHJcbiAgICAgICAgICAgIH0pLm9mT2JqZWN0KCksIHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IFwiY29ybmVyRFwiLFxyXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IG5ldyBnby5Qb2ludCgwLCAwKSxcclxuICAgICAgICAgICAgICAgIGRlc2lyZWRTaXplOiBuZXcgZ28uU2l6ZSg1MCwgNTApLFxyXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogMFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBtayhnby5TaGFwZSwge1xyXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IG5ldyBnby5Qb2ludCgwLCAwKSxcclxuICAgICAgICAgICAgICAgIGRlc2lyZWRTaXplOiBuZXcgZ28uU2l6ZSg1MCwgNTApLFxyXG4gICAgICAgICAgICAgICAgZ2VvbWV0cnk6IGdvLkdlb21ldHJ5LnBhcnNlKFwiRiBNMCAxIEwwIDUwIEw1MCAwIEwxIDB6XCIsIHRydWUpLFxyXG4gICAgICAgICAgICAgICAgZmlsbDogY29sb3JELFxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcicsXHJcbiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZXZlbnQsIHRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ2NsaWNrLCBjb250cm9sOicgKyBldmVudC5jb250cm9sICsgJywgYWx0OicgKyBldmVudC5hbHQgKyAnLCBtZXRhOicgKyBldmVudC5tZXRhKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQuYWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5COiBhIHNpZGUgZWZmZWN0IG9mIHRoaXMgd2lsbCBiZSB0byBzZWxlY3QganVzdCB0aGlzIGdyb3VwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB3aGljaCB3b3VsZCBub3QgaGFwcGVuIG90aGVyd2lzZSB2aWEgY29udHJvbC1jbGlja1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXAuZ2V0UGVyc3BlY3RpdmVzKCkuc2V0REVkaXRvclRoaW5nKHRhcmdldC5wYXJ0KTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBoYW5kbGUgc2luZ2xlIG9yIGRvdWJsZSBjbGlja1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXAuZ2V0VWkoKS5oYW5kbGVDb3JuZXJDbGljayhcIkRcIiwgdGFyZ2V0LnBhcnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBjb250ZXh0Q2xpY2s6IGZ1bmN0aW9uKGV2ZW50LCB0YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdjb250ZXh0Q2xpY2s6JyArIGV2ZW50KTtcclxuICAgICAgICAgICAgICAgICAgICBtYXAudG9nZ2xlREZsYWcodGFyZ2V0LnBhcnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgbWsoZ28uVGV4dEJsb2NrLCB7XHJcbiAgICAgICAgICAgICAgICB0ZXh0OiBcIkRcIixcclxuICAgICAgICAgICAgICAgIHN0cm9rZTogXCJ3aGl0ZVwiLFxyXG4gICAgICAgICAgICAgICAgZm9udDogJzlweCBzYW5zLXNlcmlmJyxcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBuZXcgZ28uUG9pbnQoMTIsIDE1KSxcclxuICAgICAgICAgICAgICAgIHBpY2thYmxlOiBmYWxzZVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gXCJTXCIgY29ybmVyIChib3R0b20gbGVmdCwgZ3JlZW4pXHJcbiAgICBmdW5jdGlvbiBjb3JuZXJTKCkge1xyXG4gICAgICAgIHJldHVybiBtayhnby5QYW5lbCwgZ28uUGFuZWwuUG9zaXRpb24sXHJcbiAgICAgICAgICAgIG5ldyBnby5CaW5kaW5nKCdvcGFjaXR5JywgJycsIGZ1bmN0aW9uKG9iaikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIChzaG93U0Nvcm5lcihvYmopID8gMSA6IDApO1xyXG4gICAgICAgICAgICB9KS5vZk9iamVjdCgpLCB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBcImNvcm5lclNcIixcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBuZXcgZ28uUG9pbnQoMCwgNTApLFxyXG4gICAgICAgICAgICAgICAgZGVzaXJlZFNpemU6IG5ldyBnby5TaXplKDUwLCA1MCksXHJcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiAwXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG1rKGdvLlNoYXBlLCB7XHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogbmV3IGdvLlBvaW50KDAsIDApLFxyXG4gICAgICAgICAgICAgICAgZGVzaXJlZFNpemU6IG5ldyBnby5TaXplKDUwLCA1MCksXHJcbiAgICAgICAgICAgICAgICBnZW9tZXRyeTogZ28uR2VvbWV0cnkucGFyc2UoXCJGIE0wIDAgTDAgNDkgTDEgNTAgTDUwIDUwelwiLCB0cnVlKSxcclxuICAgICAgICAgICAgICAgIGZpbGw6IGNvbG9yUyxcclxuICAgICAgICAgICAgICAgIHN0cm9rZTogbnVsbCxcclxuICAgICAgICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxyXG4gICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGV2ZW50LCB0YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBoYW5kbGUgc2luZ2xlIG9yIGRvdWJsZSBjbGlja1xyXG4gICAgICAgICAgICAgICAgICAgIG1hcC5nZXRVaSgpLmhhbmRsZUNvcm5lckNsaWNrKFwiU1wiLCB0YXJnZXQucGFydCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICAvLyBleHBhbnNpb24gaW5kaWNhdG9yXHJcbiAgICAgICAgICAgIG1rKGdvLlNoYXBlLFxyXG4gICAgICAgICAgICAgICAgbmV3IGdvLkJpbmRpbmcoJ3Bvc2l0aW9uJywgJycsIGZ1bmN0aW9uKG9iaikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAob2JqLmlzU3ViR3JhcGhFeHBhbmRlZCA/IG5ldyBnby5Qb2ludCg0LCA0MykgOiBuZXcgZ28uUG9pbnQoNSwgMzgpKTtcclxuICAgICAgICAgICAgICAgIH0pLm9mT2JqZWN0KCksXHJcbiAgICAgICAgICAgICAgICBuZXcgZ28uQmluZGluZygnYW5nbGUnLCAnJywgZnVuY3Rpb24ob2JqKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChvYmouaXNTdWJHcmFwaEV4cGFuZGVkID8gOTAgOiAwKTtcclxuICAgICAgICAgICAgICAgIH0pLm9mT2JqZWN0KCksIHtcclxuICAgICAgICAgICAgICAgICAgICBkZXNpcmVkU2l6ZTogbmV3IGdvLlNpemUoNSwgMTApLFxyXG4gICAgICAgICAgICAgICAgICAgIGdlb21ldHJ5OiBnby5HZW9tZXRyeS5wYXJzZShcIkYgTTAgMCBMNSA1IEwwIDEwelwiLCB0cnVlKSxcclxuICAgICAgICAgICAgICAgICAgICBmaWxsOiBcIiMzMzNcIixcclxuICAgICAgICAgICAgICAgICAgICBzdHJva2U6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgcGlja2FibGU6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICksXHJcbiAgICAgICAgICAgIG1rKGdvLlRleHRCbG9jaywge1xyXG4gICAgICAgICAgICAgICAgdGV4dDogXCJTXCIsXHJcbiAgICAgICAgICAgICAgICBzdHJva2U6IFwid2hpdGVcIixcclxuICAgICAgICAgICAgICAgIGZvbnQ6ICc5cHggc2Fucy1zZXJpZicsXHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogbmV3IGdvLlBvaW50KDEyLCAyOCksXHJcbiAgICAgICAgICAgICAgICBwaWNrYWJsZTogZmFsc2VcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHNob3cgb25seSB3aGVuIHN5c3RlbSBpcyBjb2xsYXBzZWRcclxuICAgIGZ1bmN0aW9uIHNDb2xsYXBzZWRNYXJrZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIG1rKGdvLlNoYXBlLFxyXG4gICAgICAgICAgICBuZXcgZ28uQmluZGluZygndmlzaWJsZScsICcnLCBmdW5jdGlvbihvYmopIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAhc2hvd1NDb3JuZXIob2JqKSAmJiBvYmoubWVtYmVyUGFydHMuY291bnQgPiAwICYmICFvYmouaXNTdWJHcmFwaEV4cGFuZGVkO1xyXG4gICAgICAgICAgICB9KS5vZk9iamVjdCgpLCB7XHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogbmV3IGdvLlBvaW50KDUsIDg4KSxcclxuICAgICAgICAgICAgICAgIGRlc2lyZWRTaXplOiBuZXcgZ28uU2l6ZSg1LCAxMCksXHJcbiAgICAgICAgICAgICAgICBnZW9tZXRyeTogZ28uR2VvbWV0cnkucGFyc2UoXCJGIE0wIDAgTDUgNSBMMCAxMHpcIiwgdHJ1ZSksXHJcbiAgICAgICAgICAgICAgICBmaWxsOiAnIzMzMycsXHJcbiAgICAgICAgICAgICAgICBzdHJva2U6IG51bGwsXHJcbiAgICAgICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJyxcclxuICAgICAgICAgICAgICAgIHBpY2thYmxlOiBmYWxzZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBcIlJcIiBjb3JuZXIgKGJvdHRvbSByaWdodCwgYmx1ZSlcclxuICAgIGZ1bmN0aW9uIGNvcm5lclIoKSB7XHJcbiAgICAgICAgcmV0dXJuIG1rKGdvLlBhbmVsLCBnby5QYW5lbC5Qb3NpdGlvbixcclxuICAgICAgICAgICAgbmV3IGdvLkJpbmRpbmcoJ29wYWNpdHknLCAnJywgZnVuY3Rpb24ob2JqKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKHNob3dSQ29ybmVyKG9iaikgPyAxIDogMCk7XHJcbiAgICAgICAgICAgIH0pLm9mT2JqZWN0KCksIHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IFwiY29ybmVyUlwiLFxyXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IG5ldyBnby5Qb2ludCgwLCAwKSxcclxuICAgICAgICAgICAgICAgIGRlc2lyZWRTaXplOiBuZXcgZ28uU2l6ZSgxMDAsIDEwMCksXHJcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiAwXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG1rKGdvLlNoYXBlLCB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBcImNvcm5lclJTaGFwZVwiLFxyXG4gICAgICAgICAgICAgICAgLy8gTkI6IHRoaXMgY29ybmVyIGlzIGRvbmUgZGlmZmVyZW50bHkgZnJvbSB0aGUgb3RoZXJzOlxyXG4gICAgICAgICAgICAgICAgLy8gMS4gdGhlIG92ZXJhbGwgc2hhcGUgaXMgdGhlIHNpemUgb2YgdGhlIHdob2xlIHNxdWFyZSwgc28gdGhlIHBvcnQgZmFsbHMgaW4gdGhlIG1pZGRsZSBpbnN0ZWFkIG9mIHRoZSBjb3JuZXI7XHJcbiAgICAgICAgICAgICAgICAvLyAyLiB0aGUgZ2VvbWV0cnkgdHJhY2VzIGFyb3VuZCB0aGUgZWRnZXMgb2YgdGhlIHdob2xlIHNxdWFyZSwgYmVjYXVzZSBvdGhlcndpc2UgdGhlIGxpbmsgbGluZSB3aWxsXHJcbiAgICAgICAgICAgICAgICAvLyAgICBzaG93IGluc2lkZSB0aGUgbWFpbiBzcXVhcmUgaWYgaXQncyBjcm9zc2luZyBvbmUgb2YgdGhlIG90aGVyIDMgcXVhZHJhbnRzIFxyXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IG5ldyBnby5Qb2ludCgwLCAwKSxcclxuICAgICAgICAgICAgICAgIGRlc2lyZWRTaXplOiBuZXcgZ28uU2l6ZSgxMDAsIDEwMCksXHJcbiAgICAgICAgICAgICAgICBnZW9tZXRyeTogZ28uR2VvbWV0cnkucGFyc2UoXCJGXCIgK1xyXG4gICAgICAgICAgICAgICAgICAgIFwiTTAgMCBMMCAxMDAgXCIgKyAvLyB0b3AgbGVmdCB0byBib3R0b20gbGVmdFxyXG4gICAgICAgICAgICAgICAgICAgIFwiTDk5IDEwMCBMMTAwIDk5IEwgMTAwIDAgXCIgKyAvLyBib3R0b20vcmlnaHQgc2lkZXMgKHJvdW5kIGJvdHRvbSByaWdodCBjb3JuZXIpXHJcbiAgICAgICAgICAgICAgICAgICAgXCJMIDAgMCBMIDEwMCAwIFwiICsgLy8gYmFjayB0byB0b3AgbGVmdCB0aGVuIHRvcCByaWdodFxyXG4gICAgICAgICAgICAgICAgICAgIFwiTCAxMDAgNTAgTCA1MCAxMDAgXCIgKyAvLyB0byBtaWRwb2ludCBvZiByaWdodCBzaWRlLCBtaWRwb2ludCBvZiBib3R0b20gc2lkZVxyXG4gICAgICAgICAgICAgICAgICAgIFwiTDAgMTAwelwiLCAvLyBib3R0b20gbGVmdCwgcmV0dXJuIGhvbWVcclxuICAgICAgICAgICAgICAgICAgICB0cnVlKSxcclxuICAgICAgICAgICAgICAgIGZpbGw6IGNvbG9yUixcclxuICAgICAgICAgICAgICAgIHN0cm9rZTogbnVsbCxcclxuICAgICAgICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxyXG5cclxuICAgICAgICAgICAgICAgIHBvcnRJZDogXCJSXCIsXHJcbiAgICAgICAgICAgICAgICBmcm9tTGlua2FibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBmcm9tTGlua2FibGVTZWxmTm9kZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBmcm9tTGlua2FibGVEdXBsaWNhdGVzOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgdG9MaW5rYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHRvTGlua2FibGVTZWxmTm9kZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICB0b0xpbmthYmxlRHVwbGljYXRlczogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihldmVudCwgdGFyZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaGFuZGxlIHNpbmdsZSBvciBkb3VibGUgY2xpY2tcclxuICAgICAgICAgICAgICAgICAgICBtYXAuZ2V0VWkoKS5oYW5kbGVDb3JuZXJDbGljayhcIlJcIiwgdGFyZ2V0LnBhcnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgbWsoZ28uVGV4dEJsb2NrLCB7XHJcbiAgICAgICAgICAgICAgICB0ZXh0OiBcIlJcIixcclxuICAgICAgICAgICAgICAgIHN0cm9rZTogXCJ3aGl0ZVwiLFxyXG4gICAgICAgICAgICAgICAgZm9udDogJzlweCBzYW5zLXNlcmlmJyxcclxuICAgICAgICAgICAgICAgIHBpY2thYmxlOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBuZXcgZ28uUG9pbnQoODIsIDc4KVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYXR0YWNobWVudFBhcGVyQ2xpcCgpIHtcclxuICAgICAgICByZXR1cm4gbWsoZ28uU2hhcGUsXHJcbiAgICAgICAgICAgIG5ldyBnby5CaW5kaW5nKCd2aXNpYmxlJywgJycsIGZ1bmN0aW9uKG9iaikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9iai5kYXRhLmF0dGFjaG1lbnRzICE9PSBudWxsICYmIG9iai5kYXRhLmF0dGFjaG1lbnRzICE9PSB1bmRlZmluZWQgJiYgb2JqLmRhdGEuYXR0YWNobWVudHMubGVuZ3RoID4gMDtcclxuICAgICAgICAgICAgfSkub2ZPYmplY3QoKSxcclxuICAgICAgICAgICAgbmV3IGdvLkJpbmRpbmcoJ2dlb21ldHJ5JywgJycsIGZ1bmN0aW9uKG9iaikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGdvLkdlb21ldHJ5LnBhcnNlKHBhcGVyY2xpcFN2Z1BhdGgsIHRydWUpO1xyXG4gICAgICAgICAgICB9KS5vZk9iamVjdCgpLFxyXG4gICAgICAgICAgICBuZXcgZ28uQmluZGluZygnZGVzaXJlZFNpemUnLCAnJywgZnVuY3Rpb24ob2JqKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IGdvLlNpemUoNTEyLCA1MTIpOyAvLyBOQjogdGhlIHR3byBpY29ucyBkb24ndCBzY2FsZSB0byB0aGUgc2FtZSBwcm9wb3J0aW9ucyBmb3Igc29tZSByZWFzb24gLSA/P1xyXG4gICAgICAgICAgICB9KS5vZk9iamVjdCgpLCB7XHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogbmV3IGdvLlBvaW50KDQ2LCA4NSksXHJcbiAgICAgICAgICAgICAgICBzY2FsZTogMC4wMixcclxuICAgICAgICAgICAgICAgIHN0cm9rZTogJyMwMDAnLFxyXG4gICAgICAgICAgICAgICAgZmlsbDogJyMwMDAnLFxyXG4gICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGV2ZW50LCB0YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnY2xpcCBjbGlja2VkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFwLmdldFVpKCkudG9nZ2xlVGFiKG1hcC5nZXRVaSgpLlRBQl9JRF9BVFRBQ0hNRU5UUyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHBFeWViYWxsKCkge1xyXG4gICAgICAgIHJldHVybiBtayhnby5TaGFwZSxcclxuICAgICAgICAgICAgbmV3IGdvLkJpbmRpbmcoJ3Zpc2libGUnLCAnJywgZnVuY3Rpb24ob2JqKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbWFwLmdldFBlcnNwZWN0aXZlcygpLmlzUGVyc3BlY3RpdmVQb2ludChvYmopO1xyXG4gICAgICAgICAgICB9KS5vZk9iamVjdCgpLFxyXG4gICAgICAgICAgICBuZXcgZ28uQmluZGluZygnZ2VvbWV0cnknLCAnJywgZnVuY3Rpb24ob2JqKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZ28uR2VvbWV0cnkucGFyc2UobWFwLnBJc0V4cGFuZGVkKG9iaikgPyBleWVTdmdQYXRoIDogZXllQmxvY2tlZFN2Z1BhdGgsIHRydWUpO1xyXG4gICAgICAgICAgICB9KS5vZk9iamVjdCgpLFxyXG4gICAgICAgICAgICBuZXcgZ28uQmluZGluZygnZGVzaXJlZFNpemUnLCAnJywgZnVuY3Rpb24ob2JqKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IGdvLlNpemUoNTEyLCBtYXAucElzRXhwYW5kZWQob2JqKSA/IDQ0MCA6IDUxMik7IC8vIE5COiB0aGUgdHdvIGljb25zIGRvbid0IHNjYWxlIHRvIHRoZSBzYW1lIHByb3BvcnRpb25zIGZvciBzb21lIHJlYXNvbiAtID8/XHJcbiAgICAgICAgICAgIH0pLm9mT2JqZWN0KCksIHtcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBuZXcgZ28uUG9pbnQoODcsIDQpLFxyXG4gICAgICAgICAgICAgICAgc2NhbGU6IDAuMDIsXHJcbiAgICAgICAgICAgICAgICBzdHJva2U6ICcjMDAwJyxcclxuICAgICAgICAgICAgICAgIGZpbGw6ICcjMDAwJyxcclxuICAgICAgICAgICAgICAgIHBpY2thYmxlOiBmYWxzZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBQIGV4cGFuc2lvbiBpbmRpY2F0b3IgLSB0aGlzIHNob3dzIHdoZW4gdGhlIFAgY29ybmVyIGlzIG5vdCB2aXNpYmxlLCBhbmQgb25seSBpZiB0aGUgdGhpbmcgaXMgYSBwZXJzcGVjdGl2ZSBwb2ludFxyXG4gICAgZnVuY3Rpb24gcG9pbnRNYXJrZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIHBFeWViYWxsKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUCB2aWV3IGluZGljYXRvclxyXG4gICAgZnVuY3Rpb24gdmlld01hcmtlcigpIHtcclxuICAgICAgICByZXR1cm4gbWsoZ28uU2hhcGUsIFwiQm9yZGVyXCIsXHJcbiAgICAgICAgICAgIG5ldyBnby5CaW5kaW5nKCd2aXNpYmxlJywgJycsIGZ1bmN0aW9uKG9iaikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH0pLm9mT2JqZWN0KCksXHJcbiAgICAgICAgICAgIG5ldyBnby5CaW5kaW5nKCdmaWxsJywgJycsIGZ1bmN0aW9uKG9iaikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldFZpZXdNYXJrZXJGaWxsKG9iaik7XHJcbiAgICAgICAgICAgIH0pLm9mT2JqZWN0KCksIHtcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBuZXcgZ28uUG9pbnQoMCwgMCksXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDE4LFxyXG4gICAgICAgICAgICAgICAgd2lkdGg6IDEwMCxcclxuICAgICAgICAgICAgICAgIHN0cm9rZTogbnVsbFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRWaWV3TWFya2VyRmlsbChvYmopIHtcclxuICAgICAgICB2YXIgd2VpZ2h0ID0gbWFwLmdldFBlcnNwZWN0aXZlcygpLmdldFBlcnNwZWN0aXZlVmlld1dlaWdodChvYmopO1xyXG5cclxuICAgICAgICBpZiAod2VpZ2h0ID09IDMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbG9yUERhcms7XHJcbiAgICAgICAgfSBlbHNlIGlmICh3ZWlnaHQgPT0gMikge1xyXG4gICAgICAgICAgICByZXR1cm4gY29sb3JQO1xyXG4gICAgICAgIH0gZWxzZSBpZiAod2VpZ2h0ID09IDEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbG9yUExpZ2h0O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBcInRyYW5zcGFyZW50XCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFwiUFwiIGNvcm5lciAodG9wIHJpZ2h0LCBvcmFuZ2UpXHJcbiAgICBmdW5jdGlvbiBjb3JuZXJQKCkge1xyXG4gICAgICAgIHJldHVybiBtayhnby5QYW5lbCwgZ28uUGFuZWwuUG9zaXRpb24sXHJcbiAgICAgICAgICAgIG5ldyBnby5CaW5kaW5nKCdvcGFjaXR5JywgJycsIGZ1bmN0aW9uKG9iaikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIChzaG93UENvcm5lcihvYmopID8gMSA6IDApO1xyXG4gICAgICAgICAgICB9KS5vZk9iamVjdCgpLCB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBcImNvcm5lclBcIixcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBuZXcgZ28uUG9pbnQoMCwgMCksXHJcbiAgICAgICAgICAgICAgICBkZXNpcmVkU2l6ZTogbmV3IGdvLlNpemUoMTAwLCAxMDApLFxyXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogMFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBtayhnby5TaGFwZSwge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogXCJjb3JuZXJQU2hhcGVcIixcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBuZXcgZ28uUG9pbnQoMCwgMCksXHJcbiAgICAgICAgICAgICAgICBkZXNpcmVkU2l6ZTogbmV3IGdvLlNpemUoMTAwLCAxMDApLFxyXG4gICAgICAgICAgICAgICAgLy8gTkI6IHRoaXMgZ2VvbWV0cnkgY292ZXJzIHRoZSB3aG9sZSBzcXVhcmU7IHNlZSBub3RlIGFib3ZlIGZvciBjb3JuZXJSXHJcbiAgICAgICAgICAgICAgICBnZW9tZXRyeTogZ28uR2VvbWV0cnkucGFyc2UoXCJGXCIgK1xyXG4gICAgICAgICAgICAgICAgICAgIFwiTTAgMCBMMCAxMDAgTDEwMCAxMDBcIiArIC8vIHRvcCBsZWZ0IHRvIGJvdHRvbSBsZWZ0IHRvIGJvdHRvbSByaWdodFxyXG4gICAgICAgICAgICAgICAgICAgIFwiTDEwMCAxIEw5OSAwIEwwIDBcIiArIC8vIHJpZ2h0L3RvcCBzaWRlcyAocm91bmQgdG9wIHJpZ2h0IGNvcm5lcilcclxuICAgICAgICAgICAgICAgICAgICBcIkwgNTAgMCBMIDEwMCA1MCBcIiArIC8vIHRvIG1pZHBvaW50IG9mIHRvcCBzaWRlLCBtaWRwb2ludCBvZiByaWdodCBzaWRlXHJcbiAgICAgICAgICAgICAgICAgICAgXCJMMTAwIDEwMCAwIDEwMHpcIiwgLy8gYm90dG9tIHJpZ2h0LCBib3R0b20gbGVmdCwgcmV0dXJuIGhvbWVcclxuICAgICAgICAgICAgICAgICAgICB0cnVlKSxcclxuXHJcbiAgICAgICAgICAgICAgICBmaWxsOiBjb2xvclAsXHJcbiAgICAgICAgICAgICAgICBzdHJva2U6IG51bGwsXHJcbiAgICAgICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJyxcclxuXHJcbiAgICAgICAgICAgICAgICBwb3J0SWQ6IFwiUFwiLFxyXG4gICAgICAgICAgICAgICAgZnJvbUxpbmthYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgZnJvbUxpbmthYmxlU2VsZk5vZGU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgZnJvbUxpbmthYmxlRHVwbGljYXRlczogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICB0b0xpbmthYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgdG9MaW5rYWJsZVNlbGZOb2RlOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHRvTGlua2FibGVEdXBsaWNhdGVzOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHRvTWF4TGlua3M6IDEsXHJcbiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oZXZlbnQsIHRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGhhbmRsZSBzaW5nbGUgb3IgZG91YmxlIGNsaWNrXHJcbiAgICAgICAgICAgICAgICAgICAgbWFwLmdldFVpKCkuaGFuZGxlQ29ybmVyQ2xpY2soXCJQXCIsIHRhcmdldC5wYXJ0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgIHBFeWViYWxsKCksIC8vIFAgZXhwYW5zaW9uIGluZGljYXRvclxyXG4gICAgICAgICAgICBtayhnby5UZXh0QmxvY2ssIHtcclxuICAgICAgICAgICAgICAgIHRleHQ6IFwiUFwiLFxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlOiBcIndoaXRlXCIsXHJcbiAgICAgICAgICAgICAgICBmb250OiAnOXB4IHNhbnMtc2VyaWYnLFxyXG4gICAgICAgICAgICAgICAgcGlja2FibGU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IG5ldyBnby5Qb2ludCg4MSwgMTUpXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBtYWluQm9yZGVyKCkge1xyXG4gICAgICAgIHJldHVybiBtayhnby5TaGFwZSwgXCJCb3JkZXJcIixcclxuICAgICAgICAgICAgbmV3IGdvLkJpbmRpbmcoJ3N0cm9rZScsICcnLCBnZXRHcm91cFNlbGVjdGlvblN0cm9rZSkub2ZPYmplY3QoKSxcclxuICAgICAgICAgICAgbmV3IGdvLkJpbmRpbmcoJ3N0cm9rZVdpZHRoJywgJycsIGdldEdyb3VwU2VsZWN0aW9uU3Ryb2tlV2lkdGgpLm9mT2JqZWN0KCksIHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IFwibWFpbmFyZWFcIixcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBuZXcgZ28uUG9pbnQoMCwgMCksXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDEwMCxcclxuICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAsXHJcbiAgICAgICAgICAgICAgICBmaWxsOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgLy9wb3J0SWQ6IFwiXCIsXHJcbiAgICAgICAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxyXG4gICAgICAgICAgICAgICAgZnJvbUxpbmthYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgZnJvbUxpbmthYmxlU2VsZk5vZGU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgZnJvbUxpbmthYmxlRHVwbGljYXRlczogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHRvTGlua2FibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICB0b0xpbmthYmxlU2VsZk5vZGU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgdG9MaW5rYWJsZUR1cGxpY2F0ZXM6IHRydWVcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gLS0tLS0tLS0tIGhhbmRsZXJzIGZvciBtb3VzZSBkcmFnL2Ryb3AgYWN0aW9ucyBvbiBncm91cHMsIHdoaWNoIG5lZWQgdG8gYmUgcmVwbGljYXRlZCBvbiBkaWZmZXJlbnQgdGFyZ2V0IHBhcnRzIC0tLS0tLS1cclxuXHJcbiAgICAvLyBwb3NpdGlvbiBpcyBtYXAuTEVGVCwgbnVsbCwgb3IgbWFwLlJJR0hUXHJcbiAgICBmdW5jdGlvbiBnZXRHcm91cE1vdXNlRHJhZ0VudGVySGFuZGxlcihwb3NpdGlvbikge1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbihldmVudCwgdGFyZ2V0LCBvYmoyKSB7XHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ21vdXNlRHJhZ0VudGVyLCBlLmRwOiAnICsgZXZlbnQuZG9jdW1lbnRQb2ludCArICcsIHRhcmdldC5wYXJ0OiAnICsgdGFyZ2V0LnBhcnQgKyAnLCB0YXJnZXQgYm91bmRzOiAnICsgdGFyZ2V0LmFjdHVhbEJvdW5kcyk7XHJcbiAgICAgICAgICAgIG1hcC5nZXRVaSgpLmRyYWdUYXJnZXRHcm91cCA9IHRhcmdldC5wYXJ0O1xyXG4gICAgICAgICAgICBtYXAuZ2V0VWkoKS5kcmFnVGFyZ2V0UG9zaXRpb24gPSBwb3NpdGlvbjtcclxuICAgICAgICAgICAgbWFwLmdldERpYWdyYW0oKS51cGRhdGVBbGxUYXJnZXRCaW5kaW5ncygpO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGdyb3VwTW91c2VEcmFnTGVhdmVIYW5kbGVyID0gZnVuY3Rpb24oZXZlbnQsIHRhcmdldCwgb2JqMikge1xyXG4gICAgICAgIG1hcC5nZXRVaSgpLmRyYWdUYXJnZXRHcm91cCA9IG51bGw7XHJcbiAgICAgICAgbWFwLmdldFVpKCkuZHJhZ1RhcmdldFBvc2l0aW9uID0gbnVsbDtcclxuICAgICAgICBtYXAuZ2V0RGlhZ3JhbSgpLnVwZGF0ZUFsbFRhcmdldEJpbmRpbmdzKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIGZ1bmN0aW9uIGdldEdyb3VwTW91c2VEcm9wSGFuZGxlcihwb3NpdGlvbikge1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbihldmVudCwgZHJvcFRhcmdldCkge1xyXG4gICAgICAgICAgICBoYW5kbGVHcm91cE1vdXNlRHJvcChldmVudCwgZHJvcFRhcmdldCwgcG9zaXRpb24pO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGdyb3VwQ2xpY2tIYW5kbGVyID0gZnVuY3Rpb24oZXZlbnQsIHRhcmdldCkge1xyXG4gICAgICAgIC8vIGhhbmRsZSBzaW5nbGUgb3IgZG91YmxlIGNsaWNrXHJcbiAgICAgICAgbWFwLmdldFVpKCkuaGFuZGxlQ29ybmVyQ2xpY2soXCJcIiwgdGFyZ2V0KTtcclxuICAgIH07XHJcblxyXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tIHRhcmdldHMgZm9yIGRyYWdnaW5nIHRvIEQgb3IgUyAtLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgIGZ1bmN0aW9uIGRyYWdBYm92ZVRhcmdldCgpIHtcclxuICAgICAgICByZXR1cm4gbWsoZ28uUGFuZWwsIGdvLlBhbmVsLlBvc2l0aW9uLCB7XHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogbmV3IGdvLlBvaW50KDAsIDApLFxyXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAyNSxcclxuICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAsXHJcbiAgICAgICAgICAgICAgICBtb3VzZURyYWdFbnRlcjogZ2V0R3JvdXBNb3VzZURyYWdFbnRlckhhbmRsZXIobWFwLkxFRlQpLFxyXG4gICAgICAgICAgICAgICAgbW91c2VEcmFnTGVhdmU6IGdyb3VwTW91c2VEcmFnTGVhdmVIYW5kbGVyLFxyXG4gICAgICAgICAgICAgICAgbW91c2VEcm9wOiBnZXRHcm91cE1vdXNlRHJvcEhhbmRsZXIobWFwLkxFRlQpLFxyXG4gICAgICAgICAgICAgICAgY2xpY2s6IGdyb3VwQ2xpY2tIYW5kbGVyXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIC8vIGRyYWcgdGFyZ2V0IHJlZ2lvblxyXG4gICAgICAgICAgICBtayhnby5TaGFwZSwgXCJSZWN0YW5nbGVcIiwge1xyXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IG5ldyBnby5Qb2ludCgwLCAwKSxcclxuICAgICAgICAgICAgICAgIGhlaWdodDogMjUsXHJcbiAgICAgICAgICAgICAgICB3aWR0aDogMTAwLFxyXG4gICAgICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcclxuICAgICAgICAgICAgICAgIHN0cm9rZTogbnVsbCxcclxuICAgICAgICAgICAgICAgIGZpbGw6ICd0cmFuc3BhcmVudCdcclxuICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgIC8vIGRyYWcgaW5kaWNhdG9yIGJhclxyXG4gICAgICAgICAgICBtayhnby5TaGFwZSwgXCJCb3JkZXJcIixcclxuICAgICAgICAgICAgICAgIG5ldyBnby5CaW5kaW5nKCd2aXNpYmxlJywgJycsIGZ1bmN0aW9uKG9iaikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjYW5EcmFnU2VsZWN0aW9uVG9CZWNvbWVPcmRlcmVkU2lzdGVyT2Yob2JqLnBhcnQsIG1hcC5MRUZULCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICB9KS5vZk9iamVjdCgpLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IG5ldyBnby5Qb2ludCgwLCAwKSxcclxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDEwLFxyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgIGZpbGw6ICcjMDAwJ1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBkcmFnSW50b1RhcmdldCgpIHtcclxuICAgICAgICByZXR1cm4gbWsoZ28uUGFuZWwsIGdvLlBhbmVsLlBvc2l0aW9uLCB7XHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogbmV3IGdvLlBvaW50KDAsIDI1KSxcclxuICAgICAgICAgICAgICAgIGhlaWdodDogNTAsXHJcbiAgICAgICAgICAgICAgICB3aWR0aDogMTAwLFxyXG4gICAgICAgICAgICAgICAgbW91c2VEcmFnRW50ZXI6IGdldEdyb3VwTW91c2VEcmFnRW50ZXJIYW5kbGVyKG51bGwpLFxyXG4gICAgICAgICAgICAgICAgbW91c2VEcmFnTGVhdmU6IGdyb3VwTW91c2VEcmFnTGVhdmVIYW5kbGVyLFxyXG4gICAgICAgICAgICAgICAgbW91c2VEcm9wOiBnZXRHcm91cE1vdXNlRHJvcEhhbmRsZXIobnVsbCksXHJcbiAgICAgICAgICAgICAgICBjbGljazogZ3JvdXBDbGlja0hhbmRsZXJcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbWsoZ28uU2hhcGUsIFwiUmVjdGFuZ2xlXCIsIHtcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBuZXcgZ28uUG9pbnQoMCwgMCksXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDUwLFxyXG4gICAgICAgICAgICAgICAgd2lkdGg6IDEwMCxcclxuICAgICAgICAgICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXHJcbiAgICAgICAgICAgICAgICBzdHJva2U6IG51bGwsXHJcbiAgICAgICAgICAgICAgICBmaWxsOiAndHJhbnNwYXJlbnQnXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBkcmFnQmVsb3dUYXJnZXQoKSB7XHJcbiAgICAgICAgcmV0dXJuIG1rKGdvLlBhbmVsLCBnby5QYW5lbC5Qb3NpdGlvbiwge1xyXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IG5ldyBnby5Qb2ludCgwLCA3NSksXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDI1LFxyXG4gICAgICAgICAgICAgICAgd2lkdGg6IDEwMCxcclxuICAgICAgICAgICAgICAgIG1vdXNlRHJhZ0VudGVyOiBnZXRHcm91cE1vdXNlRHJhZ0VudGVySGFuZGxlcihtYXAuUklHSFQpLFxyXG4gICAgICAgICAgICAgICAgbW91c2VEcmFnTGVhdmU6IGdyb3VwTW91c2VEcmFnTGVhdmVIYW5kbGVyLFxyXG4gICAgICAgICAgICAgICAgbW91c2VEcm9wOiBnZXRHcm91cE1vdXNlRHJvcEhhbmRsZXIobWFwLlJJR0hUKSxcclxuICAgICAgICAgICAgICAgIGNsaWNrOiBncm91cENsaWNrSGFuZGxlclxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAvLyBkcmFnIHRhcmdldCByZWdpb25cclxuICAgICAgICAgICAgbWsoZ28uU2hhcGUsIFwiUmVjdGFuZ2xlXCIsIHtcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBuZXcgZ28uUG9pbnQoMCwgMCksXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDI1LFxyXG4gICAgICAgICAgICAgICAgd2lkdGg6IDEwMCxcclxuICAgICAgICAgICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXHJcbiAgICAgICAgICAgICAgICBzdHJva2U6IG51bGwsXHJcbiAgICAgICAgICAgICAgICBmaWxsOiAndHJhbnNwYXJlbnQnXHJcbiAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICAvLyBkcmFnIGluZGljYXRvciBiYXJcclxuICAgICAgICAgICAgbWsoZ28uU2hhcGUsIFwiQm9yZGVyXCIsXHJcbiAgICAgICAgICAgICAgICBuZXcgZ28uQmluZGluZygndmlzaWJsZScsICcnLCBmdW5jdGlvbihvYmopIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2FuRHJhZ1NlbGVjdGlvblRvQmVjb21lT3JkZXJlZFNpc3Rlck9mKG9iai5wYXJ0LCBtYXAuUklHSFQsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIH0pLm9mT2JqZWN0KCksIHtcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogbmV3IGdvLlBvaW50KDAsIDE1KSxcclxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDEwLFxyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgIGZpbGw6ICcjMDAwJ1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXR1cm5zIHRoZSBUZXh0QmxvY2sgZm9yIHRoZSBncm91cCB0aXRsZSwgZm9yIHVzZSBpbiB0aGUgbWFpbiBncm91cCB0ZW1wbGF0ZSwgaW5zaWRlIHRoZSBib3guXHJcbiAgICBmdW5jdGlvbiBncm91cEludGVybmFsVGV4dEJsb2NrKCkge1xyXG4gICAgICAgIHJldHVybiBtayhnby5QYW5lbCwgZ28uUGFuZWwuSG9yaXpvbnRhbCwge1xyXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IG5ldyBnby5Qb2ludCgwLCAwKSxcclxuICAgICAgICAgICAgICAgIGRlc2lyZWRTaXplOiBuZXcgZ28uU2l6ZSgxMDAsIDEwMClcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbWsoZ28uVGV4dEJsb2NrLFxyXG4gICAgICAgICAgICAgICAgbmV3IGdvLkJpbmRpbmcoXCJ0ZXh0XCIsIFwidGV4dFwiKS5tYWtlVHdvV2F5KCksXHJcbiAgICAgICAgICAgICAgICBuZXcgZ28uQmluZGluZyhcInZpc2libGVcIiwgXCJcIiwgZnVuY3Rpb24oZ3JvdXApIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBhbHdheXMgc2hvdyB0ZXh0IGluc2lkZSBib3ggZm9yIFItdGhpbmdzLCBiZWNhdXNlIGV4dGVybmFsIHRleHQgd2lsbCB0aHJvdyBvZmYgbGF5b3V0XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1hcC5nZXRMYXlvdXRzKCkuaXNOb3RXaXRoaW5JbnZlbnRvcnlMYXlvdXQoZ3JvdXApIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcC5nZXRMYXlvdXRzKCkuaXNSVGhpbmdXaXRoaW5JbnZlbnRvcnlMYXlvdXQoZ3JvdXApO1xyXG4gICAgICAgICAgICAgICAgfSkub2ZPYmplY3QoKSwge1xyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiA4MCxcclxuICAgICAgICAgICAgICAgICAgICBtYXJnaW46IDEwLFxyXG4gICAgICAgICAgICAgICAgICAgIGFsaWdubWVudDogZ28uU3BvdC5DZW50ZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dEFsaWduOiAnY2VudGVyJyxcclxuICAgICAgICAgICAgICAgICAgICBjdXJzb3I6IFwibW92ZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGZvbnQ6ICcxMHB4IHNhbnMtc2VyaWYnLFxyXG4gICAgICAgICAgICAgICAgICAgIGlzTXVsdGlsaW5lOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIHdyYXA6IGdvLlRleHRCbG9jay5XcmFwRGVzaXJlZFNpemUsXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIG1vdXNlRHJhZ0VudGVyOiBnZXRHcm91cE1vdXNlRHJhZ0VudGVySGFuZGxlcihudWxsKSxcclxuICAgICAgICAgICAgICAgICAgICBtb3VzZURyYWdMZWF2ZTogZ3JvdXBNb3VzZURyYWdMZWF2ZUhhbmRsZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgbW91c2VEcm9wOiBnZXRHcm91cE1vdXNlRHJvcEhhbmRsZXIobnVsbCksXHJcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGdyb3VwQ2xpY2tIYW5kbGVyLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHRDbGljazogZnVuY3Rpb24oZXZlbnQsIHRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQuY29udHJvbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZ3JvdXBJbmZvKHRhcmdldC5wYXJ0KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldHVybnMgYSBUZXh0QmxvY2sgZm9yIHRoZSBncm91cCB0aXRsZSwgZm9yIHVzZSBpbiB0aGUgbWFpbiBncm91cCB0ZW1wbGF0ZSwgb24gdGhlIGxlZnQgb3IgcmlnaHQuXHJcbiAgICAvLyB2aXNpYmxlRm4gaXMgYSBjYWxsYmFjayB0byBiZSBib3VuZCB0byB0aGUgdmlzaWJpbGl0eSBhdHRyaWJ1dGUgb2YgdGhlIFRleHRCbG9jay5cclxuICAgIC8vIHRleHRBbGlnbiBpcyAnbGVmdCcgb3IgJ3JpZ2h0Jy5cclxuICAgIGZ1bmN0aW9uIGdyb3VwRXh0ZXJuYWxUZXh0QmxvY2sodmlzaWJsZUZuLCB0ZXh0QWxpZ24pIHtcclxuICAgICAgICByZXR1cm4gbWsoZ28uVGV4dEJsb2NrLFxyXG4gICAgICAgICAgICBuZXcgZ28uQmluZGluZyhcInRleHRcIiwgXCJ0ZXh0XCIpLm1ha2VUd29XYXkoKSxcclxuICAgICAgICAgICAgbmV3IGdvLkJpbmRpbmcoXCJ2aXNpYmxlXCIsIFwiXCIsIHZpc2libGVGbikub2ZPYmplY3QoKSxcclxuICAgICAgICAgICAgbmV3IGdvLkJpbmRpbmcoXCJzY2FsZVwiLCBcIlwiLCBtYXAuZ2V0TGF5b3V0cygpLmdldEV4dGVybmFsVGV4dFNjYWxlKS5vZk9iamVjdCgpLCB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiAnZXh0ZXJuYWx0ZXh0LScgKyB0ZXh0QWxpZ24sIC8vIE5COiB0aGlzIHNjcmV3cyB1cCBsYXlvdXRzIGZvciBzb21lIHJlYXNvbiAtID8/XHJcbiAgICAgICAgICAgICAgICB0ZXh0QWxpZ246IHRleHRBbGlnbixcclxuICAgICAgICAgICAgICAgIG1hcmdpbjogNSxcclxuICAgICAgICAgICAgICAgIGZvbnQ6ICcxMHB4IHNhbnMtc2VyaWYnLFxyXG4gICAgICAgICAgICAgICAgaXNNdWx0aWxpbmU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjbGljazogZ3JvdXBDbGlja0hhbmRsZXJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0gZ3JvdXAvVGhpbmcgdGVtcGxhdGUgLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgICB0aGlzLmdyb3VwVGVtcGxhdGUgPVxyXG4gICAgICAgIG1rKGdvLkdyb3VwLCBnby5QYW5lbC5WZXJ0aWNhbCxcclxuICAgICAgICAgICAgbmV3IGdvLkJpbmRpbmcoXCJsYXlvdXRcIiwgXCJsYXlvdXRcIiwgZnVuY3Rpb24obGF5b3V0TmFtZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG1hcC5nZXRMYXlvdXRzKCkuZ2V0TGF5b3V0KGxheW91dE5hbWUpO1xyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgbmV3IGdvLkJpbmRpbmcoXCJtb3ZhYmxlXCIsIFwiXCIsIGZ1bmN0aW9uKG9iaikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICFvYmouaXNMaW5rTGFiZWw7XHJcbiAgICAgICAgICAgIH0pLm9mT2JqZWN0KCksXHJcbiAgICAgICAgICAgIG5ldyBnby5CaW5kaW5nKFwiaXNTdWJHcmFwaEV4cGFuZGVkXCIsIFwic0V4cGFuZGVkXCIpLFxyXG4gICAgICAgICAgICAvLyBkaW0gdGhlIHRoaW5nIGlmIGl0J3MgYmVpbmcgZHJhZ2dlZCBvdmVyIGFub3RoZXIgdGhpbmcgKGRyb3AgdG8gc2lzdGVyL2NoaWxkKVxyXG4gICAgICAgICAgICBuZXcgZ28uQmluZGluZygnb3BhY2l0eScsICcnLCBmdW5jdGlvbihvYmopIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAob2JqLmlzU2VsZWN0ZWQgJiYgbWFwLmdldFVpKCkuZHJhZ1RhcmdldEdyb3VwID8gMC4yNSA6IDEpO1xyXG4gICAgICAgICAgICB9KS5vZk9iamVjdCgpLCB7XHJcbiAgICAgICAgICAgICAgICBsb2NhdGlvbk9iamVjdE5hbWU6IFwibWFpbnBhbmVsXCIsXHJcbiAgICAgICAgICAgICAgICBsb2NhdGlvblNwb3Q6IGdvLlNwb3QuVG9wTGVmdCxcclxuICAgICAgICAgICAgICAgIHNlbGVjdGlvbkFkb3JuZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgaXNTdWJHcmFwaEV4cGFuZGVkOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgbGF5ZXJOYW1lOiAnRm9yZWdyb3VuZCcsXHJcbiAgICAgICAgICAgICAgICAvLyBoaWdobGlnaHQgY29ybmVyc1xyXG4gICAgICAgICAgICAgICAgbW91c2VFbnRlcjogZnVuY3Rpb24oZXZlbnQsIHRhcmdldCwgb2JqMikge1xyXG4gICAgICAgICAgICAgICAgICAgIG1hcC5nZXRVaSgpLm1vdXNlT3Zlckdyb3VwID0gdGFyZ2V0O1xyXG4gICAgICAgICAgICAgICAgICAgIG1hcC5nZXREaWFncmFtKCkudXBkYXRlQWxsVGFyZ2V0QmluZGluZ3MoKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAvLyB1bmhpZ2hsaWdodCBjb3JuZXJzXHJcbiAgICAgICAgICAgICAgICBtb3VzZUxlYXZlOiBmdW5jdGlvbihldmVudCwgdGFyZ2V0LCBvYmoyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFwLmdldFVpKCkubW91c2VPdmVyR3JvdXAgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIG1hcC5nZXREaWFncmFtKCkudXBkYXRlQWxsVGFyZ2V0QmluZGluZ3MoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIGNvbnRhaW5pbmdHcm91cENoYW5nZWQ6IGZ1bmN0aW9uKHBhcnQsIG9sZGdyb3VwLCBuZXdncm91cCkgeyBcclxuICAgICAgICAgICAgICAgIC8vICAgICBtYXAuZ2V0RGlhZ3JhbSgpLm1vZGVsLnNldERhdGFQcm9wZXJ0eShwYXJ0LmRhdGEsICdsZXZlbCcsIG1hcC5jb21wdXRlTGV2ZWwocGFydCkpOyBcclxuICAgICAgICAgICAgICAgIC8vICAgICAvL3BhcnQudXBkYXRlVGFyZ2V0QmluZGluZ3MoKTsgICBcclxuICAgICAgICAgICAgICAgIC8vIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbWsoZ28uUGFuZWwsIGdvLlBhbmVsLkhvcml6b250YWwsXHJcbiAgICAgICAgICAgICAgICBncm91cEV4dGVybmFsVGV4dEJsb2NrKG1hcC5nZXRMYXlvdXRzKCkuc2hvd0xlZnRUZXh0QmxvY2ssICdyaWdodCcpLFxyXG4gICAgICAgICAgICAgICAgbWsoZ28uUGFuZWwsIGdvLlBhbmVsLlBvc2l0aW9uLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwibWFpbnBhbmVsXCJcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBnby5CaW5kaW5nKFwic2NhbGVcIiwgXCJcIiwgbWFwLmdldExheW91dHMoKS5nZXRTY2FsZSkub2ZPYmplY3QoKSxcclxuICAgICAgICAgICAgICAgICAgICAvLyBkcmFnIGFyZWFcclxuICAgICAgICAgICAgICAgICAgICBtayhnby5TaGFwZSwgXCJSZWN0YW5nbGVcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcImRyYWdhcmVhXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBuZXcgZ28uUG9pbnQoMCwgMCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogMTAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxsOiBzZWxmLmdyb3VwRmlsbENvbG9yLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJva2U6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcjogXCJtb3ZlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNob3cgZGVidWcgaW5mb1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0Q2xpY2s6IGZ1bmN0aW9uKGV2ZW50LCB0YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudC5jb250cm9sKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZ3JvdXBJbmZvKHRhcmdldC5wYXJ0KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgICAgICAgICBtayhnby5QYW5lbCwgZ28uUGFuZWwuUG9zaXRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpZXdNYXJrZXIoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZHJhZ0Fib3ZlVGFyZ2V0KCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRyYWdJbnRvVGFyZ2V0KCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRyYWdCZWxvd1RhcmdldCgpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBncm91cEludGVybmFsVGV4dEJsb2NrKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvcm5lckQoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZEZsYWdNYXJrZXIoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29ybmVyUygpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzQ29sbGFwc2VkTWFya2VyKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvcm5lclIoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnRNYXJrZXIoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29ybmVyUCgpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRhY2htZW50UGFwZXJDbGlwKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1haW5Cb3JkZXIoKVxyXG4gICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICksXHJcbiAgICAgICAgICAgICAgICBncm91cEV4dGVybmFsVGV4dEJsb2NrKG1hcC5nZXRMYXlvdXRzKCkuc2hvd1JpZ2h0VGV4dEJsb2NrLCAnbGVmdCcpXHJcbiAgICAgICAgICAgICksXHJcblxyXG4gICAgICAgICAgICAvLyB0aGUgcGxhY2Vob2xkZXIgbm9ybWFsbHkgaG9sZHMgdGhlIGNoaWxkIG5vZGVzLCBidXQgd2UganVzdCB1c2UgYSBkdW1teSBwbGFjZWhvbGRlclxyXG4gICAgICAgICAgICBtayhnby5TaGFwZSwge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogXCJwbGFjZWhvbGRlclwiLFxyXG4gICAgICAgICAgICAgICAgZmlsbDogXCJ0cmFuc3BhcmVudFwiLFxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgZGVzaXJlZFNpemU6IG5ldyBnby5TaXplKDAsIDApXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICApO1xyXG5cclxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0gbGluayB0ZW1wbGF0ZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgICB0aGlzLmxpbmtUZW1wbGF0ZSA9XHJcbiAgICAgICAgbWsoZ28uTGluaywge1xyXG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uQWRvcm5lZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBsYXllck5hbWU6ICcnLFxyXG4gICAgICAgICAgICAgICAgcm91dGluZzogZ28uTGluay5Ob3JtYWwsXHJcbiAgICAgICAgICAgICAgICByZWxpbmthYmxlRnJvbTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHJlbGlua2FibGVUbzogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIG1vdXNlRW50ZXI6IGZ1bmN0aW9uKGV2ZW50LCB0YXJnZXQsIG9iajIpIHtcclxuICAgICAgICAgICAgICAgICAgICBtYXAuZ2V0VWkoKS5tb3VzZU92ZXJMaW5rID0gdGFyZ2V0O1xyXG4gICAgICAgICAgICAgICAgICAgIG1hcC5nZXREaWFncmFtKCkudXBkYXRlQWxsVGFyZ2V0QmluZGluZ3MoKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBtb3VzZUxlYXZlOiBmdW5jdGlvbihldmVudCwgdGFyZ2V0LCBvYmoyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFwLmdldFVpKCkubW91c2VPdmVyTGluayA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFwLmdldERpYWdyYW0oKS51cGRhdGVBbGxUYXJnZXRCaW5kaW5ncygpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIG1vdXNlRHJhZ0VudGVyOiBmdW5jdGlvbihldmVudCwgdGFyZ2V0LCBkcmFnT2JqZWN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFwLmdldFVpKCkubW91c2VPdmVyTGluayA9IHRhcmdldDtcclxuICAgICAgICAgICAgICAgICAgICBtYXAuZ2V0RGlhZ3JhbSgpLnVwZGF0ZUFsbFRhcmdldEJpbmRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgbW91c2VEcmFnTGVhdmU6IGZ1bmN0aW9uKGV2ZW50LCBkcm9wVGFyZ2V0LCBkcmFnT2JqZWN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFwLmdldFVpKCkubW91c2VPdmVyTGluayA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFwLmdldERpYWdyYW0oKS51cGRhdGVBbGxUYXJnZXRCaW5kaW5ncygpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIG1vdXNlRHJvcDogZnVuY3Rpb24oZXZlbnQsIGRyb3BUYXJnZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcGFydHMgPSBtYXAuZ2V0RGlhZ3JhbSgpLnNlbGVjdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocGFydHMgJiYgcGFydHMuY291bnQgPT0gMSAmJiBwYXJ0cy5maXJzdCgpIGluc3RhbmNlb2YgZ28uR3JvdXApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFwLmFkZFRoaW5nQXNSVGhpbmcocGFydHMuZmlyc3QoKSwgZHJvcFRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGRvdWJsZUNsaWNrOiBmdW5jdGlvbihldmVudCwgdGFyZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFwLmNyZWF0ZVJUaGluZyh0YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGNvbnRleHRDbGljazogZnVuY3Rpb24oZXZlbnQsIHRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChldmVudC5jb250cm9sKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGxpbmtJbmZvKHRhcmdldCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbWsoZ28uU2hhcGUsXHJcbiAgICAgICAgICAgICAgICBuZXcgZ28uQmluZGluZygnc3Ryb2tlJywgJycsIGdldFJMaW5rU2VsZWN0aW9uU3Ryb2tlKS5vZk9iamVjdCgpLFxyXG4gICAgICAgICAgICAgICAgbmV3IGdvLkJpbmRpbmcoXCJzdHJva2VXaWR0aFwiLCBcIlwiLCBtYXAuZ2V0TGF5b3V0cygpLmdldExpbmtTdHJva2VXaWR0aCkub2ZPYmplY3QoKSwge1xyXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiTElOS1NIQVBFXCJcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKSxcclxuXHJcbiAgICAgICAgICAgIC8vIHNob3cgdG8vZnJvbSBhcnJvd2hlYWRzIGJhc2VkIG9uIGxpbmsgXCJ0eXBlXCIgYXR0cmlidXRlXHJcbiAgICAgICAgICAgIG1rKGdvLlNoYXBlLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgZnJvbUFycm93OiBcIkJhY2t3YXJkXCJcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBuZXcgZ28uQmluZGluZygnc3Ryb2tlJywgJycsIGdldFJMaW5rU2VsZWN0aW9uU3Ryb2tlKS5vZk9iamVjdCgpLFxyXG4gICAgICAgICAgICAgICAgbmV3IGdvLkJpbmRpbmcoXCJzY2FsZVwiLCBcIlwiLCBtYXAuZ2V0TGF5b3V0cygpLmdldEFycm93aGVhZFNjYWxlKS5vZk9iamVjdCgpLFxyXG4gICAgICAgICAgICAgICAgbmV3IGdvLkJpbmRpbmcoJ3Zpc2libGUnLCAndHlwZScsIGZ1bmN0aW9uKHQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdCA9PSAnZnJvbScgfHwgdCA9PSAndG9Gcm9tJztcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICksXHJcbiAgICAgICAgICAgIG1rKGdvLlNoYXBlLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9BcnJvdzogXCJTdGFuZGFyZFwiXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgbmV3IGdvLkJpbmRpbmcoJ3N0cm9rZScsICcnLCBnZXRSTGlua1NlbGVjdGlvblN0cm9rZSkub2ZPYmplY3QoKSxcclxuICAgICAgICAgICAgICAgIG5ldyBnby5CaW5kaW5nKFwic2NhbGVcIiwgXCJcIiwgbWFwLmdldExheW91dHMoKS5nZXRBcnJvd2hlYWRTY2FsZSkub2ZPYmplY3QoKSxcclxuICAgICAgICAgICAgICAgIG5ldyBnby5CaW5kaW5nKCd2aXNpYmxlJywgJ3R5cGUnLCBmdW5jdGlvbih0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHQgPT0gJ3RvJyB8fCB0ID09ICd0b0Zyb20nO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgKSxcclxuXHJcbiAgICAgICAgICAgIG1rKGdvLlBhbmVsLCBnby5QYW5lbC5BdXRvLCAvLyBsaW5rIGxhYmVsIFwia25vYlwiXHJcbiAgICAgICAgICAgICAgICBuZXcgZ28uQmluZGluZygnb3BhY2l0eScsICcnLCBmdW5jdGlvbihvYmopIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKHNob3dLbm9iKG9iaikgPyAxIDogMCk7XHJcbiAgICAgICAgICAgICAgICB9KS5vZk9iamVjdCgpLFxyXG4gICAgICAgICAgICAgICAgbmV3IGdvLkJpbmRpbmcoXCJzY2FsZVwiLCBcIlwiLCBtYXAuZ2V0TGF5b3V0cygpLmdldEFycm93aGVhZFNjYWxlKS5vZk9iamVjdCgpLFxyXG4gICAgICAgICAgICAgICAgbWsoZ28uU2hhcGUsIHtcclxuICAgICAgICAgICAgICAgICAgICBmaWd1cmU6IFwiRWxsaXBzZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGZpbGw6IGNvbG9yRCxcclxuICAgICAgICAgICAgICAgICAgICBzdHJva2U6IGNvbG9yRCxcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogMTIsXHJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAxMlxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgKVxyXG4gICAgKTtcclxuXHJcbiAgICB0aGlzLnBMaW5rVGVtcGxhdGUgPVxyXG4gICAgICAgIG1rKGdvLkxpbmssXHJcbiAgICAgICAgICAgIG5ldyBnby5CaW5kaW5nKCdvcGFjaXR5JywgJycsIGZ1bmN0aW9uKG9iaikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIChzZWxmLnNob3dQTGluayhvYmopID8gMSA6IDApO1xyXG4gICAgICAgICAgICB9KS5vZk9iamVjdCgpLCB7XHJcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb25BZG9ybmVkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGxheWVyTmFtZTogJ0JhY2tncm91bmQnLCAvLyBtYWtlIFAgbGlua3MgZmFsbCBiZWhpbmQgUiBsaW5rc1xyXG4gICAgICAgICAgICAgICAgcm91dGluZzogZ28uTGluay5Ob3JtYWwsXHJcbiAgICAgICAgICAgICAgICBjb250ZXh0Q2xpY2s6IGZ1bmN0aW9uKGV2ZW50LCB0YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQuY29udHJvbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhsaW5rSW5mbyh0YXJnZXQpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG1rKGdvLlNoYXBlLFxyXG4gICAgICAgICAgICAgICAgbmV3IGdvLkJpbmRpbmcoXCJzdHJva2VXaWR0aFwiLCBcIlwiLCBtYXAuZ2V0TGF5b3V0cygpLmdldExpbmtTdHJva2VXaWR0aCkub2ZPYmplY3QoKSwge1xyXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiTElOS1NIQVBFXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlOiBjb2xvclBMaWdodCxcclxuICAgICAgICAgICAgICAgICAgICBmaWxsOiBjb2xvclBMaWdodFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApLFxyXG4gICAgICAgICAgICBtayhnby5TaGFwZSxcclxuICAgICAgICAgICAgICAgIC8vIG5ldyBnby5CaW5kaW5nKCd2aXNpYmxlJywgJycsIGZ1bmN0aW9uKG9iaikge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIHJldHVybiAoc2VsZi5zaG93UERvdChvYmopID8gMSA6IDApO1xyXG4gICAgICAgICAgICAgICAgLy8gfSkub2ZPYmplY3QoKSxcclxuICAgICAgICAgICAgICAgIG5ldyBnby5CaW5kaW5nKFwic2NhbGVcIiwgXCJcIiwgbWFwLmdldExheW91dHMoKS5nZXRBcnJvd2hlYWRTY2FsZSkub2ZPYmplY3QoKSwge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvQXJyb3c6IFwiQ2lyY2xlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlOiBjb2xvclBMaWdodCxcclxuICAgICAgICAgICAgICAgICAgICBmaWxsOiBjb2xvclBMaWdodFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApXHJcbiAgICApO1xyXG5cclxuICAgIHRoaXMuZExpbmtUZW1wbGF0ZSA9XHJcbiAgICAgICAgbWsoZ28uTGluaywge1xyXG4gICAgICAgICAgICAgICAgc2VsZWN0YWJsZTogZmFsc2VcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbWsoZ28uU2hhcGUsIHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IFwiTElOS1NIQVBFXCIsXHJcbiAgICAgICAgICAgICAgICBzdHJva2U6IG51bGxcclxuICAgICAgICAgICAgfSlcclxuICAgICk7XHJcblxyXG4gICAgLy8gLS0tLS0tLS0tLS0gdGVtcG9yYXJ5IGxpbmsvbm9kZSB0ZW1wbGF0ZXMsIGZvciB1c2Ugd2hlbiBkcmFnZ2luZyB0byBjcmVhdGUgUi9QIGxpbmVzIC0tLS0tLS0tLS0tLS1cclxuXHJcbiAgICAvLyBkZWZpbmUgaW5pdGlhbCB0ZW1wb3JhcnkgbGluayB0ZW1wbGF0ZXMgLSB0aGVzZSB3aWxsIGJlIG1vZGlmaWVkIHdoZW4gaGFuZGxlUG9ydFRhcmdldGVkIGlzIGNhbGxlZFxyXG4gICAgdGhpcy5zZXRUZW1wb3JhcnlMaW5rVGVtcGxhdGVzID0gZnVuY3Rpb24odG9vbCkge1xyXG4gICAgICAgIHRvb2wudGVtcG9yYXJ5TGluayA9IG1ha2VUZW1wb3JhcnlMaW5rVGVtcGxhdGUoKTtcclxuICAgICAgICB0b29sLnRlbXBvcmFyeUZyb21Ob2RlID0gbWFrZVRlbXBvcmFyeU5vZGVUZW1wbGF0ZSgpO1xyXG4gICAgICAgIHRvb2wudGVtcG9yYXJ5VG9Ob2RlID0gbWFrZVRlbXBvcmFyeU5vZGVUZW1wbGF0ZSgpO1xyXG4gICAgfTtcclxuXHJcbiAgICBmdW5jdGlvbiBtYWtlVGVtcG9yYXJ5TGlua1RlbXBsYXRlKCkge1xyXG4gICAgICAgIHJldHVybiBtayhnby5MaW5rLCB7XHJcbiAgICAgICAgICAgICAgICBsYXllck5hbWU6IFwiVG9vbFwiXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG1rKGdvLlNoYXBlLCB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiAnbGlua3NoYXBlJyxcclxuICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAyXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBtYWtlVGVtcG9yYXJ5Tm9kZVRlbXBsYXRlKCkge1xyXG4gICAgICAgIHJldHVybiBtayhnby5Hcm91cCwge1xyXG4gICAgICAgICAgICAgICAgbGF5ZXJOYW1lOiBcIlRvb2xcIlxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBtayhnby5TaGFwZSwgXCJCb3JkZXJcIiwge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogJ2JvcmRlcicsXHJcbiAgICAgICAgICAgICAgICBzdHJva2VXaWR0aDogMyxcclxuICAgICAgICAgICAgICAgIGZpbGw6IG51bGxcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGNoYW5nZSBjb2xvciBhbmQgcG9ydElkIG9mIHRlbXBvcmFyeSBsaW5rIHRlbXBsYXRlcyBiYXNlZCBvbiB0aGUgdHlwZSBvZiBsaW5rIGJlaW5nIGNyZWF0ZWQvcmVsaW5rZWRcclxuICAgIHRoaXMuaGFuZGxlUG9ydFRhcmdldGVkID0gZnVuY3Rpb24odG9vbCwgcmVhbG5vZGUsIHJlYWxwb3J0LCB0ZW1wbm9kZSwgdGVtcHBvcnQsIHRvZW5kKSB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ3BvcnRUYXJnZXRlZCwgcmVhbHBvcnQ6ICcgKyAocmVhbHBvcnQgPyByZWFscG9ydC5uYW1lIDogJycpICsgJywgdGVtcHBvcnQ6ICcgKyAodGVtcHBvcnQgPyB0ZW1wcG9ydC5uYW1lIDogJycpIFxyXG4gICAgICAgIC8vICAgICArICcsIG9yaWdpbmFsRnJvbVBvcnQ6ICcgKyAobHRvb2wub3JpZ2luYWxGcm9tUG9ydCA/IGx0b29sLm9yaWdpbmFsRnJvbVBvcnQubmFtZSA6ICcnKSArICcsIG9yaWdpbmFsVG9Qb3J0OiAnICsgbHRvb2wub3JpZ2luYWxUb1BvcnQpO1xyXG5cclxuICAgICAgICB2YXIgbGlua1NoYXBlID0gdG9vbC50ZW1wb3JhcnlMaW5rLmZpbmRPYmplY3QoJ2xpbmtzaGFwZScpO1xyXG4gICAgICAgIHZhciBmcm9tQm9yZGVyID0gdG9vbC50ZW1wb3JhcnlGcm9tTm9kZS5maW5kT2JqZWN0KCdib3JkZXInKTtcclxuICAgICAgICB2YXIgdG9Cb3JkZXIgPSB0b29sLnRlbXBvcmFyeVRvTm9kZS5maW5kT2JqZWN0KCdib3JkZXInKTtcclxuXHJcbiAgICAgICAgaWYgKHRvb2wub3JpZ2luYWxGcm9tUG9ydCAmJiB0b29sLm9yaWdpbmFsRnJvbVBvcnQubmFtZSA9PSAnY29ybmVyUFNoYXBlJykge1xyXG4gICAgICAgICAgICBsaW5rU2hhcGUuc3Ryb2tlID0gY29sb3JQO1xyXG4gICAgICAgICAgICBmcm9tQm9yZGVyLnN0cm9rZSA9IGNvbG9yUDtcclxuICAgICAgICAgICAgdG9Cb3JkZXIuc3Ryb2tlID0gY29sb3JQO1xyXG4gICAgICAgICAgICBmcm9tQm9yZGVyLnBvcnRJZCA9ICdQJztcclxuICAgICAgICAgICAgdG9Cb3JkZXIucG9ydElkID0gJ1AnO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodG9vbC5vcmlnaW5hbEZyb21Qb3J0ICYmIHRvb2wub3JpZ2luYWxGcm9tUG9ydC5uYW1lID09ICdjb3JuZXJSU2hhcGUnKSB7XHJcbiAgICAgICAgICAgIGxpbmtTaGFwZS5zdHJva2UgPSBjb2xvclI7XHJcbiAgICAgICAgICAgIGZyb21Cb3JkZXIuc3Ryb2tlID0gY29sb3JSO1xyXG4gICAgICAgICAgICB0b0JvcmRlci5zdHJva2UgPSBjb2xvclI7XHJcbiAgICAgICAgICAgIGZyb21Cb3JkZXIucG9ydElkID0gJ1InO1xyXG4gICAgICAgICAgICB0b0JvcmRlci5wb3J0SWQgPSAnUic7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRlbXBub2RlLnNjYWxlID0gbWFwLmdldExheW91dHMoKS5nZXRTY2FsZShyZWFsbm9kZSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIHByZXZlbnQgZHVwbGljYXRlICdQJyBsaW5rcyBpbiB0aGUgc2FtZSBkaXJlY3Rpb24gYmV0d2VlbiB0aGUgc2FtZSB0d28gdGhpbmdzXHJcbiAgICB0aGlzLnZhbGlkYXRlTGluayA9IGZ1bmN0aW9uKGZyb21Ob2RlLCBmcm9tUG9ydCwgdG9Ob2RlLCB0b1BvcnQpIHtcclxuICAgICAgICAvLyB0aGUgUCBwb3J0IGlzIG9uIHRvcCBvZiB0aGUgUiBwb3J0LCBzbyBib3RoIFAgYW5kIFIgbGlua3MgZ2V0IHRoZSB0b1BvcnQgc2V0IHRvIFIgYnkgZGVmYXVsdC5cclxuICAgICAgICBpZiAoZnJvbVBvcnQucG9ydElkID09ICdQJykge1xyXG4gICAgICAgICAgICAvLyBOQjogZmluZExpbmtzVG8gd291bGQgYmUgc2ltcGxlciwgYnV0IGl0IGRvZXNuJ3Qgc2VlbSB0byB3b3JrLi4uICg/KVxyXG4gICAgICAgICAgICB2YXIgcExpbmtzID0gdG9Ob2RlLmZpbmRMaW5rc0JldHdlZW4oZnJvbU5vZGUsICdQJywgJ1AnKTtcclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZygndmFsaWRhdGVMaW5rLCBwTGlua3MgZnJvbSAnICsgZnJvbU5vZGUgKyAnOicgKyBmcm9tUG9ydCArICcgdG8gJyArIHRvTm9kZSArICc6JyArIHRvUG9ydCArICcgPSAnICsgcExpbmtzLmNvdW50KTtcclxuICAgICAgICAgICAgaWYgKHBMaW5rcy5jb3VudCkge1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKHBMaW5rcy5uZXh0KCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcExpbmsgPSBwTGlua3MudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBMaW5rLmZyb21Ob2RlID09IGZyb21Ob2RlICYmIHBMaW5rLnRvTm9kZSA9PSB0b05vZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH07XHJcblxyXG5cclxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0gc2xpZGUgbm9kZSB0ZW1wbGF0ZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICAgZnVuY3Rpb24gY3JlYXRlU2xpZGVSZXNpemVIYW5kbGUoYWxpZ25tZW50KSB7XHJcbiAgICAgICAgcmV0dXJuIG1rKGdvLlNoYXBlLFxyXG4gICAgICAgICAgICBuZXcgZ28uQmluZGluZyhcImRlc2lyZWRTaXplXCIsIFwiXCIsIGZ1bmN0aW9uKG9iaikge1xyXG4gICAgICAgICAgICAgICAgdmFyIHNsaWRlID0gb2JqLmFkb3JuZWRPYmplY3Q7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2l6ZSA9IE1hdGgubWluKHNsaWRlLndpZHRoLCBzbGlkZS5oZWlnaHQpICogLjA1O1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBnby5TaXplKHNpemUsIHNpemUpO1xyXG4gICAgICAgICAgICB9KS5vZk9iamVjdCgpLCB7XHJcbiAgICAgICAgICAgICAgICBhbGlnbm1lbnQ6IGFsaWdubWVudCxcclxuICAgICAgICAgICAgICAgIGN1cnNvcjogXCJjb2wtcmVzaXplXCIsXHJcbiAgICAgICAgICAgICAgICBmaWxsOiAncmdiYSgyNTEsMTcwLDU0LDEpJyxcclxuICAgICAgICAgICAgICAgIHN0cm9rZTogbnVsbFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnNsaWRlVGVtcGxhdGUgPVxyXG4gICAgICAgIG1rKGdvLk5vZGUsIGdvLlBhbmVsLkF1dG8sXHJcbiAgICAgICAgICAgIC8vIE5COiB1bmxpa2UgZ3JvdXBzLCBzbGlkZXMganVzdCB1c2UgYSBub3JtYWwgMi13YXkgbG9jYXRpb24gYmluZGluZ1xyXG4gICAgICAgICAgICBuZXcgZ28uQmluZGluZyhcImxvY2F0aW9uXCIsIFwibG9jXCIsIGdvLlBvaW50LnBhcnNlKS5tYWtlVHdvV2F5KGdvLlBvaW50LnN0cmluZ2lmeSksXHJcbiAgICAgICAgICAgIG5ldyBnby5CaW5kaW5nKFwid2lkdGhcIiwgXCJ3aWR0aFwiKS5tYWtlVHdvV2F5KCksXHJcbiAgICAgICAgICAgIG5ldyBnby5CaW5kaW5nKFwiaGVpZ2h0XCIsIFwiaGVpZ2h0XCIpLm1ha2VUd29XYXkoKSxcclxuICAgICAgICAgICAgbmV3IGdvLkJpbmRpbmcoXCJ2aXNpYmxlXCIsIFwiXCIsIGZ1bmN0aW9uKG9iaikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9iai5kYXRhLmhhc1JlZ2lvbiAmJlxyXG4gICAgICAgICAgICAgICAgICAgIG1hcC5nZXRVaSgpLmN1cnJlbnRUYWJJcyhtYXAuZ2V0VWkoKS5UQUJfSURfUFJFU0VOVEVSKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICFtYXAuZ2V0UHJlc2VudGVyKCkuaXNQcmVzZW50aW5nICYmXHJcbiAgICAgICAgICAgICAgICAgICAgIW1hcC5nZXRQcmVzZW50ZXIoKS5pc0NyZWF0aW5nVGh1bWJuYWlsICYmXHJcbiAgICAgICAgICAgICAgICAgICAgbWFwLmdldFByZXNlbnRlcigpLmN1cnJlbnRTbGlkZUluZGV4ID09IG9iai5kYXRhLmluZGV4O1xyXG4gICAgICAgICAgICB9KS5vZk9iamVjdCgpLCB7XHJcbiAgICAgICAgICAgICAgICBsb2NhdGlvblNwb3Q6IGdvLlNwb3QuVG9wTGVmdCxcclxuICAgICAgICAgICAgICAgIHNlbGVjdGlvbkFkb3JuZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgcmVzaXphYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgcmVzaXplQWRvcm5tZW50VGVtcGxhdGU6IG1rKGdvLkFkb3JubWVudCwgXCJTcG90XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgbWsoZ28uUGxhY2Vob2xkZXIpLCAvLyB0YWtlcyBzaXplIGFuZCBwb3NpdGlvbiBvZiBhZG9ybmVkIG9iamVjdCAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlU2xpZGVSZXNpemVIYW5kbGUoZ28uU3BvdC5Ub3BMZWZ0KSxcclxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVTbGlkZVJlc2l6ZUhhbmRsZShnby5TcG90LlRvcCksXHJcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlU2xpZGVSZXNpemVIYW5kbGUoZ28uU3BvdC5Ub3BSaWdodCksXHJcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlU2xpZGVSZXNpemVIYW5kbGUoZ28uU3BvdC5SaWdodCksXHJcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlU2xpZGVSZXNpemVIYW5kbGUoZ28uU3BvdC5Cb3R0b21SaWdodCksXHJcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlU2xpZGVSZXNpemVIYW5kbGUoZ28uU3BvdC5Cb3R0b20pLFxyXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZVNsaWRlUmVzaXplSGFuZGxlKGdvLlNwb3QuQm90dG9tTGVmdCksXHJcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlU2xpZGVSZXNpemVIYW5kbGUoZ28uU3BvdC5MZWZ0KVxyXG4gICAgICAgICAgICAgICAgKSxcclxuICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAsXHJcbiAgICAgICAgICAgICAgICBjb250ZXh0Q2xpY2s6IGZ1bmN0aW9uKGV2ZW50LCB0YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhub2RlSW5mbyh0YXJnZXQucGFydCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG5cclxuICAgICAgICAgICAgbWsoZ28uU2hhcGUsIFwiUmVjdGFuZ2xlXCIsIHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IFwic2xpZGVib3JkZXJcIixcclxuICAgICAgICAgICAgICAgIGZpbGw6ICdyZ2JhKDI1MSwxNzAsNTQsLjEpJyxcclxuICAgICAgICAgICAgICAgIHN0cm9rZTogbnVsbFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgKTtcclxuXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tIGV4cG9ydCBmb290ZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgIC8vIE5COiB0aGlzIGlzIG5vdCBhIHRlbXBsYXRlIHBlciBzZSwgaW4gdGhhdCBpdCBpcyBhZGRlZCB0byB0aGUgZGlhZ3JhbSBcclxuICAgIC8vIHN0YXRpY2FsbHksIHJhdGhlciB0aGFuIGJlaW5nIGJvdW5kIHRvIHNvbWV0aGluZyBpbiB0aGUgbW9kZWwuXHJcbiAgICAvLyBCdXQgd2UgcHV0IGl0IGhlcmUgYmVjYXVzZSBpdCBpcyBhYm91dCBjcmVhdGluZyBwYXJ0cyBhbmQgc3R1ZmYuXHJcblxyXG4gICAgZnVuY3Rpb24gY3JlYXRlRXhwb3J0Rm9vdGVyKCkge1xyXG4gICAgICAgIHJldHVybiBtayhnby5Ob2RlLCBnby5QYW5lbC5TcG90LCB7XHJcbiAgICAgICAgICAgICAgICBsYXllck5hbWU6ICdGb3JlZ3JvdW5kJyxcclxuICAgICAgICAgICAgICAgIGxvY2F0aW9uOiBuZXcgZ28uUG9pbnQoMCwgMCksXHJcbiAgICAgICAgICAgICAgICBzY2FsZTogMSxcclxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IDAsXHJcbiAgICAgICAgICAgICAgICBwaWNrYWJsZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBzZWxlY3RhYmxlOiBmYWxzZVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBtayhnby5TaGFwZSwgXCJSZWN0YW5nbGVcIiwge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogXCJyZWN0YW5nbGVcIixcclxuICAgICAgICAgICAgICAgIGhlaWdodDogNjAsXHJcbiAgICAgICAgICAgICAgICBmaWxsOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlOiBudWxsXHJcbiAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICBtayhnby5QaWN0dXJlLCB7XHJcbiAgICAgICAgICAgICAgICBzb3VyY2U6ICdhc3NldHMvaW1nL21ldGFtYXAtbG9nby01MC5wbmcnLFxyXG4gICAgICAgICAgICAgICAgYWxpZ25tZW50OiBnby5TcG90LlRvcExlZnQsXHJcbiAgICAgICAgICAgICAgICBhbGlnbm1lbnRGb2N1czogZ28uU3BvdC5Ub3BMZWZ0LFxyXG4gICAgICAgICAgICAgICAgd2lkdGg6IDE5NSxcclxuICAgICAgICAgICAgICAgIGhlaWdodDogNTBcclxuICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgIG1rKGdvLlRleHRCbG9jaywge1xyXG4gICAgICAgICAgICAgICAgdGV4dDogXCJtZXRhbWFwLmNhYnJlcmFyZXNlYXJjaC5vcmdcIixcclxuICAgICAgICAgICAgICAgIGFsaWdubWVudDogZ28uU3BvdC5Cb3R0b21MZWZ0LFxyXG4gICAgICAgICAgICAgICAgYWxpZ25tZW50Rm9jdXM6IGdvLlNwb3QuQm90dG9tTGVmdCxcclxuICAgICAgICAgICAgICAgIHdpZHRoOiAyMDBcclxuICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgIG1rKGdvLlRleHRCbG9jaywge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogXCJtYXBUaXRsZVwiLFxyXG4gICAgICAgICAgICAgICAgdGV4dDogXCJcIixcclxuICAgICAgICAgICAgICAgIHRleHRBbGlnbjogXCJyaWdodFwiLFxyXG4gICAgICAgICAgICAgICAgYWxpZ25tZW50OiBnby5TcG90LlRvcFJpZ2h0LFxyXG4gICAgICAgICAgICAgICAgYWxpZ25tZW50Rm9jdXM6IGdvLlNwb3QuVG9wUmlnaHQsXHJcbiAgICAgICAgICAgICAgICB3aWR0aDogMzAwXHJcbiAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICBtayhnby5UZXh0QmxvY2ssIHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IFwiYXV0aG9yTmFtZVwiLFxyXG4gICAgICAgICAgICAgICAgdGV4dDogXCJcIixcclxuICAgICAgICAgICAgICAgIHRleHRBbGlnbjogXCJyaWdodFwiLFxyXG4gICAgICAgICAgICAgICAgYWxpZ25tZW50OiBnby5TcG90LkJvdHRvbVJpZ2h0LFxyXG4gICAgICAgICAgICAgICAgYWxpZ25tZW50Rm9jdXM6IGdvLlNwb3QuQm90dG9tUmlnaHQsXHJcbiAgICAgICAgICAgICAgICB3aWR0aDogMzAwXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBjcmVhdGVzIG9yIHJlZnJlc2hlcyB0aGUgZm9vdGVyIGxvZ28vdGV4dCB0aGF0IGlzIGRpc3BsYXllZCBpbiB0aGUgaW1hZ2UgZXhwb3J0XHJcbiAgICB0aGlzLmFkZEV4cG9ydEZvb3RlciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmICghX2V4cG9ydEZvb3Rlcikge1xyXG4gICAgICAgICAgICBfZXhwb3J0Rm9vdGVyID0gY3JlYXRlRXhwb3J0Rm9vdGVyKCk7XHJcbiAgICAgICAgICAgIG1hcC5nZXREaWFncmFtKCkuYWRkKF9leHBvcnRGb290ZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5zaG93RXhwb3J0Rm9vdGVyID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIHJlY3QgPSBtYXAuY29tcHV0ZU1hcEJvdW5kcygpO1xyXG4gICAgICAgIC8vIHB1dCBmb290ZXIgYXQgbGVhc3QgMTAwIHB4IGJlbG93IGJvdHRvbSBvZiBtYXA7IG1ha2UgaXQgYXQgbGVhc3QgNTAwcHggd2lkZVxyXG4gICAgICAgIHZhciB4ID0gcmVjdC54O1xyXG4gICAgICAgIHZhciB5ID0gcmVjdC55ICsgcmVjdC5oZWlnaHQgKyBNYXRoLm1heCgxMDAsIHJlY3QuaGVpZ2h0IC8gNSk7XHJcbiAgICAgICAgdmFyIHcgPSBNYXRoLm1heCg1MDAsIHJlY3Qud2lkdGgpO1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coJ3Nob3dFeHBvcnRGb290ZXIsIGJvdW5kcyByZWN0OiAnICsgcmVjdCArICcsIHc6ICcgKyB3KTtcclxuICAgICAgICBfZXhwb3J0Rm9vdGVyLmxvY2F0aW9uID0gbmV3IGdvLlBvaW50KHgsIHkpO1xyXG4gICAgICAgIF9leHBvcnRGb290ZXIuZmluZE9iamVjdChcInJlY3RhbmdsZVwiKS53aWR0aCA9IHc7XHJcbiAgICAgICAgX2V4cG9ydEZvb3Rlci5maW5kT2JqZWN0KFwibWFwVGl0bGVcIikudGV4dCA9IFwiTWFwIFRpdGxlOiBcIiArICRzY29wZS5tYXBUaXRsZTtcclxuICAgICAgICBfZXhwb3J0Rm9vdGVyLmZpbmRPYmplY3QoXCJhdXRob3JOYW1lXCIpLnRleHQgPSBcIkF1dGhvcjogXCIgKyAkc2NvcGUudXNlck5hbWU7XHJcbiAgICAgICAgX2V4cG9ydEZvb3Rlci5vcGFjaXR5ID0gMTtcclxuICAgICAgICBfZXhwb3J0Rm9vdGVyLmludmFsaWRhdGVMYXlvdXQoKTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5oaWRlRXhwb3J0Rm9vdGVyID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgX2V4cG9ydEZvb3Rlci5vcGFjaXR5ID0gMDtcclxuICAgIH07XHJcblxyXG59OyIsIlxyXG5TYW5kYmFua0VkaXRvci5UZXN0cyA9IGZ1bmN0aW9uICgkc2NvcGUsIG1hcCkge1xyXG5cclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICB0aGlzLlRFU1RfU1RBVFVTX05PVF9SVU4gPSAnbm90LXJ1bic7XHJcbiAgICB0aGlzLlRFU1RfU1RBVFVTX1BBU1NFRCA9ICdwYXNzZWQnO1xyXG4gICAgdGhpcy5URVNUX1NUQVRVU19FWEFNSU5FID0gJ2V4YW1pbmUnO1xyXG4gICAgdGhpcy5URVNUX1NUQVRVU19GQUlMRUQgPSAnZmFpbGVkJztcclxuXHJcbiAgICB0aGlzLmN1cnJlbnRUZXN0ID0gbnVsbDtcclxuXHJcbiAgICB0aGlzLmluaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMucnVuVGVzdCA9IGZ1bmN0aW9uKG5hbWUpIHtcclxuICAgICAgICAkc2NvcGUuc2FmZUFwcGx5KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgZGlhZ3JhbSA9IG1hcC5nZXREaWFncmFtKCk7XHJcbiAgICAgICAgICAgIHZhciB0ZXN0ID0gXy5maW5kV2hlcmUoc2VsZi50ZXN0cywgeyBuYW1lOiBuYW1lIH0pO1xyXG4gICAgICAgICAgICB0ZXN0LnN0YXR1cyA9IHNlbGYuVEVTVF9TVEFUVVNfTk9UX1JVTjtcclxuICAgICAgICAgICAgc2VsZi5jdXJyZW50VGVzdCA9IHRlc3Q7XHJcbiAgICAgICAgICAgIGRpYWdyYW0uY2xlYXIoKTtcclxuICAgICAgICAgICAgdGVzdC5ydW4oZGlhZ3JhbSk7XHJcbiAgICAgICAgICAgIGlmICh0ZXN0LmNoZWNrID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHRlc3Quc3RhdHVzID0gc2VsZi5URVNUX1NUQVRVU19FWEFNSU5FO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGVzdC5mYWlsUmVhc29uID0gdGVzdC5jaGVjayhkaWFncmFtKTtcclxuICAgICAgICAgICAgICAgIGlmIChfLmlzU3RyaW5nKHRlc3QuZmFpbFJlYXNvbikpIHtcclxuICAgICAgICAgICAgICAgICAgICB0ZXN0LnN0YXR1cyA9IHNlbGYuVEVTVF9TVEFUVVNfRkFJTEVEOyAgICAgICBcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRlc3Quc3RhdHVzID0gc2VsZi5URVNUX1NUQVRVU19QQVNTRUQ7ICAgICAgIFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7ICAgICAgICBcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5jcmVhdGVHZW5lcmF0b3JUZXN0ID0gZnVuY3Rpb24obmFtZSwgbWFwSXRGbikge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIG5hbWU6ICdUaGlua1E6ICcgKyBuYW1lLFxyXG4gICAgICAgICAgICBydW46IGZ1bmN0aW9uKGRpYWdyYW0pIHsgc2VsZi5ydW5HZW5lcmF0b3JUZXN0KG1hcEl0Rm4pOyB9XHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5ydW5HZW5lcmF0b3JUZXN0ID0gZnVuY3Rpb24obWFwSXRGbikge1xyXG4gICAgICAgIHZhciBkaWFncmFtID0gbWFwLmdldERpYWdyYW0oKTtcclxuICAgICAgICB2YXIgZ2VuZXJhdG9yID0gbWFwLmdldEdlbmVyYXRvcigpO1xyXG4gICAgICAgIGdlbmVyYXRvci5jb25jZXB0MSA9ICdDT05DRVBUIDEnO1xyXG4gICAgICAgIGdlbmVyYXRvci5jb25jZXB0MiA9ICdDT05DRVBUIDInO1xyXG4gICAgICAgIGdlbmVyYXRvci5tYXBJdChtYXBJdEZuKTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy50ZXN0cyA9IFtcclxuICAgICAgICAvLyB7XHJcbiAgICAgICAgLy8gICAgIG5hbWU6ICdbRmFpbGVkIHRlc3RdJyxcclxuICAgICAgICAvLyAgICAgcnVuOiBmdW5jdGlvbihkaWFncmFtKSB7XHJcbiAgICAgICAgLy8gICAgIH0sXHJcbiAgICAgICAgLy8gICAgIGNoZWNrOiBmdW5jdGlvbihkaWFncmFtKSB7XHJcbiAgICAgICAgLy8gICAgICAgICByZXR1cm4gJ1RoaXMgdGVzdCBmYWlsZWQgLSB0aGlzIGlzIG9ubHkgYSB0ZXN0Lic7XHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAvLyB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbmFtZTogJ1Jlc2V0IG1hcCcsXHJcbiAgICAgICAgICAgIHJ1bjogZnVuY3Rpb24oZGlhZ3JhbSkge1xyXG4gICAgICAgICAgICAgICAgZGlhZ3JhbS50b29sTWFuYWdlci5jbGlja0NyZWF0aW5nVG9vbC5pbnNlcnRQYXJ0KG5ldyBnby5Qb2ludCgwLDApKTtcclxuICAgICAgICAgICAgICAgIG1hcC5yZWZyZXNoKCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNoZWNrOiBmdW5jdGlvbihkaWFncmFtKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZGlhZ3JhbS5maW5kVG9wTGV2ZWxHcm91cHMoKS5jb3VudCA9PSAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG5hbWU6ICdDcmVhdGUgU2lzdGVyJyxcclxuICAgICAgICAgICAgcnVuOiBmdW5jdGlvbihkaWFncmFtKSB7XHJcbiAgICAgICAgICAgICAgICBkaWFncmFtLnRvb2xNYW5hZ2VyLmNsaWNrQ3JlYXRpbmdUb29sLmluc2VydFBhcnQobmV3IGdvLlBvaW50KDAsMCkpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGdyb3VwID0gZGlhZ3JhbS5maW5kVG9wTGV2ZWxHcm91cHMoKS5maXJzdCgpO1xyXG4gICAgICAgICAgICAgICAgbWFwLmNyZWF0ZVNpc3Rlcihncm91cCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNoZWNrOiBmdW5jdGlvbihkaWFncmFtKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZGlhZ3JhbS5maW5kVG9wTGV2ZWxHcm91cHMoKS5jb3VudCA9PSAyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG5hbWU6ICdDcmVhdGUgUiB0byBTaXN0ZXInLFxyXG4gICAgICAgICAgICBydW46IGZ1bmN0aW9uKGRpYWdyYW0pIHtcclxuICAgICAgICAgICAgICAgIGRpYWdyYW0udG9vbE1hbmFnZXIuY2xpY2tDcmVhdGluZ1Rvb2wuaW5zZXJ0UGFydChuZXcgZ28uUG9pbnQoMCwwKSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgZ3JvdXAgPSBkaWFncmFtLmZpbmRUb3BMZXZlbEdyb3VwcygpLmZpcnN0KCk7XHJcbiAgICAgICAgICAgICAgICBtYXAuY3JlYXRlUlRvU2lzdGVyKGdyb3VwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBuYW1lOiAnQ3JlYXRlIENoaWxkJyxcclxuICAgICAgICAgICAgcnVuOiBmdW5jdGlvbihkaWFncmFtKSB7XHJcbiAgICAgICAgICAgICAgICBkaWFncmFtLnRvb2xNYW5hZ2VyLmNsaWNrQ3JlYXRpbmdUb29sLmluc2VydFBhcnQobmV3IGdvLlBvaW50KDAsMCkpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGdyb3VwID0gZGlhZ3JhbS5maW5kVG9wTGV2ZWxHcm91cHMoKS5maXJzdCgpO1xyXG4gICAgICAgICAgICAgICAgbWFwLmNyZWF0ZUNoaWxkKGdyb3VwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBuYW1lOiAnQ3JlYXRlIDMgY2hpbGRyZW4gYW5kIHN3aXRjaCB0byBmcmVlaGFuZCcsXHJcbiAgICAgICAgICAgIHJ1bjogZnVuY3Rpb24oZGlhZ3JhbSkge1xyXG4gICAgICAgICAgICAgICAgZGlhZ3JhbS50b29sTWFuYWdlci5jbGlja0NyZWF0aW5nVG9vbC5pbnNlcnRQYXJ0KG5ldyBnby5Qb2ludCgwLDApKTtcclxuICAgICAgICAgICAgICAgIHZhciBncm91cCA9IGRpYWdyYW0uZmluZFRvcExldmVsR3JvdXBzKCkuZmlyc3QoKTtcclxuICAgICAgICAgICAgICAgIG1hcC5jcmVhdGVDaGlsZChncm91cCk7XHJcbiAgICAgICAgICAgICAgICBtYXAuY3JlYXRlQ2hpbGQoZ3JvdXApO1xyXG4gICAgICAgICAgICAgICAgbWFwLmNyZWF0ZUNoaWxkKGdyb3VwKTtcclxuICAgICAgICAgICAgICAgIC8vIGRpYWdyYW0ubW9kZWwuc2V0RGF0YVByb3BlcnR5KGdyb3VwLmRhdGEsICdsYXlvdXQnLCAnZnJlZWhhbmQnKTtcclxuICAgICAgICAgICAgICAgIGdyb3VwLmlzU2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgbWFwLmdldFVpKCkuc2V0U2VsZWN0ZWRUaGluZ3NMYXlvdXQoJ2ZyZWVoYW5kJyk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNoZWNrOiBmdW5jdGlvbihkaWFncmFtKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGlhZ3JhbS5maW5kVG9wTGV2ZWxHcm91cHMoKS5jb3VudCAhPSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdUb3AgbGV2ZWwgZ3JvdXAgY291bnQgaXMgbm90IDEnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIGdyb3VwID0gZGlhZ3JhbS5maW5kVG9wTGV2ZWxHcm91cHMoKS5maXJzdCgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGdyb3VwLm1lbWJlclBhcnRzLmNvdW50ICE9IDMpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ1BhcmVudCBkYXRhIGNoaWxkcmVuIGlzIG5vdCAzJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG5hbWU6ICdEcmFnIFJUQkIgaW50byBvdXRsaW5lIFMnLFxyXG4gICAgICAgICAgICBpbnN0cnVjdGlvbnM6ICdEcmFnIHRoZSBwcmVzZWxlY3RlZCBSVEJCIGludG8gV2hvbGUgKFMpLCB0aGVuIGRvIGFuIFVuZG8nLFxyXG4gICAgICAgICAgICBydW46IGZ1bmN0aW9uKGRpYWdyYW0pIHtcclxuICAgICAgICAgICAgICAgIHZhciB3aG9sZSA9IG1hcC5jcmVhdGVUaGluZygwLCAwLCAnV2hvbGUnLCAnbGVmdCcpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHBhcnQxID0gbWFwLmNyZWF0ZVRoaW5nKDI1MCwgMCwgJ1BhcnQgMScpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHN1YnBhcnQxMSA9IG1hcC5jcmVhdGVDaGlsZChwYXJ0MSwgJ1N1YnBhcnQgMS4xJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGFydDIgPSBtYXAuY3JlYXRlVGhpbmcoNTAwLCAwLCAnUGFydCAyJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgclRoaW5nID0gbWFwLmNyZWF0ZVJMaW5rV2l0aFJUaGluZyhwYXJ0MSwgcGFydDIsICdSdGhpbmcnKTtcclxuICAgICAgICAgICAgICAgIG1hcC5yZWZyZXNoKCk7XHJcbiAgICAgICAgICAgICAgICBkaWFncmFtLmNsZWFyU2VsZWN0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICBwYXJ0MS5pc1NlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHBhcnQyLmlzU2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG5hbWU6ICdEcmFnIFJUQkIgaW50byBmcmVlaGFuZCBTJyxcclxuICAgICAgICAgICAgaW5zdHJ1Y3Rpb25zOiAnRHJhZyB0aGUgcHJlc2VsZWN0ZWQgUlRCQiBpbnRvIFdob2xlIChTKSBhbmQgZXhhbWluZSBsYXlvdXQnLFxyXG4gICAgICAgICAgICBydW46IGZ1bmN0aW9uKGRpYWdyYW0pIHtcclxuICAgICAgICAgICAgICAgIHZhciB3aG9sZSA9IG1hcC5jcmVhdGVUaGluZygwLCAwLCAnV2hvbGUnLCAnZnJlZWhhbmQnKTtcclxuICAgICAgICAgICAgICAgIHZhciBvbGRQYXJ0MSA9IG1hcC5jcmVhdGVDaGlsZCh3aG9sZSwgJ09sZCBQYXJ0IDEnKTtcclxuICAgICAgICAgICAgICAgIHZhciBwYXJ0MSA9IG1hcC5jcmVhdGVUaGluZygyNTAsIDMwLCAnUGFydCAxJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3VicGFydDExID0gbWFwLmNyZWF0ZUNoaWxkKHBhcnQxLCAnU3VicGFydCAxLjEnKTtcclxuICAgICAgICAgICAgICAgIHZhciBwYXJ0MiA9IG1hcC5jcmVhdGVUaGluZyg1MDAsIDcwLCAnUGFydCAyJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgclRoaW5nID0gbWFwLmNyZWF0ZVJMaW5rV2l0aFJUaGluZyhwYXJ0MSwgcGFydDIsICdSdGhpbmcnKTtcclxuICAgICAgICAgICAgICAgIG1hcC5yZWZyZXNoKCk7XHJcbiAgICAgICAgICAgICAgICBkaWFncmFtLmNsZWFyU2VsZWN0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICBwYXJ0MS5pc1NlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHBhcnQyLmlzU2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG5hbWU6ICdDcmVhdGUgUlRCQiBpbiBvdXRsaW5lIGFuZCBzd2l0Y2ggdG8gZnJlZWhhbmQnLFxyXG4gICAgICAgICAgICBpbnN0cnVjdGlvbnM6ICdDaGVjayBhdXRvLWdlbmVyYXRlZCBmcmVlaGFuZCBsYXlvdXQgb2YgcGFydHMnLFxyXG4gICAgICAgICAgICBydW46IGZ1bmN0aW9uKGRpYWdyYW0pIHtcclxuICAgICAgICAgICAgICAgIHZhciB3aG9sZSA9IG1hcC5jcmVhdGVUaGluZygwLCAwLCAnV2hvbGUnLCAnbGVmdCcpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHBhcnQxID0gbWFwLmNyZWF0ZUNoaWxkKHdob2xlLCAnUGFydCAxJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3VicGFydDExID0gbWFwLmNyZWF0ZUNoaWxkKHBhcnQxLCAnU3VicGFydCAxLjEnKTtcclxuICAgICAgICAgICAgICAgIHZhciBwYXJ0MiA9IG1hcC5jcmVhdGVDaGlsZCh3aG9sZSwgJ1BhcnQgMicpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHJUaGluZyA9IG1hcC5jcmVhdGVSTGlua1dpdGhSVGhpbmcocGFydDEsIHBhcnQyLCAnUnRoaW5nJyk7XHJcbiAgICAgICAgICAgICAgICB3aG9sZS5pc1NlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIG1hcC5nZXRVaSgpLnNldFNlbGVjdGVkVGhpbmdzTGF5b3V0KCdmcmVlaGFuZCcpO1xyXG4gICAgICAgICAgICAgICAgLy9kaWFncmFtLm1vZGVsLnNldERhdGFQcm9wZXJ0eSh3aG9sZS5kYXRhLCAnbGF5b3V0JywgJ2ZyZWVoYW5kJyk7XHJcbiAgICAgICAgICAgICAgICAvL21hcC5yZWZyZXNoKCk7XHJcbiAgICAgICAgICAgICAgICBkaWFncmFtLmNsZWFyU2VsZWN0aW9uKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvLyBjcmVhdGUgUlRCQiBpbiBmcmVlaGFuZCwgYWRkIHBhcnQgaW4gb3V0bGluZSwgc3dpdGNoIGJhY2sgdG8gZnJlZWhhbmRcclxuICAgICAgICAvLyBjcmVhdGUgUlRCQiBpbiBmcmVlaGFuZCwgZHJhZyBpbiBwYXJ0IGluIG91dGxpbmUsIHN3aXRjaCBiYWNrIHRvIGZyZWVoYW5kXHJcblxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbmFtZTogJ0RyYWcgUlRCQiBvdXQgb2YgUycsXHJcbiAgICAgICAgICAgIGluc3RydWN0aW9uczogJ0RyYWcgdGhlIHByZXNlbGVjdGVkIFJUQkIgb250byBXaG9sZSAoRCknLFxyXG4gICAgICAgICAgICBydW46IGZ1bmN0aW9uKGRpYWdyYW0pIHtcclxuICAgICAgICAgICAgICAgIHZhciB3aG9sZSA9IG1hcC5jcmVhdGVUaGluZygwLCAwLCAnV2hvbGUnLCAnbGVmdCcpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHBhcnQxID0gbWFwLmNyZWF0ZUNoaWxkKHdob2xlLCAnUGFydCAxJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3VicGFydDExID0gbWFwLmNyZWF0ZUNoaWxkKHBhcnQxLCAnU3VicGFydCAxLjEnKTtcclxuICAgICAgICAgICAgICAgIHZhciBwYXJ0MiA9IG1hcC5jcmVhdGVDaGlsZCh3aG9sZSwgJ1BhcnQgMicpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHJUaGluZyA9IG1hcC5jcmVhdGVSTGlua1dpdGhSVGhpbmcocGFydDEsIHBhcnQyLCAnUnRoaW5nJyk7XHJcbiAgICAgICAgICAgICAgICBtYXAucmVmcmVzaCgpO1xyXG4gICAgICAgICAgICAgICAgZGlhZ3JhbS5jbGVhclNlbGVjdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgcGFydDEuaXNTZWxlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBwYXJ0Mi5pc1NlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBuYW1lOiAnRHJhZyBSVEJCIG91dCBvZiBmcmVlaGFuZCBTJyxcclxuICAgICAgICAgICAgaW5zdHJ1Y3Rpb25zOiAnRHJhZyB0aGUgcHJlc2VsZWN0ZWQgUlRCQiBvbnRvIFdob2xlIChEKScsXHJcbiAgICAgICAgICAgIHJ1bjogZnVuY3Rpb24oZGlhZ3JhbSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHdob2xlID0gbWFwLmNyZWF0ZVRoaW5nKDAsIDAsICdXaG9sZScsICdmcmVlaGFuZCcpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHBhcnQxID0gbWFwLmNyZWF0ZUNoaWxkKHdob2xlLCAnUGFydCAxJywgMTAsIDEyMCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3VicGFydDExID0gbWFwLmNyZWF0ZUNoaWxkKHBhcnQxLCAnU3VicGFydCAxLjEnKTtcclxuICAgICAgICAgICAgICAgIHZhciBwYXJ0MiA9IG1hcC5jcmVhdGVDaGlsZCh3aG9sZSwgJ1BhcnQgMicsIDExMCwgMTUwKTtcclxuICAgICAgICAgICAgICAgIHZhciByVGhpbmcgPSBtYXAuY3JlYXRlUkxpbmtXaXRoUlRoaW5nKHBhcnQxLCBwYXJ0MiwgJ1J0aGluZycpO1xyXG4gICAgICAgICAgICAgICAgbWFwLnJlZnJlc2goKTtcclxuICAgICAgICAgICAgICAgIGRpYWdyYW0uY2xlYXJTZWxlY3Rpb24oKTtcclxuICAgICAgICAgICAgICAgIHBhcnQxLmlzU2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgcGFydDIuaXNTZWxlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbmFtZTogJ0RyYWcgUlRCQiBvdXQgb2YgMm5kIGxldmVsIFMnLFxyXG4gICAgICAgICAgICBpbnN0cnVjdGlvbnM6ICdEcmFnIHRoZSBwcmVzZWxlY3RlZCBSVEJCIG9udG8gV2hvbGUgKEQpIG9mIFBhcnQgMScsXHJcbiAgICAgICAgICAgIHJ1bjogZnVuY3Rpb24oZGlhZ3JhbSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHdob2xlID0gbWFwLmNyZWF0ZVRoaW5nKDAsIDAsICdXaG9sZScsICdsZWZ0Jyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGFydDEgPSBtYXAuY3JlYXRlQ2hpbGQod2hvbGUsICdQYXJ0IDEnKTtcclxuICAgICAgICAgICAgICAgIHZhciBzdWJwYXJ0MTEgPSBtYXAuY3JlYXRlQ2hpbGQocGFydDEsICdTdWJwYXJ0IDEuMScpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHN1YnBhcnQxMiA9IG1hcC5jcmVhdGVDaGlsZChwYXJ0MSwgJ1N1YnBhcnQgMS4yJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgclRoaW5nID0gbWFwLmNyZWF0ZVJMaW5rV2l0aFJUaGluZyhzdWJwYXJ0MTEsIHN1YnBhcnQxMiwgJ1J0aGluZycpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHBhcnQyID0gbWFwLmNyZWF0ZUNoaWxkKHdob2xlLCAnUGFydCAyJyk7XHJcbiAgICAgICAgICAgICAgICBtYXAucmVmcmVzaCgpO1xyXG4gICAgICAgICAgICAgICAgZGlhZ3JhbS5jbGVhclNlbGVjdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgc3VicGFydDExLmlzU2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgc3VicGFydDEyLmlzU2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG5hbWU6ICdEcmFnIFJUQkIgb3V0IG9mIDJuZCBsZXZlbCBmcmVlaGFuZCBTJyxcclxuICAgICAgICAgICAgaW5zdHJ1Y3Rpb25zOiAnRHJhZyB0aGUgcHJlc2VsZWN0ZWQgUlRCQiBvbnRvIFdob2xlIChEKSBvZiBQYXJ0IDEnLFxyXG4gICAgICAgICAgICBydW46IGZ1bmN0aW9uKGRpYWdyYW0pIHtcclxuICAgICAgICAgICAgICAgIHZhciB3aG9sZSA9IG1hcC5jcmVhdGVUaGluZygwLCAwLCAnV2hvbGUnLCAnZnJlZWhhbmQnKTtcclxuICAgICAgICAgICAgICAgIHZhciBwYXJ0MSA9IG1hcC5jcmVhdGVDaGlsZCh3aG9sZSwgJ1BhcnQgMScsIDAsIDEyMCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3VicGFydDExID0gbWFwLmNyZWF0ZUNoaWxkKHBhcnQxLCAnU3VicGFydCAxLjEnLCAxMCwgMTgwKTtcclxuICAgICAgICAgICAgICAgIHZhciBzdWJwYXJ0MTIgPSBtYXAuY3JlYXRlQ2hpbGQocGFydDEsICdTdWJwYXJ0IDEuMicsIDIwLCAyMjApO1xyXG4gICAgICAgICAgICAgICAgdmFyIHJUaGluZyA9IG1hcC5jcmVhdGVSTGlua1dpdGhSVGhpbmcoc3VicGFydDExLCBzdWJwYXJ0MTIsICdSdGhpbmcnKTtcclxuICAgICAgICAgICAgICAgIHZhciBwYXJ0MiA9IG1hcC5jcmVhdGVDaGlsZCh3aG9sZSwgJ1BhcnQgMicsIDAsIDMwMCk7XHJcbiAgICAgICAgICAgICAgICBtYXAucmVmcmVzaCgpO1xyXG4gICAgICAgICAgICAgICAgZGlhZ3JhbS5jbGVhclNlbGVjdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgc3VicGFydDExLmlzU2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgc3VicGFydDEyLmlzU2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG5hbWU6ICdSY2hhbm5lbCcsXHJcbiAgICAgICAgICAgIGluc3RydWN0aW9uczogJ05vdGUgdGhhdCBSLXRoaW5ncyBhcmUgaW4gcGFydC13aG9sZSByZWxhdGlvbicsXHJcbiAgICAgICAgICAgIHJ1bjogZnVuY3Rpb24oZGlhZ3JhbSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRoaW5nMSA9IG1hcC5jcmVhdGVUaGluZygwLCAwLCAnV2hvbGUgMScsICdyaWdodCcpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkMTEgPSBtYXAuY3JlYXRlQ2hpbGQodGhpbmcxLCAnUGFydCAxLjEnKTtcclxuICAgICAgICAgICAgICAgIHZhciB0aGluZzIgPSBtYXAuY3JlYXRlVGhpbmcoMjUwLCAwLCAnV2hvbGUgMicpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkMjEgPSBtYXAuY3JlYXRlQ2hpbGQodGhpbmcyLCAnUGFydCAyLjEnKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgdmFyIHJUaGluZzEgPSBtYXAuY3JlYXRlUkxpbmtXaXRoUlRoaW5nKHRoaW5nMSwgdGhpbmcyLCAnUnRoaW5nIDEtMicpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHJUaGluZzExID0gbWFwLmNyZWF0ZVJMaW5rV2l0aFJUaGluZyhjaGlsZDExLCBjaGlsZDIxLCAnUnRoaW5nIDEuMSAtIDIuMScpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1JjaGFubmVsLCByVGhpbmcxMTogJyArIHJUaGluZzExKTtcclxuXHJcbiAgICAgICAgICAgICAgICBkaWFncmFtLmNsZWFyU2VsZWN0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICByVGhpbmcxMS5pc1NlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIG1hcC5hZGRTZWxlY3RlZFRoaW5nc0FzQ2hpbGRyZW5PZihyVGhpbmcxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBuYW1lOiAnRGlzYXBwZWFyaW5nIHBhcnRzIG9uIG5ldyBpZGVhIGNyZWF0aW9uJyxcclxuICAgICAgICAgICAgaW5zdHJ1Y3Rpb25zOiAnQ3JlYXRlIGEgbmV3IHRvcC1sZXZlbCBpZGVhIC0gUGFydCAxLjEgc2hvdWxkIG5vdCBkaXNhcHBlYXIgdGVtcG9yYXJpbHknLFxyXG4gICAgICAgICAgICBydW46IGZ1bmN0aW9uKGRpYWdyYW0pIHtcclxuICAgICAgICAgICAgICAgIHZhciB0aGluZzEgPSBtYXAuY3JlYXRlVGhpbmcoMCwgMCwgJ1dob2xlIDEnLCAncmlnaHQnKTtcclxuICAgICAgICAgICAgICAgIHZhciBjaGlsZDExID0gbWFwLmNyZWF0ZUNoaWxkKHRoaW5nMSwgJ1BhcnQgMS4xJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbmFtZTogJ0RyYWcgdG9wLWxldmVsIHRoaW5nIGludG8gZnJlZWhhbmQgc3lzdGVtJyxcclxuICAgICAgICAgICAgaW5zdHJ1Y3Rpb25zOiAnRHJhZyBOZXcgUGFydCBpbnRvIFdob2xlOyBleGFtaW5lIHJlc3VsdGluZyBwYXJ0IGxheW91dCcsXHJcbiAgICAgICAgICAgIHJ1bjogZnVuY3Rpb24oZGlhZ3JhbSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRoaW5nMSA9IG1hcC5jcmVhdGVUaGluZygwLCAwLCAnV2hvbGUnLCAnZnJlZWhhbmQnKTtcclxuICAgICAgICAgICAgICAgIHZhciBjaGlsZDExID0gbWFwLmNyZWF0ZUNoaWxkKHRoaW5nMSwgJ1BhcnQnKTtcclxuICAgICAgICAgICAgICAgIHZhciBuZXdQYXJ0ID0gbWFwLmNyZWF0ZVRoaW5nKDI1MCwgMCwgJ05ldyBQYXJ0JywgJ2xlZnQnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBuYW1lOiAnRHJhZyB0b3AtbGV2ZWwgUlRCQiBpbnRvIGZyZWVoYW5kIHN5c3RlbScsXHJcbiAgICAgICAgICAgIGluc3RydWN0aW9uczogJ0RyYWcgcHJlc2VsZWN0ZWQgUlRCQiBpbnRvIFdob2xlOyBleGFtaW5lIHJlc3VsdGluZyBwYXJ0IGxheW91dCcsXHJcbiAgICAgICAgICAgIHJ1bjogZnVuY3Rpb24oZGlhZ3JhbSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRoaW5nMSA9IG1hcC5jcmVhdGVUaGluZygwLCAwLCAnV2hvbGUnLCAnZnJlZWhhbmQnKTtcclxuICAgICAgICAgICAgICAgIHZhciBjaGlsZDExID0gbWFwLmNyZWF0ZUNoaWxkKHRoaW5nMSwgJ1BhcnQnKTtcclxuICAgICAgICAgICAgICAgIHZhciBiYXIgPSBtYXAuY3JlYXRlVGhpbmcoMjUwLCAwLCAnQmFyJywgJ2xlZnQnKTtcclxuICAgICAgICAgICAgICAgIHZhciBiZWxsID0gbWFwLmNyZWF0ZVRoaW5nKDUwMCwgMCwgJ0JlbGwnLCAnbGVmdCcpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHJUaGluZyA9IG1hcC5jcmVhdGVSTGlua1dpdGhSVGhpbmcoYmFyLCBiZWxsLCAnUnRoaW5nJyk7XHJcbiAgICAgICAgICAgICAgICBtYXAucmVmcmVzaCgpO1xyXG4gICAgICAgICAgICAgICAgZGlhZ3JhbS5jbGVhclNlbGVjdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgYmFyLmlzU2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgYmVsbC5pc1NlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBuYW1lOiAnRHJhZyBSLXRoaW5nIHNxdWFyZSBpbnRvIGZyZWVoYW5kIHN5c3RlbScsXHJcbiAgICAgICAgICAgIGluc3RydWN0aW9uczogJ0RyYWcgcHJlc2VsZWN0ZWQgc3F1YXJlIGludG8gV2hvbGU7IGV4YW1pbmUgcmVzdWx0aW5nIHBhcnQgbGF5b3V0JyxcclxuICAgICAgICAgICAgcnVuOiBmdW5jdGlvbihkaWFncmFtKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgd2hvbGUgPSBtYXAuY3JlYXRlVGhpbmcoLTEwMCwgNTAsICdXaG9sZScsICdmcmVlaGFuZCcpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkMTEgPSBtYXAuY3JlYXRlQ2hpbGQod2hvbGUsICdQYXJ0Jyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGFydDExID0gbWFwLmNyZWF0ZVRoaW5nKDI1MCwgMCwgJ1BhcnQxMScsICdsZWZ0Jyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGFydDEyID0gbWFwLmNyZWF0ZVRoaW5nKDUwMCwgMCwgJ1BhcnQxMicsICdsZWZ0Jyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGFydDIxID0gbWFwLmNyZWF0ZVRoaW5nKDI1MCwgMjUwLCAnUGFydDIxJywgJ2xlZnQnKTtcclxuICAgICAgICAgICAgICAgIHZhciBwYXJ0MjIgPSBtYXAuY3JlYXRlVGhpbmcoNTAwLCAyNTAsICdQYXJ0MjInLCAnbGVmdCcpO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciByVGhpbmcxMV8xMiA9IG1hcC5jcmVhdGVSTGlua1dpdGhSVGhpbmcocGFydDExLCBwYXJ0MTIsICdSdGhpbmcgMTEtMTInKTtcclxuICAgICAgICAgICAgICAgIHZhciByVGhpbmcxMV8yMSA9IG1hcC5jcmVhdGVSTGlua1dpdGhSVGhpbmcocGFydDExLCBwYXJ0MjEsICdSdGhpbmcgMTEtMjEnKTtcclxuICAgICAgICAgICAgICAgIHZhciByVGhpbmcxMl8yMiA9IG1hcC5jcmVhdGVSTGlua1dpdGhSVGhpbmcocGFydDEyLCBwYXJ0MjIsICdSdGhpbmcgMTItMjInKTtcclxuICAgICAgICAgICAgICAgIHZhciByVGhpbmcyMV8yMiA9IG1hcC5jcmVhdGVSTGlua1dpdGhSVGhpbmcocGFydDIxLCBwYXJ0MjIsICdSdGhpbmcgMjEtMjInKTtcclxuICAgICAgICAgICAgICAgIG1hcC5yZWZyZXNoKCk7XHJcbiAgICAgICAgICAgICAgICBkaWFncmFtLmNsZWFyU2VsZWN0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICBwYXJ0MTEuaXNTZWxlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBwYXJ0MTIuaXNTZWxlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBwYXJ0MjEuaXNTZWxlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBwYXJ0MjIuaXNTZWxlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbmFtZTogJ0RyYWcgUi10aGluZyBzcXVhcmUgb3V0IG9mIGZyZWVoYW5kIHN5c3RlbScsXHJcbiAgICAgICAgICAgIGluc3RydWN0aW9uczogJ0RyYWcgcHJlc2VsZWN0ZWQgc3F1YXJlIG9udG8gRCBvZiBXaG9sZTsgZXhhbWluZSByZXN1bHRpbmcgbGF5b3V0JyxcclxuICAgICAgICAgICAgcnVuOiBmdW5jdGlvbihkaWFncmFtKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgd2hvbGUgPSBtYXAuY3JlYXRlVGhpbmcoLTEwMCwgNTAsICdXaG9sZScsICdmcmVlaGFuZCcpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkMTEgPSBtYXAuY3JlYXRlQ2hpbGQod2hvbGUsICdQYXJ0Jyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGFydDExID0gbWFwLmNyZWF0ZUNoaWxkKHdob2xlLCAnUGFydDExJywgMTAsIDE5MCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGFydDEyID0gbWFwLmNyZWF0ZUNoaWxkKHdob2xlLCAnUGFydDEyJywgMTIwLCAxOTApO1xyXG4gICAgICAgICAgICAgICAgdmFyIHBhcnQyMSA9IG1hcC5jcmVhdGVDaGlsZCh3aG9sZSwgJ1BhcnQyMScsIDEwLCAzMDApO1xyXG4gICAgICAgICAgICAgICAgdmFyIHBhcnQyMiA9IG1hcC5jcmVhdGVDaGlsZCh3aG9sZSwgJ1BhcnQyMicsIDEyMCwgMzAwKTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgclRoaW5nMTFfMTIgPSBtYXAuY3JlYXRlUkxpbmtXaXRoUlRoaW5nKHBhcnQxMSwgcGFydDEyLCAnUnRoaW5nIDExLTEyJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgclRoaW5nMTFfMjEgPSBtYXAuY3JlYXRlUkxpbmtXaXRoUlRoaW5nKHBhcnQxMSwgcGFydDIxLCAnUnRoaW5nIDExLTIxJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgclRoaW5nMTJfMjIgPSBtYXAuY3JlYXRlUkxpbmtXaXRoUlRoaW5nKHBhcnQxMiwgcGFydDIyLCAnUnRoaW5nIDEyLTIyJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgclRoaW5nMjFfMjIgPSBtYXAuY3JlYXRlUkxpbmtXaXRoUlRoaW5nKHBhcnQyMSwgcGFydDIyLCAnUnRoaW5nIDIxLTIyJyk7XHJcbiAgICAgICAgICAgICAgICBtYXAucmVmcmVzaCgpO1xyXG4gICAgICAgICAgICAgICAgZGlhZ3JhbS5jbGVhclNlbGVjdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgcGFydDExLmlzU2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgcGFydDEyLmlzU2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgcGFydDIxLmlzU2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgcGFydDIyLmlzU2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG5hbWU6ICdEcmFnIDJuZCBsZXZlbCBwYXJ0IHRvIEQgb2YgcGFyZW50JyxcclxuICAgICAgICAgICAgaW5zdHJ1Y3Rpb25zOiAnRHJhZyBTdWJwYXJ0IDEuMSBvbnRvIEQgb2YgUGFydCAxOyBpdCBzaG91bGQgYXBwZWFyIGJlbG93IFBhcnQgMScsXHJcbiAgICAgICAgICAgIHJ1bjogZnVuY3Rpb24oZGlhZ3JhbSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHdob2xlID0gbWFwLmNyZWF0ZVRoaW5nKDAsIDAsICdXaG9sZScsICdsZWZ0Jyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGFydDEgPSBtYXAuY3JlYXRlQ2hpbGQod2hvbGUsICdQYXJ0IDEnKTtcclxuICAgICAgICAgICAgICAgIHZhciBzdWJwYXJ0MTEgPSBtYXAuY3JlYXRlQ2hpbGQocGFydDEsICdTdWJwYXJ0IDEuMScpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHBhcnQyID0gbWFwLmNyZWF0ZUNoaWxkKHdob2xlLCAnUGFydCAyJyk7XHJcbiAgICAgICAgICAgICAgICBtYXAucmVmcmVzaCgpO1xyXG4gICAgICAgICAgICAgICAgZGlhZ3JhbS5jbGVhclNlbGVjdGlvbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG5hbWU6ICdJbnZpc2libGUgUi10aGluZyBpbiAybmQgbGV2ZWwgb2Ygb3V0bGluZScsXHJcbiAgICAgICAgICAgIGluc3RydWN0aW9uczogJ1ItdGhpbmcgYmV0d2VlbiBTdWJwYXJ0cyAxLjEgYW5kIDEuMiBzaG91bGQgYmUgdmlzaWJsZScsXHJcbiAgICAgICAgICAgIHJ1bjogZnVuY3Rpb24oZGlhZ3JhbSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHdob2xlID0gbWFwLmNyZWF0ZVRoaW5nKDAsIDAsICdXaG9sZScsICdsZWZ0Jyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGFydDEgPSBtYXAuY3JlYXRlQ2hpbGQod2hvbGUsICdQYXJ0IDEnKTtcclxuICAgICAgICAgICAgICAgIHZhciBzdWJwYXJ0MTEgPSBtYXAuY3JlYXRlQ2hpbGQocGFydDEsICdTdWJwYXJ0IDEuMScpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHN1YnBhcnQxMiA9IG1hcC5jcmVhdGVDaGlsZChwYXJ0MSwgJ1N1YnBhcnQgMS4yJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgclRoaW5nID0gbWFwLmNyZWF0ZVJMaW5rV2l0aFJUaGluZyhzdWJwYXJ0MTEsIHN1YnBhcnQxMiwgJ1J0aGluZycpO1xyXG4gICAgICAgICAgICAgICAgclRoaW5nLmRlc2lyZWRTaXplID0gbmV3IGdvLlNpemUoMzAsMzApO1xyXG4gICAgICAgICAgICAgICAgbWFwLnJlZnJlc2goKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdyVGhpbmcgYWN0dWFsQm91bmRzOiAnICsgclRoaW5nLmFjdHVhbEJvdW5kcyArICcsIHNjYWxlOiAnICsgclRoaW5nLnNjYWxlICsgJywgZGVzaXJlZFNpemU6ICcgKyByVGhpbmcuZGVzaXJlZFNpemUpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1dob2xlIGRlc2lyZWRTaXplOiAnICsgd2hvbGUuZGVzaXJlZFNpemUpO1xyXG4gICAgICAgICAgICAgICAgZGlhZ3JhbS5jbGVhclNlbGVjdGlvbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG5hbWU6ICdSLXRoaW5nIGJldHdlZW4gaWRlYXMgaW4gc2FtZSBsb2NhdGlvbiAoZXJyb3IpJyxcclxuICAgICAgICAgICAgaW5zdHJ1Y3Rpb25zOiAnVGhpcyBzaG91bGQgdHJpZ2dlciBhbiBlcnJvcicsXHJcbiAgICAgICAgICAgIHJ1bjogZnVuY3Rpb24oZGlhZ3JhbSkge1xyXG4gICAgICAgICAgICAgICAgLy8gdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcGFydDEgPSBtYXAuY3JlYXRlVGhpbmcoMCwgMCwgJ1BhcnQgMScsICdsZWZ0Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcnQyID0gbWFwLmNyZWF0ZVRoaW5nKDAsIDAsICdQYXJ0IDInLCAnbGVmdCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByVGhpbmcgPSBtYXAuY3JlYXRlUkxpbmtXaXRoUlRoaW5nKHBhcnQxLCBwYXJ0MiwgJ1J0aGluZycpO1xyXG4gICAgICAgICAgICAgICAgICAgIG1hcC5yZWZyZXNoKCk7XHJcbiAgICAgICAgICAgICAgICAvLyB9IGNhdGNoKGUpIHtcclxuICAgICAgICAgICAgICAgIC8vICAgICBhbGVydChlLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICAvLyB7XHJcbiAgICAgICAgLy8gICAgIG5hbWU6ICdGaXggYmFkIFItdGhpbmcgbGVhZGluZyB0byBpbmZpbml0ZSBsb29wJyxcclxuICAgICAgICAvLyAgICAgaW5zdHJ1Y3Rpb25zOiAnTWFwIHNob3VsZCBkaXNwbGF5IGFuZCBub3QgdHJpZ2dlciBpbmZpbml0ZSBsb29wOyBtb2RlbCBzaG91bGQgYmUgZml4ZWQgc28gdGhhdCByLXRoaW5nIGlzIG5vdCBQYXJ0IDEuMSBvciBQYXJ0IDEuMicsXHJcbiAgICAgICAgLy8gICAgIHJ1bjogZnVuY3Rpb24oZGlhZ3JhbSkge1xyXG4gICAgICAgIC8vICAgICAgICAgdmFyIHRoaW5nMSA9IG1hcC5jcmVhdGVUaGluZygtMTAwLCAwLCAnVGhpbmcxJywgJ2ZyZWVoYW5kJyk7XHJcbiAgICAgICAgLy8gICAgICAgICB2YXIgY2hpbGQxMSA9IG1hcC5jcmVhdGVDaGlsZCh0aGluZzEsICdQYXJ0IDEuMScpO1xyXG4gICAgICAgIC8vICAgICAgICAgdmFyIGNoaWxkMTIgPSBtYXAuY3JlYXRlQ2hpbGQodGhpbmcxLCAnUGFydCAxLjInKTtcclxuICAgICAgICAvLyAgICAgICAgIHZhciByVGhpbmcgPSBtYXAuY3JlYXRlUkxpbmtXaXRoUlRoaW5nKGNoaWxkMTEsIGNoaWxkMTIsICdSdGhpbmcnKTtcclxuICAgICAgICAvLyAgICAgICAgIHZhciByTGluayA9IHJUaGluZy5sYWJlbGVkTGluaztcclxuICAgICAgICAvLyAgICAgICAgIHJMaW5rLmRhdGEubGFiZWxLZXlzID0gW2NoaWxkMTEuZGF0YS5rZXldO1xyXG4gICAgICAgIC8vICAgICAgICAgbWFwLmNoZWNrTW9kZWwoKTtcclxuICAgICAgICAvLyAgICAgICAgIG1hcC5yZWZyZXNoKCk7XHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAvLyB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbmFtZTogJ0RyYWcgdG8gY3JlYXRlIFItbGluZScsXHJcbiAgICAgICAgICAgIGluc3RydWN0aW9uczogJ0RyYWcgZnJvbSB0aGUgUi1jb3JuZXIgb2YgVGhpbmcxIHRvIFRoaW5nMjsgdGVtcG9yYXJ5IGRyYWcgbGluZSBhbmQgc3F1YXJlIHNob3VsZCBiZSBSLWNvbG9yOyBjcmVhdGVkIGxpbmUgc2hvdWxkIGJlIGFuIFItbGluZScsXHJcbiAgICAgICAgICAgIHJ1bjogZnVuY3Rpb24oZGlhZ3JhbSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRoaW5nMSA9IG1hcC5jcmVhdGVUaGluZygtMTAwLCAwLCAnVGhpbmcxJywgJ2ZyZWVoYW5kJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGhpbmcyID0gbWFwLmNyZWF0ZVRoaW5nKDEwMCwgMCwgJ1RoaW5nMicsICdmcmVlaGFuZCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG5hbWU6ICdEcmFnIHRvIGNyZWF0ZSBQLWxpbmUnLFxyXG4gICAgICAgICAgICBpbnN0cnVjdGlvbnM6ICdEcmFnIGZyb20gdGhlIFAtY29ybmVyIG9mIFRoaW5nMSB0byBUaGluZzI7IHRlbXBvcmFyeSBkcmFnIGxpbmUgYW5kIHNxdWFyZSBzaG91bGQgYmUgUC1jb2xvcjsgY3JlYXRlZCBsaW5lIHNob3VsZCBiZSBhIFAtbGluZScsXHJcbiAgICAgICAgICAgIHJ1bjogZnVuY3Rpb24oZGlhZ3JhbSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRoaW5nMSA9IG1hcC5jcmVhdGVUaGluZygtMTAwLCAwLCAnVGhpbmcxJywgJ2ZyZWVoYW5kJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGhpbmcyID0gbWFwLmNyZWF0ZVRoaW5nKDEwMCwgMCwgJ1RoaW5nMicsICdmcmVlaGFuZCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG5hbWU6ICdSZWxpbmsgZnJvbS1wb3J0IG9mIFItbGluZScsXHJcbiAgICAgICAgICAgIGluc3RydWN0aW9uczogJ01vdmUgdGhlIHN0YXJ0IG9mIHRoZSBSLWxpbmsgZnJvbSBUaGluZyAxIHRvIFRoaW5nIDM7IG1ha2Ugc3VyZSBpdCBkb2VzIG5vdCB0dXJuIGludG8gYSBQLWxpbmsnLFxyXG4gICAgICAgICAgICBydW46IGZ1bmN0aW9uKGRpYWdyYW0pIHtcclxuICAgICAgICAgICAgICAgIHZhciB0aGluZzEgPSBtYXAuY3JlYXRlVGhpbmcoLTEwMCwgMCwgJ1RoaW5nMScsICdmcmVlaGFuZCcpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHRoaW5nMiA9IG1hcC5jcmVhdGVUaGluZygzMDAsIDAsICdUaGluZzInLCAnZnJlZWhhbmQnKTtcclxuICAgICAgICAgICAgICAgIHZhciB0aGluZzMgPSBtYXAuY3JlYXRlVGhpbmcoMTAwLCAyMDAsICdUaGluZzMnLCAnZnJlZWhhbmQnKTtcclxuICAgICAgICAgICAgICAgIHZhciBybGluayA9IG1hcC5jcmVhdGVSTGluayh0aGluZzEsIHRoaW5nMik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbmFtZTogJ1JlbGluayB0by1wb3J0IG9mIFItbGluZScsXHJcbiAgICAgICAgICAgIGluc3RydWN0aW9uczogJ01vdmUgdGhlIGVuZCBvZiB0aGUgUi1saW5rIGZyb20gVGhpbmcgMiB0byBUaGluZyAzOyBtYWtlIHN1cmUgaXQgZG9lcyBub3QgdHVybiBpbnRvIGEgUC1saW5rJyxcclxuICAgICAgICAgICAgcnVuOiBmdW5jdGlvbihkaWFncmFtKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGhpbmcxID0gbWFwLmNyZWF0ZVRoaW5nKC0xMDAsIDAsICdUaGluZzEnLCAnZnJlZWhhbmQnKTtcclxuICAgICAgICAgICAgICAgIHZhciB0aGluZzIgPSBtYXAuY3JlYXRlVGhpbmcoMzAwLCAwLCAnVGhpbmcyJywgJ2ZyZWVoYW5kJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGhpbmczID0gbWFwLmNyZWF0ZVRoaW5nKDEwMCwgMjAwLCAnVGhpbmczJywgJ2ZyZWVoYW5kJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmxpbmsgPSBtYXAuY3JlYXRlUkxpbmsodGhpbmcxLCB0aGluZzIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG5hbWU6ICdTaG93aW5nIHBhcnRzIG9mIHBhcnRzIG9mIGEgZnJlZWhhbmQgd2hvbGUnLFxyXG4gICAgICAgICAgICBpbnN0cnVjdGlvbnM6ICdXaG9sZSwgUGFydCAxIGFuZCBTdWJwYXJ0IDEuMSBzaG91bGQgYWxsIGJlIHZpc2libGUnLFxyXG4gICAgICAgICAgICBydW46IGZ1bmN0aW9uKGRpYWdyYW0pIHtcclxuICAgICAgICAgICAgICAgIHZhciB3aG9sZSA9IG1hcC5jcmVhdGVUaGluZygwLCAwLCAnV2hvbGUnLCAnZnJlZWhhbmQnKTtcclxuICAgICAgICAgICAgICAgIHZhciBwYXJ0MSA9IG1hcC5jcmVhdGVDaGlsZCh3aG9sZSwgJ1BhcnQgMScpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHN1YnBhcnQxMSA9IG1hcC5jcmVhdGVDaGlsZChwYXJ0MSwgJ1N1YnBhcnQgMS4xJyk7XHJcbiAgICAgICAgICAgICAgICBtYXAucmVmcmVzaCgpO1xyXG4gICAgICAgICAgICAgICAgZGlhZ3JhbS5jbGVhclNlbGVjdGlvbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgLy8gc2VsZi5jcmVhdGVHZW5lcmF0b3JUZXN0KCdXSEFUX0lTJywgbWFwLmdldEdlbmVyYXRvcigpLldIQVRfSVMpLFxyXG4gICAgICAgIC8vIHNlbGYuY3JlYXRlR2VuZXJhdG9yVGVzdCgnUEFSVFNfT0YnLCBtYXAuZ2V0R2VuZXJhdG9yKCkuUEFSVFNfT0YpLFxyXG4gICAgICAgIC8vIHNlbGYuY3JlYXRlR2VuZXJhdG9yVGVzdCgnUEFSVF9PRicsIG1hcC5nZXRHZW5lcmF0b3IoKS5QQVJUX09GKSxcclxuICAgICAgICAvLyBzZWxmLmNyZWF0ZUdlbmVyYXRvclRlc3QoJ1BBUlRTX0hBVkVfUEFSVFMnLCBtYXAuZ2V0R2VuZXJhdG9yKCkuUEFSVFNfSEFWRV9QQVJUUyksXHJcbiAgICAgICAgLy8gc2VsZi5jcmVhdGVHZW5lcmF0b3JUZXN0KCdQT0lOVF9GT1InLCBtYXAuZ2V0R2VuZXJhdG9yKCkuUE9JTlRfRk9SKSxcclxuICAgICAgICAvLyBzZWxmLmNyZWF0ZUdlbmVyYXRvclRlc3QoJ0hBU19NVUxUSVBMRV9QUycsIG1hcC5nZXRHZW5lcmF0b3IoKS5IQVNfTVVMVElQTEVfUFMpLFxyXG4gICAgICAgIC8vIHNlbGYuY3JlYXRlR2VuZXJhdG9yVGVzdCgnUl9UTycsIG1hcC5nZXRHZW5lcmF0b3IoKS5SX1RPKSxcclxuICAgICAgICAvLyBzZWxmLmNyZWF0ZUdlbmVyYXRvclRlc3QoJ1JfRVhJU1RTJywgbWFwLmdldEdlbmVyYXRvcigpLlJfRVhJU1RTKSxcclxuICAgICAgICAvLyBzZWxmLmNyZWF0ZUdlbmVyYXRvclRlc3QoJ1dIQVRfSVNfUicsIG1hcC5nZXRHZW5lcmF0b3IoKS5XSEFUX0lTX1IpLFxyXG4gICAgICAgIC8vIHNlbGYuY3JlYXRlR2VuZXJhdG9yVGVzdCgnRElTVElOR1VJU0hfQkVUV0VFTicsIG1hcC5nZXRHZW5lcmF0b3IoKS5ESVNUSU5HVUlTSF9CRVRXRUVOKSxcclxuICAgICAgICAvLyBzZWxmLmNyZWF0ZUdlbmVyYXRvclRlc3QoJ0lTX1JfQkVUV0VFTicsIG1hcC5nZXRHZW5lcmF0b3IoKS5JU19SX0JFVFdFRU4pLFxyXG4gICAgICAgIC8vIHNlbGYuY3JlYXRlR2VuZXJhdG9yVGVzdCgnQ0FOX0JFX1AnLCBtYXAuZ2V0R2VuZXJhdG9yKCkuQ0FOX0JFX1ApLFxyXG4gICAgICAgIC8vIHNlbGYuY3JlYXRlR2VuZXJhdG9yVGVzdCgnTVVMVElQTEVfUFNfQVJFJywgbWFwLmdldEdlbmVyYXRvcigpLk1VTFRJUExFX1BTX0FSRSksXHJcbiAgICAgICAgLy8gc2VsZi5jcmVhdGVHZW5lcmF0b3JUZXN0KCdQX1BBUlRTJywgbWFwLmdldEdlbmVyYXRvcigpLlBfUEFSVFMpLFxyXG4gICAgICAgIC8vIHNlbGYuY3JlYXRlR2VuZXJhdG9yVGVzdCgnQ09NUEFSRV9DT05UUkFTVCcsIG1hcC5nZXRHZW5lcmF0b3IoKS5DT01QQVJFX0NPTlRSQVNUKSxcclxuICAgICAgICAvLyBzZWxmLmNyZWF0ZUdlbmVyYXRvclRlc3QoJ1JfUEFSVFMnLCBtYXAuZ2V0R2VuZXJhdG9yKCkuUl9QQVJUUyksXHJcbiAgICAgICAgLy8gc2VsZi5jcmVhdGVHZW5lcmF0b3JUZXN0KCdQQVJUU19IQVZFX1JTJywgbWFwLmdldEdlbmVyYXRvcigpLlBBUlRTX0hBVkVfUlMpLFxyXG4gICAgICAgIC8vIHNlbGYuY3JlYXRlR2VuZXJhdG9yVGVzdCgnUEFSVF9SU19FWElTVCcsIG1hcC5nZXRHZW5lcmF0b3IoKS5QQVJUX1JTX0VYSVNUKSxcclxuICAgICAgICAvLyBzZWxmLmNyZWF0ZUdlbmVyYXRvclRlc3QoJ1BBUlRfUlNfQVJFJywgbWFwLmdldEdlbmVyYXRvcigpLlBBUlRfUlNfQVJFKSxcclxuICAgICAgICAvLyBzZWxmLmNyZWF0ZUdlbmVyYXRvclRlc3QoJ1dIQVRfQUJPVVQnLCBtYXAuZ2V0R2VuZXJhdG9yKCkuV0hBVF9BQk9VVClcclxuXHJcblxyXG4vLyBjb21wdXRlUGFydHNCb3VuZHNcclxuXHJcbi8vIGNyZWF0ZVJUaGluZ1xyXG4vLyBhZGRTZWxlY3RlZFRoaW5nc0FzQ2hpbGRyZW5PZlxyXG4vLyBhZGRTZWxlY3RlZFRoaW5nQXNPcmRlcmVkU2lzdGVyT2ZcclxuLy8gYWRkU2VsZWN0ZWRUaGluZ3NBc1Npc3RlcnNPZlxyXG4vLyBhZGRUaGluZ0FzUlRoaW5nXHJcbi8vIHRvZ2dsZURGbGFnXHJcbi8vIHRvZ2dsZVNFeHBhbnNpb25cclxuLy8gdG9nZ2xlUEV4cGFuc2lvblxyXG5cclxuLy8gcHJlc2VudGVyOiBzZWxlY3QgZmlyc3Qgc2xpZGUgYW5kIGhpdCBwbGF5OyBtYWtlIHN1cmUgZmlyc3Qgc2xpZGUgbm90ZXMgYXBwZWFyXHJcblxyXG5cclxuXHJcbiAgICBdO1xyXG4gICAgXHJcbn07XHJcblxyXG5cclxuIiwiLy8gY29udHJvbGxlciBmb3IgbGlzdCBvZiB0b3AgbWFwc1xyXG5cclxud2luZG93LlRvcE1hcHNDdHJsID0gZnVuY3Rpb24oJHNjb3BlLCAkaHR0cCwgJHJlc291cmNlLCAkbW9kYWwsICRsb2cpIHtcclxuXHJcbiAgICAkc2NvcGUudG9wTWFwcyA9IFtdO1xyXG4gICAgJHNjb3BlLnVzZXJzID0gW107XHJcblxyXG4gICAgLy8gTkI6IHRoaXMgaXMgZHVwbGljYXRlZCBpbiBmZWVkLmpzLCBidXQgd2UgcmVwZWF0IGl0IGhlcmUgdG8gbWFrZSB0aGlzIGNvbnRyb2xsZXIgaW5kZXBlbmRlbnRcclxuICAgICRzY29wZS5vcmdhbml6YXRpb25zID0gW107XHJcblxyXG4gICAgJHNjb3BlLm9yZ2FuaXphdGlvbklkID0gJyc7XHJcblxyXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLSBtYXAgZGF0YSAtLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgICRzY29wZS5sb2FkVG9wTWFwcyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIC8vc3RhcnRTcGlubmVyKCk7XHJcbiAgICAgICAgJGh0dHAuZ2V0KCcvbWFwcy90b3BfbWFwcy5qc29uP29yZ2FuaXphdGlvbklkPScgKyAkc2NvcGUub3JnYW5pemF0aW9uSWQpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5vcmdhbml6YXRpb25zID0gcmVzcG9uc2UuZGF0YS5vcmdhbml6YXRpb25zO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnRvcE1hcHMgPSByZXNwb25zZS5kYXRhLnRvcE1hcHM7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudXNlcnMgPSByZXNwb25zZS5kYXRhLnVzZXJzO1xyXG4gICAgICAgICAgICAgICAgLy8gIHN0b3BTcGlubmVyKCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgLy9zdG9wU3Bpbm5lcigpO1xyXG4gICAgICAgICAgICAgICAgYWxlcnQoJ0NvdWxkIG5vdCBsb2FkIGxpc3Qgb2YgdG9wIG1hcHMnKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgICRzY29wZS5sb2FkVG9wTWFwcygpO1xyXG5cclxuICAgIC8vIC0tLS0tLS0tLS0tLS0tIHZpZXcgaGVscGVycyAtLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgICRzY29wZS5nZXRVc2VyTmFtZSA9IGZ1bmN0aW9uKHVzZXJJZCkge1xyXG4gICAgICAgIHZhciB1c2VyID0gXy5maW5kV2hlcmUoJHNjb3BlLnVzZXJzLCB7XHJcbiAgICAgICAgICAgIGlkOiB1c2VySWRcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gKHVzZXIgPyB1c2VyLm5hbWUgOiAnJyk7XHJcbiAgICB9O1xyXG5cclxufTtcclxuXHJcbndpbmRvdy5Ub3BNYXBzQ3RybC4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGh0dHAnLCAnJHJlc291cmNlJywgJyRtb2RhbCcsICckbG9nJ107IiwiU2FuZGJhbmtFZGl0b3IuVHV0b3JpYWwgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgLyoqIGxpa2UgalF1ZXJ5ICQoKSBidXQgc3RhcnRpbmcgZnJvbSAjdHV0b3JpYWwgKi9cclxuICAgIGZ1bmN0aW9uICR1aShzZWwpIHtcclxuICAgICAgICByZXR1cm4gc2VsID8gJCgnI3R1dG9yaWFsJykuZmluZChzZWwpIDogJCgnI3R1dG9yaWFsJyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIGN1cnJlbnQgc2VjdGlvbiBudW1iZXIgKGRpdi50dXRvcmlhbC1zZWN0aW9uKSAqL1xyXG4gICAgdmFyIF9zZWN0aW9uID0gMDtcclxuXHJcbiAgICAvKiogY3VycmVudCBjYXJkLW51bWJlciAoZGl2LnR1dG9yaWFsLWNhcmQpIGluIHRoZSBjdXJyZW50IHNlY3Rpb24gKi9cclxuICAgIHZhciBfY2FyZCA9IDA7XHJcblxyXG4gICAgLyoqIHRvdGFsIG51bWJlciBvZiBzZWN0aW9ucyAqL1xyXG4gICAgdmFyIE5VTV9TRUNUSU9OUyA9ICR1aSgnLnR1dG9yaWFsLXNlY3Rpb24nKS5sZW5ndGg7XHJcblxyXG4gICAgLyoqIHRvdGFsIG51bWJlciBvZiBjYXJkcyBpbiBlYWNoIHNlY3Rpb24gKi9cclxuICAgIHZhciBOVU1fQ0FSRFMgPSAkLm1hcChcclxuICAgICAgICAkdWkoJy50dXRvcmlhbC1zZWN0aW9uJyksXHJcbiAgICAgICAgZnVuY3Rpb24oc2VjdGlvbikge1xyXG4gICAgICAgICAgICByZXR1cm4gJChzZWN0aW9uKS5maW5kKCcudHV0b3JpYWwtY2FyZCcpLmxlbmd0aDtcclxuICAgICAgICB9XHJcbiAgICApO1xyXG5cclxuICAgIC8qKiB1cGRhdGUgdGhlIHR1dG9yaWFsIHZpZXcgKi9cclxuICAgIGZ1bmN0aW9uIF91cGRhdGUoKSB7XHJcbiAgICAgICAgJHVpKCcudHV0b3JpYWwtY2FyZCcpLmhpZGUoKTtcclxuXHJcbiAgICAgICAgdmFyICRzZWN0aW9uID0gJHVpKCcudHV0b3JpYWwtc2VjdGlvbicpLmVxKF9zZWN0aW9uKSxcclxuICAgICAgICAgICAgJGNhcmQgPSAkc2VjdGlvbi5maW5kKCcudHV0b3JpYWwtY2FyZCcpLmVxKF9jYXJkKTtcclxuXHJcbiAgICAgICAgJHVpKCkuYXR0cignY2xhc3MnLCAkY2FyZC5hdHRyKCdkYXRhLWNsYXNzJykpO1xyXG5cclxuICAgICAgICAkdWkoJy5wcmV2LWJ0bicpLnRvZ2dsZShfY2FyZCA+IDApO1xyXG4gICAgICAgICR1aSgnLm5leHQtYnRuJykudG9nZ2xlKF9jYXJkIDwgTlVNX0NBUkRTW19zZWN0aW9uXSk7XHJcblxyXG4gICAgICAgIHZhciAkcHJvZ3Jlc3MgPSAkdWkoJy50dXRvcmlhbC1wcm9ncmVzcycpO1xyXG5cclxuICAgICAgICAkcHJvZ3Jlc3MuZmluZCgnLnRpdGxlJykudGV4dCgkc2VjdGlvbi5hdHRyKCdkYXRhLXRpdGxlJykpO1xyXG4gICAgICAgICRwcm9ncmVzcy5maW5kKCcuY2FyZCcpLnRleHQoX2NhcmQgKyAxKTtcclxuICAgICAgICAkcHJvZ3Jlc3MuZmluZCgnLnRvdGFsJykudGV4dChOVU1fQ0FSRFNbX3NlY3Rpb25dKTtcclxuXHJcbiAgICAgICAgJGNhcmQuc2hvdygnZmFzdCcpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKiBzdGFydCB0aGUgdHV0b3JpYWwgKi9cclxuICAgIGZ1bmN0aW9uIHN0YXJ0KHNlY3Rpb24sIGNhcmQpIHtcclxuICAgICAgICBfc2VjdGlvbiA9IHNlY3Rpb24gfHwgMDtcclxuICAgICAgICBfY2FyZCA9IGNhcmQgfHwgMDtcclxuICAgICAgICBfdXBkYXRlKCk7XHJcbiAgICAgICAgJHVpKCkuc2hvdygpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKiBidXR0b246IGdvIHRvIHRoZSBuZXh0IGNhcmQgKi9cclxuICAgIGZ1bmN0aW9uIG5leHQoKSB7XHJcbiAgICAgICAgaWYgKF9jYXJkICsgMSA9PT0gTlVNX0NBUkRTW19zZWN0aW9uXSkge1xyXG4gICAgICAgICAgICBfY2FyZCA9IDA7XHJcbiAgICAgICAgICAgIF9zZWN0aW9uKys7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgX2NhcmQrKztcclxuICAgICAgICB9XHJcbiAgICAgICAgX3VwZGF0ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKiBidXR0b246IGdvIHRvIHRoZSBwcmV2aW91cyBjYXJkICovXHJcbiAgICBmdW5jdGlvbiBwcmV2KCkge1xyXG4gICAgICAgIF9jYXJkLS07XHJcbiAgICAgICAgX3VwZGF0ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKiBidXR0b246IGNsb3NlIHRoZSB0dXRvcmlhbCAqL1xyXG4gICAgZnVuY3Rpb24gY2xvc2UoKSB7XHJcbiAgICAgICAgJHVpKCkuaGlkZSgnZmFzdCcpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKiBob29rIHVwIHRoZSBidXR0b25zICovXHJcbiAgICBmdW5jdGlvbiBfaW5pdENvbnRyb2xzKCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIG9uY2xpY2soc2VsLCBmbikge1xyXG4gICAgICAgICAgICAkdWkoc2VsKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIG9uY2xpY2soJy5wcmV2LWJ0bicsIHByZXYpO1xyXG4gICAgICAgIG9uY2xpY2soJy5uZXh0LWJ0biwgLnN0YXJ0LWJ0bicsIG5leHQpO1xyXG4gICAgICAgIG9uY2xpY2soJy5za2lwLWJ0biwgLmRvbmUtYnRuJywgY2xvc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIF9pbml0Q29udHJvbHMoKTtcclxuXHJcbiAgICAvLyBQdWJsaWMgaW50ZXJmYWNlOlxyXG5cclxuICAgIHRoaXMuc3RhcnQgPSBzdGFydDtcclxuXHJcbn07XHJcbiIsIlNhbmRiYW5rRWRpdG9yLlVJID0gZnVuY3Rpb24oJHNjb3BlLCAkdGltZW91dCwgJGh0dHAsICRyZXNvdXJjZSwgJG1vZGFsLCAkbG9nLCBtYXApIHtcclxuXHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgLy8gLS0tLS0tLS0tLS0gdGFiIChcInNsaWRlclwiKSBJRHMgLSB0YWJzIGFyZSByZW5kZXJlZCBpbiB2aWV3cy9tYXBzL19mb3JtIC0tLS0tLS0tLS0tLS0tXHJcbiAgICAvL3RoaXMuVEFCX0lEX0hJU1RPUlkgPSAnaGlzdG9yeS10YWInO1xyXG4gICAgdGhpcy5UQUJfSURfUFJFU0VOVEVSID0gJ3ByZXNlbnRlci10YWInO1xyXG4gICAgdGhpcy5UQUJfSURfQU5BTFlUSUNTX01BUCA9ICdhbmFseXRpY3MtdGFiLW1hcCc7XHJcbiAgICB0aGlzLlRBQl9JRF9BTkFMWVRJQ1NfVEhJTkcgPSAnYW5hbHl0aWNzLXRhYi10aGluZyc7XHJcbiAgICB0aGlzLlRBQl9JRF9QRVJTUEVDVElWRVMgPSAncGVyc3BlY3RpdmVzLXRhYic7XHJcbiAgICB0aGlzLlRBQl9JRF9ESVNUSU5DVElPTlMgPSAnZGlzdGluY3Rpb25zLXRhYic7XHJcbiAgICB0aGlzLlRBQl9JRF9BVFRBQ0hNRU5UUyA9ICdhdHRhY2htZW50cy10YWInO1xyXG4gICAgdGhpcy5UQUJfSURfR0VORVJBVE9SID0gJ2dlbmVyYXRvci10YWInO1xyXG4gICAgdGhpcy5UQUJfSURfU1RBTkRBUkRTID0gJ3N0YW5kYXJkcy10YWInO1xyXG5cclxuICAgIHRoaXMuaW5pdCA9IGZ1bmN0aW9uKCkge307XHJcblxyXG4gICAgLy8gLS0tLS0tLS0tLS0tIGVkaXRvciBvcHRpb25zIGZvciBtYXAvdXNlciAtLS0tLS0tLS0tXHJcblxyXG4gICAgdmFyIG1hcEVkaXRvck9wdGlvbnMgPSB7fTtcclxuXHJcbiAgICB2YXIgZGVmYXVsdEVkaXRvck9wdGlvbnMgPSB7XHJcbiAgICAgICAgLy8gbm9BcnJvd3MsIHRvLCBmcm9tLCB0b0Zyb21cclxuICAgICAgICBkZWZhdWx0UmVsYXRpb25zaGlwRGlyZWN0aW9uOiAnbm9BcnJvd3MnLFxyXG4gICAgICAgIC8vIGxlZnQsIHJpZ2h0LCBzdGFja2VkLCBmcmVlaGFuZFxyXG4gICAgICAgIGRlZmF1bHRUaGluZ0xheW91dDogJ2xlZnQnLFxyXG4gICAgICAgIC8vIGxpbmVzLCBzcG90bGlnaHQsIGJvdGhcclxuICAgICAgICBwZXJzcGVjdGl2ZU1vZGU6ICdsaW5lcydcclxuICAgIH07XHJcblxyXG4gICAgLy8gY2FsbGVkIHdoZW4gbWFwIGlzIGxvYWRlZCB0byBzZXQgc3RvcmVkIG9wdGlvbnMgZm9yIG1hcFxyXG4gICAgdGhpcy5zZXRNYXBFZGl0b3JPcHRpb25zID0gZnVuY3Rpb24ob3B0aW9ucykge1xyXG4gICAgICAgIG1hcEVkaXRvck9wdGlvbnMgPSBvcHRpb25zO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyByZXR1cm5zIGFwcHJvcHJpYXRlIHZhbHVlcyBmcm9tIHRoZSB1c2VyIHByb2ZpbGUgb3IgdGhlIGRlZmF1bHQgb3B0aW9ucyBpZiBvcHRpb25zIGFyZSBub3Qgc2V0IGZvciB0aGUgbWFwXHJcbiAgICB0aGlzLmdldE1hcEVkaXRvck9wdGlvbnMgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgcHJvZmlsZU9wdGlvbnMgPSAoJHNjb3BlLnVzZXJQcm9maWxlID8gJHNjb3BlLnVzZXJQcm9maWxlLmVkaXRvck9wdGlvbnMgOiBudWxsKTtcclxuICAgICAgICB2YXIgdmFscyA9IFttYXBFZGl0b3JPcHRpb25zLCBwcm9maWxlT3B0aW9ucywgZGVmYXVsdEVkaXRvck9wdGlvbnNdO1xyXG4gICAgICAgIG1hcEVkaXRvck9wdGlvbnMgPSBfLmZpbmQodmFscywgZnVuY3Rpb24odmFsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAhXy5pc0VtcHR5KHZhbCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIG1hcEVkaXRvck9wdGlvbnM7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIHNhdmVzIGRlZmF1bHQgb3B0aW9ucyBmb3IgdGhlIHVzZXIgKG1hcCBvcHRpb25zIGFyZSBzYXZlZCBpbiBhdXRvc2F2ZS5qcylcclxuICAgIGZ1bmN0aW9uIHNhdmVVc2VyRWRpdG9yT3B0aW9ucyhvcHRpb25zKSB7XHJcbiAgICAgICAgdmFyIGRhdGEgPSB7XHJcbiAgICAgICAgICAgIHVzZXI6IHtcclxuICAgICAgICAgICAgICAgIGVkaXRvcl9vcHRpb25zOiBKU09OLnN0cmluZ2lmeShvcHRpb25zKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgc3RhcnRTcGlubmVyKCk7XHJcbiAgICAgICAgJGh0dHAucHV0KCcvdXNlcnMvJyArICRzY29wZS51c2VySWQgKyAnLmpzb24nLCBkYXRhKS50aGVuKFxyXG4gICAgICAgICAgICBmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgc3RvcFNwaW5uZXIoKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBzdG9wU3Bpbm5lcigpO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnByb2ZpbGVFZGl0U3RhdHVzID0gJ0NvdWxkIG5vdCBzYXZlIGVkaXRvciBvcHRpb25zJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gb3B0aW9ucyBtb2RhbFxyXG5cclxuICAgICRzY29wZS5lZGl0b3JPcHRpb25zID0gbmV3IFNhbmRiYW5rRWRpdG9yT3B0aW9ucygkc2NvcGUsICRodHRwLCAkcmVzb3VyY2UsICRtb2RhbCwgJGxvZyk7XHJcblxyXG4gICAgdGhpcy5lZGl0T3B0aW9ucyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICRzY29wZS5lZGl0b3JPcHRpb25zLm9wZW5Nb2RhbChcclxuICAgICAgICAgICAgbWFwRWRpdG9yT3B0aW9ucyxcclxuICAgICAgICAgICAgZnVuY3Rpb24ob3B0aW9ucykgeyAvLyBvblNhdmVEZWZhdWx0c1xyXG4gICAgICAgICAgICAgICAgc2F2ZVVzZXJFZGl0b3JPcHRpb25zKG9wdGlvbnMpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBmdW5jdGlvbihvcHRpb25zKSB7IC8vIG9uVXBkYXRlXHJcbiAgICAgICAgICAgICAgICBtYXBFZGl0b3JPcHRpb25zID0gb3B0aW9ucztcclxuICAgICAgICAgICAgICAgIG1hcC5nZXRBdXRvc2F2ZSgpLnNhdmVOb3coJ2VkaXRfb3B0aW9ucycpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKTtcclxuICAgIH07XHJcblxyXG5cclxuICAgIC8vIC0tLS0tLS0tLS0tLSBzdGF0ZSBtb2RlbCAtLS0tLS0tLS0tXHJcblxyXG4gICAgdGhpcy5zdGF0ZSA9IHt9O1xyXG5cclxuICAgIHZhciBkZWZhdWx0U3RhdGUgPSB7XHJcbiAgICAgICAgc2hvd05hdmlnYXRvcjogZmFsc2UsXHJcbiAgICAgICAgY3VycmVudFRhYjogbnVsbCxcclxuICAgICAgICBwZXJzcGVjdGl2ZVBvaW50S2V5OiBudWxsLFxyXG4gICAgICAgIGRpc3RpbmN0aW9uVGhpbmdLZXk6IG51bGxcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5zZXRTdGF0ZURhdGEgPSBmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgLy8kc2NvcGUuc2FmZUFwcGx5KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIC8vICAgIHNlbGYuc3RhdGUgPSBkYXRhIHx8IGRlZmF1bHRTdGF0ZTtcclxuICAgICAgICAvLyAgICAvLyRzY29wZS5jdXJyZW50VGFiID0gc2VsZi5zdGF0ZS5jdXJyZW50VGFiO1xyXG4gICAgICAgIC8vfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIFRPRE86IFNhdmUgc3RhdGUgbW9yZSBmcmVxdWVudGx5Pz8gQ3VycmVudGx5IGl0IGlzIG9ubHkgc2F2ZWQgd2hlbiBhdXRvc2F2ZSBpcyB0cmlnZ2VyZWQgYnkgb3RoZXIgYWN0aW9ucy4uLlxyXG5cclxuICAgIHRoaXMuZ2V0U3RhdGVEYXRhID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHNlbGYuc3RhdGU7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIC0tLS0tLS0tLS0tIHRlbXBvcmFyeSBzdGF0ZSBmbGFncyAtLS0tLS0tLS0tLS1cclxuXHJcbiAgICB0aGlzLnpvb21pbmdUb1JlZ2lvbiA9IGZhbHNlO1xyXG5cclxuICAgIHRoaXMubW91c2VPdmVyR3JvdXAgPSBudWxsO1xyXG4gICAgdGhpcy5tb3VzZU92ZXJMaW5rID0gbnVsbDtcclxuXHJcbiAgICB0aGlzLmRyYWdUYXJnZXRHcm91cCA9IG51bGw7XHJcbiAgICB0aGlzLmRyYWdUYXJnZXRQb3NpdGlvbiA9IG51bGw7XHJcblxyXG4gICAgdGhpcy5oZWxwVGlwID0gbnVsbDtcclxuXHJcbiAgICAvLyAtLS0tLS0tLS0tLSBoYW5kbGUgYm90dG9tIHRhYnMgKFwic2xpZGVyc1wiKSAtLS0tLS0tLS0tLS0tXHJcblxyXG4gICAgLy8gaW4gdGhlIGZvbGxvd2luZyBmdW5jdGlvbnMsIElEIGlzIGUuZy4gJ2hpc3RvcnktdGFiJyAoSUQgb2Ygb25lIG9mIHRoZSAuYm90dG9tLXRhYidzKVxyXG5cclxuICAgIC8vIHRoaXMgaXMgY2FsbGVkIGJ5IG1hcC5jdXJyZW50VGFiQ2hhbmdlZCwgd2hpY2ggaXMgdHJpZ2dlcmVkIGJ5IGEgJHNjb3BlLiR3YXRjaFxyXG4gICAgdGhpcy5jdXJyZW50VGFiQ2hhbmdlZCA9IGZ1bmN0aW9uKG5ld1ZhbHVlLCBvbGRWYWx1ZSkge1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coJ3VpLCBjdXJyZW50VGFiQ2hhbmdlZDogJyArIG5ld1ZhbHVlKTtcclxuICAgICAgICBzZWxmLnN0YXRlLmN1cnJlbnRUYWIgPSBuZXdWYWx1ZTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5jdXJyZW50VGFiSXMgPSBmdW5jdGlvbih0YWJJRCkge1xyXG4gICAgICAgIHJldHVybiAkc2NvcGUuY3VycmVudFRhYiA9PSB0YWJJRDtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5vcGVuVGFiID0gZnVuY3Rpb24odGFiSUQpIHtcclxuICAgICAgICAvLyRzY29wZS5zYWZlQXBwbHkoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgLy8gICAgJHNjb3BlLmN1cnJlbnRUYWIgPSB0YWJJRDtcclxuICAgICAgICAvL30pO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmNsb3NlVGFiID0gZnVuY3Rpb24odGFiSUQpIHtcclxuICAgICAgICAvLyRzY29wZS5zYWZlQXBwbHkoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgLy8gICAgc2VsZi5zdGF0ZS5jdXJyZW50VGFiID0gbnVsbDsgLy8gVE9ETzogdHJpZ2dlciBhdXRvc2F2ZVxyXG4gICAgICAgIC8vICAgICRzY29wZS5jdXJyZW50VGFiID0gbnVsbDtcclxuICAgICAgICAvL30pO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmRpc2FibGVUYWIgPSBmdW5jdGlvbih0YWJJRCkge1xyXG4gICAgICAgIC8vIHByZXZlbnQgb3BlbmluZyBvdGhlciB0YWJzIHdoZW4gaW4gUCBvciBEIGVkaXRvclxyXG4gICAgICAgIGlmICgkc2NvcGUuY3VycmVudFRhYiA9PSBzZWxmLlRBQl9JRF9QRVJTUEVDVElWRVMgfHwgJHNjb3BlLmN1cnJlbnRUYWIgPT0gc2VsZi5UQUJfSURfRElTVElOQ1RJT05TKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMudG9nZ2xlVGFiID0gZnVuY3Rpb24odGFiSUQpIHtcclxuICAgICAgICAvLyRzY29wZS5zYWZlQXBwbHkoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgLy8gICAgaWYgKCRzY29wZS5jdXJyZW50VGFiID09IHRhYklEKSB7XHJcbiAgICAgICAgLy8gICAgICAgICRzY29wZS5jdXJyZW50VGFiID0gbnVsbDtcclxuICAgICAgICAvLyAgICB9IGVsc2UgaWYgKCFzZWxmLmRpc2FibGVUYWIodGFiSUQpKSB7XHJcbiAgICAgICAgLy8gICAgICAgICRzY29wZS5jdXJyZW50VGFiID0gdGFiSUQ7XHJcbiAgICAgICAgLy8gICAgfVxyXG4gICAgICAgIC8vfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMudG9nZ2xlTmF2aWdhdG9yID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgLy8kc2NvcGUuc2FmZUFwcGx5KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIC8vICAgIHNlbGYuc3RhdGUuc2hvd05hdmlnYXRvciA9ICFzZWxmLnN0YXRlLnNob3dOYXZpZ2F0b3I7XHJcbiAgICAgICAgLy99KTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy50b2dnbGVab29taW5nVG9SZWdpb24gPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAvLyRzY29wZS5zYWZlQXBwbHkoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgLy8gICAgc2VsZi56b29taW5nVG9SZWdpb24gPSAhc2VsZi56b29taW5nVG9SZWdpb247XHJcbiAgICAgICAgLy99KTtcclxuICAgIH07XHJcblxyXG5cclxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tIHpvb21pbmcgZnVuY3Rpb25zIC0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgICB0aGlzLmNhblpvb21JbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiBtYXAuZ2V0RGlhZ3JhbSgpLnNjYWxlIDwgMzI7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuY2FuWm9vbU91dCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiBtYXAuZ2V0RGlhZ3JhbSgpLnNjYWxlID4gMC4yNTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy56b29tSW4gPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgZGlhZ3JhbSA9IG1hcC5nZXREaWFncmFtKCk7XHJcbiAgICAgICAgaWYgKGRpYWdyYW0uc2NhbGUgPCAzMikge1xyXG4gICAgICAgICAgICB2YXIgdmIgPSBkaWFncmFtLnZpZXdwb3J0Qm91bmRzLmNvcHkoKTtcclxuICAgICAgICAgICAgZGlhZ3JhbS5zY2FsZSA9IGRpYWdyYW0uc2NhbGUgKiAyO1xyXG4gICAgICAgICAgICBkaWFncmFtLmNlbnRlclJlY3QodmIpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdGhpcy56b29tT3V0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIGRpYWdyYW0gPSBtYXAuZ2V0RGlhZ3JhbSgpO1xyXG4gICAgICAgIGlmIChkaWFncmFtLnNjYWxlID4gMC4yNSkge1xyXG4gICAgICAgICAgICB2YXIgdmIgPSBkaWFncmFtLnZpZXdwb3J0Qm91bmRzLmNvcHkoKTtcclxuICAgICAgICAgICAgZGlhZ3JhbS5zY2FsZSA9IGRpYWdyYW0uc2NhbGUgLyAyO1xyXG4gICAgICAgICAgICBkaWFncmFtLmNlbnRlclJlY3QodmIpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5tYXliZVpvb21Ub1JlZ2lvbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBkaWFncmFtID0gbWFwLmdldERpYWdyYW0oKTtcclxuICAgICAgICAvLyB0aGlzIGZsYWcgaXMgc2V0IGJ5IHRoZSB0b29sYmFyIGJ1dHRvblxyXG4gICAgICAgIGlmIChzZWxmLnpvb21pbmdUb1JlZ2lvbikge1xyXG4gICAgICAgICAgICBzZWxmLnpvb21pbmdUb1JlZ2lvbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnem9vbVRvUmVnaW9uLCBzZWxlY3Rpb24gY291bnQ6ICcgKyBkaWFncmFtLnNlbGVjdGlvbi5jb3VudCk7XHJcbiAgICAgICAgICAgIHZhciByZWN0ID0gZGlhZ3JhbS5jb21wdXRlUGFydHNCb3VuZHMoZGlhZ3JhbS5zZWxlY3Rpb24pO1xyXG4gICAgICAgICAgICBkaWFncmFtLnpvb21Ub1JlY3QocmVjdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vJHNjb3BlLnNhZmVBcHBseSgpO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnJlc2V0Wm9vbSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBkaWFncmFtID0gbWFwLmdldERpYWdyYW0oKTtcclxuICAgICAgICAvL3ZhciByZWN0ID0gZGlhZ3JhbS5jb21wdXRlUGFydHNCb3VuZHMoZGlhZ3JhbS5ub2RlcykuY29weSgpO1xyXG4gICAgICAgIHZhciByZWN0ID0gbWFwLnNhZmVSZWN0KG1hcC5jb21wdXRlTWFwQm91bmRzKCkpO1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coJ3Jlc2V0Wm9vbSwgYm91bmRzOiAnICsgcmVjdCk7XHJcbiAgICAgICAgaWYgKHJlY3Qud2lkdGgpIHtcclxuICAgICAgICAgICAgcmVjdC5pbmZsYXRlKHJlY3Qud2lkdGggLyA1LCByZWN0LmhlaWdodCAvIDUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBkaWFncmFtLnpvb21Ub1JlY3QocmVjdCk7XHJcbiAgICAgICAgZGlhZ3JhbS5hbGlnbkRvY3VtZW50KGdvLlNwb3QuQ2VudGVyLCBnby5TcG90LkNlbnRlcik7XHJcbiAgICAgICAgaWYgKGRpYWdyYW0uc2NhbGUgPiAxKSB7XHJcbiAgICAgICAgICAgIGRpYWdyYW0uc2NhbGUgPSAxO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy8gLS0tLS0tLS0tLS0tIHRoaW5nIG9wdGlvbnMgKGxheW91dCkgLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgIHRoaXMuZ2V0U2VsZWN0ZWRUaGluZ3NPckRlZmF1bHRMYXlvdXQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgc2wgPSBzZWxmLmdldFNlbGVjdGVkVGhpbmdzTGF5b3V0KCk7XHJcbiAgICAgICAgaWYgKHNsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzbDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gbWFwRWRpdG9yT3B0aW9ucy5kZWZhdWx0VGhpbmdMYXlvdXQ7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyByZXR1cm5zIGEgbm9uLW51bGwgdmFsdWUgb25seSBpZiBhbGwgc2VsZWN0ZWQgaXRlbXMgYXJlIGdyb3VwcyB3aXRoIHRoZSBzYW1lIGxheW91dFxyXG4gICAgdGhpcy5nZXRTZWxlY3RlZFRoaW5nc0xheW91dCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBkaWFncmFtID0gbWFwLmdldERpYWdyYW0oKTtcclxuICAgICAgICBpZiAoZGlhZ3JhbSA9PT0gbnVsbCB8fCBkaWFncmFtLnNlbGVjdGlvbi5jb3VudCA8IDEpXHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG5cclxuICAgICAgICB2YXIgbGF5b3V0ID0gbnVsbDtcclxuICAgICAgICB2YXIgaXQgPSBkaWFncmFtLnNlbGVjdGlvbi5pdGVyYXRvcjtcclxuICAgICAgICB3aGlsZSAoaXQubmV4dCgpKSB7XHJcbiAgICAgICAgICAgIGlmICghaXQudmFsdWUgaW5zdGFuY2VvZiBnby5Hcm91cClcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB2YXIgZ3JvdXAgPSBpdC52YWx1ZTtcclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnZ2V0U2VsZWN0ZWRUaGluZ3NMYXlvdXQsIGl0LnZhbHVlOiAnICsgZ3JvdXApO1xyXG4gICAgICAgICAgICB2YXIgZ3JvdXBMYXlvdXQgPSAoZ3JvdXAuZGF0YSA/IGdyb3VwLmRhdGEubGF5b3V0IDogbnVsbCk7XHJcbiAgICAgICAgICAgIGlmIChsYXlvdXQgIT09IG51bGwgJiYgZ3JvdXBMYXlvdXQgIT0gbGF5b3V0KVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIGxheW91dCA9IGdyb3VwTGF5b3V0O1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL2NvbnNvbGUubG9nKCdnZXRTZWxlY3RlZFRoaW5nc0xheW91dDogJyArIGxheW91dCk7XHJcblxyXG4gICAgICAgIHJldHVybiBsYXlvdXQ7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIHNldHMgdGhlIGxheW91dCBvZiBhbGwgc2VsZWN0ZWQgdGhpbmdzIHRvIHRoZSBnaXZlbiBsYXlvdXRcclxuICAgIHRoaXMuc2V0U2VsZWN0ZWRUaGluZ3NMYXlvdXQgPSBmdW5jdGlvbihsYXlvdXROYW1lKSB7XHJcbiAgICAgICAgdmFyIGRpYWdyYW0gPSBtYXAuZ2V0RGlhZ3JhbSgpO1xyXG4gICAgICAgIHZhciBpdCA9IGRpYWdyYW0uc2VsZWN0aW9uLml0ZXJhdG9yO1xyXG4gICAgICAgIHdoaWxlIChpdC5uZXh0KCkpIHtcclxuICAgICAgICAgICAgaWYgKGl0LnZhbHVlIGluc3RhbmNlb2YgZ28uR3JvdXApIHtcclxuICAgICAgICAgICAgICAgIHZhciBncm91cCA9IGl0LnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgZGlhZ3JhbS5tb2RlbC5zZXREYXRhUHJvcGVydHkoZ3JvdXAuZGF0YSwgJ2xheW91dCcsIGxheW91dE5hbWUpO1xyXG4gICAgICAgICAgICAgICAgbWFwLmdldExheW91dHMoKS5zZXREZXNjZW5kYW50TGF5b3V0cyhncm91cCwgZ3JvdXAuZGF0YS5sYXlvdXQpO1xyXG4gICAgICAgICAgICAgICAgbWFwLnJlZnJlc2goKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy8gLS0tLS0tLS0tLS0tIHJlbGF0aW9uc2hpcCBvcHRpb25zIChkaXJlY3Rpb24pIC0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgICB0aGlzLmdldFNlbGVjdGVkUmVsYXRpb25zaGlwc09yRGVmYXVsdERpcmVjdGlvbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBzZCA9IHNlbGYuZ2V0U2VsZWN0ZWRSZWxhdGlvbnNoaXBzRGlyZWN0aW9uKCk7XHJcbiAgICAgICAgaWYgKHNkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzZDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gbWFwRWRpdG9yT3B0aW9ucy5kZWZhdWx0UmVsYXRpb25zaGlwRGlyZWN0aW9uO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy8gcmV0dXJucyBhIG5vbi1udWxsIHZhbHVlIG9ubHkgaWYgYWxsIHNlbGVjdGVkIGl0ZW1zIGFyZSByZWxhdGlvbnNoaXBzIHdpdGggdGhlIHNhbWUgZGlyZWN0aW9uXHJcbiAgICB0aGlzLmdldFNlbGVjdGVkUmVsYXRpb25zaGlwc0RpcmVjdGlvbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBkaWFncmFtID0gbWFwLmdldERpYWdyYW0oKTtcclxuICAgICAgICBpZiAoZGlhZ3JhbSA9PT0gbnVsbCB8fCBkaWFncmFtLnNlbGVjdGlvbi5jb3VudCA8IDEpXHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG5cclxuICAgICAgICB2YXIgdHlwZSA9IG51bGw7XHJcbiAgICAgICAgdmFyIGl0ID0gZGlhZ3JhbS5zZWxlY3Rpb24uaXRlcmF0b3I7XHJcbiAgICAgICAgd2hpbGUgKGl0Lm5leHQoKSkge1xyXG4gICAgICAgICAgICBpZiAoIWl0LnZhbHVlIGluc3RhbmNlb2YgZ28uTGluaylcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB2YXIgbGluayA9IGl0LnZhbHVlO1xyXG4gICAgICAgICAgICB2YXIgbGlua1R5cGUgPSAobGluay5kYXRhID8gbGluay5kYXRhLnR5cGUgOiBudWxsKTtcclxuICAgICAgICAgICAgaWYgKHR5cGUgIT09IG51bGwgJiYgbGlua1R5cGUgIT0gdHlwZSlcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB0eXBlID0gbGlua1R5cGU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdHlwZTtcclxuICAgIH07XHJcblxyXG4gICAgLy8gc2V0cyB0aGUgZGlyZWN0aW9uIG9mIGFsbCBzZWxlY3RlZCByZWxhdGlvbnNoaXBzIHRvIHRoZSBnaXZlbiBkaXJlY3Rpb25cclxuICAgIHRoaXMuc2V0U2VsZWN0ZWRSZWxhdGlvbnNoaXBzRGlyZWN0aW9uID0gZnVuY3Rpb24oZGlyZWN0aW9uKSB7XHJcbiAgICAgICAgdmFyIGRpYWdyYW0gPSBtYXAuZ2V0RGlhZ3JhbSgpO1xyXG4gICAgICAgIC8vZGlhZ3JhbS5tb2RlbC5zdGFydFRyYW5zYWN0aW9uKFwiY2hhbmdlIHJlbGF0aW9uc2hpcCBkaXJlY3Rpb25cIik7XHJcbiAgICAgICAgdmFyIGl0ID0gZGlhZ3JhbS5zZWxlY3Rpb24uaXRlcmF0b3I7XHJcbiAgICAgICAgd2hpbGUgKGl0Lm5leHQoKSkge1xyXG4gICAgICAgICAgICBpZiAoaXQudmFsdWUgaW5zdGFuY2VvZiBnby5MaW5rKSB7XHJcbiAgICAgICAgICAgICAgICAvL2RpYWdyYW0ubW9kZWwuc3RhcnRUcmFuc2FjdGlvbihcImNoYW5nZSBsaW5rIHR5cGVcIik7XHJcbiAgICAgICAgICAgICAgICBkaWFncmFtLm1vZGVsLnNldERhdGFQcm9wZXJ0eShpdC52YWx1ZS5kYXRhLCAndHlwZScsIGRpcmVjdGlvbik7XHJcbiAgICAgICAgICAgICAgICAvL2RpYWdyYW0ubW9kZWwuY29tbWl0VHJhbnNhY3Rpb24oXCJjaGFuZ2UgbGluayB0eXBlXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vZGlhZ3JhbS5jb21taXRUcmFuc2FjdGlvbihcImNoYW5nZSByZWxhdGlvbnNoaXAgZGlyZWN0aW9uXCIpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyAtLS0tLS0tIGhhbmRsZSBjb3JuZXIgY2xpY2tzIGFuZCBkb3VibGUgY2xpY2tzIC0tLS0tLS0tXHJcblxyXG4gICAgdmFyIF9jb3JuZXJDbGlja2VkID0gbnVsbDtcclxuICAgIHZhciBfY29ybmVyRnVuY3Rpb24gPSBudWxsO1xyXG4gICAgdmFyIF9jb3JuZXJUaW1lb3V0ID0gMzAwO1xyXG5cclxuICAgIHRoaXMuaGFuZGxlQ29ybmVyQ2xpY2sgPSBmdW5jdGlvbihjb3JuZXIsIHRoaW5nKSB7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZygnaGFuZGxlQ29ybmVyQ2xpY2s6IGNvcm5lciA9ICcgKyBjb3JuZXIgKyAnLCBjb3JuZXJDbGlja2VkID0gJyArIF9jb3JuZXJDbGlja2VkKTtcclxuICAgICAgICAvLyBhc3N1bWUgaXQncyBhIHNpbmdsZSBjbGljaywgYW5kIHNldCBoYW5kbGVyXHJcbiAgICAgICAgX2Nvcm5lckZ1bmN0aW9uID0gZ2V0Q29ybmVyRnVuY3Rpb24oY29ybmVyLCAxKTtcclxuICAgICAgICAvLyBhbHJlYWR5IGNsaWNrZWQsIHNvIGl0J3MgYSBkb3VibGUgY2xpY2s7IGNoYW5nZSBoYW5kbGVyXHJcbiAgICAgICAgaWYgKF9jb3JuZXJDbGlja2VkID09IGNvcm5lcikge1xyXG4gICAgICAgICAgICBfY29ybmVyRnVuY3Rpb24gPSBnZXRDb3JuZXJGdW5jdGlvbihjb3JuZXIsIDIpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnaGFuZGxlQ29ybmVyQ2xpY2s6IGRvdWJsZSBjbGljayBvbiAnICsgY29ybmVyKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyByZW1lbWJlciB0aGF0IGF0IGxlYXN0IG9uZSBjbGljayBoYXMgaGFwcGVuZWQgZm9yIHRoZSBjdXJyZW50IGNvcm5lclxyXG4gICAgICAgIF9jb3JuZXJDbGlja2VkID0gY29ybmVyO1xyXG5cclxuICAgICAgICAvLyBzZXQgdGltZXIgdG8gaW52b2tlIHdoYXRldmVyIGhhbmRsZXIgd2UgaGF2ZSByZWFkeSB0byBnbyAodW5sZXNzIGFub3RoZXIgY2xpY2sgaGFwcGVucyB3aXRoaW4gdGhlIGludGVydmFsKVxyXG4gICAgICAgIHZhciB0aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIC8vIGRpbmchIGludm9rZSBpdFxyXG4gICAgICAgICAgICBpZiAoX2Nvcm5lckZ1bmN0aW9uID09IHNlbGYuc2hvd0Nvcm5lclRpcCkge1xyXG4gICAgICAgICAgICAgICAgX2Nvcm5lckZ1bmN0aW9uKHRoaW5nLCBjb3JuZXIpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgX2Nvcm5lckZ1bmN0aW9uKHRoaW5nKTsgLy8gZG9uJ3QgcGFzcyB0aGUgY29ybmVyIGFyZyB0byB0aGluZ3MgbGlrZSBjcmVhdGVDaGlsZCB0aGF0IGhhdmUgYSBkaWZmZXJlbnQgc2Vjb25kIGFyZ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIHJlc2V0IGhhbmRsZXIgYW5kIGNsaWNrZWQgZmxhZ1xyXG4gICAgICAgICAgICBfY29ybmVyRnVuY3Rpb24gPSBnZXRDb3JuZXJGdW5jdGlvbihjb3JuZXIsIDEpO1xyXG4gICAgICAgICAgICBfY29ybmVyQ2xpY2tlZCA9IG51bGw7XHJcbiAgICAgICAgfSwgX2Nvcm5lclRpbWVvdXQpO1xyXG4gICAgfTtcclxuXHJcbiAgICBmdW5jdGlvbiBnZXRDb3JuZXJGdW5jdGlvbihjb3JuZXIsIGNsaWNrcykge1xyXG4gICAgICAgIGlmIChjb3JuZXIgPT0gXCJEXCIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIChjbGlja3MgPT0gMSA/IHNlbGYuc2hvd0Nvcm5lclRpcCA6IG1hcC5jcmVhdGVTaXN0ZXIpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoY29ybmVyID09IFwiU1wiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoY2xpY2tzID09IDEgPyBtYXAudG9nZ2xlU0V4cGFuc2lvbiA6IG1hcC5jcmVhdGVDaGlsZCk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChjb3JuZXIgPT0gXCJSXCIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIChjbGlja3MgPT0gMSA/IHNlbGYuc2hvd0Nvcm5lclRpcCA6IG1hcC5jcmVhdGVSVG9TaXN0ZXIpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoY29ybmVyID09IFwiUFwiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoY2xpY2tzID09IDEgPyBtYXAudG9nZ2xlUEV4cGFuc2lvbiA6IG1hcC5nZXRQZXJzcGVjdGl2ZXMoKS5zZXRQRWRpdG9yUG9pbnQpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoY29ybmVyID09PSBcIlwiKSB7IC8vIGNsaWNrIG9uIHRleHRcclxuICAgICAgICAgICAgcmV0dXJuIChjbGlja3MgPT0gMSA/IHNlbGYuc2hvd0Nvcm5lclRpcCA6IGVkaXRUZXh0KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZ2V0Q29ybmVyRnVuY3Rpb246IG5vIGZ1bmN0aW9uIGZvdW5kIGZvciBjb3JuZXI6ICcgKyBjb3JuZXIgKyAnIScpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBOQjogaW4gdGhpcyBjYXNlIHRoZSB0aGluZyBpcyBhY3R1YWxseSB0aGUgVGV4dEJveCwgZXhjZXB0IGluIG91dGxpbmUgbGF5b3V0IGl0IGlzIGEgUGFuZWwgaWYgdGhlIGJveCBpcyBkb3VibGUtY2xpY2tlZC4uLlxyXG4gICAgZnVuY3Rpb24gZWRpdFRleHQodGhpbmcsIGNvcm5lcikge1xyXG4gICAgICAgIGlmICghJHNjb3BlLmNhbkVkaXQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zb2xlLmxvZygnZWRpdFRleHQsIHRoaW5nOiAnICsgdGhpbmcpO1xyXG4gICAgICAgIGlmICh0aGluZyBpbnN0YW5jZW9mIGdvLlBhbmVsKSB7IC8vIG91dGxpbmUgbGF5b3V0XHJcbiAgICAgICAgICAgIHZhciBwYXJ0ID0gdGhpbmcucGFydDtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ2VkaXRUZXh0LCBwYXJ0OiAnICsgcGFydCk7XHJcbiAgICAgICAgICAgIGlmIChwYXJ0IGluc3RhbmNlb2YgZ28uR3JvdXAgJiYgcGFydC5kYXRhICYmIChwYXJ0LmRhdGEubGF5b3V0ID09ICdsZWZ0JyB8fCBwYXJ0LmRhdGEubGF5b3V0ID09ICdyaWdodCcpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGV4dEJsb2NrTmFtZSA9ICdleHRlcm5hbHRleHQtJyArIHBhcnQuZGF0YS5sYXlvdXQ7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGV4dCA9IHRoaW5nLnBhcnQuZmluZE9iamVjdCh0ZXh0QmxvY2tOYW1lKTtcclxuICAgICAgICAgICAgICAgIGlmICh0ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpbmcgPSB0ZXh0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG1hcC5nZXREaWFncmFtKCkuY29tbWFuZEhhbmRsZXIuZWRpdFRleHRCbG9jayh0aGluZyk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0gaGVscCB0aXAgZnVuY3Rpb25zIC0gc2VlIGFsc28gdXNlci5qcywgdmlld3MvbWFwcy9oZWxwX3RhYiAtLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgICAvLyBzaG93cyB0aGluZ1RpcCBvciBvbmUgb2YgdGhlIGNvcm5lclhUaXBzXHJcbiAgICB0aGlzLnNob3dDb3JuZXJUaXAgPSBmdW5jdGlvbih0aGluZywgY29ybmVyKSB7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZygnc2hvd0Nvcm5lclRpcCcpO1xyXG4gICAgICAgIGlmIChjb3JuZXIgPT09ICcnKSB7XHJcbiAgICAgICAgICAgIHNlbGYuc2hvd0hlbHBUaXAoJ3RoaW5nVGlwJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgc2VsZi5zaG93SGVscFRpcCgnY29ybmVyJyArIGNvcm5lciArICdUaXAnKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuc2hvd0hlbHBUaXAgPSBmdW5jdGlvbih0aXApIHtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKCdzaG93SGVscFRpcDogJyArIHRpcCk7XHJcblxyXG4gICAgICAgIC8vIGRvbid0IHNob3cgaGVscCBpZiBpbiBwcmVzZW50ZXJcclxuICAgICAgICBpZiAoc2VsZi5jdXJyZW50VGFiSXMoc2VsZi5UQUJfSURfUFJFU0VOVEVSKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzZWxmLmhlbHBUaXAgPSB0aXA7XHJcbiAgICAgICAgLy8kc2NvcGUuc2FmZUFwcGx5KCk7XHJcbiAgICAgICAgJCgnI2hlbHAtdGlwJykuc2hvdygpO1xyXG5cclxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAkKCcjaGVscC10aXAnKS5mYWRlT3V0KDUwMCwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmhlbHBUaXAgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgLy8kc2NvcGUuc2FmZUFwcGx5KCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0sIDUwMDApO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0gZWRpdCBtYXAgVXNlclRhZ3MgLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICAgJHNjb3BlLnRhZ2dpbmcgPSBuZXcgU2FuZGJhbmtUYWdnaW5nKCRzY29wZSwgJGh0dHAsICRyZXNvdXJjZSwgJG1vZGFsLCAkbG9nKTtcclxuXHJcbiAgICB0aGlzLmVkaXRVc2VyVGFncyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICRzY29wZS50YWdnaW5nLm9wZW5Nb2RhbChcclxuICAgICAgICAgICAgWyRzY29wZS5tYXBJZF0sXHJcbiAgICAgICAgICAgIHRydWUsIC8vIHNob3cgZGVzY3JpcHRpb24gZmllbGRcclxuICAgICAgICAgICAgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBtYXAuZ2V0QXV0b3NhdmUoKS5zYXZlTm93KCdlZGl0X3VzZXJ0YWdzJyk7XHJcbiAgICAgICAgICAgIH0gLy8gb24gdXBkYXRlXHJcbiAgICAgICAgKTtcclxuICAgIH07XHJcblxyXG4gICAgLy8gLS0tLS0tLS0tLS0tIGVkaXQgbWFwIHNoYXJpbmcgLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICAgJHNjb3BlLnNoYXJpbmcgPSBuZXcgU2FuZGJhbmtTaGFyaW5nKCRzY29wZSwgJGh0dHAsICRyZXNvdXJjZSwgJG1vZGFsLCAkbG9nKTtcclxuXHJcbiAgICB0aGlzLmVkaXRNYXBTaGFyZXMgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAkc2NvcGUuc2hhcmluZy5vcGVuTW9kYWwoXHJcbiAgICAgICAgICAgIFskc2NvcGUubWFwSWRdLFxyXG4gICAgICAgICAgICBmdW5jdGlvbigpIHt9IC8vIG9uIHVwZGF0ZVxyXG4gICAgICAgICk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIC0tLS0tLS0tLS0tLSBwcmludC9leHBvcnQgdG8gaW1hZ2UgLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICAgdGhpcy5wcmludFNsaWRlcyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHN0YXJ0U3Bpbm5lcigpO1xyXG4gICAgICAgIG1hcC5nZXRQcmVzZW50ZXIoKS5jcmVhdGVTbGlkZVRodW1ibmFpbHMoKTtcclxuICAgICAgICBzdG9wU3Bpbm5lcigpO1xyXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHdpbmRvdy5wcmludCgpO1xyXG4gICAgICAgIH0sIDUwMCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBNSUxMSU9OID0gMTAwMCAqIDEwMDA7XHJcblxyXG4gICAgdGhpcy5leHBvcnRUb0ltYWdlID0gZnVuY3Rpb24oZm9ybWF0KSB7XHJcblxyXG4gICAgICAgICRzY29wZS5pbWFnZUV4cG9ydExvYWRpbmcgPSB0cnVlO1xyXG4gICAgICAgICQoJyNleHBvcnQtaW1hZ2UgaW1nJykucmVtb3ZlKCk7XHJcbiAgICAgICAgbWFwLmdldFRlbXBsYXRlcygpLnNob3dFeHBvcnRGb290ZXIoKTtcclxuXHJcbiAgICAgICAgdmFyIHJlY3QgPSBtYXAuZ2V0RGlhZ3JhbSgpLmNvbXB1dGVQYXJ0c0JvdW5kcyhtYXAuZ2V0RGlhZ3JhbSgpLm5vZGVzKS5jb3B5KCk7XHJcblxyXG4gICAgICAgIHZhciBpbWFnZU1CID0gcmVjdC53aWR0aCAqIHJlY3QuaGVpZ2h0ICogNCAvIE1JTExJT047IC8vIDQgYnl0ZXMvcGl4ZWxcclxuICAgICAgICAvL2NvbnNvbGUubG9nKCdpbWFnZU1COiAnICsgaW1hZ2VNQik7XHJcblxyXG4gICAgICAgIC8vIG1ha2UgdGhlIG1heCBzaXplIG9mIHRoZSBpbWFnZSAxME1CXHJcbiAgICAgICAgLy8gcG5nU2l6ZSA9IGltYWdlTUIgKiBzY2FsZSAqIHNjYWxlXHJcbiAgICAgICAgLy8gc28gbWF4IHNjYWxlID0gc3FydChwbmdTaXplIC8gaW1hZ2VNQilcclxuICAgICAgICAvLyBUaGVzZSBjYWxjdWxhdGlvbnMgZG9uJ3Qgc2VlbSB0byBiZSByaWdodCwgYnV0IGluIHByYWN0aWNlIHVzaW5nIDUwMCBoZXJlXHJcbiAgICAgICAgLy8gd2UgZ2V0IGEgc2NhbGUgb2YgMi40MyBmb3IgYW4gaW1hZ2UgMTk5ODQgeCAzNDI0IHBpeGVsc1xyXG4gICAgICAgIC8vIHdoaWNoIHJlc3VsdHMgaW4gYSBmaWxlIHNpemUgb2YgMS44OCBNQiBhdCAzMiBiaXRzL3BpeGVsLi4uXHJcbiAgICAgICAgLy8gT1IgMjgzODAgeCA1MTk2IHBpeGVscywgc2NhbGUgPSAzLjQxID0+IGZpbGUgc2l6ZSA9IDMuNDkgTUJcclxuICAgICAgICB2YXIgc2NhbGUgPSA0O1xyXG4gICAgICAgIGlmIChpbWFnZU1CKSB7XHJcbiAgICAgICAgICAgIHNjYWxlID0gTWF0aC5taW4oNCwgTWF0aC5zcXJ0KDUwIC8gaW1hZ2VNQikpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9jb25zb2xlLmxvZygnaW1hZ2UgZGltZW5zaW9uczogJyArIHJlY3Qud2lkdGggKyAnIHggJyArIHJlY3QuaGVpZ2h0ICsgJywgaW1hZ2UgYnl0ZXM6ICcgKyAocmVjdC53aWR0aCAqIHJlY3QuaGVpZ2h0ICogNCkgKyBcclxuICAgICAgICAvLyAgICAgICAgJywgaW1hZ2VNQjogJyArIGltYWdlTUIgKyAnLCBzY2FsZTogJyArIHNjYWxlKTtcclxuXHJcbiAgICAgICAgJHNjb3BlLnNob3dJbWFnZUV4cG9ydCA9IHRydWU7XHJcblxyXG4gICAgICAgIHZhciBwYXJ0c1RvRXhwb3J0ID0gbmV3IGdvLkxpc3QoKTtcclxuICAgICAgICBwYXJ0c1RvRXhwb3J0LmFkZEFsbChtYXAuZ2V0RGlhZ3JhbSgpLm5vZGVzKTtcclxuICAgICAgICBwYXJ0c1RvRXhwb3J0LmFkZEFsbChtYXAuZ2V0RGlhZ3JhbSgpLmxpbmtzKTtcclxuICAgICAgICBwYXJ0c1RvRXhwb3J0LnJlbW92ZShtYXAuZ2V0UHJlc2VudGVyKCkuc2xpZGVCbG9ja2VyKTtcclxuXHJcbiAgICAgICAgdmFyIGRvSW1hZ2UgPSAkdGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIGltZyA9IG1hcC5nZXREaWFncmFtKCkubWFrZUltYWdlKHtcclxuICAgICAgICAgICAgICAgIHBhcnRzOiBwYXJ0c1RvRXhwb3J0LFxyXG4gICAgICAgICAgICAgICAgbWF4U2l6ZTogbmV3IGdvLlNpemUoKHJlY3Qud2lkdGggKyAyMDApICogc2NhbGUsIChyZWN0LmhlaWdodCArIDIwMCkgKiBzY2FsZSksXHJcbiAgICAgICAgICAgICAgICBzY2FsZTogc2NhbGUsXHJcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiAxMDAgKiBzY2FsZSxcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICcjZmZmZmZmJ1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICQoJyNleHBvcnQtaW1hZ2UnKS5hcHBlbmQoaW1nKTtcclxuICAgICAgICAgICAgJHNjb3BlLmltYWdlRXhwb3J0TG9hZGluZyA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgbWFwLmdldFRlbXBsYXRlcygpLmhpZGVFeHBvcnRGb290ZXIoKTtcclxuICAgICAgICB9LCAxMDApO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyAtLS0tLS0tLS0gdXRpbHMgLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgIHRoaXMuc3BsaXRMaW5lcyA9IGZ1bmN0aW9uKHRleHQpIHtcclxuICAgICAgICByZXR1cm4gdGV4dC5zcGxpdCgvXFxuLyk7XHJcbiAgICB9O1xyXG59OyIsIndpbmRvdy5TYW5kYmFuayA9IHt9O1xyXG5cclxuLy8gdGhlIHRvcG1vc3QgY29udHJvbGxlciBmb3IgdGhlIGFwcFxyXG5cclxud2luZG93LlVzZXJDdHJsID0gZnVuY3Rpb24oJHJvb3RTY29wZSwgJHNjb3BlLCAkaHR0cCwgJG1vZGFsLCAkdXBsb2FkKSB7XHJcblxyXG4gICAgLy8gcXVlcnkgc3RyaW5nIHBhcmFtc1xyXG4gICAgJHNjb3BlLnBhcmFtcyA9IFVSSSh3aW5kb3cubG9jYXRpb24pLnF1ZXJ5KHRydWUpO1xyXG5cclxuICAgIC8vIGF1dG8tb3BlbiB0aGlua3F1ZXJ5P1xyXG4gICAgJHNjb3BlLnRoaW5rcXVlcnkgPSAoJHNjb3BlLnBhcmFtcy50aGlua3F1ZXJ5ID8gdHJ1ZSA6IGZhbHNlKTtcclxuXHJcbiAgICAkc2NvcGUudXNlcklkID0gd2luZG93LnVzZXJJZDsgLy8gc2V0IGluIGxheW91dHMvdXNlclxyXG4gICAgJHNjb3BlLnVzZXJJc0FkbWluID0gd2luZG93LnVzZXJJc0FkbWluO1xyXG4gICAgJHNjb3BlLnVzZXJOYW1lID0gJyc7XHJcbiAgICAkc2NvcGUudXNlclByb2ZpbGUgPSBudWxsO1xyXG4gICAgJHNjb3BlLnByb2ZpbGVFZGl0U3RhdHVzID0gJyc7XHJcbiAgICAkc2NvcGUucGFzc3dvcmQgPSAnJztcclxuICAgICRzY29wZS5wYXNzd29yZENvbmZpcm0gPSAnJztcclxuXHJcbiAgICAkc2NvcGUuZ2V0TmV3V2luZG93TmFtZSA9IGZ1bmN0aW9uKGFjdGlvbiwgbWFwSWQpIHtcclxuICAgICAgICBpZiAoYWN0aW9uID09ICdWSUVXX01BUCcpIHtcclxuICAgICAgICAgICAgcmV0dXJuICdWSUVXX01BUF8nICsgbWFwSWQ7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBzaG93L2hpZGUgdGVzdHMgVUkgYW5kIG1vZGVsIGRlYnVnIGZvcm1cclxuICAgICRzY29wZS5zaG93VGVzdHMgPSBmYWxzZTtcclxuICAgICRzY29wZS5zaG93TW9kZWwgPSBmYWxzZTtcclxuXHJcbiAgICAkc2NvcGUudG9nZ2xlU2hvd1Rlc3RzID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgJHNjb3BlLnNob3dUZXN0cyA9ICEkc2NvcGUuc2hvd1Rlc3RzO1xyXG4gICAgfTtcclxuICAgICRzY29wZS50b2dnbGVTaG93TW9kZWwgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAkc2NvcGUuc2hvd01vZGVsID0gISRzY29wZS5zaG93TW9kZWw7XHJcbiAgICB9O1xyXG5cclxuICAgICRzY29wZS5zZXRVc2VySWQgPSBmdW5jdGlvbihpZCkge1xyXG4gICAgICAgICRzY29wZS51c2VySWQgPSBpZDtcclxuICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24gaW5pdCgpIHtcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgZml4Um93SGVpZ2h0cyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gbWFrZSBhbGwgY2VsbHMgaW4gYSByb3cgdGhlIHNhbWUgaGVpZ2h0XHJcbiAgICBmdW5jdGlvbiBmaXhSb3dIZWlnaHRzKCkge1xyXG4gICAgICAgIC8vIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIC8vICAgICAkKCcucm93LWhlaWdodCcpLmVhY2goZnVuY3Rpb24oKSB7ICBcclxuICAgICAgICAvLyAgICAgICAgIHZhciBoaWdoZXN0Qm94ID0gMDtcclxuICAgICAgICAvLyAgICAgICAgICQoJz4gZGl2JywgdGhpcykuZWFjaChmdW5jdGlvbigpe1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIGlmICgkKHRoaXMpLmhlaWdodCgpID4gaGlnaGVzdEJveCkgXHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIGhpZ2hlc3RCb3ggPSAkKHRoaXMpLmhlaWdodCgpO1xyXG4gICAgICAgIC8vICAgICAgICAgfSk7ICBcclxuICAgICAgICAvLyAgICAgICAgICQoJz4gZGl2JywgdGhpcykuaGVpZ2h0KGhpZ2hlc3RCb3gpO1xyXG4gICAgICAgIC8vICAgICB9KTsgICAgICAgIFxyXG4gICAgICAgIC8vIH0sIDMwMCk7XHJcbiAgICB9XHJcblxyXG4gICAgJHNjb3BlLmxvYWRVc2VyUHJvZmlsZSA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgaWYgKCRzY29wZS51c2VySWQpIHtcclxuICAgICAgICAgICAgdmFyIHVybCA9ICcvdXNlcnMvJyArICRzY29wZS51c2VySWQgKyAnL3Byb2ZpbGUuanNvbic7XHJcbiAgICAgICAgICAgIHdpbmRvdy5zdGFydFNwaW5uZXIoKTtcclxuICAgICAgICAgICAgJGh0dHAuZ2V0KHVybCkudGhlbihcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uKHJlc3BvbnNlKSB7IC8vIHN1Y2Nlc3NcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUudXNlclByb2ZpbGUgPSByZXNwb25zZS5kYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgIGluaXRTZWxlY3RlZEFkbWluVGFncygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGluaXRTZWxlY3RlZEZvbGxvd2FibGVPcmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5jY3NUYWdnaW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jY3NUYWdnaW5nLmxvYWRDY3NUYWdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5zdG9wU3Bpbm5lcigpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjay5jYWxsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGZpeFJvd0hlaWdodHMoKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbihyZWFzb24pIHsgLy8gZXJyb3JcclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cuc3RvcFNwaW5uZXIoKTtcclxuICAgICAgICAgICAgICAgICAgICBhbGVydCgnQ291bGQgbm90IGxvYWQgdXNlciBwcm9maWxlIGRhdGEnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgICRzY29wZS5sb2FkVXNlclByb2ZpbGUoKTtcclxuXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0tLSBjb3Vyc2VzL3N1YnNjcmlwdGlvbnMgLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICAgLy8gb3BlbiB0aGUgU3RyaXBlIENoZWNrb3V0IGRpYWxvZyBhbmQgZ2V0IGEgdG9rZW5cclxuICAgIC8vIE5COiBhbW91bnQgaXMgc3RvcmVkIGluIHRoZSBTdHJpcGUgcGxhbiBkZWZpbml0aW9uXHJcbiAgICAkc2NvcGUuYWRkU3Vic2NyaXB0aW9uID0gZnVuY3Rpb24ocGxhbikge1xyXG4gICAgICAgIHZhciBoYW5kbGVyID0gU3RyaXBlQ2hlY2tvdXQuY29uZmlndXJlKHtcclxuICAgICAgICAgICAga2V5OiAkc2NvcGUudXNlclByb2ZpbGUuYWNjb3VudC5zdHJpcGVLZXksXHJcbiAgICAgICAgICAgIG5hbWU6IFwiU3Vic2NyaWJlIHRvIE1ldGFNYXBcIixcclxuICAgICAgICAgICAgaW1hZ2U6IFwiL2Fzc2V0cy9iYWRnZS1sb2dvLTY0LnBuZ1wiLFxyXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogcGxhbi5uYW1lLFxyXG4gICAgICAgICAgICBwYW5lbExhYmVsOiBcIlBheSB7e2Ftb3VudH19L1wiICsgcGxhbi5pbnRlcnZhbCxcclxuICAgICAgICAgICAgYW1vdW50OiBwbGFuLnByaWNlLFxyXG4gICAgICAgICAgICBhbGxvd1JlbWVtYmVyTWU6IGZhbHNlLFxyXG4gICAgICAgICAgICBlbWFpbDogJHNjb3BlLnVzZXJQcm9maWxlLnVzZXIuZW1haWwsXHJcbiAgICAgICAgICAgIHRva2VuOiBmdW5jdGlvbih0b2tlbiwgYXJncykge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3Rva2VuOiAnLCB0b2tlbik7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cuc3RhcnRTcGlubmVyKCk7XHJcbiAgICAgICAgICAgICAgICAkaHR0cC5wb3N0KCcvY2hhcmdlcy9zdWJzY3JpYmUnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGxhbl9pZDogcGxhbi5jb2RlLFxyXG4gICAgICAgICAgICAgICAgICAgIHRva2VuX2lkOiB0b2tlbi5pZFxyXG4gICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubG9hZFVzZXJQcm9maWxlKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnRpZnkuc3VjY2VzcygnU3Vic2NyaXB0aW9uIGNyZWF0ZWQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmxvYWRVc2VyUHJvZmlsZShmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0aWZ5LmVycm9yKCdTdWJzY3JpcHRpb24gY291bGQgbm90IGJlIGNyZWF0ZWQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBoYW5kbGVyLm9wZW4oKTtcclxuICAgIH07XHJcblxyXG4gICAgLy8gZm9yIGJ1eS1jb3Vyc2UtYnV0dG9uIGRpcmVjdGl2ZVxyXG4gICAgJHNjb3BlLmdldEJ1eUJ1dHRvbkxhYmVsID0gZnVuY3Rpb24oaWQpIHtcclxuICAgICAgICB2YXIgY291cnNlO1xyXG4gICAgICAgIGlmIChjb3Vyc2UgPSBnZXRGcmVlQ291cnNlKGlkKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gJ0ZyZWUnO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoY291cnNlID0gZ2V0RW5yb2xsZWRDb3Vyc2UoaWQpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnRW5yb2xsZWQnO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoY291cnNlID0gZ2V0RW5yb2xsYWJsZUNvdXJzZShpZCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuICdFbnJvbGwgLSAkJyArIChjb3Vyc2UucHJpY2UgLyAxMDApLnRvRml4ZWQoMik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgJHNjb3BlLmdldENvdXJzZVN0YXR1c1N1bW1hcnkgPSBmdW5jdGlvbihpZCkge1xyXG4gICAgICAgIHZhciBjb3Vyc2UgPSAkc2NvcGUuZ2V0Q291cnNlKGlkKTtcclxuICAgICAgICBpZiAoY291cnNlKSB7XHJcbiAgICAgICAgICAgIHZhciB0ZXh0ID0gY291cnNlLnN0ZXBzQ29tcGxldGVkICsgJyBvZiAnICsgY291cnNlLnN0ZXBzICsgJyBzdGVwcyBjb21wbGV0ZWQnO1xyXG4gICAgICAgICAgICBpZiAoY291cnNlLmVucm9sbWVudCkge1xyXG4gICAgICAgICAgICAgICAgdGV4dCA9IFwiRW5yb2xsZWQgXCIgKyBjb3Vyc2UuZW5yb2xtZW50LmRhdGUgK1xyXG4gICAgICAgICAgICAgICAgICAgIChjb3Vyc2UuZW5yb2xtZW50LnN0cmlwZURhdGEucmVmdW5kZWQgPyBcIiAoUmVmdW5kZWQpXCIgOiBcIlwiKSArXHJcbiAgICAgICAgICAgICAgICAgICAgJyAtICcgK1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGNvdXJzZS5jb2RlICsgJyAtICcgKyB0ZXh0O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgJHNjb3BlLmdldENvdXJzZUNvbXBsZXRlZFBlcmNlbnQgPSBmdW5jdGlvbihpZCkge1xyXG4gICAgICAgIHZhciBjb3Vyc2UgPSAkc2NvcGUuZ2V0Q291cnNlKGlkKTtcclxuICAgICAgICBpZiAoY291cnNlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb3Vyc2Uuc3RlcHNDb21wbGV0ZWRQZXJjZW50O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgJHNjb3BlLm1heWJlQnV5Q291cnNlID0gZnVuY3Rpb24oaWQpIHtcclxuICAgICAgICB2YXIgY291cnNlO1xyXG4gICAgICAgIGlmIChjb3Vyc2UgPSBnZXRGcmVlQ291cnNlKGlkKSkge1xyXG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvY291cnNlcy8nICsgY291cnNlLmlkO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoY291cnNlID0gZ2V0RW5yb2xsZWRDb3Vyc2UoaWQpKSB7XHJcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9jb3Vyc2VzLycgKyBjb3Vyc2UuaWQ7XHJcbiAgICAgICAgfSBlbHNlIGlmIChjb3Vyc2UgPSBnZXRFbnJvbGxhYmxlQ291cnNlKGlkKSkge1xyXG4gICAgICAgICAgICAkc2NvcGUuYnV5Q291cnNlKGNvdXJzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAkc2NvcGUuZ2V0Q291cnNlID0gZnVuY3Rpb24oaWQpIHtcclxuICAgICAgICB2YXIgY291cnNlO1xyXG4gICAgICAgIGlmIChjb3Vyc2UgPSBnZXRGcmVlQ291cnNlKGlkKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY291cnNlO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoY291cnNlID0gZ2V0RW5yb2xsZWRDb3Vyc2UoaWQpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb3Vyc2U7XHJcbiAgICAgICAgfSBlbHNlIGlmIChjb3Vyc2UgPSBnZXRFbnJvbGxhYmxlQ291cnNlKGlkKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY291cnNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0RnJlZUNvdXJzZShpZCkge1xyXG4gICAgICAgIHJldHVybiAkc2NvcGUudXNlclByb2ZpbGUgJiYgXy5maW5kKCRzY29wZS51c2VyUHJvZmlsZS5mcmVlQWNjZXNzaWJsZUNvdXJzZXMsIGZ1bmN0aW9uKGNvdXJzZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY291cnNlLmlkID09IGlkICYmIGNvdXJzZS5lbnJvbG1lbnQgPT0gdW5kZWZpbmVkO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldEVucm9sbGVkQ291cnNlKGlkKSB7XHJcbiAgICAgICAgcmV0dXJuICRzY29wZS51c2VyUHJvZmlsZSAmJiBfLmZpbmQoJHNjb3BlLnVzZXJQcm9maWxlLmZyZWVBY2Nlc3NpYmxlQ291cnNlcywgZnVuY3Rpb24oY291cnNlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb3Vyc2UuaWQgPT0gaWQgJiYgY291cnNlLmVucm9sbWVudCAhPT0gdW5kZWZpbmVkO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldEVucm9sbGFibGVDb3Vyc2UoaWQpIHtcclxuICAgICAgICByZXR1cm4gJHNjb3BlLnVzZXJQcm9maWxlICYmIF8uZmluZCgkc2NvcGUudXNlclByb2ZpbGUubm9uRnJlZUFjY2Vzc2libGVDb3Vyc2VzLCBmdW5jdGlvbihjb3Vyc2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvdXJzZS5pZCA9PSBpZDtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBvcGVuIHRoZSBTdHJpcGUgQ2hlY2tvdXQgZGlhbG9nIGFuZCBnZXQgYSB0b2tlblxyXG4gICAgLy8gTkI6IGFtb3VudCBpcyBwYXNzZWQgZnJvbSBvdXIgY291cnNlIGRlZmluaXRpb25cclxuICAgICRzY29wZS5idXlDb3Vyc2UgPSBmdW5jdGlvbihjb3Vyc2UpIHtcclxuICAgICAgICB2YXIgaGFuZGxlciA9IFN0cmlwZUNoZWNrb3V0LmNvbmZpZ3VyZSh7XHJcbiAgICAgICAgICAgIGtleTogJHNjb3BlLnVzZXJQcm9maWxlLmFjY291bnQuc3RyaXBlS2V5LFxyXG4gICAgICAgICAgICBuYW1lOiBcIkVucm9sbCBpbiBDb3Vyc2VcIixcclxuICAgICAgICAgICAgaW1hZ2U6IFwiL2Fzc2V0cy9iYWRnZS1sb2dvLTY0LnBuZ1wiLFxyXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogY291cnNlLmNvZGUsXHJcbiAgICAgICAgICAgIGFtb3VudDogY291cnNlLnByaWNlLFxyXG4gICAgICAgICAgICBhbGxvd1JlbWVtYmVyTWU6IGZhbHNlLFxyXG4gICAgICAgICAgICBlbWFpbDogJHNjb3BlLnVzZXJQcm9maWxlLnVzZXIuZW1haWwsXHJcbiAgICAgICAgICAgIHRva2VuOiBmdW5jdGlvbih0b2tlbiwgYXJncykge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3Rva2VuOiAnLCB0b2tlbik7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cuc3RhcnRTcGlubmVyKCk7XHJcbiAgICAgICAgICAgICAgICAkaHR0cC5wb3N0KCcvY2hhcmdlcy9idXlfY291cnNlJywge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvdXJzZV9jb2RlOiBjb3Vyc2UuY29kZSxcclxuICAgICAgICAgICAgICAgICAgICBjb3Vyc2VfcHJpY2U6IGNvdXJzZS5wcmljZSxcclxuICAgICAgICAgICAgICAgICAgICB0b2tlbl9pZDogdG9rZW4uaWRcclxuICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmxvYWRVc2VyUHJvZmlsZShmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0aWZ5LnN1Y2Nlc3MoJ0NvdXJzZSBwdXJjaGFzZWQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyByZWxvYWQgcGFnZSB0byBoYW5kbGUgc3RyaXBlIGJ1ZyAoPykgLSBsaW5rcyBub3QgY2xpY2thYmxlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAxMDAwKTtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5sb2FkVXNlclByb2ZpbGUoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydGlmeS5lcnJvcignQ291cnNlIHB1cmNoYXNlIGNvdWxkIG5vdCBiZSBjb21wbGV0ZWQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzdHJpcGUgZXJyb3I6ICcsIHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBoYW5kbGVyLm9wZW4oKTtcclxuICAgIH07XHJcblxyXG4gICAgJHNjb3BlLmNhbmNlbFN1YnNjcmlwdGlvbiA9IGZ1bmN0aW9uKHN1YnNjcmlwdGlvbikge1xyXG4gICAgICAgIHdpbmRvdy5zdGFydFNwaW5uZXIoKTtcclxuICAgICAgICAkaHR0cC5kZWxldGUoJy9jaGFyZ2VzL3Vuc3Vic2NyaWJlP3N1YnNjcmlwdGlvbl9pZD0nICsgc3Vic2NyaXB0aW9uLmlkKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubG9hZFVzZXJQcm9maWxlKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0aWZ5LnN1Y2Nlc3MoJ1N1YnNjcmlwdGlvbiBjYW5jZWxsZWQnKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5sb2FkVXNlclByb2ZpbGUoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWxlcnRpZnkuZXJyb3IoJ1N1YnNjcmlwdGlvbiBjb3VsZCBub3QgYmUgY2FuY2VsbGVkJyk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIGRlYnVnL3Rlc3Qgb25seVxyXG4gICAgJHNjb3BlLmNsZWFyQ3VzdG9tZXIgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB3aW5kb3cuc3RhcnRTcGlubmVyKCk7XHJcbiAgICAgICAgJGh0dHAuZGVsZXRlKCcvY2hhcmdlcy9jbGVhcl9jdXN0b21lcicpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5sb2FkVXNlclByb2ZpbGUoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWxlcnRpZnkuc3VjY2VzcygnQ3VzdG9tZXIgY2xlYXJlZCcpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmxvYWRVc2VyUHJvZmlsZShmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICBhbGVydGlmeS5lcnJvcignQ3VzdG9tZXIgY291bGQgbm90IGJlIGNsZWFyZWQnKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0gcG9pbnRzIGFuZCBiYWRnZXMgLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgICRzY29wZS5oYXNDdXJyZW50QmFkZ2UgPSBmdW5jdGlvbihrZXksIGxldmVsKSB7XHJcbiAgICAgICAgcmV0dXJuICRzY29wZS51c2VyUHJvZmlsZSAmJiAkc2NvcGUudXNlclByb2ZpbGUuYmFkZ2VzLmN1cnJlbnRba2V5XSA9PSBsZXZlbDtcclxuICAgIH07XHJcblxyXG4gICAgJHNjb3BlLmhhc05ld0JhZGdlID0gZnVuY3Rpb24oa2V5LCBsZXZlbCkge1xyXG4gICAgICAgIHJldHVybiAkc2NvcGUudXNlclByb2ZpbGUgJiYgJHNjb3BlLnVzZXJQcm9maWxlLmJhZGdlcy5uZXdba2V5XSA9PSBsZXZlbDtcclxuICAgIH07XHJcblxyXG4gICAgJHNjb3BlLmhhc05ld0JhZGdlcyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiAkc2NvcGUudXNlclByb2ZpbGUgJiYgXy5rZXlzKCRzY29wZS51c2VyUHJvZmlsZS5iYWRnZXMubmV3KS5sZW5ndGggPiAwO1xyXG4gICAgfTtcclxuXHJcbiAgICAkc2NvcGUuZ2V0QmFkZ2VEZWZpbml0aW9uID0gZnVuY3Rpb24oa2V5KSB7XHJcbiAgICAgICAgcmV0dXJuIF8uZmluZFdoZXJlKCRzY29wZS51c2VyUHJvZmlsZS5iYWRnZXMuZGVmaW5pdGlvbnMsIHtcclxuICAgICAgICAgICAga2V5OiBrZXlcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0tLSB0dXRvcmlhbCAtLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgICAgJHNjb3BlLnR1dG9yaWFsRW5hYmxlZCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gd2luZG93Lm1hcERhdGEgIT09IHVuZGVmaW5lZDtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBzdGFydCB0dXRvcmlhbDpcclxuICAgICAgICB2YXIgX3R1dG9yaWFsID0gbmV3IFNhbmRiYW5rRWRpdG9yLlR1dG9yaWFsKCk7XHJcblxyXG4gICAgICAgICRzY29wZS5zdGFydFR1dG9yaWFsID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIF90dXRvcmlhbC5zdGFydCgpO1xyXG4gICAgICAgIH07XHJcbiAgICB9IGNhdGNoIChlKSB7fVxyXG5cclxuICAgIC8vIC0tLS0tLS0tLS0tLS0tIGZlZWRiYWNrIGZvcm0gLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgICAkc2NvcGUuZmVlZGJhY2sgPSAnJztcclxuXHJcbiAgICAkc2NvcGUudG9nZ2xlRmVlZGJhY2sgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAkKCcjZmVlZGJhY2stZHJvcGRvd24nKS5zbGlkZVRvZ2dsZSgnZmFzdCcpLmZpbmQoJ3RleHRhcmVhJykuZ2V0KDApLmZvY3VzKCk7XHJcbiAgICB9O1xyXG5cclxuICAgICRzY29wZS5zdWJtaXRGZWVkYmFjayA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmICgkc2NvcGUuZmVlZGJhY2sgPT09ICcnKSB7XHJcbiAgICAgICAgICAgIHJldHVybjsgLy8gZW1wdHkgaW5wdXQuLi5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcclxuICAgICAgICAgICAgdXJsOiAnL3VzZXJzL2ZlZWRiYWNrJyxcclxuICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgdXJsOiB3aW5kb3cubG9jYXRpb24uaHJlZixcclxuICAgICAgICAgICAgICAgIGZlZWRiYWNrOiAkc2NvcGUuZmVlZGJhY2tcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZmVlZGJhY2sgPSAnJztcclxuICAgICAgICAgICAgICAgIGFsZXJ0KCdUaGFuayB5b3UgZm9yIHlvdXIgZmVlZGJhY2shJyk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ2Vycm9yIHNlbmRpbmcgZmVlZGJhY2s6ICcsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJCgnI2ZlZWRiYWNrLWRyb3Bkb3duJykuc2xpZGVUb2dnbGUoJ2Zhc3QnKTtcclxuICAgIH07XHJcblxyXG4gICAgLy8gLS0tLS0tLS0tIHVzZXIncyB1c2VyIHRhZ3MgLS0tLS0tLS0tLS1cclxuXHJcbiAgICAvLyBOQjogdGhpcyBpcyBzaW1pbGFyIHRvIG1hcHMgdGFnZ2luZyBpbiB0YWdnaW5nLmpzIC0gYnV0IHNpbXBsZXIsIGFzIHdlIGRvIG5vdCBoYXZlIHRvIGRlYWwgd2l0aCBcclxuICAgIC8vIG11bHRpcGxlIHRhZ2dhYmxlIGl0ZW1zLCB3aGljaCBtZWFucyB0cmFja2luZyBleGlzdGluZyB2cy4gbmV3IHRhZ3MsIGV0Yy4uLlxyXG5cclxuICAgICRzY29wZS5uZXdUYWcgPSB7XHJcbiAgICAgICAgbmFtZTogJydcclxuICAgIH07XHJcblxyXG4gICAgLy8gdGFnIGF1dG9jb21wbGV0ZVxyXG4gICAgJHNjb3BlLmdldFVzZXJUYWdzID0gZnVuY3Rpb24odmlld1ZhbHVlKSB7XHJcbiAgICAgICAgdmFyIHVybCA9ICcvdXNlcl90YWdzL2xpc3QuanNvbj9xPScgKyB2aWV3VmFsdWU7XHJcbiAgICAgICAgcmV0dXJuICRodHRwLmdldCh1cmwpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGEudGFncztcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgJHNjb3BlLnVwZGF0ZVVzZXJVc2VyVGFncyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciB0YWdMaXN0ID0gXy5wbHVjaygkc2NvcGUudXNlclByb2ZpbGUudXNlclRhZ3MsICduYW1lJykuam9pbignLCcpO1xyXG4gICAgICAgICRodHRwLnB1dCgnL3VzZXJfdGFncy91cGRhdGVfdXNlcl91c2VyX3RhZ3MnLCBbdGFnTGlzdF0pLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5sb2FkVXNlclByb2ZpbGUoKTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5wcm9maWxlRWRpdFN0YXR1cyA9ICdUYWdzIHNhdmVkJztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUucHJvZmlsZUVkaXRTdGF0dXMgPSAnQ291bGQgbm90IHNhdmUgdGFncyc7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAkc2NvcGUuZGVsZXRlVGFnID0gZnVuY3Rpb24odGFnKSB7XHJcbiAgICAgICAgdmFyIGkgPSBfLmluZGV4T2YoJHNjb3BlLnVzZXJQcm9maWxlLnVzZXJUYWdzLCB0YWcpO1xyXG4gICAgICAgICRzY29wZS51c2VyUHJvZmlsZS51c2VyVGFncy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgJHNjb3BlLnVwZGF0ZVVzZXJVc2VyVGFncygpO1xyXG4gICAgfTtcclxuXHJcbiAgICAkc2NvcGUudGFnU2VsZWN0ZWQgPSBmdW5jdGlvbihpdGVtLCBtb2RlbCwgbGFiZWwpIHtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKCd0YWdTZWxlY3RlZDogJywgaXRlbSwgbW9kZWwsIGxhYmVsKTtcclxuICAgICAgICAkc2NvcGUuYWRkVGFnKGl0ZW0ubmFtZSk7XHJcbiAgICB9O1xyXG5cclxuICAgICRzY29wZS5lZGl0aW5nVGFnS2V5cHJlc3MgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgaWYgKGUud2hpY2ggPT0gMTMpIHtcclxuICAgICAgICAgICAgJHNjb3BlLmFkZFRhZygkc2NvcGUubmV3VGFnLm5hbWUpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgJHNjb3BlLmFkZFRhZyA9IGZ1bmN0aW9uKHRhZ05hbWUpIHtcclxuICAgICAgICAkc2NvcGUudXNlclByb2ZpbGUudXNlclRhZ3MucHVzaCh7XHJcbiAgICAgICAgICAgIG5hbWU6IHRhZ05hbWVcclxuICAgICAgICB9KTtcclxuICAgICAgICAkc2NvcGUubmV3VGFnLm5hbWUgPSAnJztcclxuICAgICAgICAkc2NvcGUudXBkYXRlVXNlclVzZXJUYWdzKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIC0tLS0tLS0tLSB1c2VyJ3MvbWFwJ3MgQ0NTIHRhZ3MgLS0tLS0tLS0tLS1cclxuXHJcbiAgICAvLyB0aGlzIG1hbmFnZXMgQ0NTIHRhZ3MgZm9yIGVpdGhlciB0aGUgY3VycmVudCB1c2VyIG9yIHRoZSBjdXJyZW50IG1hcCwgXHJcbiAgICAvLyBkZXBlbmRpbmcgd2hpY2ggcGFnZSB3ZSdyZSBvbiAtIG1hcElkIGdldHMgb3ZlcnJpZGRlbiBpbiBlZGl0b3IuanMgaWYgd2UncmUgZWRpdGluZyBhIG1hcFxyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgICAgJHNjb3BlLmNjc1RhZ2dpbmcgPSBuZXcgU2FuZGJhbmtDY3NUYWdnaW5nKCRzY29wZSwgJGh0dHAsICRtb2RhbCk7XHJcbiAgICAgICAgJHNjb3BlLmNjc1RhZ2dpbmcubWFwSWQgPSBudWxsO1xyXG4gICAgfSBjYXRjaCAoZSkge31cclxuXHJcbiAgICAvLyAtLS0tLS0tLS0gdXNlcidzIGFkbWluIHRhZ3MgLS0tLS0tLS0tLS1cclxuXHJcbiAgICAvLyBrZXkgKGluZGV4KTogYWRtaW4gdGFnIElEOyB2YWx1ZTogdHJ1ZS9mYWxzZSAoaWYgdXNlciBmb2xsb3dzIHRoZSBhZG1pbiB0YWcpXHJcbiAgICAkc2NvcGUuc2VsZWN0ZWRVc2VyQWRtaW5UYWdzID0gW107XHJcblxyXG4gICAgZnVuY3Rpb24gaW5pdFNlbGVjdGVkQWRtaW5UYWdzKCkge1xyXG4gICAgICAgICRzY29wZS5zZWxlY3RlZFVzZXJBZG1pblRhZ3MgPSBbXTtcclxuICAgICAgICBfLmVhY2goJHNjb3BlLnVzZXJQcm9maWxlLmFkbWluVGFncywgZnVuY3Rpb24odGFnKSB7XHJcbiAgICAgICAgICAgIGlmIChfLmZpbmRXaGVyZSgkc2NvcGUudXNlclByb2ZpbGUudXNlckFkbWluVGFncywge1xyXG4gICAgICAgICAgICAgICAgaWQ6IHRhZy5pZFxyXG4gICAgICAgICAgICB9KSkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNlbGVjdGVkVXNlckFkbWluVGFnc1t0YWcuaWRdID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgICRzY29wZS51cGRhdGVVc2VyQWRtaW5UYWdzID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIHNlbGVjdGVkVGFnTmFtZXMgPSBfLm1hcCgkc2NvcGUudXNlclByb2ZpbGUuYWRtaW5UYWdzLCBmdW5jdGlvbih0YWcpIHtcclxuICAgICAgICAgICAgcmV0dXJuICRzY29wZS5zZWxlY3RlZFVzZXJBZG1pblRhZ3NbdGFnLmlkXSA/IHRhZy5uYW1lIDogbnVsbDtcclxuICAgICAgICB9KTtcclxuICAgICAgICB2YXIgdGFnTGlzdCA9IF8ud2l0aG91dChzZWxlY3RlZFRhZ05hbWVzLCBudWxsKS5qb2luKCcsJyk7XHJcbiAgICAgICAgJGh0dHAucHV0KCcvYWRtaW5fdGFncy91cGRhdGVfdXNlcl9hZG1pbl90YWdzJywgW3RhZ0xpc3RdKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubG9hZFVzZXJQcm9maWxlKCk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUucHJvZmlsZUVkaXRTdGF0dXMgPSAnSW50ZXJlc3RzIHNhdmVkJztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUucHJvZmlsZUVkaXRTdGF0dXMgPSAnQ291bGQgbm90IHNhdmUgaW50ZXJlc3RzJztcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIC0tLS0tLS0tLSB1c2VyJ3MgZm9sbG93ZWQgb3JncyAtLS0tLS0tLS0tLVxyXG5cclxuICAgIC8vIGtleSAoaW5kZXgpOiBvcmcgSUQ7IHZhbHVlOiB0cnVlL2ZhbHNlIChpZiB1c2VyIGZvbGxvd3MgdGhlIG9yZylcclxuICAgICRzY29wZS5zZWxlY3RlZEZvbGxvd2FibGVPcmdhbml6YXRpb25zID0gW107XHJcblxyXG4gICAgJHNjb3BlLnVzZXJJc0ZvbGxvd2luZ09yZyA9IGZ1bmN0aW9uKGlkKSB7XHJcbiAgICAgICAgcmV0dXJuICRzY29wZS5zZWxlY3RlZEZvbGxvd2FibGVPcmdhbml6YXRpb25zW2lkXTtcclxuICAgIH07XHJcblxyXG4gICAgJHNjb3BlLnRvZ2dsZVVzZXJGb2xsb3dpbmdPcmcgPSBmdW5jdGlvbihpZCkge1xyXG4gICAgICAgIGlmICghJHNjb3BlLnNlbGVjdGVkRm9sbG93YWJsZU9yZ2FuaXphdGlvbnNbaWRdIHx8IGNvbmZpcm0oJ1N0b3AgZm9sbG93aW5nIHRoaXMgVGhpbmtOYXRpb24/JykpIHtcclxuICAgICAgICAgICAgJHNjb3BlLnNlbGVjdGVkRm9sbG93YWJsZU9yZ2FuaXphdGlvbnNbaWRdID0gISRzY29wZS5zZWxlY3RlZEZvbGxvd2FibGVPcmdhbml6YXRpb25zW2lkXTtcclxuICAgICAgICAgICAgJHNjb3BlLnVwZGF0ZUZvbGxvd2VkT3JnYW5pemF0aW9ucygpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24gaW5pdFNlbGVjdGVkRm9sbG93YWJsZU9yZ3MoKSB7XHJcbiAgICAgICAgJHNjb3BlLnNlbGVjdGVkRm9sbG93YWJsZU9yZ2FuaXphdGlvbnMgPSBbXTtcclxuICAgICAgICBfLmVhY2goJHNjb3BlLnVzZXJQcm9maWxlLmZvbGxvd2VkT3JnYW5pemF0aW9ucywgZnVuY3Rpb24ob3JnKSB7XHJcbiAgICAgICAgICAgIGlmIChfLmZpbmRXaGVyZSgkc2NvcGUudXNlclByb2ZpbGUuZm9sbG93YWJsZU9yZ2FuaXphdGlvbnMsIHtcclxuICAgICAgICAgICAgICAgIGlkOiBvcmcuaWRcclxuICAgICAgICAgICAgfSkpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zZWxlY3RlZEZvbGxvd2FibGVPcmdhbml6YXRpb25zW29yZy5pZF0gPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgJHNjb3BlLnVwZGF0ZUZvbGxvd2VkT3JnYW5pemF0aW9ucyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBzZWxlY3RlZE9yZ0lkcyA9IF8ubWFwKCRzY29wZS51c2VyUHJvZmlsZS5mb2xsb3dhYmxlT3JnYW5pemF0aW9ucywgZnVuY3Rpb24ob3JnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAkc2NvcGUuc2VsZWN0ZWRGb2xsb3dhYmxlT3JnYW5pemF0aW9uc1tvcmcuaWRdID8gb3JnLmlkIDogbnVsbDtcclxuICAgICAgICB9KTtcclxuICAgICAgICB2YXIgb3JnSWRMaXN0ID0gXy53aXRob3V0KHNlbGVjdGVkT3JnSWRzLCBudWxsKS5qb2luKCcsJyk7XHJcbiAgICAgICAgJGh0dHAucHV0KCcvb3JnYW5pemF0aW9uX2ZvbGxvd3MvdXBkYXRlX3VzZXJfb3JnYW5pemF0aW9uX2ZvbGxvd3MnLCBbb3JnSWRMaXN0XSkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmxvYWRVc2VyUHJvZmlsZSgpO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnByb2ZpbGVFZGl0U3RhdHVzID0gJ1RoaW5rTmF0aW9ucyBzYXZlZCc7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnByb2ZpbGVFZGl0U3RhdHVzID0gJ0NvdWxkIG5vdCBzYXZlIFRoaW5rTmF0aW9ucyc7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyAtLS0tLS0tLS0gdXNlcidzIG9yZyBtZW1iZXJzaGlwcyAtLS0tLS0tLS0tLVxyXG5cclxuICAgICRzY29wZS5qb2luTmF0aW9uID0gbmV3IFNhbmRiYW5rSm9pbk5hdGlvbigkc2NvcGUsICRodHRwLCAkbW9kYWwpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGdldE1lbWJlcnNoaXBGb3JPcmcoaWQpIHtcclxuICAgICAgICByZXR1cm4gXy5maW5kV2hlcmUoJHNjb3BlLnVzZXJQcm9maWxlLm1lbWJlcnNoaXBzLCB7XHJcbiAgICAgICAgICAgIG9yZ2FuaXphdGlvbklkOiBpZFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgICRzY29wZS51c2VySXNNZW1iZXJPZk9yZyA9IGZ1bmN0aW9uKGlkKSB7XHJcbiAgICAgICAgaWYgKCRzY29wZS51c2VyUHJvZmlsZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gKGdldE1lbWJlcnNoaXBGb3JPcmcoaWQpICE9IHVuZGVmaW5lZCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgJHNjb3BlLnRvZ2dsZVVzZXJNZW1iZXJPZk9yZyA9IGZ1bmN0aW9uKGlkLCBuYW1lKSB7XHJcbiAgICAgICAgaWYgKCRzY29wZS51c2VySXNNZW1iZXJPZk9yZyhpZCkpIHtcclxuICAgICAgICAgICAgaWYgKGNvbmZpcm0oJ1JlbW92ZSB5b3VyIG1lbWJlcnNoaXAgaW4gdGhpcyBUaGlua05hdGlvbj8nKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG1lbWJlcnNoaXAgPSBnZXRNZW1iZXJzaGlwRm9yT3JnKGlkKTtcclxuICAgICAgICAgICAgICAgICRodHRwLmRlbGV0ZSgnL21lbWJlcnNoaXBzLycgKyBtZW1iZXJzaGlwLmlkICsgJy5qc29uJylcclxuICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubG9hZFVzZXJQcm9maWxlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkc2NvcGUuam9pbk5hdGlvbi5vcGVuTW9kYWwoXHJcbiAgICAgICAgICAgICAgICBpZCxcclxuICAgICAgICAgICAgICAgIG5hbWVcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0gZm9sbG93aW5nIG90aGVyIHVzZXJzIC0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgICRzY29wZS5mb2xsb3dVc2VyID0gZnVuY3Rpb24odXNlcikge1xyXG4gICAgICAgICRodHRwLnBvc3QoJy91c2VyX2ZvbGxvd3MuanNvbicsIHtcclxuICAgICAgICAgICAgZm9sbG93ZWVfaWQ6IHVzZXIuaWRcclxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICB1c2VyLmZvbGxvd0lkID0gcmVzcG9uc2UuZGF0YTtcclxuICAgICAgICAgICAgICAgIGFsZXJ0aWZ5LnN1Y2Nlc3MoJ1lvdSBhcmUgbm93IGZvbGxvd2luZyAnICsgdXNlci5uYW1lKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZnVuY3Rpb24oKSB7fSk7XHJcbiAgICB9O1xyXG5cclxuICAgICRzY29wZS51bmZvbGxvd1VzZXIgPSBmdW5jdGlvbih1c2VyKSB7XHJcbiAgICAgICAgJGh0dHAuZGVsZXRlKCcvdXNlcl9mb2xsb3dzLycgKyB1c2VyLmZvbGxvd0lkICsgJy5qc29uJykudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgdXNlci5mb2xsb3dJZCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICBhbGVydGlmeS5zdWNjZXNzKCdZb3UgYXJlIG5vIGxvbmdlciBmb2xsb3dpbmcgJyArIHVzZXIubmFtZSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uKCkge30pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0gZm9sbG93aW5nIHRhZ3MgLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICAgZnVuY3Rpb24gZm9sbG93VGFnKGNvbnRyb2xsZXIsIHRhZykge1xyXG4gICAgICAgICRodHRwLnBvc3QoJy8nICsgY29udHJvbGxlciArICcvJyArIHRhZy5pZCArICcvZm9sbG93Lmpzb24nLCB7XHJcbiAgICAgICAgICAgIGlkOiB0YWcuaWRcclxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICB0YWcuZm9sbG93aW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGFsZXJ0aWZ5LnN1Y2Nlc3MoJ1lvdSBhcmUgbm93IGZvbGxvd2luZyAnICsgdGFnLm5hbWUpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBmdW5jdGlvbigpIHt9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB1bmZvbGxvd1RhZyhjb250cm9sbGVyLCB0YWcpIHtcclxuICAgICAgICAkaHR0cC5kZWxldGUoJy8nICsgY29udHJvbGxlciArICcvJyArIHRhZy5pZCArICcvdW5mb2xsb3cuanNvbicpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgIHRhZy5mb2xsb3dpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGFsZXJ0aWZ5LnN1Y2Nlc3MoJ1lvdSBhcmUgbm8gbG9uZ2VyIGZvbGxvd2luZyAnICsgdGFnLm5hbWUpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBmdW5jdGlvbigpIHt9KTtcclxuICAgIH1cclxuXHJcbiAgICAkc2NvcGUuZm9sbG93VXNlclRhZyA9IGZ1bmN0aW9uKHRhZykge1xyXG4gICAgICAgIGZvbGxvd1RhZygndXNlcl90YWdzJywgdGFnKTtcclxuICAgIH07XHJcbiAgICAkc2NvcGUudW5mb2xsb3dVc2VyVGFnID0gZnVuY3Rpb24odGFnKSB7XHJcbiAgICAgICAgdW5mb2xsb3dUYWcoJ3VzZXJfdGFncycsIHRhZyk7XHJcbiAgICB9O1xyXG5cclxuICAgICRzY29wZS5mb2xsb3dBZG1pblRhZyA9IGZ1bmN0aW9uKHRhZykge1xyXG4gICAgICAgIGZvbGxvd1RhZygnYWRtaW5fdGFncycsIHRhZyk7XHJcbiAgICB9O1xyXG4gICAgJHNjb3BlLnVuZm9sbG93QWRtaW5UYWcgPSBmdW5jdGlvbih0YWcpIHtcclxuICAgICAgICB1bmZvbGxvd1RhZygnYWRtaW5fdGFncycsIHRhZyk7XHJcbiAgICB9O1xyXG5cclxuICAgICRzY29wZS5mb2xsb3dDY3NUYWcgPSBmdW5jdGlvbih0YWcpIHtcclxuICAgICAgICBmb2xsb3dUYWcoJ2NvbW1vbl9jb3JlX3N0YW5kYXJkcycsIHRhZyk7XHJcbiAgICB9O1xyXG4gICAgJHNjb3BlLnVuZm9sbG93Q2NzVGFnID0gZnVuY3Rpb24odGFnKSB7XHJcbiAgICAgICAgdW5mb2xsb3dUYWcoJ2NvbW1vbl9jb3JlX3N0YW5kYXJkcycsIHRhZyk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIC0tLS0tLS0tLS0tLSBhdXRvLXNhdmUgdXNlciBwcm9maWxlIC0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgIC8vIGRvbid0IGxldCBhdXRvc2F2ZSBiZSB0cmlnZ2VyZWQgbW9yZSB0aGFuIGV2ZXJ5IE4gbWlsbGlzZWNvbmRzLi4uXHJcbiAgICAkc2NvcGUuYXV0b3NhdmUgPSBfLmRlYm91bmNlKGF1dG9zYXZlTm93LCAyMDAwKTtcclxuXHJcbiAgICBmdW5jdGlvbiBhdXRvc2F2ZU5vdygpIHtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKCdhdXRvc2F2aW5nIHVzZXIgcHJvZmlsZScpO1xyXG4gICAgICAgIHZhciBkYXRhID0ge1xyXG4gICAgICAgICAgICBlbWFpbDogJHNjb3BlLnVzZXJQcm9maWxlLnVzZXIuZW1haWwsXHJcbiAgICAgICAgICAgIGFsdF9lbWFpbDogJHNjb3BlLnVzZXJQcm9maWxlLnVzZXIuYWx0RW1haWwsXHJcbiAgICAgICAgICAgIGZpcnN0X25hbWU6ICRzY29wZS51c2VyUHJvZmlsZS51c2VyLmZpcnN0TmFtZSxcclxuICAgICAgICAgICAgbGFzdF9uYW1lOiAkc2NvcGUudXNlclByb2ZpbGUudXNlci5sYXN0TmFtZSxcclxuICAgICAgICAgICAgYWJvdXRfbWU6ICRzY29wZS51c2VyUHJvZmlsZS51c2VyLmFib3V0TWVcclxuICAgICAgICB9O1xyXG4gICAgICAgIGlmICgkc2NvcGUucGFzc3dvcmRzTWF0Y2goKSAmJiAkc2NvcGUucGFzc3dvcmQubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGRhdGEucGFzc3dvcmQgPSAkc2NvcGUucGFzc3dvcmQ7XHJcbiAgICAgICAgICAgIGRhdGEucGFzc3dvcmRfY29uZmlybWF0aW9uID0gJHNjb3BlLnBhc3N3b3JkO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3RhcnRTcGlubmVyKCk7XHJcbiAgICAgICAgJHNjb3BlLnByb2ZpbGVFZGl0U3RhdHVzID0gJ1NhdmluZy4uLic7XHJcbiAgICAgICAgJGh0dHAucHV0KCcvdXNlcnMvJyArICRzY29wZS51c2VySWQsIGRhdGEpLnRoZW4oXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICBzdG9wU3Bpbm5lcigpO1xyXG4gICAgICAgICAgICAgICAgaWYgKF8uaGFzKGRhdGEsICdwYXNzd29yZCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnByb2ZpbGVFZGl0U3RhdHVzID0gJ1Byb2ZpbGUgYW5kIHBhc3N3b3JkIHNhdmVkJztcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygkc2NvcGUucHJvZmlsZUVkaXRTdGF0dXMpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUucHJvZmlsZUVkaXRTdGF0dXMgPSAnUHJvZmlsZSBzYXZlZCc7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJHNjb3BlLnByb2ZpbGVFZGl0U3RhdHVzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBzdG9wU3Bpbm5lcigpO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnByb2ZpbGVFZGl0U3RhdHVzID0gJ0NvdWxkIG5vdCBzYXZlIHByb2ZpbGUnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAkc2NvcGUucGFzc3dvcmRzTWF0Y2ggPSBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gKCEkc2NvcGUucGFzc3dvcmQubGVuZ3RoICYmICEkc2NvcGUucGFzc3dvcmRDb25maXJtLmxlbmd0aCkgfHxcclxuICAgICAgICAgICAgJHNjb3BlLnBhc3N3b3JkID09ICRzY29wZS5wYXNzd29yZENvbmZpcm07XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIC0tLS0tLS0tLS0tLSB1cGxvYWQgYXZhdGFyIC0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgIC8vIHVzaW5nOiBodHRwczovL2dpdGh1Yi5jb20vZGFuaWFsZmFyaWQvYW5ndWxhci1maWxlLXVwbG9hZFxyXG4gICAgJHNjb3BlLm9uQXZhdGFyRmlsZVNlbGVjdCA9IGZ1bmN0aW9uKCRmaWxlcykge1xyXG4gICAgICAgIHN0YXJ0U3Bpbm5lcigpO1xyXG4gICAgICAgIC8vJGZpbGVzOiBhbiBhcnJheSBvZiBmaWxlcyBzZWxlY3RlZCwgZWFjaCBmaWxlIGhhcyBuYW1lLCBzaXplLCBhbmQgdHlwZS5cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8ICRmaWxlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgZmlsZSA9ICRmaWxlc1tpXTtcclxuICAgICAgICAgICAgJHNjb3BlLnVwbG9hZCA9ICR1cGxvYWQudXBsb2FkKHtcclxuICAgICAgICAgICAgICAgIHVybDogJ3VzZXJzLycgKyB1c2VySWQsXHJcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxyXG4gICAgICAgICAgICAgICAgd2l0aENyZWRlbnRpYWxzOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgZmlsZTogZmlsZSwgLy8gb3IgbGlzdCBvZiBmaWxlczogJGZpbGVzIGZvciBodG1sNSBvbmx5XHJcbiAgICAgICAgICAgICAgICBmaWxlRm9ybURhdGFOYW1lOiAndXNlclthdmF0YXJdJ1xyXG4gICAgICAgICAgICB9KS5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEsIHN0YXR1cywgaGVhZGVycywgY29uZmlnKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubG9hZFVzZXJQcm9maWxlKCk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUucHJvZmlsZUVkaXRTdGF0dXMgPSAnUGhvdG8gdXBkYXRlZCc7XHJcbiAgICAgICAgICAgICAgICBzdG9wU3Bpbm5lcigpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmVycm9yKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0b3BTcGlubmVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnByb2ZpbGVFZGl0U3RhdHVzID0gJ0Vycm9yOiBDb3VsZCBub3QgdXBsb2FkIHBob3RvJztcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC8vLnRoZW4oc3VjY2VzcywgZXJyb3IsIHByb2dyZXNzKTsgXHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcblxyXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tIHZpZXcgaGVscGVycyAtLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICAgLy8gcmV0dXJucyBlLmcuIFwiYSBkYXkgYWdvXCJcclxuICAgIC8vIChOQjogbm93IGlzIG9idGFpbmVkIGZyb20gdGhlIERCIHRvIGVuc3VyZSB0aGF0IHdlIGhhdmUgYm90aCBkYXRlcyBpbiBVVEM7IFxyXG4gICAgLy8gICAgYWxzbywgU1FMIHZzLiBydWJ5IGRhdGVzIG5lZWQgdG8gYmUgY29lcmNlZCBpbnRvIGEgc2ltaWxhciBmb3JtYXQsIGJvdGggaW4gVVRDIC0gc2VlIGZlZWQuanNvbi5qYnVpbGRlcilcclxuICAgICRzY29wZS5nZXRFdmVudFRpbWUgPSBmdW5jdGlvbih0LCBub3cpIHtcclxuICAgICAgICB2YXIgdGltZSA9IG1vbWVudCh0LCAnWVlZWS1NTS1ERCBISDptbTpzcy5TU1MnKTtcclxuICAgICAgICB2YXIgbm93dGltZSA9IG1vbWVudChub3csICdZWVlZLU1NLUREIEhIOm1tOnNzLlNTUycpO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCd0OiAgICAgICAnICsgdCk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ25vdzogICAgICcgKyBub3cpO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCd0aW1lOiAgICAnICsgdGltZS5mb3JtYXQoKSk7IC8vICsgJyAnICsgdGltZS5pc1ZhbGlkKCkpO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdub3d0aW1lOiAnICsgbm93dGltZS5mb3JtYXQoKSk7IC8vICsgJyAnICsgbm93dGltZS5pc1ZhbGlkKCkpO1xyXG4gICAgICAgIHJldHVybiB0aW1lLmZyb20obm93dGltZSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLSBub3RpZmljYXRpb25zIC0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgICAkc2NvcGUuZ2V0Tm90aWZpY2F0aW9uRmVlZFVybCA9IGZ1bmN0aW9uKG5vdGlmaWNhdGlvbikge1xyXG4gICAgICAgIGlmIChub3RpZmljYXRpb24uYWN0aW9ucy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdmFyIGFjdGlvbiA9IG5vdGlmaWNhdGlvbi5hY3Rpb25zWzBdO1xyXG4gICAgICAgICAgICBpZiAoYWN0aW9uLmFjdGlvbiA9PSAnTElLRScpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAnL3NvY2lhbD9saWtlX2lkPScgKyBhY3Rpb24ubGlrZUlkO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGFjdGlvbi5hY3Rpb24gPT0gJ0NPTU1FTlQnKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJy9zb2NpYWw/Y29tbWVudF9pZD0nICsgYWN0aW9uLmNvbW1lbnRJZDtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChhY3Rpb24uYWN0aW9uID09ICdTSEFSRV9JTkRJVklEVUFMJykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICcvbWFwcy8nICsgYWN0aW9uLm1hcElkO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGFjdGlvbi5hY3Rpb24gPT0gJ1NIQVJFX1BVQkxJQycpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAnL3NvY2lhbD9zaGFyZV9pZD0nICsgYWN0aW9uLnNoYXJlSWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgfTtcclxuXHJcbiAgICAkc2NvcGUuZGVsZXRlTm90aWZpY2F0aW9uID0gZnVuY3Rpb24obm90aWZpY2F0aW9uKSB7XHJcbiAgICAgICAgJGh0dHAuZGVsZXRlKCcvbm90aWZpY2F0aW9ucy8nICsgbm90aWZpY2F0aW9uLmlkICsgJy5qc29uJykudGhlbihcclxuICAgICAgICAgICAgZnVuY3Rpb24ocmVzcG9uc2UpIHsgLy8gc3VjY2Vzc1xyXG4gICAgICAgICAgICAgICAgbm90aWZpY2F0aW9uLmRlbGV0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBmdW5jdGlvbihyZWFzb24pIHsgLy8gZXJyb3JcclxuICAgICAgICAgICAgICAgIGFsZXJ0KCdDb3VsZCBub3QgZGVsZXRlIG5vdGlmaWNhdGlvbicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKTtcclxuICAgIH07XHJcblxyXG4gICAgJHNjb3BlLm5vdGlmaWNhdGlvblZlcmIgPSBmdW5jdGlvbihhY3Rpb24pIHtcclxuICAgICAgICB2YXIgdmVyYnMgPSB7XHJcbiAgICAgICAgICAgIExJS0U6ICdsaWtlZCB0aGlzOicsXHJcbiAgICAgICAgICAgIENPTU1FTlQ6ICdjb21tZW50ZWQgb24gdGhpczonLFxyXG4gICAgICAgICAgICBTSEFSRV9JTkRJVklEVUFMOiAnc2hhcmVkIGEgTWV0YU1hcCB3aXRoIHlvdScsXHJcbiAgICAgICAgICAgIFNIQVJFX1BVQkxJQzogJ3NoYXJlZCBhIE1ldGFNYXAgd2l0aCBldmVyeW9uZScsXHJcbiAgICAgICAgICAgIE1BUF9GT0xMT1c6ICdmb2xsb3dlZCBhIE1ldGFNYXA6JyxcclxuICAgICAgICAgICAgVVNFUl9GT0xMT1c6ICdmb2xsb3dlZCB5b3UnXHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gdmVyYnNbYWN0aW9uXTtcclxuICAgIH07XHJcblxyXG4gICAgLy8gLS0tLS0tLS0tLS0tIHV0aWxpdHkgZnVuY3Rpb25zIC0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgIC8vIGhhbmR5IGZ1bmN0aW9uIGZvciB1c2Ugd2l0aCBuZy1jbGFzcyBvbiByYWRpbyBidXR0b25zXHJcbiAgICAkc2NvcGUuY2xhc3NJZiA9IGZ1bmN0aW9uKGtsYXNzLCBiKSB7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZygnY2xhc3NJZjogJyArIGtsYXNzICsgJywgJyArIGIpO1xyXG4gICAgICAgIHJldHVybiAoYiA/IGtsYXNzIDogJycpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBhdm9pZCAnJGFwcGx5IGFscmVhZHkgaW4gcHJvZ3Jlc3MnIGVycm9yIChzb3VyY2U6IGh0dHBzOi8vY29kZXJ3YWxsLmNvbS9wL25naXNtYSlcclxuICAgICRzY29wZS5zYWZlQXBwbHkgPSBmdW5jdGlvbihmbikge1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coJ3NhZmVBcHBseSBvbiBzY29wZTogJyArICRzY29wZSk7XHJcblxyXG4gICAgICAgIC8vIFRPRE8/IHJlc3RvcmUgbm9uLUFuZ3VsYXIgdmVyc2lvbiBvZiB0aGlzIG1ldGhvZFxyXG4gICAgICAgIC8vdmFyIHBoYXNlID0gdGhpcy4kcm9vdC4kJHBoYXNlO1xyXG4gICAgICAgIC8vaWYgKHBoYXNlID09ICckYXBwbHknIHx8IHBoYXNlID09ICckZGlnZXN0Jykge1xyXG4gICAgICAgICAgICBpZiAoZm4gJiYgKHR5cGVvZihmbikgPT09ICdmdW5jdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICBmbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgLy99IGVsc2Uge1xyXG4gICAgICAgIC8vICAgIHRoaXMuJGFwcGx5KGZuKTtcclxuICAgICAgICAvL31cclxuICAgIH07XHJcblxyXG4gICAgLy8gc291cmNlOiBodHRwOi8vY3RybHEub3JnL2NvZGUvMTk2MTYtZGV0ZWN0LXRvdWNoLXNjcmVlbi1qYXZhc2NyaXB0XHJcbiAgICAkc2NvcGUuaXNUb3VjaERldmljZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiAoKCdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdykgfHwgKG5hdmlnYXRvci5NYXhUb3VjaFBvaW50cyA+IDApIHx8IChuYXZpZ2F0b3IubXNNYXhUb3VjaFBvaW50cyA+IDApKTtcclxuICAgIH07XHJcblxyXG4gICAgaW5pdCgpO1xyXG59O1xyXG5cclxud2luZG93LlVzZXJDdHJsLiRpbmplY3QgPSBbJyRyb290U2NvcGUnLCAnJHNjb3BlJywgJyRodHRwJywgJyRtb2RhbCcsICckdXBsb2FkJ107IiwiY2xhc3MgQXV0aDAge1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMubG9jayA9IG5ldyBBdXRoMExvY2soJ3dzT25hcnQyM3lWaUlTaHFUNHdmSjE4dzJ2dDJjbDMyJywgJ21ldGFtYXAuYXV0aDAuY29tJyk7XG4gICAgICAgIHRoaXMubG9jay5vbignbG9hZGluZyByZWFkeScsICguLi5lKSA9PiB7XG4gICAgICAgICAgICBcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgbG9naW4oKSB7XG4gICAgICAgIGxldCB0aGF0ID0gdGhpcztcbiAgICAgICAgXG4gICAgICAgIGxldCBwcm9taXNlID0gbmV3IFByb21pc2UoKGZ1bGZpbGwsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhhdC5nZXRTZXNzaW9uKCkudGhlbigocHJvZmlsZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChwcm9maWxlKSB7XG4gICAgICAgICAgICAgICAgICAgIGZ1bGZpbGwocHJvZmlsZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5sb2NrLnNob3coe1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xvc2FibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbG9naW5BZnRlclNpZ251cDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhQYXJhbXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZTogJ29wZW5pZCBvZmZsaW5lX2FjY2VzcydcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSwgKGVyciwgcHJvZmlsZSwgaWRfdG9rZW4sIGN0b2tlbiwgb3B0LCByZWZyZXNoX3Rva2VuKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsZm9yYWdlLnNldEl0ZW0oJ2lkX3Rva2VuJywgaWRfdG9rZW4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsZm9yYWdlLnNldEl0ZW0oJ3Byb2ZpbGUnLCBwcm9maWxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbGZvcmFnZS5zZXRJdGVtKCdyZWZyZXNoX3Rva2VuJywgcmVmcmVzaF90b2tlbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5wcm9maWxlID0gcHJvZmlsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxmaWxsKHByb2ZpbGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH1cblxuICAgIGdldFNlc3Npb24oKSB7XG4gICAgICAgIGxldCB0aGF0ID0gdGhpcztcbiAgICAgICAgbGV0IGdldFByb2ZpbGUgPSAoaWRfdG9rZW4sIGZ1bGZpbGwsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoYXQubG9jay5nZXRQcm9maWxlKGlkX3Rva2VuLCBmdW5jdGlvbihlcnIsIHByb2ZpbGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxvY2FsZm9yYWdlLnNldEl0ZW0oJ2lkX3Rva2VuJywgaWRfdG9rZW4pO1xuICAgICAgICAgICAgICAgICAgICBsb2NhbGZvcmFnZS5zZXRJdGVtKCdwcm9maWxlJywgcHJvZmlsZSk7XG4gICAgICAgICAgICAgICAgICAgIGZ1bGZpbGwocHJvZmlsZSwgaWRfdG9rZW4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGxldCBwcm9taXNlID0gbmV3IFByb21pc2UoKGZ1bGZpbGwsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgbGV0IGZ1bGZpbGxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgbG9jYWxmb3JhZ2UuZ2V0SXRlbSgncmVmcmVzaF90b2tlbicpLnRoZW4oKHRva2VuKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRva2VuKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoYXQubG9jay5nZXRDbGllbnQoKS5yZWZyZXNoVG9rZW4odG9rZW4sIChhLCB0b2tPYmopID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldFByb2ZpbGUodG9rT2JqLmlkX3Rva2VuLCBmdWxmaWxsLCByZWplY3QpO1xuICAgICAgICAgICAgICAgICAgICB9LCAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxvY2FsZm9yYWdlLmdldEl0ZW0oJ2lkX3Rva2VuJykudGhlbigoaWRfdG9rZW4pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0b2tlbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldFByb2ZpbGUoaWRfdG9rZW4sIGZ1bGZpbGwsIHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGZpbGwobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuICAgIGxvZ291dCgpIHtcbiAgICAgICAgbG9jYWxmb3JhZ2UucmVtb3ZlSXRlbSgnaWRfdG9rZW4nKTtcbiAgICAgICAgbG9jYWxmb3JhZ2UucmVtb3ZlSXRlbSgncmVmcmVzaF90b2tlbicpO1xuICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG4gICAgfVxufVxubW9kdWxlLmV4cG9ydHMgPSBBdXRoMDtcblxuXG4iLCJjbGFzcyBNZXRhRmlyZSB7XG5cbiAgICBjb25zdHJ1Y3RvciAoKSB7XG4gICAgICAgIHRoaXMuZmIgPSBuZXcgRmlyZWJhc2UoXCJodHRwczovL3BvcHBpbmctZmlyZS04OTcuZmlyZWJhc2Vpby5jb21cIik7XG4gICAgfVxuXG4gICAgaW5pdCgpIHtcbiAgICAgICAgbGV0IHRoYXQgPSB0aGlzO1xuICAgICAgICBsZXQgcmV0ID0gbmV3IFByb21pc2UoKGZ1bGZpbGwsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgbG9jYWxmb3JhZ2UuZ2V0SXRlbSgnaWRfdG9rZW4nKS50aGVuKChpZF90b2tlbikgPT4ge1xuICAgICAgICAgICAgICAgIE1ldGFNYXAuQXV0aDAuZ2V0U2Vzc2lvbigpLnRoZW4oKHByb2ZpbGUpID0+IHtcblxuICAgICAgICAgICAgICAgICAgICBNZXRhTWFwLkF1dGgwLmxvY2suZ2V0Q2xpZW50KCkuZ2V0RGVsZWdhdGlvblRva2VuKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldDogcHJvZmlsZS5jbGllbnRJRCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkX3Rva2VuOiBpZF90b2tlbixcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwaV90eXBlOiAnZmlyZWJhc2UnXG4gICAgICAgICAgICAgICAgICAgIH0sIChlcnIsIGRlbGVnYXRpb25SZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuZmlyZWJhc2VfdG9rZW4gPSBkZWxlZ2F0aW9uUmVzdWx0LmlkX3Rva2VuO1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxmb3JhZ2Uuc2V0SXRlbSgnZmlyZWJhc2VfdG9rZW4nLCB0aGF0LmZpcmViYXNlX3Rva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmIuYXV0aFdpdGhDdXN0b21Ub2tlbih0aGF0LmZpcmViYXNlX3Rva2VuLCAoZXJyb3IsIGF1dGhEYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsZmlsbChhdXRoRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7IFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG5cbiAgICBnZXRDaGlsZChwYXRoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZiLmNoaWxkKHBhdGgpO1xuICAgIH1cblxuICAgIGdldERhdGEgKHBhdGgpIHtcbiAgICAgICAgdmFyIGNoaWxkID0gdGhpcy5mYjtcbiAgICAgICAgaWYgKHBhdGgpIHtcbiAgICAgICAgICAgIGNoaWxkID0gdGhpcy5nZXRDaGlsZChwYXRoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKCAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBjaGlsZC5vbigndmFsdWUnLFxuICAgICAgICAgICAgICAgIChzbmFwc2hvdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHNuYXBzaG90LnZhbCgpKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH1cbiAgICBzZXREYXRhIChkYXRhLCBwYXRoKSB7XG4gICAgICAgIHZhciBjaGlsZCA9IHRoaXMuZmI7XG4gICAgICAgIGlmIChwYXRoKSB7XG4gICAgICAgICAgICBjaGlsZCA9IHRoaXMuZ2V0Q2hpbGQocGF0aCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNoaWxkLnNldChkYXRhKTtcbiAgICB9XG5cbiAgICBsb2dvdXQgKCkge1xuICAgICAgICB0aGlzLmZiLnVuYXV0aCgpO1xuICAgIH1cbn1cbm1vZHVsZS5leHBvcnRzID0gTWV0YUZpcmU7XG5cblxuIiwiXG52YXIgZ29vZ2xlQW5hbHl0aWNzID0gZnVuY3Rpb24gKGNvbmZpZykge1xyXG4gICAgdmFyIGFwaUtleSwgZSwgcjtcbiAgICBpZiAoY29uZmlnID09IG51bGwpIHtcclxuICAgICAgICBjb25maWcgPSB7fTtcclxuICAgIH1cbiAgICBhcGlLZXkgPSBjb25maWcuR09PR0xFX0FOQUxZVElDU19UUkFDS0lOR19JRDtcbiAgICBpZiAoYXBpS2V5ICYmIHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSAhPT0gJ2xvY2FsaG9zdCcpIHtcclxuICAgICAgICB3aW5kb3cuR29vZ2xlQW5hbHl0aWNzT2JqZWN0ID0gJ2dhJztcbiAgICAgICAgd2luZG93LmdhIHx8ICh3aW5kb3cuZ2EgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICh3aW5kb3cuZ2EucSA9IHdpbmRvdy5nYS5xIHx8IFtdKS5wdXNoKGFyZ3VtZW50cyk7XHJcbiAgICAgICAgfSk7XG4gICAgICAgIHdpbmRvdy5nYS5nYSA9ICsobmV3IERhdGUpO1xuICAgICAgICBlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gICAgICAgIHIgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc2NyaXB0JylbMF07XG4gICAgICAgIGUuc3JjID0gJy8vd3d3Lmdvb2dsZS1hbmFseXRpY3MuY29tL2FuYWx5dGljcy5qcyc7XG4gICAgICAgIHIucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZSwgcik7XG4gICAgICAgIGdhKCdjcmVhdGUnLCBhcGlLZXkpO1xuICAgICAgICByZXR1cm4gZ2EoJ3NlbmQnLCAncGFnZXZpZXcnKTtcclxuICAgIH1cclxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBnb29nbGVBbmFseXRpY3M7XG5cblxuIiwiXG52YXIgbmV3UmVsaWMgPSBmdW5jdGlvbiAoY29uZmlnKSB7XHJcbiAgICB2YXIgYXBwSWQsIGxpY2Vuc2VLZXk7XG4gICAgaWYgKGNvbmZpZyA9PSBudWxsKSB7XHJcbiAgICAgICAgY29uZmlnID0ge307XHJcbiAgICB9XG4gICAgbGljZW5zZUtleSA9IGNvbmZpZy5ORVdfUkVMSUNfTElDRU5TRV9LRVk7XG4gICAgYXBwSWQgPSBjb25maWcuTkVXX1JFTElDX0FQUExJQ0FUSU9OX0lEO1xuICAgIGlmIChsaWNlbnNlS2V5ICYmIGFwcElkICYmIHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSAhPT0gJ2xvY2FsaG9zdCcpIHtcclxuICAgICAgICByZXR1cm4gd2luZG93Lk5SRVVNIHx8IChOUkVVTSA9IHt9KSwgX19ucl9yZXF1aXJlID0gZnVuY3Rpb24gKHQsIGUsIG4pIHsgZnVuY3Rpb24gcihuKSB7IGlmICghZVtuXSkgeyB2YXIgbyA9IGVbbl0gPSB7IGV4cG9ydHM6IHt9IH07IHRbbl1bMF0uY2FsbChvLmV4cG9ydHMsIGZ1bmN0aW9uIChlKSB7IHZhciBvID0gdFtuXVsxXVtlXTsgcmV0dXJuIHIobyA/IG8gOiBlKSB9LCBvLCBvLmV4cG9ydHMpIH0gcmV0dXJuIGVbbl0uZXhwb3J0cyB9IGlmIChcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIF9fbnJfcmVxdWlyZSkgcmV0dXJuIF9fbnJfcmVxdWlyZTsgZm9yICh2YXIgbyA9IDA7IG8gPCBuLmxlbmd0aDsgbysrKSByKG5bb10pOyByZXR1cm4gciB9KHsgUUpmM2F4OiBbZnVuY3Rpb24gKHQsIGUpIHsgZnVuY3Rpb24gbih0KSB7IGZ1bmN0aW9uIGUoZSwgbiwgYSkgeyB0ICYmIHQoZSwgbiwgYSksIGEgfHwgKGEgPSB7fSk7IGZvciAodmFyIGMgPSBzKGUpLCBmID0gYy5sZW5ndGgsIHUgPSBpKGEsIG8sIHIpLCBkID0gMDsgZiA+IGQ7IGQrKykgY1tkXS5hcHBseSh1LCBuKTsgcmV0dXJuIHUgfSBmdW5jdGlvbiBhKHQsIGUpIHsgZlt0XSA9IHModCkuY29uY2F0KGUpIH0gZnVuY3Rpb24gcyh0KSB7IHJldHVybiBmW3RdIHx8IFtdIH0gZnVuY3Rpb24gYygpIHsgcmV0dXJuIG4oZSkgfSB2YXIgZiA9IHt9OyByZXR1cm4geyBvbjogYSwgZW1pdDogZSwgY3JlYXRlOiBjLCBsaXN0ZW5lcnM6IHMsIF9ldmVudHM6IGYgfSB9IGZ1bmN0aW9uIHIoKSB7IHJldHVybiB7fSB9IHZhciBvID0gXCJuckBjb250ZXh0XCIsIGkgPSB0KFwiZ29zXCIpOyBlLmV4cG9ydHMgPSBuKCkgfSwgeyBnb3M6IFwiN2VTREZoXCIgfV0sIGVlOiBbZnVuY3Rpb24gKHQsIGUpIHsgZS5leHBvcnRzID0gdChcIlFKZjNheFwiKSB9LCB7fV0sIDM6IFtmdW5jdGlvbiAodCkgeyBmdW5jdGlvbiBlKHQsIGUsIG4sIGksIHMpIHsgdHJ5IHsgYyA/IGMgLT0gMSA6IHIoXCJlcnJcIiwgW3MgfHwgbmV3IFVuY2F1Z2h0RXhjZXB0aW9uKHQsIGUsIG4pXSkgfSBjYXRjaCAoZikgeyB0cnkgeyByKFwiaWVyclwiLCBbZiwgKG5ldyBEYXRlKS5nZXRUaW1lKCksICEwXSkgfSBjYXRjaCAodSkgeyB9IH0gcmV0dXJuIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgYSA/IGEuYXBwbHkodGhpcywgbyhhcmd1bWVudHMpKSA6ICExIH0gZnVuY3Rpb24gVW5jYXVnaHRFeGNlcHRpb24odCwgZSwgbikgeyB0aGlzLm1lc3NhZ2UgPSB0IHx8IFwiVW5jYXVnaHQgZXJyb3Igd2l0aCBubyBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXCIsIHRoaXMuc291cmNlVVJMID0gZSwgdGhpcy5saW5lID0gbiB9IGZ1bmN0aW9uIG4odCkgeyByKFwiZXJyXCIsIFt0LCAobmV3IERhdGUpLmdldFRpbWUoKV0pIH0gdmFyIHIgPSB0KFwiaGFuZGxlXCIpLCBvID0gdCg1KSwgaSA9IHQoXCJlZVwiKSwgYSA9IHdpbmRvdy5vbmVycm9yLCBzID0gITEsIGMgPSAwOyB0KFwibG9hZGVyXCIpLmZlYXR1cmVzLmVyciA9ICEwLCB3aW5kb3cub25lcnJvciA9IGUsIE5SRVVNLm5vdGljZUVycm9yID0gbjsgdHJ5IHsgdGhyb3cgbmV3IEVycm9yIH0gY2F0Y2ggKGYpIHsgXCJzdGFja1wiIGluIGYgJiYgKHQoMSksIHQoNCksIFwiYWRkRXZlbnRMaXN0ZW5lclwiIGluIHdpbmRvdyAmJiB0KDIpLCB3aW5kb3cuWE1MSHR0cFJlcXVlc3QgJiYgWE1MSHR0cFJlcXVlc3QucHJvdG90eXBlICYmIFhNTEh0dHBSZXF1ZXN0LnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyICYmIHQoMyksIHMgPSAhMCkgfSBpLm9uKFwiZm4tc3RhcnRcIiwgZnVuY3Rpb24gKCkgeyBzICYmIChjICs9IDEpIH0pLCBpLm9uKFwiZm4tZXJyXCIsIGZ1bmN0aW9uICh0LCBlLCByKSB7IHMgJiYgKHRoaXMudGhyb3duID0gITAsIG4ocikpIH0pLCBpLm9uKFwiZm4tZW5kXCIsIGZ1bmN0aW9uICgpIHsgcyAmJiAhdGhpcy50aHJvd24gJiYgYyA+IDAgJiYgKGMgLT0gMSkgfSksIGkub24oXCJpbnRlcm5hbC1lcnJvclwiLCBmdW5jdGlvbiAodCkgeyByKFwiaWVyclwiLCBbdCwgKG5ldyBEYXRlKS5nZXRUaW1lKCksICEwXSkgfSkgfSwgeyAxOiA4LCAyOiA1LCAzOiA5LCA0OiA3LCA1OiAyMSwgZWU6IFwiUUpmM2F4XCIsIGhhbmRsZTogXCJENUR1TFBcIiwgbG9hZGVyOiBcIkc5ejBCbFwiIH1dLCA0OiBbZnVuY3Rpb24gKHQpIHsgZnVuY3Rpb24gZSgpIHsgfSBpZiAod2luZG93LnBlcmZvcm1hbmNlICYmIHdpbmRvdy5wZXJmb3JtYW5jZS50aW1pbmcgJiYgd2luZG93LnBlcmZvcm1hbmNlLmdldEVudHJpZXNCeVR5cGUpIHsgdmFyIG4gPSB0KFwiZWVcIiksIHIgPSB0KFwiaGFuZGxlXCIpLCBvID0gdCgyKTsgdChcImxvYWRlclwiKS5mZWF0dXJlcy5zdG4gPSAhMCwgdCgxKSwgbi5vbihcImZuLXN0YXJ0XCIsIGZ1bmN0aW9uICh0KSB7IHZhciBlID0gdFswXTsgZSBpbnN0YW5jZW9mIEV2ZW50ICYmICh0aGlzLmJzdFN0YXJ0ID0gRGF0ZS5ub3coKSkgfSksIG4ub24oXCJmbi1lbmRcIiwgZnVuY3Rpb24gKHQsIGUpIHsgdmFyIG4gPSB0WzBdOyBuIGluc3RhbmNlb2YgRXZlbnQgJiYgcihcImJzdFwiLCBbbiwgZSwgdGhpcy5ic3RTdGFydCwgRGF0ZS5ub3coKV0pIH0pLCBvLm9uKFwiZm4tc3RhcnRcIiwgZnVuY3Rpb24gKHQsIGUsIG4pIHsgdGhpcy5ic3RTdGFydCA9IERhdGUubm93KCksIHRoaXMuYnN0VHlwZSA9IG4gfSksIG8ub24oXCJmbi1lbmRcIiwgZnVuY3Rpb24gKHQsIGUpIHsgcihcImJzdFRpbWVyXCIsIFtlLCB0aGlzLmJzdFN0YXJ0LCBEYXRlLm5vdygpLCB0aGlzLmJzdFR5cGVdKSB9KSwgbi5vbihcInB1c2hTdGF0ZS1zdGFydFwiLCBmdW5jdGlvbiAoKSB7IHRoaXMudGltZSA9IERhdGUubm93KCksIHRoaXMuc3RhcnRQYXRoID0gbG9jYXRpb24ucGF0aG5hbWUgKyBsb2NhdGlvbi5oYXNoIH0pLCBuLm9uKFwicHVzaFN0YXRlLWVuZFwiLCBmdW5jdGlvbiAoKSB7IHIoXCJic3RIaXN0XCIsIFtsb2NhdGlvbi5wYXRobmFtZSArIGxvY2F0aW9uLmhhc2gsIHRoaXMuc3RhcnRQYXRoLCB0aGlzLnRpbWVdKSB9KSwgXCJhZGRFdmVudExpc3RlbmVyXCIgaW4gd2luZG93LnBlcmZvcm1hbmNlICYmICh3aW5kb3cucGVyZm9ybWFuY2UuYWRkRXZlbnRMaXN0ZW5lcihcIndlYmtpdHJlc291cmNldGltaW5nYnVmZmVyZnVsbFwiLCBmdW5jdGlvbiAoKSB7IHIoXCJic3RSZXNvdXJjZVwiLCBbd2luZG93LnBlcmZvcm1hbmNlLmdldEVudHJpZXNCeVR5cGUoXCJyZXNvdXJjZVwiKV0pLCB3aW5kb3cucGVyZm9ybWFuY2Uud2Via2l0Q2xlYXJSZXNvdXJjZVRpbWluZ3MoKSB9LCAhMSksIHdpbmRvdy5wZXJmb3JtYW5jZS5hZGRFdmVudExpc3RlbmVyKFwicmVzb3VyY2V0aW1pbmdidWZmZXJmdWxsXCIsIGZ1bmN0aW9uICgpIHsgcihcImJzdFJlc291cmNlXCIsIFt3aW5kb3cucGVyZm9ybWFuY2UuZ2V0RW50cmllc0J5VHlwZShcInJlc291cmNlXCIpXSksIHdpbmRvdy5wZXJmb3JtYW5jZS5jbGVhclJlc291cmNlVGltaW5ncygpIH0sICExKSksIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgZSwgITEpLCBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5cHJlc3NcIiwgZSwgITEpLCBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZSwgITEpIH0gfSwgeyAxOiA2LCAyOiA4LCBlZTogXCJRSmYzYXhcIiwgaGFuZGxlOiBcIkQ1RHVMUFwiLCBsb2FkZXI6IFwiRzl6MEJsXCIgfV0sIDU6IFtmdW5jdGlvbiAodCwgZSkgeyBmdW5jdGlvbiBuKHQpIHsgaS5pblBsYWNlKHQsIFtcImFkZEV2ZW50TGlzdGVuZXJcIiwgXCJyZW1vdmVFdmVudExpc3RlbmVyXCJdLCBcIi1cIiwgcikgfSBmdW5jdGlvbiByKHQpIHsgcmV0dXJuIHRbMV0gfSB2YXIgbyA9ICh0KDEpLCB0KFwiZWVcIikuY3JlYXRlKCkpLCBpID0gdCgyKShvKSwgYSA9IHQoXCJnb3NcIik7IGlmIChlLmV4cG9ydHMgPSBvLCBuKHdpbmRvdyksIFwiZ2V0UHJvdG90eXBlT2ZcIiBpbiBPYmplY3QpIHsgZm9yICh2YXIgcyA9IGRvY3VtZW50OyBzICYmICFzLmhhc093blByb3BlcnR5KFwiYWRkRXZlbnRMaXN0ZW5lclwiKSA7KSBzID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHMpOyBzICYmIG4ocyk7IGZvciAodmFyIGMgPSBYTUxIdHRwUmVxdWVzdC5wcm90b3R5cGU7IGMgJiYgIWMuaGFzT3duUHJvcGVydHkoXCJhZGRFdmVudExpc3RlbmVyXCIpIDspIGMgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoYyk7IGMgJiYgbihjKSB9IGVsc2UgWE1MSHR0cFJlcXVlc3QucHJvdG90eXBlLmhhc093blByb3BlcnR5KFwiYWRkRXZlbnRMaXN0ZW5lclwiKSAmJiBuKFhNTEh0dHBSZXF1ZXN0LnByb3RvdHlwZSk7IG8ub24oXCJhZGRFdmVudExpc3RlbmVyLXN0YXJ0XCIsIGZ1bmN0aW9uICh0KSB7IGlmICh0WzFdKSB7IHZhciBlID0gdFsxXTsgXCJmdW5jdGlvblwiID09IHR5cGVvZiBlID8gdGhpcy53cmFwcGVkID0gdFsxXSA9IGEoZSwgXCJuckB3cmFwcGVkXCIsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGkoZSwgXCJmbi1cIiwgbnVsbCwgZS5uYW1lIHx8IFwiYW5vbnltb3VzXCIpIH0pIDogXCJmdW5jdGlvblwiID09IHR5cGVvZiBlLmhhbmRsZUV2ZW50ICYmIGkuaW5QbGFjZShlLCBbXCJoYW5kbGVFdmVudFwiXSwgXCJmbi1cIikgfSB9KSwgby5vbihcInJlbW92ZUV2ZW50TGlzdGVuZXItc3RhcnRcIiwgZnVuY3Rpb24gKHQpIHsgdmFyIGUgPSB0aGlzLndyYXBwZWQ7IGUgJiYgKHRbMV0gPSBlKSB9KSB9LCB7IDE6IDIxLCAyOiAyMiwgZWU6IFwiUUpmM2F4XCIsIGdvczogXCI3ZVNERmhcIiB9XSwgNjogW2Z1bmN0aW9uICh0LCBlKSB7IHZhciBuID0gKHQoMiksIHQoXCJlZVwiKS5jcmVhdGUoKSksIHIgPSB0KDEpKG4pOyBlLmV4cG9ydHMgPSBuLCByLmluUGxhY2Uod2luZG93Lmhpc3RvcnksIFtcInB1c2hTdGF0ZVwiXSwgXCItXCIpIH0sIHsgMTogMjIsIDI6IDIxLCBlZTogXCJRSmYzYXhcIiB9XSwgNzogW2Z1bmN0aW9uICh0LCBlKSB7IHZhciBuID0gKHQoMiksIHQoXCJlZVwiKS5jcmVhdGUoKSksIHIgPSB0KDEpKG4pOyBlLmV4cG9ydHMgPSBuLCByLmluUGxhY2Uod2luZG93LCBbXCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWVcIiwgXCJtb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcIiwgXCJ3ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcIiwgXCJtc1JlcXVlc3RBbmltYXRpb25GcmFtZVwiXSwgXCJyYWYtXCIpLCBuLm9uKFwicmFmLXN0YXJ0XCIsIGZ1bmN0aW9uICh0KSB7IHRbMF0gPSByKHRbMF0sIFwiZm4tXCIpIH0pIH0sIHsgMTogMjIsIDI6IDIxLCBlZTogXCJRSmYzYXhcIiB9XSwgODogW2Z1bmN0aW9uICh0LCBlKSB7IGZ1bmN0aW9uIG4odCwgZSwgbikgeyB2YXIgciA9IHRbMF07IFwic3RyaW5nXCIgPT0gdHlwZW9mIHIgJiYgKHIgPSBuZXcgRnVuY3Rpb24ocikpLCB0WzBdID0gbyhyLCBcImZuLVwiLCBudWxsLCBuKSB9IHZhciByID0gKHQoMiksIHQoXCJlZVwiKS5jcmVhdGUoKSksIG8gPSB0KDEpKHIpOyBlLmV4cG9ydHMgPSByLCBvLmluUGxhY2Uod2luZG93LCBbXCJzZXRUaW1lb3V0XCIsIFwic2V0SW50ZXJ2YWxcIiwgXCJzZXRJbW1lZGlhdGVcIl0sIFwic2V0VGltZXItXCIpLCByLm9uKFwic2V0VGltZXItc3RhcnRcIiwgbikgfSwgeyAxOiAyMiwgMjogMjEsIGVlOiBcIlFKZjNheFwiIH1dLCA5OiBbZnVuY3Rpb24gKHQsIGUpIHsgZnVuY3Rpb24gbigpIHsgYy5pblBsYWNlKHRoaXMsIGQsIFwiZm4tXCIpIH0gZnVuY3Rpb24gcih0LCBlKSB7IGMuaW5QbGFjZShlLCBbXCJvbnJlYWR5c3RhdGVjaGFuZ2VcIl0sIFwiZm4tXCIpIH0gZnVuY3Rpb24gbyh0LCBlKSB7IHJldHVybiBlIH0gdmFyIGkgPSB0KFwiZWVcIikuY3JlYXRlKCksIGEgPSB0KDEpLCBzID0gdCgyKSwgYyA9IHMoaSksIGYgPSBzKGEpLCB1ID0gd2luZG93LlhNTEh0dHBSZXF1ZXN0LCBkID0gW1wib25sb2FkXCIsIFwib25lcnJvclwiLCBcIm9uYWJvcnRcIiwgXCJvbmxvYWRzdGFydFwiLCBcIm9ubG9hZGVuZFwiLCBcIm9ucHJvZ3Jlc3NcIiwgXCJvbnRpbWVvdXRcIl07IGUuZXhwb3J0cyA9IGksIHdpbmRvdy5YTUxIdHRwUmVxdWVzdCA9IGZ1bmN0aW9uICh0KSB7IHZhciBlID0gbmV3IHUodCk7IHRyeSB7IGkuZW1pdChcIm5ldy14aHJcIiwgW10sIGUpLCBmLmluUGxhY2UoZSwgW1wiYWRkRXZlbnRMaXN0ZW5lclwiLCBcInJlbW92ZUV2ZW50TGlzdGVuZXJcIl0sIFwiLVwiLCBmdW5jdGlvbiAodCwgZSkgeyByZXR1cm4gZSB9KSwgZS5hZGRFdmVudExpc3RlbmVyKFwicmVhZHlzdGF0ZWNoYW5nZVwiLCBuLCAhMSkgfSBjYXRjaCAocikgeyB0cnkgeyBpLmVtaXQoXCJpbnRlcm5hbC1lcnJvclwiLCBbcl0pIH0gY2F0Y2ggKG8pIHsgfSB9IHJldHVybiBlIH0sIHdpbmRvdy5YTUxIdHRwUmVxdWVzdC5wcm90b3R5cGUgPSB1LnByb3RvdHlwZSwgYy5pblBsYWNlKFhNTEh0dHBSZXF1ZXN0LnByb3RvdHlwZSwgW1wib3BlblwiLCBcInNlbmRcIl0sIFwiLXhoci1cIiwgbyksIGkub24oXCJzZW5kLXhoci1zdGFydFwiLCByKSwgaS5vbihcIm9wZW4teGhyLXN0YXJ0XCIsIHIpIH0sIHsgMTogNSwgMjogMjIsIGVlOiBcIlFKZjNheFwiIH1dLCAxMDogW2Z1bmN0aW9uICh0KSB7IGZ1bmN0aW9uIGUodCkgeyBpZiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YgdCAmJiB0Lmxlbmd0aCkgcmV0dXJuIHQubGVuZ3RoOyBpZiAoXCJvYmplY3RcIiAhPSB0eXBlb2YgdCkgcmV0dXJuIHZvaWQgMDsgaWYgKFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIEFycmF5QnVmZmVyICYmIHQgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlciAmJiB0LmJ5dGVMZW5ndGgpIHJldHVybiB0LmJ5dGVMZW5ndGg7IGlmIChcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBCbG9iICYmIHQgaW5zdGFuY2VvZiBCbG9iICYmIHQuc2l6ZSkgcmV0dXJuIHQuc2l6ZTsgaWYgKFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIEZvcm1EYXRhICYmIHQgaW5zdGFuY2VvZiBGb3JtRGF0YSkgcmV0dXJuIHZvaWQgMDsgdHJ5IHsgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHQpLmxlbmd0aCB9IGNhdGNoIChlKSB7IHJldHVybiB2b2lkIDAgfSB9IGZ1bmN0aW9uIG4odCkgeyB2YXIgbiA9IHRoaXMucGFyYW1zLCByID0gdGhpcy5tZXRyaWNzOyBpZiAoIXRoaXMuZW5kZWQpIHsgdGhpcy5lbmRlZCA9ICEwOyBmb3IgKHZhciBpID0gMDsgYyA+IGk7IGkrKykgdC5yZW1vdmVFdmVudExpc3RlbmVyKHNbaV0sIHRoaXMubGlzdGVuZXIsICExKTsgaWYgKCFuLmFib3J0ZWQpIHsgaWYgKHIuZHVyYXRpb24gPSAobmV3IERhdGUpLmdldFRpbWUoKSAtIHRoaXMuc3RhcnRUaW1lLCA0ID09PSB0LnJlYWR5U3RhdGUpIHsgbi5zdGF0dXMgPSB0LnN0YXR1czsgdmFyIGEgPSB0LnJlc3BvbnNlVHlwZSwgZiA9IFwiYXJyYXlidWZmZXJcIiA9PT0gYSB8fCBcImJsb2JcIiA9PT0gYSB8fCBcImpzb25cIiA9PT0gYSA/IHQucmVzcG9uc2UgOiB0LnJlc3BvbnNlVGV4dCwgdSA9IGUoZik7IGlmICh1ICYmIChyLnJ4U2l6ZSA9IHUpLCB0aGlzLnNhbWVPcmlnaW4pIHsgdmFyIGQgPSB0LmdldFJlc3BvbnNlSGVhZGVyKFwiWC1OZXdSZWxpYy1BcHAtRGF0YVwiKTsgZCAmJiAobi5jYXQgPSBkLnNwbGl0KFwiLCBcIikucG9wKCkpIH0gfSBlbHNlIG4uc3RhdHVzID0gMDsgci5jYlRpbWUgPSB0aGlzLmNiVGltZSwgbyhcInhoclwiLCBbbiwgciwgdGhpcy5zdGFydFRpbWVdKSB9IH0gfSBmdW5jdGlvbiByKHQsIGUpIHsgdmFyIG4gPSBpKGUpLCByID0gdC5wYXJhbXM7IHIuaG9zdCA9IG4uaG9zdG5hbWUgKyBcIjpcIiArIG4ucG9ydCwgci5wYXRobmFtZSA9IG4ucGF0aG5hbWUsIHQuc2FtZU9yaWdpbiA9IG4uc2FtZU9yaWdpbiB9IGlmICh3aW5kb3cuWE1MSHR0cFJlcXVlc3QgJiYgWE1MSHR0cFJlcXVlc3QucHJvdG90eXBlICYmIFhNTEh0dHBSZXF1ZXN0LnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyICYmICEvQ3JpT1MvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpIHsgdChcImxvYWRlclwiKS5mZWF0dXJlcy54aHIgPSAhMDsgdmFyIG8gPSB0KFwiaGFuZGxlXCIpLCBpID0gdCgyKSwgYSA9IHQoXCJlZVwiKSwgcyA9IFtcImxvYWRcIiwgXCJlcnJvclwiLCBcImFib3J0XCIsIFwidGltZW91dFwiXSwgYyA9IHMubGVuZ3RoLCBmID0gdCgxKTsgdCg0KSwgdCgzKSwgYS5vbihcIm5ldy14aHJcIiwgZnVuY3Rpb24gKCkgeyB0aGlzLnRvdGFsQ2JzID0gMCwgdGhpcy5jYWxsZWQgPSAwLCB0aGlzLmNiVGltZSA9IDAsIHRoaXMuZW5kID0gbiwgdGhpcy5lbmRlZCA9ICExLCB0aGlzLnhockd1aWRzID0ge30gfSksIGEub24oXCJvcGVuLXhoci1zdGFydFwiLCBmdW5jdGlvbiAodCkgeyB0aGlzLnBhcmFtcyA9IHsgbWV0aG9kOiB0WzBdIH0sIHIodGhpcywgdFsxXSksIHRoaXMubWV0cmljcyA9IHt9IH0pLCBhLm9uKFwib3Blbi14aHItZW5kXCIsIGZ1bmN0aW9uICh0LCBlKSB7IFwibG9hZGVyX2NvbmZpZ1wiIGluIE5SRVVNICYmIFwieHBpZFwiIGluIE5SRVVNLmxvYWRlcl9jb25maWcgJiYgdGhpcy5zYW1lT3JpZ2luICYmIGUuc2V0UmVxdWVzdEhlYWRlcihcIlgtTmV3UmVsaWMtSURcIiwgTlJFVU0ubG9hZGVyX2NvbmZpZy54cGlkKSB9KSwgYS5vbihcInNlbmQteGhyLXN0YXJ0XCIsIGZ1bmN0aW9uICh0LCBuKSB7IHZhciByID0gdGhpcy5tZXRyaWNzLCBvID0gdFswXSwgaSA9IHRoaXM7IGlmIChyICYmIG8pIHsgdmFyIGYgPSBlKG8pOyBmICYmIChyLnR4U2l6ZSA9IGYpIH0gdGhpcy5zdGFydFRpbWUgPSAobmV3IERhdGUpLmdldFRpbWUoKSwgdGhpcy5saXN0ZW5lciA9IGZ1bmN0aW9uICh0KSB7IHRyeSB7IFwiYWJvcnRcIiA9PT0gdC50eXBlICYmIChpLnBhcmFtcy5hYm9ydGVkID0gITApLCAoXCJsb2FkXCIgIT09IHQudHlwZSB8fCBpLmNhbGxlZCA9PT0gaS50b3RhbENicyAmJiAoaS5vbmxvYWRDYWxsZWQgfHwgXCJmdW5jdGlvblwiICE9IHR5cGVvZiBuLm9ubG9hZCkpICYmIGkuZW5kKG4pIH0gY2F0Y2ggKGUpIHsgdHJ5IHsgYS5lbWl0KFwiaW50ZXJuYWwtZXJyb3JcIiwgW2VdKSB9IGNhdGNoIChyKSB7IH0gfSB9OyBmb3IgKHZhciB1ID0gMDsgYyA+IHU7IHUrKykgbi5hZGRFdmVudExpc3RlbmVyKHNbdV0sIHRoaXMubGlzdGVuZXIsICExKSB9KSwgYS5vbihcInhoci1jYi10aW1lXCIsIGZ1bmN0aW9uICh0LCBlLCBuKSB7IHRoaXMuY2JUaW1lICs9IHQsIGUgPyB0aGlzLm9ubG9hZENhbGxlZCA9ICEwIDogdGhpcy5jYWxsZWQgKz0gMSwgdGhpcy5jYWxsZWQgIT09IHRoaXMudG90YWxDYnMgfHwgIXRoaXMub25sb2FkQ2FsbGVkICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2Ygbi5vbmxvYWQgfHwgdGhpcy5lbmQobikgfSksIGEub24oXCJ4aHItbG9hZC1hZGRlZFwiLCBmdW5jdGlvbiAodCwgZSkgeyB2YXIgbiA9IFwiXCIgKyBmKHQpICsgISFlOyB0aGlzLnhockd1aWRzICYmICF0aGlzLnhockd1aWRzW25dICYmICh0aGlzLnhockd1aWRzW25dID0gITAsIHRoaXMudG90YWxDYnMgKz0gMSkgfSksIGEub24oXCJ4aHItbG9hZC1yZW1vdmVkXCIsIGZ1bmN0aW9uICh0LCBlKSB7IHZhciBuID0gXCJcIiArIGYodCkgKyAhIWU7IHRoaXMueGhyR3VpZHMgJiYgdGhpcy54aHJHdWlkc1tuXSAmJiAoZGVsZXRlIHRoaXMueGhyR3VpZHNbbl0sIHRoaXMudG90YWxDYnMgLT0gMSkgfSksIGEub24oXCJhZGRFdmVudExpc3RlbmVyLWVuZFwiLCBmdW5jdGlvbiAodCwgZSkgeyBlIGluc3RhbmNlb2YgWE1MSHR0cFJlcXVlc3QgJiYgXCJsb2FkXCIgPT09IHRbMF0gJiYgYS5lbWl0KFwieGhyLWxvYWQtYWRkZWRcIiwgW3RbMV0sIHRbMl1dLCBlKSB9KSwgYS5vbihcInJlbW92ZUV2ZW50TGlzdGVuZXItZW5kXCIsIGZ1bmN0aW9uICh0LCBlKSB7IGUgaW5zdGFuY2VvZiBYTUxIdHRwUmVxdWVzdCAmJiBcImxvYWRcIiA9PT0gdFswXSAmJiBhLmVtaXQoXCJ4aHItbG9hZC1yZW1vdmVkXCIsIFt0WzFdLCB0WzJdXSwgZSkgfSksIGEub24oXCJmbi1zdGFydFwiLCBmdW5jdGlvbiAodCwgZSwgbikgeyBlIGluc3RhbmNlb2YgWE1MSHR0cFJlcXVlc3QgJiYgKFwib25sb2FkXCIgPT09IG4gJiYgKHRoaXMub25sb2FkID0gITApLCAoXCJsb2FkXCIgPT09ICh0WzBdICYmIHRbMF0udHlwZSkgfHwgdGhpcy5vbmxvYWQpICYmICh0aGlzLnhockNiU3RhcnQgPSAobmV3IERhdGUpLmdldFRpbWUoKSkpIH0pLCBhLm9uKFwiZm4tZW5kXCIsIGZ1bmN0aW9uICh0LCBlKSB7IHRoaXMueGhyQ2JTdGFydCAmJiBhLmVtaXQoXCJ4aHItY2ItdGltZVwiLCBbKG5ldyBEYXRlKS5nZXRUaW1lKCkgLSB0aGlzLnhockNiU3RhcnQsIHRoaXMub25sb2FkLCBlXSwgZSkgfSkgfSB9LCB7IDE6IFwiWEw3SEJJXCIsIDI6IDExLCAzOiA5LCA0OiA1LCBlZTogXCJRSmYzYXhcIiwgaGFuZGxlOiBcIkQ1RHVMUFwiLCBsb2FkZXI6IFwiRzl6MEJsXCIgfV0sIDExOiBbZnVuY3Rpb24gKHQsIGUpIHsgZS5leHBvcnRzID0gZnVuY3Rpb24gKHQpIHsgdmFyIGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKSwgbiA9IHdpbmRvdy5sb2NhdGlvbiwgciA9IHt9OyBlLmhyZWYgPSB0LCByLnBvcnQgPSBlLnBvcnQ7IHZhciBvID0gZS5ocmVmLnNwbGl0KFwiOi8vXCIpOyByZXR1cm4gIXIucG9ydCAmJiBvWzFdICYmIChyLnBvcnQgPSBvWzFdLnNwbGl0KFwiL1wiKVswXS5zcGxpdChcIkBcIikucG9wKCkuc3BsaXQoXCI6XCIpWzFdKSwgci5wb3J0ICYmIFwiMFwiICE9PSByLnBvcnQgfHwgKHIucG9ydCA9IFwiaHR0cHNcIiA9PT0gb1swXSA/IFwiNDQzXCIgOiBcIjgwXCIpLCByLmhvc3RuYW1lID0gZS5ob3N0bmFtZSB8fCBuLmhvc3RuYW1lLCByLnBhdGhuYW1lID0gZS5wYXRobmFtZSwgci5wcm90b2NvbCA9IG9bMF0sIFwiL1wiICE9PSByLnBhdGhuYW1lLmNoYXJBdCgwKSAmJiAoci5wYXRobmFtZSA9IFwiL1wiICsgci5wYXRobmFtZSksIHIuc2FtZU9yaWdpbiA9ICFlLmhvc3RuYW1lIHx8IGUuaG9zdG5hbWUgPT09IGRvY3VtZW50LmRvbWFpbiAmJiBlLnBvcnQgPT09IG4ucG9ydCAmJiBlLnByb3RvY29sID09PSBuLnByb3RvY29sLCByIH0gfSwge31dLCBnb3M6IFtmdW5jdGlvbiAodCwgZSkgeyBlLmV4cG9ydHMgPSB0KFwiN2VTREZoXCIpIH0sIHt9XSwgXCI3ZVNERmhcIjogW2Z1bmN0aW9uICh0LCBlKSB7IGZ1bmN0aW9uIG4odCwgZSwgbikgeyBpZiAoci5jYWxsKHQsIGUpKSByZXR1cm4gdFtlXTsgdmFyIG8gPSBuKCk7IGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkgJiYgT2JqZWN0LmtleXMpIHRyeSB7IHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkodCwgZSwgeyB2YWx1ZTogbywgd3JpdGFibGU6ICEwLCBlbnVtZXJhYmxlOiAhMSB9KSwgbyB9IGNhdGNoIChpKSB7IH0gcmV0dXJuIHRbZV0gPSBvLCBvIH0gdmFyIHIgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5OyBlLmV4cG9ydHMgPSBuIH0sIHt9XSwgRDVEdUxQOiBbZnVuY3Rpb24gKHQsIGUpIHsgZnVuY3Rpb24gbih0LCBlLCBuKSB7IHJldHVybiByLmxpc3RlbmVycyh0KS5sZW5ndGggPyByLmVtaXQodCwgZSwgbikgOiAob1t0XSB8fCAob1t0XSA9IFtdKSwgdm9pZCBvW3RdLnB1c2goZSkpIH0gdmFyIHIgPSB0KFwiZWVcIikuY3JlYXRlKCksIG8gPSB7fTsgZS5leHBvcnRzID0gbiwgbi5lZSA9IHIsIHIucSA9IG8gfSwgeyBlZTogXCJRSmYzYXhcIiB9XSwgaGFuZGxlOiBbZnVuY3Rpb24gKHQsIGUpIHsgZS5leHBvcnRzID0gdChcIkQ1RHVMUFwiKSB9LCB7fV0sIFhMN0hCSTogW2Z1bmN0aW9uICh0LCBlKSB7IGZ1bmN0aW9uIG4odCkgeyB2YXIgZSA9IHR5cGVvZiB0OyByZXR1cm4gIXQgfHwgXCJvYmplY3RcIiAhPT0gZSAmJiBcImZ1bmN0aW9uXCIgIT09IGUgPyAtMSA6IHQgPT09IHdpbmRvdyA/IDAgOiBpKHQsIG8sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHIrKyB9KSB9IHZhciByID0gMSwgbyA9IFwibnJAaWRcIiwgaSA9IHQoXCJnb3NcIik7IGUuZXhwb3J0cyA9IG4gfSwgeyBnb3M6IFwiN2VTREZoXCIgfV0sIGlkOiBbZnVuY3Rpb24gKHQsIGUpIHsgZS5leHBvcnRzID0gdChcIlhMN0hCSVwiKSB9LCB7fV0sIGxvYWRlcjogW2Z1bmN0aW9uICh0LCBlKSB7IGUuZXhwb3J0cyA9IHQoXCJHOXowQmxcIikgfSwge31dLCBHOXowQmw6IFtmdW5jdGlvbiAodCwgZSkgeyBmdW5jdGlvbiBuKCkgeyB2YXIgdCA9IGwuaW5mbyA9IE5SRVVNLmluZm87IGlmICh0ICYmIHQubGljZW5zZUtleSAmJiB0LmFwcGxpY2F0aW9uSUQgJiYgZiAmJiBmLmJvZHkpIHsgcyhoLCBmdW5jdGlvbiAoZSwgbikgeyBlIGluIHQgfHwgKHRbZV0gPSBuKSB9KSwgbC5wcm90byA9IFwiaHR0cHNcIiA9PT0gcC5zcGxpdChcIjpcIilbMF0gfHwgdC5zc2xGb3JIdHRwID8gXCJodHRwczovL1wiIDogXCJodHRwOi8vXCIsIGEoXCJtYXJrXCIsIFtcIm9ubG9hZFwiLCBpKCldKTsgdmFyIGUgPSBmLmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7IGUuc3JjID0gbC5wcm90byArIHQuYWdlbnQsIGYuYm9keS5hcHBlbmRDaGlsZChlKSB9IH0gZnVuY3Rpb24gcigpIHsgXCJjb21wbGV0ZVwiID09PSBmLnJlYWR5U3RhdGUgJiYgbygpIH0gZnVuY3Rpb24gbygpIHsgYShcIm1hcmtcIiwgW1wiZG9tQ29udGVudFwiLCBpKCldKSB9IGZ1bmN0aW9uIGkoKSB7IHJldHVybiAobmV3IERhdGUpLmdldFRpbWUoKSB9IHZhciBhID0gdChcImhhbmRsZVwiKSwgcyA9IHQoMSksIGMgPSB3aW5kb3csIGYgPSBjLmRvY3VtZW50LCB1ID0gXCJhZGRFdmVudExpc3RlbmVyXCIsIGQgPSBcImF0dGFjaEV2ZW50XCIsIHAgPSAoXCJcIiArIGxvY2F0aW9uKS5zcGxpdChcIj9cIilbMF0sIGggPSB7IGJlYWNvbjogXCJiYW0ubnItZGF0YS5uZXRcIiwgZXJyb3JCZWFjb246IFwiYmFtLm5yLWRhdGEubmV0XCIsIGFnZW50OiBcImpzLWFnZW50Lm5ld3JlbGljLmNvbS9uci01MTUubWluLmpzXCIgfSwgbCA9IGUuZXhwb3J0cyA9IHsgb2Zmc2V0OiBpKCksIG9yaWdpbjogcCwgZmVhdHVyZXM6IHt9IH07IGZbdV0gPyAoZlt1XShcIkRPTUNvbnRlbnRMb2FkZWRcIiwgbywgITEpLCBjW3VdKFwibG9hZFwiLCBuLCAhMSkpIDogKGZbZF0oXCJvbnJlYWR5c3RhdGVjaGFuZ2VcIiwgciksIGNbZF0oXCJvbmxvYWRcIiwgbikpLCBhKFwibWFya1wiLCBbXCJmaXJzdGJ5dGVcIiwgaSgpXSkgfSwgeyAxOiAyMCwgaGFuZGxlOiBcIkQ1RHVMUFwiIH1dLCAyMDogW2Z1bmN0aW9uICh0LCBlKSB7IGZ1bmN0aW9uIG4odCwgZSkgeyB2YXIgbiA9IFtdLCBvID0gXCJcIiwgaSA9IDA7IGZvciAobyBpbiB0KSByLmNhbGwodCwgbykgJiYgKG5baV0gPSBlKG8sIHRbb10pLCBpICs9IDEpOyByZXR1cm4gbiB9IHZhciByID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTsgZS5leHBvcnRzID0gbiB9LCB7fV0sIDIxOiBbZnVuY3Rpb24gKHQsIGUpIHsgZnVuY3Rpb24gbih0LCBlLCBuKSB7IGUgfHwgKGUgPSAwKSwgXCJ1bmRlZmluZWRcIiA9PSB0eXBlb2YgbiAmJiAobiA9IHQgPyB0Lmxlbmd0aCA6IDApOyBmb3IgKHZhciByID0gLTEsIG8gPSBuIC0gZSB8fCAwLCBpID0gQXJyYXkoMCA+IG8gPyAwIDogbykgOyArK3IgPCBvOykgaVtyXSA9IHRbZSArIHJdOyByZXR1cm4gaSB9IGUuZXhwb3J0cyA9IG4gfSwge31dLCAyMjogW2Z1bmN0aW9uICh0LCBlKSB7IGZ1bmN0aW9uIG4odCkgeyByZXR1cm4gISh0ICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgdCAmJiB0LmFwcGx5ICYmICF0W2ldKSB9IHZhciByID0gdChcImVlXCIpLCBvID0gdCgxKSwgaSA9IFwibnJAd3JhcHBlclwiLCBhID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTsgZS5leHBvcnRzID0gZnVuY3Rpb24gKHQpIHsgZnVuY3Rpb24gZSh0LCBlLCByLCBhKSB7IGZ1bmN0aW9uIG5yV3JhcHBlcigpIHsgdmFyIG4sIGksIHMsIGY7IHRyeSB7IGkgPSB0aGlzLCBuID0gbyhhcmd1bWVudHMpLCBzID0gciAmJiByKG4sIGkpIHx8IHt9IH0gY2F0Y2ggKGQpIHsgdShbZCwgXCJcIiwgW24sIGksIGFdLCBzXSkgfSBjKGUgKyBcInN0YXJ0XCIsIFtuLCBpLCBhXSwgcyk7IHRyeSB7IHJldHVybiBmID0gdC5hcHBseShpLCBuKSB9IGNhdGNoIChwKSB7IHRocm93IGMoZSArIFwiZXJyXCIsIFtuLCBpLCBwXSwgcyksIHAgfSBmaW5hbGx5IHsgYyhlICsgXCJlbmRcIiwgW24sIGksIGZdLCBzKSB9IH0gcmV0dXJuIG4odCkgPyB0IDogKGUgfHwgKGUgPSBcIlwiKSwgbnJXcmFwcGVyW2ldID0gITAsIGYodCwgbnJXcmFwcGVyKSwgbnJXcmFwcGVyKSB9IGZ1bmN0aW9uIHModCwgciwgbywgaSkgeyBvIHx8IChvID0gXCJcIik7IHZhciBhLCBzLCBjLCBmID0gXCItXCIgPT09IG8uY2hhckF0KDApOyBmb3IgKGMgPSAwOyBjIDwgci5sZW5ndGg7IGMrKykgcyA9IHJbY10sIGEgPSB0W3NdLCBuKGEpIHx8ICh0W3NdID0gZShhLCBmID8gcyArIG8gOiBvLCBpLCBzLCB0KSkgfSBmdW5jdGlvbiBjKGUsIG4sIHIpIHsgdHJ5IHsgdC5lbWl0KGUsIG4sIHIpIH0gY2F0Y2ggKG8pIHsgdShbbywgZSwgbiwgcl0pIH0gfSBmdW5jdGlvbiBmKHQsIGUpIHsgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAmJiBPYmplY3Qua2V5cykgdHJ5IHsgdmFyIG4gPSBPYmplY3Qua2V5cyh0KTsgcmV0dXJuIG4uZm9yRWFjaChmdW5jdGlvbiAobikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgbiwgeyBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRbbl0gfSwgc2V0OiBmdW5jdGlvbiAoZSkgeyByZXR1cm4gdFtuXSA9IGUsIGUgfSB9KSB9KSwgZSB9IGNhdGNoIChyKSB7IHUoW3JdKSB9IGZvciAodmFyIG8gaW4gdCkgYS5jYWxsKHQsIG8pICYmIChlW29dID0gdFtvXSk7IHJldHVybiBlIH0gZnVuY3Rpb24gdShlKSB7IHRyeSB7IHQuZW1pdChcImludGVybmFsLWVycm9yXCIsIGUpIH0gY2F0Y2ggKG4pIHsgfSB9IHJldHVybiB0IHx8ICh0ID0gciksIGUuaW5QbGFjZSA9IHMsIGUuZmxhZyA9IGksIGUgfSB9LCB7IDE6IDIxLCBlZTogXCJRSmYzYXhcIiB9XSB9LCB7fSwgW1wiRzl6MEJsXCIsIDMsIDEwLCA0XSk7XG4gICAgICAgIDsgTlJFVU0uaW5mbyA9IHsgYmVhY29uOiBcImJhbS5uci1kYXRhLm5ldFwiLCBlcnJvckJlYWNvbjogXCJiYW0ubnItZGF0YS5uZXRcIiwgbGljZW5zZUtleTogbGljZW5zZUtleSwgYXBwbGljYXRpb25JRDogYXBwSWQsIHNhOiAxLCBhZ2VudDogXCJqcy1hZ2VudC5uZXdyZWxpYy5jb20vbnItNTE1Lm1pbi5qc1wiIH1cbiAgICAgICAgO1xyXG4gICAgfVxyXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IG5ld1JlbGljO1xuIiwiXHJcbnZhciByYXlHdW4gPSBmdW5jdGlvbiAoY29uZmlnKSB7XHJcbiAgICB2YXIgYXBpS2V5O1xyXG4gICAgaWYgKGNvbmZpZyA9PSBudWxsKSB7XHJcbiAgICAgICAgY29uZmlnID0ge307XHJcbiAgICB9XHJcbiAgICBhcGlLZXkgPSBjb25maWcuUkFZR1VOX0FQSV9LRVk7XHJcbiAgICBpZiAoYXBpS2V5ICYmIHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSAhPT0gJ2xvY2FsaG9zdCcpIHtcclxuICAgICAgICBpZiAoUmF5Z3VuICE9IG51bGwpIHtcclxuICAgICAgICAgICAgUmF5Z3VuLmluaXQoYXBpS2V5LCB7XHJcbiAgICAgICAgICAgICAgICBpZ25vcmUzcmRQYXJ0eUVycm9yczogdHJ1ZVxyXG4gICAgICAgICAgICB9KS5hdHRhY2goKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFJheWd1biAhPSBudWxsID8gUmF5Z3VuLmZpbHRlclNlbnNpdGl2ZURhdGEoWydwYXNzd29yZCddKSA6IHZvaWQgMDtcclxuICAgIH1cclxufTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gcmF5R3VuOyIsIlxudmFyIHVzZXJTbmFwID0gZnVuY3Rpb24gKGNvbmZpZykge1xyXG4gICAgdmFyIGFwaUtleSA9ICcwMzJiYWY4Ny04NTQ1LTRlYmMtYTU1Ny05MzQ4NTkzNzFmYTUuanMnLCBzLCB4O1xuICAgIGlmIChjb25maWcgPT0gbnVsbCkge1xyXG4gICAgICAgIGNvbmZpZyA9IHt9O1xyXG4gICAgfVxuICAgIGFwaUtleSA9IGNvbmZpZy5VU0VSX1NOQVBfQVBJX0tFWTtcbiAgICBpZiAoYXBpS2V5ICYmIHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSAhPT0gJ2xvY2FsaG9zdCcpIHtcclxuICAgICAgICB3aW5kb3cudXNlcnNuYXBjb25maWcgPSB7XHJcbiAgICAgICAgICAgIG1vZGU6ICdyZXBvcnQnLFxuICAgICAgICAgICAgc2hvcnRjdXQ6IHRydWUsXG4gICAgICAgICAgICBiZWZvcmVPcGVuOiBmdW5jdGlvbiAob2JqKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gVXNlclNuYXAuc2V0RW1haWxCb3goRG9jLmFwcC51c2VyLnVzZXJOYW1lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XG4gICAgICAgIHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgICAgICAgcy50eXBlID0gJ3RleHQvamF2YXNjcmlwdCc7XG4gICAgICAgIHMuYXN5bmMgPSB0cnVlO1xuICAgICAgICBzLnNyYyA9ICcvL2FwaS51c2Vyc25hcC5jb20vbG9hZC8nICsgYXBpS2V5ICsgJy5qcyc7XG4gICAgICAgIHggPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdO1xuICAgICAgICByZXR1cm4geC5hcHBlbmRDaGlsZChzKTtcclxuICAgIH1cclxufTtcblxubW9kdWxlLmV4cG9ydHMgPSB1c2VyU25hcDtcblxuXG4iLCJ2YXIgcmlvdCA9IHJlcXVpcmUoJ3Jpb3QnKTtcbnJpb3QudGFnKCdwYWdlLWFjdGlvbnMnLCAnPGRpdiBjbGFzcz1cInBhZ2UtYWN0aW9uc1wiPiA8ZGl2IGNsYXNzPVwiYnRuLWdyb3VwXCI+IDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIHJlZC1oYXplIGJ0bi1zbSBkcm9wZG93bi10b2dnbGVcIiBkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCIgZGF0YS1ob3Zlcj1cImRyb3Bkb3duXCIgZGF0YS1jbG9zZS1vdGhlcnM9XCJ0cnVlXCI+IDxzcGFuIGNsYXNzPVwiaGlkZGVuLXNtIGhpZGRlbi14c1wiPkFjdGlvbnMmbmJzcDs8L3NwYW4+PGkgY2xhc3M9XCJmYSBmYS1hbmdsZS1kb3duXCI+PC9pPiA8L2J1dHRvbj4gPHVsIGNsYXNzPVwiZHJvcGRvd24tbWVudVwiIHJvbGU9XCJtZW51XCI+IDxsaSBjbGFzcz1cInN0YXJ0IGFjdGl2ZSBcIj4gPGEgaHJlZj1cImphdmFzY3JpcHQ6O1wiPiA8aSBjbGFzcz1cImZhIGZhLXBlbmNpbC1zcXVhcmUtb1wiPiBOZXcgTWFwIDwvaT4gPC9hPiA8L2xpPiA8bGk+IDxhIGhyZWY9XCJqYXZhc2NyaXB0OjtcIj4gPGkgY2xhc3M9XCJmYSBmYS1wcmludFwiPiBFeHBvcnQvUHJpbnQgPC9pPiA8L2E+IDwvbGk+IDxsaT4gPGEgaHJlZj1cImphdmFzY3JpcHQ6O1wiPiA8aSBjbGFzcz1cImZhIGZhLXRhZ1wiPiBUYWcgTWFwIDwvaT4gPC9hPiA8L2xpPiA8bGk+IDxhIGhyZWY9XCJqYXZhc2NyaXB0OjtcIj4gPGkgY2xhc3M9XCJmYSBmYS1jb3B5XCI+PC9pPiBEdXBsaWNhdGUgTWFwIDwvYT4gPC9saT4gPGxpPiA8YSBocmVmPVwiamF2YXNjcmlwdDo7XCI+IDxpIGNsYXNzPVwiZmEgZmEtdXNlcnNcIj48L2k+IFNoYXJlIE1hcCA8L2E+IDwvbGk+IDxsaSBjbGFzcz1cImRpdmlkZXJcIj4gPC9saT4gPGxpPiA8YSBocmVmPVwiamF2YXNjcmlwdDo7XCI+IDxpIGNsYXNzPVwiZmEgZmEtZ2VhclwiPjwvaT4gU2V0dGluZ3MgPC9hPiA8L2xpPiA8L3VsPiA8L2Rpdj4gPHNwYW4+Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7UGFnZSBUaXRsZSA8L3NwYW4+IDwvZGl2PicsIGZ1bmN0aW9uKG9wdHMpIHtcbn0pOyIsInZhciByaW90ID0gcmVxdWlyZSgncmlvdCcpO1xucmlvdC50YWcoJ3BhZ2UtYm9keScsICc8ZGl2IGNsYXNzPVwicGFnZS1oZWFkZXItZml4ZWQgcGFnZS1zaWRlYmFyLWNsb3NlZC1oaWRlLWxvZ28gcGFnZS1zaWRlYmFyLWNsb3NlZC1oaWRlLWxvZ29cIj4gPHBhZ2UtaGVhZGVyPjwvcGFnZS1oZWFkZXI+IDxkaXYgY2xhc3M9XCJjbGVhcmZpeFwiPiA8L2Rpdj4gPHBhZ2UtY29udGFpbmVyPjwvcGFnZS1jb250YWluZXI+IDxwYWdlLWZvb3Rlcj48L3BhZ2UtZm9vdGVyPiA8L2Rpdj4nLCBmdW5jdGlvbihvcHRzKSB7XG59KTsiLCJ2YXIgcmlvdCA9IHJlcXVpcmUoJ3Jpb3QnKTtcbnJpb3QudGFnKCdwYWdlLWNvbnRhaW5lcicsICc8ZGl2IGNsYXNzPVwicGFnZS1jb250YWluZXJcIj4gPHBhZ2Utc2lkZWJhcj48L3BhZ2Utc2lkZWJhcj4gPHBhZ2UtY29udGVudD48L3BhZ2UtY29udGVudD4gPC9kaXY+JywgZnVuY3Rpb24ob3B0cykge1xufSk7IiwidmFyIHJpb3QgPSByZXF1aXJlKCdyaW90Jyk7XG5yaW90LnRhZygncGFnZS1jb250ZW50JywgJzxkaXYgY2xhc3M9XCJwYWdlLWNvbnRlbnQtd3JhcHBlclwiPiA8ZGl2IGNsYXNzPVwicGFnZS1jb250ZW50XCI+IDxkaXYgY2xhc3M9XCJwYWdlLWhlYWRcIj4gPGRpdiBjbGFzcz1cIm1hcC1lZGl0b3Igbmctc2NvcGVcIiBpZD1cImFwcC1jb250YWluZXJcIiBuZy1jb250cm9sbGVyPVwiTWFwRWRpdG9yQ3RybFwiPiA8ZGl2IGlkPVwibWFwLW1lbnUtYmFyXCI+IDx1bCBjbGFzcz1cIm1hcC1hY3Rpb25zXCI+IDxsaT4gPGEgaHJlZj1cIiNcIiBuZy1jbGljaz1cIm1hcC5nZXRVaSgpLmVkaXRPcHRpb25zKClcIiBuZy1kaXNhYmxlZD1cIiFjYW5FZGl0XCI+T3B0aW9uczwvYT4gPC9saT4gPGxpPiA8YSBocmVmPVwiI1wiIG5nLWNsaWNrPVwibWFwLmdldFVpKCkuZWRpdFVzZXJUYWdzKClcIiBuZy1kaXNhYmxlZD1cIiFjYW5FZGl0XCI+VGFnPC9hPiA8L2xpPiA8bGk+IDxhIGhyZWY9XCIjXCIgbmctY2xpY2s9XCJtYXAuZ2V0VWkoKS5lZGl0TWFwU2hhcmVzKClcIiBuZy1kaXNhYmxlZD1cIiFjYW5FZGl0XCI+U2hhcmU8L2E+IDwvbGk+IDxsaSBuZy1zaG93PVwiIW1hcC5nZXRVaSgpLmN1cnJlbnRUYWJJcyhtYXAuZ2V0VWkoKS5UQUJfSURfUFJFU0VOVEVSKVwiIGNsYXNzPVwiXCI+IDxhIGhyZWY9XCIjXCIgbmctY2xpY2s9XCJtYXAuZ2V0VWkoKS5leHBvcnRUb0ltYWdlKG1hcC5FWFBPUlRfRk9STUFUX1BORylcIj5FeHBvcnQ8L2E+IDwvbGk+IDxsaSBjbGFzcz1cInByZXNlbnRlci1saW5rXCI+IDxidXR0b24gbmctY2xpY2s9XCJtYXAuZ2V0VWkoKS50b2dnbGVUYWIobWFwLmdldFVpKCkuVEFCX0lEX1BSRVNFTlRFUilcIiBuZy1zaG93PVwiY2FuRWRpdCAmYW1wOyZhbXA7ICFtYXAuZ2V0UHJlc2VudGVyKCkuaXNQcmVzZW50aW5nXCIgdGl0bGU9XCJFZGl0IFByZXNlbnRhdGlvblwiIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cIlwiPlByZXNlbnQ8L2J1dHRvbj4gPGJ1dHRvbiBuZy1jbGljaz1cIm1hcC5nZXRQcmVzZW50ZXIoKS5wbGF5U2xpZGUoMSlcIiBuZy1kaXNhYmxlZD1cIm1hcC5nZXRVaSgpLmRpc2FibGVUYWIobWFwLmdldFVpKCkuVEFCX0lEX1BSRVNFTlRFUikgfHwgbWFwLmdldFByZXNlbnRlcigpLmdldFNsaWRlTm9kZURhdGFzKCkubGVuZ3RoID09IDBcIiBuZy1zaG93PVwiIWNhbkVkaXQgJmFtcDsmYW1wOyAhbWFwLmdldFVpKCkuY3VycmVudFRhYklzKG1hcC5nZXRVaSgpLlRBQl9JRF9QUkVTRU5URVIpXCIgdGl0bGU9XCJWaWV3IFByZXNlbnRhdGlvblwiIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cIm5nLWhpZGVcIiBkaXNhYmxlZD1cImRpc2FibGVkXCI+UHJlc2VudDwvYnV0dG9uPiA8L2xpPiA8bGk+IDxmb3JtIGFjdGlvbj1cImh0dHA6Ly93d3cuY2FicmVyYXJlc2VhcmNoLm9yZy9tYXBzLzU1NDkvc2F2ZV9jb3B5XCIgaWQ9XCJzYXZlLWNvcHktZm9ybVwiIG1ldGhvZD1cIlBPU1RcIiB0YXJnZXQ9XCJfYmxhbmtcIiBjbGFzcz1cIm5nLXByaXN0aW5lIG5nLXZhbGlkXCI+IDxpbnB1dCBpZD1cInNhdmUtY29weVwiIHR5cGU9XCJzdWJtaXRcIiB2YWx1ZT1cIkR1cGxpY2F0ZVwiPiA8L2Zvcm0+IDwvbGk+IDxsaT4gPGEgaHJlZj1cIi9tYXBzL25ld1wiIHRhcmdldD1cIl9ibGFua1wiPk5ldzwvYT4gPC9saT4gPC91bD4gPHNwYW4gaWQ9XCJtYXAtdGl0bGUtZGlzcGxheVwiIG5nLWNsaWNrPVwibWF5YmVTdGFydEVkaXRpbmdUaXRsZSgpXCIgbmctc2hvdz1cIiFlZGl0aW5nVGl0bGVcIiBwb3BvdmVyPVwiQ2xpY2sgdG8gZWRpdCB0aXRsZVwiIHBvcG92ZXItcGxhY2VtZW50PVwicmlnaHRcIiBwb3BvdmVyLXRyaWdnZXI9XCJtb3VzZWVudGVyXCIgY2xhc3M9XCJuZy1zY29wZSBuZy1iaW5kaW5nXCI+VW50aXRsZWQgTWFwPC9zcGFuPiA8aW5wdXQgaWQ9XCJtYXAtdGl0bGUtZWRpdFwiIG5nLWJsdXI9XCJkb25lRWRpdGluZ1RpdGxlKClcIiBuZy1rZXlwcmVzcz1cImVkaXRpbmdUaXRsZUtleXByZXNzKCRldmVudClcIiBuZy1tb2RlbD1cIm1hcFRpdGxlXCIgbmctc2hvdz1cImVkaXRpbmdUaXRsZVwiIHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCJuZy1wcmlzdGluZSBuZy12YWxpZCBuZy1oaWRlXCI+IDxzcGFuIGlkPVwibWFwLWVkaXQtc3RhdHVzXCIgcG9wb3Zlcj1cIkV2ZXJ5IGNoYW5nZSB5b3UgbWFrZSBpcyBhdXRvbWF0aWNhbGx5IHNhdmVkLlwiIHBvcG92ZXItcGxhY2VtZW50PVwicmlnaHRcIiBwb3BvdmVyLXRyaWdnZXI9XCJtb3VzZWVudGVyXCIgY2xhc3M9XCJuZy1zY29wZSBuZy1iaW5kaW5nXCIgZGF0YS1za2lwPVwidHJ1ZVwiPkxhc3QgdXBkYXRlZCBhIGZldyBzZWNvbmRzIGFnbyA8L3NwYW4+IDwvZGl2PiA8ZGl2IGlkPVwibWFpbi10b29sYmFyXCIgbmctc2hvdz1cIiFtYXAuZ2V0UHJlc2VudGVyKCkuaXNQcmVzZW50aW5nXCIgY2xhc3M9XCJcIj4gPGRpdiBuZy1zaG93PVwiIW1hcC5nZXRVaSgpLmN1cnJlbnRUYWJJcyhtYXAuZ2V0VWkoKS5UQUJfSURfUFJFU0VOVEVSKVwiIGNsYXNzPVwiXCI+IDxkaXYgY2xhc3M9XCJ0b29sYmFyLXNlY3Rpb24tYmFzaWMgdG9vbGJhci1zZWN0aW9uXCI+IDxkaXYgY2xhc3M9XCJ0b29sYmFyXCI+IDxkaXYgY2xhc3M9XCJ0b29sdGlwLXdyYXBwZXJcIiBkYXRhLXBsYWNlbWVudD1cImJvdHRvbVwiIGRhdGEtdG9nZ2xlPVwidG9vbHRpcFwiIHRpdGxlPVwiQ29weVwiPiA8YnV0dG9uIGNsYXNzPVwiYnRuXCIgbmctY2xpY2s9XCJtYXAuZ2V0RGlhZ3JhbSgpLmNvbW1hbmRIYW5kbGVyLmNvcHlTZWxlY3Rpb24oKVwiIG5nLWRpc2FibGVkPVwiIWNhbkVkaXQgfHwgIW1hcC5nZXREaWFncmFtKCkuY29tbWFuZEhhbmRsZXIuY2FuQ29weVNlbGVjdGlvbigpXCIgdHlwZT1cImJ1dHRvblwiIGRpc2FibGVkPVwiZGlzYWJsZWRcIj4gPGkgY2xhc3M9XCJpY29uIGljb24tY29weVwiPjwvaT4gPC9idXR0b24+IDwvZGl2PiA8ZGl2IGNsYXNzPVwidG9vbHRpcC13cmFwcGVyXCIgZGF0YS1wbGFjZW1lbnQ9XCJib3R0b21cIiBkYXRhLXRvZ2dsZT1cInRvb2x0aXBcIiB0aXRsZT1cIlBhc3RlXCI+IDxidXR0b24gY2xhc3M9XCJidG5cIiBuZy1jbGljaz1cIm1hcC5nZXREaWFncmFtKCkuY29tbWFuZEhhbmRsZXIucGFzdGVTZWxlY3Rpb24oKVwiIG5nLWRpc2FibGVkPVwiIW1hcC5nZXREaWFncmFtKCkuY29tbWFuZEhhbmRsZXIuY2FuUGFzdGVTZWxlY3Rpb24oKVwiIHR5cGU9XCJidXR0b25cIiBkaXNhYmxlZD1cImRpc2FibGVkXCI+IDxpIGNsYXNzPVwiaWNvbiBpY29uLXBhc3RlXCI+PC9pPiA8L2J1dHRvbj4gPC9kaXY+IDxkaXYgY2xhc3M9XCJ0b29sdGlwLXdyYXBwZXJcIiBkYXRhLXBsYWNlbWVudD1cImJvdHRvbVwiIGRhdGEtdG9nZ2xlPVwidG9vbHRpcFwiIHRpdGxlPVwiRGVsZXRlXCI+IDxidXR0b24gY2xhc3M9XCJidG5cIiBuZy1jbGljaz1cIm1hcC5nZXREaWFncmFtKCkuY29tbWFuZEhhbmRsZXIuZGVsZXRlU2VsZWN0aW9uKClcIiBuZy1kaXNhYmxlZD1cIiFtYXAuZ2V0RGlhZ3JhbSgpLmNvbW1hbmRIYW5kbGVyLmNhbkRlbGV0ZVNlbGVjdGlvbigpXCIgdHlwZT1cImJ1dHRvblwiIGRpc2FibGVkPVwiZGlzYWJsZWRcIj4gPGkgY2xhc3M9XCJpY29uIGljb24tZGVsZXRlXCI+PC9pPiA8L2J1dHRvbj4gPC9kaXY+IDxkaXYgY2xhc3M9XCJ0b29sdGlwLXdyYXBwZXJcIiBkYXRhLXBsYWNlbWVudD1cImJvdHRvbVwiIGRhdGEtdG9nZ2xlPVwidG9vbHRpcFwiIHRpdGxlPVwiVW5kb1wiPiA8YnV0dG9uIGNsYXNzPVwiYnRuXCIgbmctY2xpY2s9XCJtYXAudW5kbygpXCIgbmctZGlzYWJsZWQ9XCIhbWFwLmNhblVuZG8oKVwiIHR5cGU9XCJidXR0b25cIiBkaXNhYmxlZD1cImRpc2FibGVkXCI+IDxpIGNsYXNzPVwiaWNvbiBpY29uLXVuZG9cIj48L2k+IDwvYnV0dG9uPiA8L2Rpdj4gPGRpdiBjbGFzcz1cInRvb2x0aXAtd3JhcHBlclwiIGRhdGEtcGxhY2VtZW50PVwiYm90dG9tXCIgZGF0YS10b2dnbGU9XCJ0b29sdGlwXCIgdGl0bGU9XCJSZWRvXCI+IDxidXR0b24gY2xhc3M9XCJidG5cIiBuZy1jbGljaz1cIm1hcC5yZWRvKClcIiBuZy1kaXNhYmxlZD1cIiFtYXAuY2FuUmVkbygpXCIgdHlwZT1cImJ1dHRvblwiIGRpc2FibGVkPVwiZGlzYWJsZWRcIj4gPGkgY2xhc3M9XCJpY29uIGljb24tcmVkb1wiPjwvaT4gPC9idXR0b24+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IDxkaXYgY2xhc3M9XCJ0b29sYmFyLXNlY3Rpb24tbmF2aWdhdGlvbiB0b29sYmFyLXNlY3Rpb25cIj4gPGRpdiBjbGFzcz1cInRvb2xiYXJcIj4gPGRpdiBjbGFzcz1cInRvb2x0aXAtd3JhcHBlclwiIGRhdGEtcGxhY2VtZW50PVwiYm90dG9tXCIgZGF0YS10b2dnbGU9XCJ0b29sdGlwXCIgdGl0bGU9XCJSZXNldCB6b29tXCI+IDxidXR0b24gY2xhc3M9XCJidG5cIiBuZy1jbGljaz1cIm1hcC5nZXRVaSgpLnJlc2V0Wm9vbSgpXCIgdHlwZT1cImJ1dHRvblwiPiA8aSBjbGFzcz1cImljb24gaWNvbi16b29tLXJlc2V0XCI+PC9pPiA8L2J1dHRvbj4gPC9kaXY+IDxkaXYgY2xhc3M9XCJ0b29sdGlwLXdyYXBwZXJcIiBkYXRhLXBsYWNlbWVudD1cImJvdHRvbVwiIGRhdGEtdG9nZ2xlPVwidG9vbHRpcFwiIHRpdGxlPVwiWm9vbSB0byByZWdpb25cIj4gPGJ1dHRvbiBjbGFzcz1cImJ0blwiIG5nLWNsaWNrPVwibWFwLmdldFVpKCkudG9nZ2xlWm9vbWluZ1RvUmVnaW9uKClcIiB0eXBlPVwiYnV0dG9uXCI+IDxpIGNsYXNzPVwiaWNvbiBpY29uLXpvb20tdG8tcmVnaW9uXCI+PC9pPiA8L2J1dHRvbj4gPC9kaXY+IDxkaXYgY2xhc3M9XCJ0b29sdGlwLXdyYXBwZXJcIiBkYXRhLXBsYWNlbWVudD1cImJvdHRvbVwiIGRhdGEtdG9nZ2xlPVwidG9vbHRpcFwiIHRpdGxlPVwiWm9vbSBvdXRcIj4gPGJ1dHRvbiBjbGFzcz1cImJ0blwiIG5nLWNsaWNrPVwibWFwLmdldFVpKCkuem9vbU91dCgpXCIgbmctZGlzYWJsZWQ9XCIhbWFwLmdldFVpKCkuY2FuWm9vbU91dCgpXCIgdHlwZT1cImJ1dHRvblwiPiA8aSBjbGFzcz1cImljb24gaWNvbi16b29tb3V0XCI+PC9pPiA8L2J1dHRvbj4gPC9kaXY+IDxkaXYgY2xhc3M9XCJ0b29sdGlwLXdyYXBwZXJcIiBkYXRhLXBsYWNlbWVudD1cImJvdHRvbVwiIGRhdGEtdG9nZ2xlPVwidG9vbHRpcFwiIHRpdGxlPVwiWm9vbSBpblwiPiA8YnV0dG9uIGNsYXNzPVwiYnRuXCIgbmctY2xpY2s9XCJtYXAuZ2V0VWkoKS56b29tSW4oKVwiIG5nLWRpc2FibGVkPVwiIW1hcC5nZXRVaSgpLmNhblpvb21JbigpXCIgdHlwZT1cImJ1dHRvblwiPiA8aSBjbGFzcz1cImljb24gaWNvbi16b29taW5cIj48L2k+IDwvYnV0dG9uPiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA8ZGl2IGNsYXNzPVwidG9vbGJhci1zZWN0aW9uLXRoaW5nLW9wdGlvbnMgdG9vbGJhci1zZWN0aW9uXCI+IDxkaXYgY2xhc3M9XCJ0b29sYmFyXCI+IDxkaXYgY2xhc3M9XCJtZW51LXBhcnQtbGF5b3V0IGJ0bi1ncm91cCB0b2dnbGUtbWVudVwiPiA8ZGl2IGNsYXNzPVwidG9vbHRpcC13cmFwcGVyXCIgZGF0YS1wbGFjZW1lbnQ9XCJyaWdodFwiIGRhdGEtdG9nZ2xlPVwidG9vbHRpcFwiIHRpdGxlPVwiUGFydCBMYXlvdXRcIj4gPGJ1dHRvbiBjbGFzcz1cImJ0biBkcm9wZG93bi10b2dnbGVcIiBuZy1kaXNhYmxlZD1cIiFjYW5FZGl0XCIgdHlwZT1cImJ1dHRvblwiPiA8aSBjbGFzcz1cImljb24gaWNvbi1sZWZ0XCIgbmctY2xhc3M9XCJcXCdpY29uLVxcJyArIG1hcC5nZXRVaSgpLmdldFNlbGVjdGVkVGhpbmdzT3JEZWZhdWx0TGF5b3V0KClcIj48L2k+IDwvYnV0dG9uPiA8L2Rpdj4gPHVsIGNsYXNzPVwiZHJvcGRvd24tbWVudVwiPiA8bGk+IDxkaXYgY2xhc3M9XCJ0b29sdGlwLXdyYXBwZXJcIiBkYXRhLXBsYWNlbWVudD1cInJpZ2h0XCIgZGF0YS10b2dnbGU9XCJ0b29sdGlwXCIgdGl0bGU9XCJMZWZ0IE91dGxpbmUgTGF5b3V0XCI+IDxidXR0b24gY2xhc3M9XCJidG5cIiBuZy1jbGFzcz1cImNsYXNzSWYoXFwnYWN0aXZlXFwnLCBtYXAuZ2V0U2VsZWN0ZWRUaGluZ3NMYXlvdXQoKSA9PSBcXCdsZWZ0XFwnKVwiIG5nLWNsaWNrPVwibWFwLmdldFVpKCkuc2V0U2VsZWN0ZWRUaGluZ3NMYXlvdXQoXFwnbGVmdFxcJylcIiBuZy1kaXNhYmxlZD1cIiFjYW5FZGl0IHx8IG1hcC5nZXRMYXlvdXRzKCkuZGlzYWJsZUxheW91dEZvclNlbGVjdGVkVGhpbmdzKFxcJ2xlZnRcXCcpXCIgdHlwZT1cImJ1dHRvblwiIGRpc2FibGVkPVwiZGlzYWJsZWRcIj4gPGkgY2xhc3M9XCJpY29uIGljb24tbGVmdFwiPjwvaT4gPC9idXR0b24+IDwvZGl2PiA8L2xpPiA8bGk+IDxkaXYgY2xhc3M9XCJ0b29sdGlwLXdyYXBwZXJcIiBkYXRhLXBsYWNlbWVudD1cInJpZ2h0XCIgZGF0YS10b2dnbGU9XCJ0b29sdGlwXCIgdGl0bGU9XCJSaWdodCBPdXRsaW5lIExheW91dFwiPiA8YnV0dG9uIGNsYXNzPVwiYnRuXCIgbmctY2xhc3M9XCJjbGFzc0lmKFxcJ2FjdGl2ZVxcJywgbWFwLmdldFNlbGVjdGVkVGhpbmdzTGF5b3V0KCkgPT0gXFwncmlnaHRcXCcpXCIgbmctY2xpY2s9XCJtYXAuZ2V0VWkoKS5zZXRTZWxlY3RlZFRoaW5nc0xheW91dChcXCdyaWdodFxcJylcIiBuZy1kaXNhYmxlZD1cIiFjYW5FZGl0IHx8IG1hcC5nZXRMYXlvdXRzKCkuZGlzYWJsZUxheW91dEZvclNlbGVjdGVkVGhpbmdzKFxcJ3JpZ2h0XFwnKVwiIHR5cGU9XCJidXR0b25cIiBkaXNhYmxlZD1cImRpc2FibGVkXCI+IDxpIGNsYXNzPVwiaWNvbiBpY29uLXJpZ2h0XCI+PC9pPiA8L2J1dHRvbj4gPC9kaXY+IDwvbGk+IDxsaT4gPGRpdiBjbGFzcz1cInRvb2x0aXAtd3JhcHBlclwiIGRhdGEtcGxhY2VtZW50PVwicmlnaHRcIiBkYXRhLXRvZ2dsZT1cInRvb2x0aXBcIiB0aXRsZT1cIlN0YWNrZWQgTGF5b3V0XCI+IDxidXR0b24gY2xhc3M9XCJidG5cIiBuZy1jbGFzcz1cImNsYXNzSWYoXFwnYWN0aXZlXFwnLCBtYXAuZ2V0U2VsZWN0ZWRUaGluZ3NMYXlvdXQoKSA9PSBcXCdzdGFja2VkXFwnKVwiIG5nLWNsaWNrPVwibWFwLmdldFVpKCkuc2V0U2VsZWN0ZWRUaGluZ3NMYXlvdXQoXFwnc3RhY2tlZFxcJylcIiBuZy1kaXNhYmxlZD1cIiFjYW5FZGl0IHx8IG1hcC5nZXRMYXlvdXRzKCkuZGlzYWJsZUxheW91dEZvclNlbGVjdGVkVGhpbmdzKFxcJ3N0YWNrZWRcXCcpXCIgdHlwZT1cImJ1dHRvblwiIGRpc2FibGVkPVwiZGlzYWJsZWRcIj4gPGkgY2xhc3M9XCJpY29uIGljb24tc3RhY2tlZFwiPjwvaT4gPC9idXR0b24+IDwvZGl2PiA8L2xpPiA8bGk+IDxkaXYgY2xhc3M9XCJ0b29sdGlwLXdyYXBwZXJcIiBkYXRhLXBsYWNlbWVudD1cInJpZ2h0XCIgZGF0YS10b2dnbGU9XCJ0b29sdGlwXCIgdGl0bGU9XCJGcmVlaGFuZCBMYXlvdXRcIj4gPGJ1dHRvbiBjbGFzcz1cImJ0blwiIG5nLWNsYXNzPVwiY2xhc3NJZihcXCdhY3RpdmVcXCcsIG1hcC5nZXRTZWxlY3RlZFRoaW5nc0xheW91dCgpID09IFxcJ2ZyZWVoYW5kXFwnKVwiIG5nLWNsaWNrPVwibWFwLmdldFVpKCkuc2V0U2VsZWN0ZWRUaGluZ3NMYXlvdXQoXFwnZnJlZWhhbmRcXCcpXCIgbmctZGlzYWJsZWQ9XCIhY2FuRWRpdCB8fCBtYXAuZ2V0TGF5b3V0cygpLmRpc2FibGVMYXlvdXRGb3JTZWxlY3RlZFRoaW5ncyhcXCdmcmVlaGFuZFxcJylcIiB0eXBlPVwiYnV0dG9uXCIgZGlzYWJsZWQ9XCJkaXNhYmxlZFwiPiA8aSBjbGFzcz1cImljb24gaWNvbi1mcmVlaGFuZFwiPjwvaT4gPC9idXR0b24+IDwvZGl2PiA8L2xpPiA8L3VsPiA8L2Rpdj4gPGRpdiBjbGFzcz1cIm1lbnUtci10eXBlIGJ0bi1ncm91cCB0b2dnbGUtbWVudVwiPiA8ZGl2IGNsYXNzPVwidG9vbHRpcC13cmFwcGVyXCIgZGF0YS1wbGFjZW1lbnQ9XCJyaWdodFwiIGRhdGEtdG9nZ2xlPVwidG9vbHRpcFwiIHRpdGxlPVwiUmVsYXRpb25zaGlwIFR5cGVcIj4gPGJ1dHRvbiBjbGFzcz1cImJ0biBkcm9wZG93bi10b2dnbGVcIiBuZy1kaXNhYmxlZD1cIiFjYW5FZGl0XCIgdHlwZT1cImJ1dHRvblwiPiA8aSBjbGFzcz1cImljb24gaWNvbi1hcnJvdy1ub0Fycm93c1wiIG5nLWNsYXNzPVwiXFwnaWNvbi1hcnJvdy1cXCcgKyBtYXAuZ2V0VWkoKS5nZXRTZWxlY3RlZFJlbGF0aW9uc2hpcHNPckRlZmF1bHREaXJlY3Rpb24oKVwiPjwvaT4gPC9idXR0b24+IDwvZGl2PiA8dWwgY2xhc3M9XCJkcm9wZG93bi1tZW51XCI+IDxsaT4gPGRpdiBjbGFzcz1cInRvb2x0aXAtd3JhcHBlclwiIGRhdGEtcGxhY2VtZW50PVwicmlnaHRcIiBkYXRhLXRvZ2dsZT1cInRvb2x0aXBcIiB0aXRsZT1cIk5vIEFycm93c1wiPiA8YnV0dG9uIGNsYXNzPVwiYnRuXCIgbmctY2xhc3M9XCJjbGFzc0lmKFxcJ2FjdGl2ZVxcJywgbWFwLmdldFVpKCkuZ2V0U2VsZWN0ZWRSZWxhdGlvbnNoaXBzRGlyZWN0aW9uKCkgPT0gXFwnbm9BcnJvd3NcXCcpXCIgbmctY2xpY2s9XCJtYXAuZ2V0VWkoKS5zZXRTZWxlY3RlZFJlbGF0aW9uc2hpcHNEaXJlY3Rpb24oXFwnbm9BcnJvd3NcXCcpXCIgbmctZGlzYWJsZWQ9XCIhY2FuRWRpdCB8fCAhbWFwLnJlbGF0aW9uc2hpcHNTZWxlY3RlZCgpXCIgdHlwZT1cImJ1dHRvblwiIGRpc2FibGVkPVwiZGlzYWJsZWRcIj4gPGkgY2xhc3M9XCJpY29uIGljb24tYXJyb3ctbm9BcnJvd3NcIj48L2k+IDwvYnV0dG9uPiA8L2Rpdj4gPC9saT4gPGxpPiA8ZGl2IGNsYXNzPVwidG9vbHRpcC13cmFwcGVyXCIgZGF0YS1wbGFjZW1lbnQ9XCJyaWdodFwiIGRhdGEtdG9nZ2xlPVwidG9vbHRpcFwiIHRpdGxlPVwiVG9cIj4gPGJ1dHRvbiBjbGFzcz1cImJ0blwiIG5nLWNsYXNzPVwiY2xhc3NJZihcXCdhY3RpdmVcXCcsIG1hcC5nZXRVaSgpLmdldFNlbGVjdGVkUmVsYXRpb25zaGlwc0RpcmVjdGlvbigpID09IFxcJ3RvXFwnKVwiIG5nLWNsaWNrPVwibWFwLmdldFVpKCkuc2V0U2VsZWN0ZWRSZWxhdGlvbnNoaXBzRGlyZWN0aW9uKFxcJ3RvXFwnKVwiIG5nLWRpc2FibGVkPVwiIWNhbkVkaXQgfHwgIW1hcC5yZWxhdGlvbnNoaXBzU2VsZWN0ZWQoKVwiIHR5cGU9XCJidXR0b25cIiBkaXNhYmxlZD1cImRpc2FibGVkXCI+IDxpIGNsYXNzPVwiaWNvbiBpY29uLWFycm93LXRvXCI+PC9pPiA8L2J1dHRvbj4gPC9kaXY+IDwvbGk+IDxsaT4gPGRpdiBjbGFzcz1cInRvb2x0aXAtd3JhcHBlclwiIGRhdGEtcGxhY2VtZW50PVwicmlnaHRcIiBkYXRhLXRvZ2dsZT1cInRvb2x0aXBcIiB0aXRsZT1cIkZyb21cIj4gPGJ1dHRvbiBjbGFzcz1cImJ0blwiIG5nLWNsYXNzPVwiY2xhc3NJZihcXCdhY3RpdmVcXCcsIG1hcC5nZXRVaSgpLmdldFNlbGVjdGVkUmVsYXRpb25zaGlwc0RpcmVjdGlvbigpID09IFxcJ2Zyb21cXCcpXCIgbmctY2xpY2s9XCJtYXAuZ2V0VWkoKS5zZXRTZWxlY3RlZFJlbGF0aW9uc2hpcHNEaXJlY3Rpb24oXFwnZnJvbVxcJylcIiBuZy1kaXNhYmxlZD1cIiFjYW5FZGl0IHx8ICFtYXAucmVsYXRpb25zaGlwc1NlbGVjdGVkKClcIiB0eXBlPVwiYnV0dG9uXCIgZGlzYWJsZWQ9XCJkaXNhYmxlZFwiPiA8aSBjbGFzcz1cImljb24gaWNvbi1hcnJvdy1mcm9tXCI+PC9pPiA8L2J1dHRvbj4gPC9kaXY+IDwvbGk+IDxsaT4gPGRpdiBjbGFzcz1cInRvb2x0aXAtd3JhcHBlclwiIGRhdGEtcGxhY2VtZW50PVwicmlnaHRcIiBkYXRhLXRvZ2dsZT1cInRvb2x0aXBcIiB0aXRsZT1cIlRvL0Zyb21cIj4gPGJ1dHRvbiBjbGFzcz1cImJ0blwiIG5nLWNsYXNzPVwiY2xhc3NJZihcXCdhY3RpdmVcXCcsIG1hcC5nZXRVaSgpLmdldFNlbGVjdGVkUmVsYXRpb25zaGlwc0RpcmVjdGlvbigpID09IFxcJ3RvRnJvbVxcJylcIiBuZy1jbGljaz1cIm1hcC5nZXRVaSgpLnNldFNlbGVjdGVkUmVsYXRpb25zaGlwc0RpcmVjdGlvbihcXCd0b0Zyb21cXCcpXCIgbmctZGlzYWJsZWQ9XCIhY2FuRWRpdCB8fCAhbWFwLnJlbGF0aW9uc2hpcHNTZWxlY3RlZCgpXCIgdHlwZT1cImJ1dHRvblwiIGRpc2FibGVkPVwiZGlzYWJsZWRcIj4gPGkgY2xhc3M9XCJpY29uIGljb24tYXJyb3ctdG9Gcm9tXCI+PC9pPiA8L2J1dHRvbj4gPC9kaXY+IDwvbGk+IDwvdWw+IDwvZGl2PiA8ZGl2IGNsYXNzPVwidG9vbHRpcC13cmFwcGVyXCIgZGF0YS1wbGFjZW1lbnQ9XCJib3R0b21cIiBkYXRhLXRvZ2dsZT1cInRvb2x0aXBcIiB0aXRsZT1cIkF0dGFjaG1lbnRzXCI+IDxidXR0b24gY2xhc3M9XCJidG5cIiBuZy1jbGFzcz1cImNsYXNzSWYoXFwnYWN0aXZlXFwnLCBtYXAuZ2V0VWkoKS5jdXJyZW50VGFiSXMobWFwLmdldFVpKCkuVEFCX0lEX0FUVEFDSE1FTlRTKSlcIiBuZy1jbGljaz1cIm1hcC5nZXRVaSgpLnRvZ2dsZVRhYihtYXAuZ2V0VWkoKS5UQUJfSURfQVRUQUNITUVOVFMpXCIgbmctZGlzYWJsZWQ9XCIhbWFwLnRoaW5nU2VsZWN0ZWQoKSB8fCBtYXAuZGlzYWJsZVRhYihtYXAuZ2V0VWkoKS5UQUJfSURfQVRUQUNITUVOVFMpXCIgdHlwZT1cImJ1dHRvblwiIGRpc2FibGVkPVwiZGlzYWJsZWRcIj4gPGkgY2xhc3M9XCJpY29uIGljb24tYXR0YWNobWVudHNcIj48L2k+IDwvYnV0dG9uPiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA8ZGl2IGNsYXNzPVwidG9vbGJhci1zZWN0aW9uLXRoaW5rLWJldHRlciB0b29sYmFyLXNlY3Rpb25cIj4gPGRpdiBjbGFzcz1cInRvb2xiYXJcIj4gPGRpdiBjbGFzcz1cInRvb2x0aXAtd3JhcHBlclwiIGRhdGEtcGxhY2VtZW50PVwiYm90dG9tXCIgZGF0YS10b2dnbGU9XCJ0b29sdGlwXCIgdGl0bGU9XCJJZGVhIEFuYWx5dGljc1wiPiA8YnV0dG9uIGNsYXNzPVwiYnRuXCIgbmctY2xhc3M9XCJjbGFzc0lmKFxcJ2FjdGl2ZVxcJywgbWFwLmdldFVpKCkuY3VycmVudFRhYklzKG1hcC5nZXRVaSgpLlRBQl9JRF9BTkFMWVRJQ1NfVEhJTkcpKVwiIG5nLWNsaWNrPVwibWFwLmdldFVpKCkudG9nZ2xlVGFiKG1hcC5nZXRVaSgpLlRBQl9JRF9BTkFMWVRJQ1NfVEhJTkcpXCIgbmctZGlzYWJsZWQ9XCJtYXAuZ2V0VWkoKS5kaXNhYmxlVGFiKG1hcC5nZXRVaSgpLlRBQl9JRF9BTkFMWVRJQ1NfVEhJTkcpXCIgdHlwZT1cImJ1dHRvblwiPiA8aSBjbGFzcz1cImljb24gaWNvbi1hbmFseXRpY3MtdGhpbmdcIj48L2k+IDwvYnV0dG9uPiA8L2Rpdj4gPGRpdiBjbGFzcz1cInRvb2x0aXAtd3JhcHBlclwiIGRhdGEtcGxhY2VtZW50PVwiYm90dG9tXCIgZGF0YS10b2dnbGU9XCJ0b29sdGlwXCIgdGl0bGU9XCJNYXAgQW5hbHl0aWNzXCI+IDxidXR0b24gY2xhc3M9XCJidG5cIiBuZy1jbGFzcz1cImNsYXNzSWYoXFwnYWN0aXZlXFwnLCBtYXAuZ2V0VWkoKS5jdXJyZW50VGFiSXMobWFwLmdldFVpKCkuVEFCX0lEX0FOQUxZVElDU19NQVApKVwiIG5nLWNsaWNrPVwibWFwLmdldFVpKCkudG9nZ2xlVGFiKG1hcC5nZXRVaSgpLlRBQl9JRF9BTkFMWVRJQ1NfTUFQKVwiIG5nLWRpc2FibGVkPVwibWFwLmdldFVpKCkuZGlzYWJsZVRhYihtYXAuZ2V0VWkoKS5UQUJfSURfQU5BTFlUSUNTX01BUClcIiB0eXBlPVwiYnV0dG9uXCI+IDxpIGNsYXNzPVwiaWNvbiBpY29uLWFuYWx5dGljcy1tYXBcIj48L2k+IDwvYnV0dG9uPiA8L2Rpdj4gPC9kaXY+IDxkaXYgY2xhc3M9XCJ0b29sYmFyXCI+IDxkaXYgY2xhc3M9XCJ0b29sdGlwLXdyYXBwZXJcIiBkYXRhLXBsYWNlbWVudD1cImJvdHRvbVwiIGRhdGEtdG9nZ2xlPVwidG9vbHRpcFwiIHRpdGxlPVwiVGhpbmtRdWVyeVwiPiA8YnV0dG9uIGNsYXNzPVwiYnRuXCIgbmctY2xhc3M9XCJjbGFzc0lmKFxcJ2FjdGl2ZVxcJywgbWFwLmdldFVpKCkuY3VycmVudFRhYklzKG1hcC5nZXRVaSgpLlRBQl9JRF9HRU5FUkFUT1IpKVwiIG5nLWNsaWNrPVwibWFwLmdldFVpKCkudG9nZ2xlVGFiKG1hcC5nZXRVaSgpLlRBQl9JRF9HRU5FUkFUT1IpXCIgbmctZGlzYWJsZWQ9XCIhY2FuRWRpdCB8fCBtYXAuZ2V0VWkoKS5kaXNhYmxlVGFiKG1hcC5nZXRVaSgpLlRBQl9JRF9HRU5FUkFUT1IpXCIgdHlwZT1cImJ1dHRvblwiPiA8aSBjbGFzcz1cImljb24gaWNvbi1nZW5lcmF0b3JcIj48L2k+IDwvYnV0dG9uPiA8L2Rpdj4gPGRpdiBjbGFzcz1cInRvb2x0aXAtd3JhcHBlclwiIGRhdGEtcGxhY2VtZW50PVwiYm90dG9tXCIgZGF0YS10b2dnbGU9XCJ0b29sdGlwXCIgdGl0bGU9XCJDb21tb24gQ29yZSBTdGFuZGFyZHNcIj4gPGJ1dHRvbiBjbGFzcz1cImJ0blwiIG5nLWNsYXNzPVwiY2xhc3NJZihcXCdhY3RpdmVcXCcsIG1hcC5nZXRVaSgpLmN1cnJlbnRUYWJJcyhtYXAuZ2V0VWkoKS5UQUJfSURfU1RBTkRBUkRTKSlcIiBuZy1jbGljaz1cIm1hcC5nZXRVaSgpLnRvZ2dsZVRhYihtYXAuZ2V0VWkoKS5UQUJfSURfU1RBTkRBUkRTKVwiIG5nLWRpc2FibGVkPVwibWFwLmdldFVpKCkuZGlzYWJsZVRhYihtYXAuZ2V0VWkoKS5UQUJfSURfU1RBTkRBUkRTKVwiIHR5cGU9XCJidXR0b25cIj4gPGkgY2xhc3M9XCJpY29uIGljb24tc3RhbmRhcmRzXCI+PC9pPiA8L2J1dHRvbj4gPC9kaXY+ICA8YnV0dG9uIGNsYXNzPVwiYnRuIG5nLXNjb3BlXCIgbmctY2xpY2s9XCJ0b2dnbGVTaG93VGVzdHMoKVwiIG5nLWlmPVwidXNlcklzQWRtaW5cIiB0aXRsZT1cIlRFU1RTXCIgdHlwZT1cImJ1dHRvblwiPiA8aSBjbGFzcz1cImljb24gaWNvbi10ZXN0c1wiPjwvaT4gPC9idXR0b24+ICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBuZy1zY29wZVwiIG5nLWNsaWNrPVwidG9nZ2xlU2hvd01vZGVsKClcIiBuZy1pZj1cInVzZXJJc0FkbWluXCIgdGl0bGU9XCJNT0RFTFwiIHR5cGU9XCJidXR0b25cIj4gPGkgY2xhc3M9XCJpY29uIGljb24tbW9kZWxcIj48L2k+IDwvYnV0dG9uPiAgPC9kaXY+IDwvZGl2PiA8L2Rpdj4gIDxkaXYgaWQ9XCJwcmVzZW50ZXItdG9vbGJhci10b3BcIj4gICA8L2Rpdj4gIDwvZGl2PiA8ZGl2IGlkPVwiZGlhZ3JhbVwiPiA8L2Rpdj4gPGRpdiBpZD1cImdlbmVyYXRvci10YWJcIiBuZy1jb250cm9sbGVyPVwiR2VuZXJhdG9yQ3RybFwiIG5nLXNob3c9XCJtYXAuZ2V0VWkoKS5jdXJyZW50VGFiSXMobWFwLmdldFVpKCkuVEFCX0lEX0dFTkVSQVRPUilcIiBjbGFzcz1cIm5nLXNjb3BlIG5nLWhpZGVcIj4gPGRpdiBjbGFzcz1cInRhYi1jbG9zZS1idXR0b25cIj4gPGJ1dHRvbiBjbGFzcz1cImNsb3NlXCIgbmctY2xpY2s9XCJtYXAuZ2V0VWkoKS5jbG9zZVRhYihtYXAuZ2V0VWkoKS5UQUJfSURfR0VORVJBVE9SKVwiIHR5cGU9XCJidXR0b25cIj7DlzwvYnV0dG9uPiA8L2Rpdj4gPGgyIGNsYXNzPVwidGFiLXRpdGxlIG5nLXNjb3BlXCIgdG9vbHRpcD1cIlRoaW5rUXVlcnkgaXMgYSBwb3dlcmZ1bCB0b29sIHRvIGhlbHAgeW91IGFzayBiZXR0ZXIsIGRlZXBlciBxdWVzdGlvbnMgdGhhbiBqdXN0IFdobywgV2hhdCwgV2hlbiwgV2hlcmUsIFdoeS4gSXQgZ2l2ZXMgeW91IGFsbCB0aGUgdG9vbHMgeW91IG5lZWQgdG8gYXNrIGRlZXBlciBxdWVzdGlvbnMgYWJvdXQgYW55IHRvcGljLiBFdmVyeSBxdWVzdGlvbiBjYW4gYmUgbWFwcGVkIHdpdGggdGhlIGNsaWNrIG9mIGEgYnV0dG9uLiBBbmQsIGl0XFwncyBhcyBlYXN5IGFzIGRvaW5nIGEgR29vZ2xlIHNlYXJjaC4gRW50ZXIgeW91ciBUaGlua1F1ZXJ5IGFib3ZlLlwiIHRvb2x0aXAtcGxhY2VtZW50PVwiYm90dG9tXCI+VGhpbmtRdWVyeTwvaDI+IDxkaXYgaWQ9XCJpbnB1dHNcIj4gPGlucHV0IG5nLW1vZGVsPVwiY29uY2VwdDFcIiBwbGFjZWhvbGRlcj1cIkVudGVyIGFueSB3b3JkIG9yIGNvbmNlcHRcIiB0eXBlPVwidGV4dFwiIGNsYXNzPVwibmctcHJpc3RpbmUgbmctdmFsaWRcIj4gPGlucHV0IG5nLW1vZGVsPVwiY29uY2VwdDJcIiBwbGFjZWhvbGRlcj1cIk9wdGlvbmFsOiBFbnRlciBhbnkgd29yZCBvciBjb25jZXB0XCIgdHlwZT1cInRleHRcIiBjbGFzcz1cIm5nLXByaXN0aW5lIG5nLXZhbGlkXCI+IDxidXR0b24gY2xhc3M9XCJidG5cIiBpZD1cInN3YXBcIiBuZy1jbGljaz1cInN3YXBDb25jZXB0cygpXCIgdHlwZT1cImJ1dHRvblwiPlN3YXA8L2J1dHRvbj4gPGRpdiBpZD1cInNlbGVjdC1wcm9tcHRcIiBuZy1zaG93PVwic2FuZGJveCAmYW1wOyZhbXA7IChjb25jZXB0MSB8fCBjb25jZXB0MilcIiBjbGFzcz1cIm5nLWhpZGVcIj5TZWxlY3QgYSBxdWVyeSBiZWxvdy4uLjwvZGl2PiA8YnV0dG9uIGNsYXNzPVwiYnRuXCIgbmctY2xpY2s9XCJtYXBJdChzZWxlY3RlZFF1ZXN0aW9uKVwiIG5nLWRpc2FibGVkPVwiIXNlbGVjdGVkUXVlc3Rpb25cIiBuZy1zaG93PVwiIXNhbmRib3hcIiB0eXBlPVwiYnV0dG9uXCIgZGlzYWJsZWQ9XCJkaXNhYmxlZFwiPk1hcCBJVCE8L2J1dHRvbj4gPGJ1dHRvbiBjbGFzcz1cImJ0biBuZy1oaWRlXCIgbmctY2xpY2s9XCJzdXJwcmlzZU1lKClcIiBuZy1zaG93PVwiY29uY2VwdDEgfHwgY29uY2VwdDJcIiB0eXBlPVwiYnV0dG9uXCI+U3VycHJpc2UgTWUhPC9idXR0b24+IDwvZGl2PiA8ZGl2IGlkPVwicXVlc3Rpb25zXCIgbmctc2hvdz1cImNvbmNlcHQxIHx8IGNvbmNlcHQyXCIgY2xhc3M9XCJuZy1oaWRlXCI+IDxoNCBjbGFzcz1cImljb25EXCI+RGlzdGluY3Rpb25zPC9oND4gPGRpdiBjbGFzcz1cInF1ZXN0aW9uLWxpc3RcIj4gPGRpdiBjbGFzcz1cInF1ZXN0aW9uXCIgbmctY2xhc3M9XCJjbGFzc0lmKFxcJ3NlbGVjdGVkXFwnLCBzZWxlY3RlZFF1ZXN0aW9uID09IHF1ZXJpZXMuV0hBVF9JUylcIiBuZy1jbGljaz1cInNlbGVjdFF1ZXN0aW9uKHF1ZXJpZXMuV0hBVF9JUylcIj4gPGRpdiBjbGFzcz1cInF1ZXN0aW9uLW51bWJlclwiPjE8L2Rpdj4gPGRpdiBjbGFzcz1cImdlbmVyYXRvci10ZXh0XCI+IFdoYXQgaXMgPGRpdiBjbGFzcz1cImNvbmNlcHQtZWNobyBuZy1iaW5kaW5nXCIgbmctYmluZD1cImVjaG9Db25jZXB0MSgpXCI+Li4uPC9kaXY+PyA8L2Rpdj4gPC9kaXY+IDxkaXYgY2xhc3M9XCJxdWVzdGlvblwiIG5nLWNsYXNzPVwiY2xhc3NJZihcXCdzZWxlY3RlZFxcJywgc2VsZWN0ZWRRdWVzdGlvbiA9PSBxdWVyaWVzLldIQVRfSVNfTk9UKVwiIG5nLWNsaWNrPVwic2VsZWN0UXVlc3Rpb24ocXVlcmllcy5XSEFUX0lTX05PVClcIj4gPGRpdiBjbGFzcz1cInF1ZXN0aW9uLW51bWJlclwiPjI8L2Rpdj4gPGRpdiBjbGFzcz1cImdlbmVyYXRvci10ZXh0XCI+IFdoYXQgaXMtbm90Jm5ic3A7PGRpdiBjbGFzcz1cImNvbmNlcHQtZWNobyBuZy1iaW5kaW5nXCIgbmctYmluZD1cImVjaG9Db25jZXB0MSgpXCI+Li4uPC9kaXY+PyA8L2Rpdj4gPC9kaXY+IDxkaXYgY2xhc3M9XCJxdWVzdGlvblwiIG5nLWNsYXNzPVwiY2xhc3NJZihcXCdzZWxlY3RlZFxcJywgc2VsZWN0ZWRRdWVzdGlvbiA9PSBxdWVyaWVzLkRJU1RJTkdVSVNIX0JFVFdFRU4pXCIgbmctY2xpY2s9XCJzZWxlY3RRdWVzdGlvbihxdWVyaWVzLkRJU1RJTkdVSVNIX0JFVFdFRU4pXCI+IDxkaXYgY2xhc3M9XCJxdWVzdGlvbi1udW1iZXJcIj4zPC9kaXY+IDxkaXYgY2xhc3M9XCJnZW5lcmF0b3ItdGV4dFwiIGRhdGEtc2tpcD1cInRydWVcIj4gSG93IHdvdWxkIHlvdSBkaXN0aW5ndWlzaCBiZXR3ZWVuIDxkaXYgY2xhc3M9XCJjb25jZXB0LWVjaG8gbmctYmluZGluZ1wiIG5nLWJpbmQ9XCJlY2hvQ29uY2VwdDEoKVwiPi4uLjwvZGl2PiBhbmQmbmJzcDs8ZGl2IGNsYXNzPVwiY29uY2VwdC1lY2hvIG5nLWJpbmRpbmdcIiBuZy1iaW5kPVwiZWNob0NvbmNlcHQyKClcIj4uLi48L2Rpdj4/IDwvZGl2PiA8L2Rpdj4gPGRpdiBjbGFzcz1cInF1ZXN0aW9uXCIgbmctY2xhc3M9XCJjbGFzc0lmKFxcJ3NlbGVjdGVkXFwnLCBzZWxlY3RlZFF1ZXN0aW9uID09IHF1ZXJpZXMuQ09NUEFSRV9DT05UUkFTVClcIiBuZy1jbGljaz1cInNlbGVjdFF1ZXN0aW9uKHF1ZXJpZXMuQ09NUEFSRV9DT05UUkFTVClcIj4gPGRpdiBjbGFzcz1cInF1ZXN0aW9uLW51bWJlclwiPjQ8L2Rpdj4gPGRpdiBjbGFzcz1cImdlbmVyYXRvci10ZXh0XCIgZGF0YS1za2lwPVwidHJ1ZVwiPiBDYW4geW91IGNvbXBhcmUgYW5kIGNvbnRyYXN0IDxkaXYgY2xhc3M9XCJjb25jZXB0LWVjaG8gbmctYmluZGluZ1wiIG5nLWJpbmQ9XCJlY2hvQ29uY2VwdDEoKVwiPi4uLjwvZGl2PiBhbmQgPGRpdiBjbGFzcz1cImNvbmNlcHQtZWNobyBuZy1iaW5kaW5nXCIgbmctYmluZD1cImVjaG9Db25jZXB0MigpXCI+Li4uPC9kaXY+PyA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA8aDQgY2xhc3M9XCJpY29uU1wiPlN5c3RlbXM8L2g0PiA8ZGl2IGNsYXNzPVwicXVlc3Rpb24tbGlzdFwiPiA8ZGl2IGNsYXNzPVwicXVlc3Rpb25cIiBuZy1jbGFzcz1cImNsYXNzSWYoXFwnc2VsZWN0ZWRcXCcsIHNlbGVjdGVkUXVlc3Rpb24gPT0gcXVlcmllcy5QQVJUU19PRilcIiBuZy1jbGljaz1cInNlbGVjdFF1ZXN0aW9uKHF1ZXJpZXMuUEFSVFNfT0YpXCI+IDxkaXYgY2xhc3M9XCJxdWVzdGlvbi1udW1iZXJcIj41PC9kaXY+IDxkaXYgY2xhc3M9XCJnZW5lcmF0b3ItdGV4dFwiIGRhdGEtc2tpcD1cInRydWVcIj4gV2hhdCBhcmUgdGhlIHBhcnRzIG9mIDxkaXYgY2xhc3M9XCJjb25jZXB0LWVjaG8gbmctYmluZGluZ1wiIG5nLWJpbmQ9XCJlY2hvQ29uY2VwdDEoKVwiPi4uLjwvZGl2Pj8gPC9kaXY+IDwvZGl2PiA8ZGl2IGNsYXNzPVwicXVlc3Rpb25cIiBuZy1jbGFzcz1cImNsYXNzSWYoXFwnc2VsZWN0ZWRcXCcsIHNlbGVjdGVkUXVlc3Rpb24gPT0gcXVlcmllcy5QQVJUX09GKVwiIG5nLWNsaWNrPVwic2VsZWN0UXVlc3Rpb24ocXVlcmllcy5QQVJUX09GKVwiPiA8ZGl2IGNsYXNzPVwicXVlc3Rpb24tbnVtYmVyXCI+NjwvZGl2PiA8ZGl2IGNsYXNzPVwiZ2VuZXJhdG9yLXRleHRcIj4gV2hhdCBpcyA8ZGl2IGNsYXNzPVwiY29uY2VwdC1lY2hvIG5nLWJpbmRpbmdcIiBuZy1iaW5kPVwiZWNob0NvbmNlcHQxKClcIj4uLi48L2Rpdj4gYSBwYXJ0IG9mPyA8L2Rpdj4gPC9kaXY+IDxkaXYgY2xhc3M9XCJxdWVzdGlvblwiIG5nLWNsYXNzPVwiY2xhc3NJZihcXCdzZWxlY3RlZFxcJywgc2VsZWN0ZWRRdWVzdGlvbiA9PSBxdWVyaWVzLlBBUlRTX0hBVkVfUEFSVFMpXCIgbmctY2xpY2s9XCJzZWxlY3RRdWVzdGlvbihxdWVyaWVzLlBBUlRTX0hBVkVfUEFSVFMpXCI+IDxkaXYgY2xhc3M9XCJxdWVzdGlvbi1udW1iZXJcIj43PC9kaXY+IDxkaXYgY2xhc3M9XCJnZW5lcmF0b3ItdGV4dFwiIGRhdGEtc2tpcD1cInRydWVcIj4gQ2FuIHlvdSBuYW1lIHNvbWUgb2YgdGhlIHBhcnRzIG9mIHRoZSBwYXJ0cyBvZiA8ZGl2IGNsYXNzPVwiY29uY2VwdC1lY2hvIG5nLWJpbmRpbmdcIiBuZy1iaW5kPVwiZWNob0NvbmNlcHQxKClcIj4uLi48L2Rpdj4gPyA8L2Rpdj4gPC9kaXY+IDxkaXYgY2xhc3M9XCJxdWVzdGlvblwiIG5nLWNsYXNzPVwiY2xhc3NJZihcXCdzZWxlY3RlZFxcJywgc2VsZWN0ZWRRdWVzdGlvbiA9PSBxdWVyaWVzLlJfUEFSVFMpXCIgbmctY2xpY2s9XCJzZWxlY3RRdWVzdGlvbihxdWVyaWVzLlJfUEFSVFMpXCI+IDxkaXYgY2xhc3M9XCJxdWVzdGlvbi1udW1iZXJcIj44PC9kaXY+IDxkaXYgY2xhc3M9XCJnZW5lcmF0b3ItdGV4dFwiIGRhdGEtc2tpcD1cInRydWVcIj4gV2hhdCBhcmUgdGhlIHBhcnRzIG9mIHRoZSByZWxhdGlvbnNoaXAgYmV0d2VlbiA8ZGl2IGNsYXNzPVwiY29uY2VwdC1lY2hvIG5nLWJpbmRpbmdcIiBuZy1iaW5kPVwiZWNob0NvbmNlcHQxKClcIj4uLi48L2Rpdj4gYW5kIDxkaXYgY2xhc3M9XCJjb25jZXB0LWVjaG8gbmctYmluZGluZ1wiIG5nLWJpbmQ9XCJlY2hvQ29uY2VwdDIoKVwiPi4uLjwvZGl2Pj8gPC9kaXY+IDwvZGl2PiA8ZGl2IGNsYXNzPVwicXVlc3Rpb25cIiBuZy1jbGFzcz1cImNsYXNzSWYoXFwnc2VsZWN0ZWRcXCcsIHNlbGVjdGVkUXVlc3Rpb24gPT0gcXVlcmllcy5QX1BBUlRTKVwiIG5nLWNsaWNrPVwic2VsZWN0UXVlc3Rpb24ocXVlcmllcy5QX1BBUlRTKVwiPiA8ZGl2IGNsYXNzPVwicXVlc3Rpb24tbnVtYmVyXCI+OTwvZGl2PiA8ZGl2IGNsYXNzPVwiZ2VuZXJhdG9yLXRleHRcIiBkYXRhLXNraXA9XCJ0cnVlXCI+IFdoYXQgYXJlIHRoZSBwYXJ0cyBvZiA8ZGl2IGNsYXNzPVwiY29uY2VwdC1lY2hvIG5nLWJpbmRpbmdcIiBuZy1iaW5kPVwiZWNob0NvbmNlcHQxKClcIj4uLi48L2Rpdj4gd2hlbiBsb29rZWQgYXQgZnJvbSB0aGUgdmlld3BvaW50IG9mIDxkaXYgY2xhc3M9XCJjb25jZXB0LWVjaG8gbmctYmluZGluZ1wiIG5nLWJpbmQ9XCJlY2hvQ29uY2VwdDIoKVwiPi4uLjwvZGl2Pj8gPC9kaXY+IDwvZGl2PiA8L2Rpdj4gPGg0IGNsYXNzPVwiaWNvblJcIj5SZWxhdGlvbnNoaXBzPC9oND4gPGRpdiBjbGFzcz1cInF1ZXN0aW9uLWxpc3RcIj4gPGRpdiBjbGFzcz1cInF1ZXN0aW9uXCIgbmctY2xhc3M9XCJjbGFzc0lmKFxcJ3NlbGVjdGVkXFwnLCBzZWxlY3RlZFF1ZXN0aW9uID09IHF1ZXJpZXMuUlNfVE9fQU5EX0JZKVwiIG5nLWNsaWNrPVwic2VsZWN0UXVlc3Rpb24ocXVlcmllcy5SU19UT19BTkRfQlkpXCI+IDxkaXYgY2xhc3M9XCJxdWVzdGlvbi1udW1iZXJcIj4xMDwvZGl2PiA8ZGl2IGNsYXNzPVwiZ2VuZXJhdG9yLXRleHRcIiBkYXRhLXNraXA9XCJ0cnVlXCI+IFdoYXQgaWRlYXMgYXJlIHJlbGF0ZWQgPGVtPnRvIDwvZW0+PGRpdiBjbGFzcz1cImNvbmNlcHQtZWNobyBuZy1iaW5kaW5nXCIgbmctYmluZD1cImVjaG9Db25jZXB0MSgpXCI+Li4uPC9kaXY+IGFuZCB3aGF0IGlkZWFzIGFyZSByZWxhdGVkIDxlbT5ieSA8L2VtPjxkaXYgY2xhc3M9XCJjb25jZXB0LWVjaG8gbmctYmluZGluZ1wiIG5nLWJpbmQ9XCJlY2hvQ29uY2VwdDEoKVwiPi4uLjwvZGl2Pj8gPC9kaXY+IDwvZGl2PiA8ZGl2IGNsYXNzPVwicXVlc3Rpb25cIiBuZy1jbGFzcz1cImNsYXNzSWYoXFwnc2VsZWN0ZWRcXCcsIHNlbGVjdGVkUXVlc3Rpb24gPT0gcXVlcmllcy5XSEFUX0lTX1IpXCIgbmctY2xpY2s9XCJzZWxlY3RRdWVzdGlvbihxdWVyaWVzLldIQVRfSVNfUilcIj4gPGRpdiBjbGFzcz1cInF1ZXN0aW9uLW51bWJlclwiPjExPC9kaXY+IDxkaXYgY2xhc3M9XCJnZW5lcmF0b3ItdGV4dFwiIGRhdGEtc2tpcD1cInRydWVcIj4gV2hhdCBpZGVhIHJlbGF0ZXMgPGRpdiBjbGFzcz1cImNvbmNlcHQtZWNobyBuZy1iaW5kaW5nXCIgbmctYmluZD1cImVjaG9Db25jZXB0MSgpXCI+Li4uPC9kaXY+IGFuZCA8ZGl2IGNsYXNzPVwiY29uY2VwdC1lY2hvIG5nLWJpbmRpbmdcIiBuZy1iaW5kPVwiZWNob0NvbmNlcHQyKClcIj4uLi48L2Rpdj4/IDwvZGl2PiA8L2Rpdj4gPGRpdiBjbGFzcz1cInF1ZXN0aW9uXCIgbmctY2xhc3M9XCJjbGFzc0lmKFxcJ3NlbGVjdGVkXFwnLCBzZWxlY3RlZFF1ZXN0aW9uID09IHF1ZXJpZXMuUEFSVF9SU19BUkUpXCIgbmctY2xpY2s9XCJzZWxlY3RRdWVzdGlvbihxdWVyaWVzLlBBUlRfUlNfQVJFKVwiPiA8ZGl2IGNsYXNzPVwicXVlc3Rpb24tbnVtYmVyXCI+MTI8L2Rpdj4gPGRpdiBjbGFzcz1cImdlbmVyYXRvci10ZXh0XCIgZGF0YS1za2lwPVwidHJ1ZVwiPiBIb3cgYXJlIHRoZSBwYXJ0cyBvZiA8ZGl2IGNsYXNzPVwiY29uY2VwdC1lY2hvIG5nLWJpbmRpbmdcIiBuZy1iaW5kPVwiZWNob0NvbmNlcHQxKClcIj4uLi48L2Rpdj4gcmVsYXRlZD8gPC9kaXY+IDwvZGl2PiA8ZGl2IGNsYXNzPVwicXVlc3Rpb25cIiBuZy1jbGFzcz1cImNsYXNzSWYoXFwnc2VsZWN0ZWRcXCcsIHNlbGVjdGVkUXVlc3Rpb24gPT0gcXVlcmllcy5QQVJUX1JTX0VYSVNUKVwiIG5nLWNsaWNrPVwic2VsZWN0UXVlc3Rpb24ocXVlcmllcy5QQVJUX1JTX0VYSVNUKVwiPiA8ZGl2IGNsYXNzPVwicXVlc3Rpb24tbnVtYmVyXCI+MTM8L2Rpdj4gPGRpdiBjbGFzcz1cImdlbmVyYXRvci10ZXh0XCIgZGF0YS1za2lwPVwidHJ1ZVwiPiBIb3cgYXJlIHRoZSBwYXJ0cyBvZiA8ZGl2IGNsYXNzPVwiY29uY2VwdC1lY2hvIG5nLWJpbmRpbmdcIiBuZy1iaW5kPVwiZWNob0NvbmNlcHQxKClcIj4uLi48L2Rpdj4gcmVsYXRlZCB0byB0aGUgcGFydHMgb2YgPGRpdiBjbGFzcz1cImNvbmNlcHQtZWNobyBuZy1iaW5kaW5nXCIgbmctYmluZD1cImVjaG9Db25jZXB0MigpXCI+Li4uPC9kaXY+PyA8L2Rpdj4gPC9kaXY+IDxkaXYgY2xhc3M9XCJxdWVzdGlvblwiIG5nLWNsYXNzPVwiY2xhc3NJZihcXCdzZWxlY3RlZFxcJywgc2VsZWN0ZWRRdWVzdGlvbiA9PSBxdWVyaWVzLlJTX1dJVEhfT1RIRVJTKVwiIG5nLWNsaWNrPVwic2VsZWN0UXVlc3Rpb24ocXVlcmllcy5SU19XSVRIX09USEVSUylcIj4gPGRpdiBjbGFzcz1cInF1ZXN0aW9uLW51bWJlclwiPjE0PC9kaXY+IDxkaXYgY2xhc3M9XCJnZW5lcmF0b3ItdGV4dFwiIGRhdGEtc2tpcD1cInRydWVcIj4gV2hhdCBhcmUgdGhlIHJlbGF0aW9uc2hpcHMgYW1vbmcgPGRpdiBjbGFzcz1cImNvbmNlcHQtZWNobyBuZy1iaW5kaW5nXCIgbmctYmluZD1cImVjaG9Db25jZXB0MSgpXCI+Li4uPC9kaXY+IGFuZCA8ZGl2IGNsYXNzPVwiY29uY2VwdC1lY2hvIG5nLWJpbmRpbmdcIiBuZy1iaW5kPVwiZWNob0NvbmNlcHQyKClcIj4uLi48L2Rpdj4gYW5kIG90aGVyIHRoaW5ncz8gPC9kaXY+IDwvZGl2PiA8L2Rpdj4gPGg0IGNsYXNzPVwiaWNvblBcIj5QZXJzcGVjdGl2ZXM8L2g0PiA8ZGl2IGNsYXNzPVwicXVlc3Rpb24tbGlzdFwiPiA8ZGl2IGNsYXNzPVwicXVlc3Rpb25cIiBuZy1jbGFzcz1cImNsYXNzSWYoXFwnc2VsZWN0ZWRcXCcsIHNlbGVjdGVkUXVlc3Rpb24gPT0gcXVlcmllcy5QQVJUU19PRl9QKVwiIG5nLWNsaWNrPVwic2VsZWN0UXVlc3Rpb24ocXVlcmllcy5QQVJUU19PRl9QKVwiPiA8ZGl2IGNsYXNzPVwicXVlc3Rpb24tbnVtYmVyXCI+MTU8L2Rpdj4gPGRpdiBjbGFzcz1cImdlbmVyYXRvci10ZXh0XCIgZGF0YS1za2lwPVwidHJ1ZVwiPiBXaGF0IGFyZSB0aGUgcGFydHMgb2YgdGhlIHZpZXdwb2ludCA8ZGl2IGNsYXNzPVwiY29uY2VwdC1lY2hvIG5nLWJpbmRpbmdcIiBuZy1iaW5kPVwiZWNob0NvbmNlcHQxKClcIj4uLi48L2Rpdj4gd2hlbiBsb29raW5nIGF0IDxkaXYgY2xhc3M9XCJjb25jZXB0LWVjaG8gbmctYmluZGluZ1wiIG5nLWJpbmQ9XCJlY2hvQ29uY2VwdDIoKVwiPi4uLjwvZGl2Pj8gPC9kaXY+IDwvZGl2PiA8ZGl2IGNsYXNzPVwicXVlc3Rpb25cIiBuZy1jbGFzcz1cImNsYXNzSWYoXFwnc2VsZWN0ZWRcXCcsIHNlbGVjdGVkUXVlc3Rpb24gPT0gcXVlcmllcy5QT0lOVF9GT1IpXCIgbmctY2xpY2s9XCJzZWxlY3RRdWVzdGlvbihxdWVyaWVzLlBPSU5UX0ZPUilcIj4gPGRpdiBjbGFzcz1cInF1ZXN0aW9uLW51bWJlclwiPjE2PC9kaXY+IDxkaXYgY2xhc3M9XCJnZW5lcmF0b3ItdGV4dFwiPiBIb3cgYXJlIDxkaXYgY2xhc3M9XCJjb25jZXB0LWVjaG8gbmctYmluZGluZ1wiIG5nLWJpbmQ9XCJlY2hvQ29uY2VwdDEoKVwiPi4uLjwvZGl2PiBhbmQgPGRpdiBjbGFzcz1cImNvbmNlcHQtZWNobyBuZy1iaW5kaW5nXCIgbmctYmluZD1cImVjaG9Db25jZXB0MigpXCI+Li4uPC9kaXY+IHJlbGF0ZWQgd2hlbiBsb29raW5nIGF0IHRoZW0gZnJvbSBhIG5ldyBwZXJzcGVjdGl2ZT8gPC9kaXY+IDwvZGl2PiA8ZGl2IGNsYXNzPVwicXVlc3Rpb25cIiBuZy1jbGFzcz1cImNsYXNzSWYoXFwnc2VsZWN0ZWRcXCcsIHNlbGVjdGVkUXVlc3Rpb24gPT0gcXVlcmllcy5IQVNfTVVMVElQTEVfUFMpXCIgbmctY2xpY2s9XCJzZWxlY3RRdWVzdGlvbihxdWVyaWVzLkhBU19NVUxUSVBMRV9QUylcIj4gPGRpdiBjbGFzcz1cInF1ZXN0aW9uLW51bWJlclwiPjE3PC9kaXY+IDxkaXYgY2xhc3M9XCJnZW5lcmF0b3ItdGV4dFwiPiBDYW4geW91IHRoaW5rIG9mIDxkaXYgY2xhc3M9XCJjb25jZXB0LWVjaG8gbmctYmluZGluZ1wiIG5nLWJpbmQ9XCJlY2hvQ29uY2VwdDEoKVwiPi4uLjwvZGl2PiBmcm9tIG11bHRpcGxlIHBlcnNwZWN0aXZlcz8gPC9kaXY+IDwvZGl2PiA8ZGl2IGNsYXNzPVwicXVlc3Rpb25cIiBuZy1jbGFzcz1cImNsYXNzSWYoXFwnc2VsZWN0ZWRcXCcsIHNlbGVjdGVkUXVlc3Rpb24gPT0gcXVlcmllcy5QQVJUU19GUk9NX01VTFRJUExFX1BTKVwiIG5nLWNsaWNrPVwic2VsZWN0UXVlc3Rpb24ocXVlcmllcy5QQVJUU19GUk9NX01VTFRJUExFX1BTKVwiPiA8ZGl2IGNsYXNzPVwicXVlc3Rpb24tbnVtYmVyXCI+MTg8L2Rpdj4gPGRpdiBjbGFzcz1cImdlbmVyYXRvci10ZXh0XCIgZGF0YS1za2lwPVwidHJ1ZVwiPiBXaGF0IGFyZSB0aGUgcGFydHMgb2YgPGRpdiBjbGFzcz1cImNvbmNlcHQtZWNobyBuZy1iaW5kaW5nXCIgbmctYmluZD1cImVjaG9Db25jZXB0MSgpXCI+Li4uPC9kaXY+IHdoZW4gbG9va2VkIGF0IGZyb20gbXVsdGlwbGUgdmlld3BvaW50cz8gPC9kaXY+IDwvZGl2PiA8L2Rpdj4gPGg0IGNsYXNzPVwiaWNvbkQgaWNvblMgaWNvblIgaWNvblBcIj5EICsgUyArIFIgKyBQPC9oND4gPGRpdiBjbGFzcz1cInF1ZXN0aW9uLWxpc3RcIj4gPGRpdiBjbGFzcz1cInF1ZXN0aW9uXCIgbmctY2xhc3M9XCJjbGFzc0lmKFxcJ3NlbGVjdGVkXFwnLCBzZWxlY3RlZFF1ZXN0aW9uID09IHF1ZXJpZXMuV0hBVF9BQk9VVClcIiBuZy1jbGljaz1cInNlbGVjdFF1ZXN0aW9uKHF1ZXJpZXMuV0hBVF9BQk9VVClcIj4gPGRpdiBjbGFzcz1cInF1ZXN0aW9uLW51bWJlclwiPjE5PC9kaXY+IDxkaXYgY2xhc3M9XCJnZW5lcmF0b3ItdGV4dFwiIGRhdGEtc2tpcD1cInRydWVcIj4gVGVsbCBtZSBhbGwgeW91IGtub3cgYWJvdXQgPGRpdiBjbGFzcz1cImNvbmNlcHQtZWNobyBuZy1iaW5kaW5nXCIgbmctYmluZD1cImVjaG9Db25jZXB0MSgpXCI+Li4uPC9kaXY+IGJ5IERSU1BcXCdpbmcgaXQ/IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4gPGRpdiBpZD1cInByZXNlbnRlci10YWJcIj4gICAgIDxkaXYgY2xhc3M9XCJzbGlkZS1zaWRlYmFyIG5nLWhpZGVcIiBuZy1zaG93PVwibWFwLmdldFByZXNlbnRlcigpLnNob3dTaWRlYmFyKClcIj4gPGRpdiBjbGFzcz1cInNsaWRlcy1saXN0XCI+ICA8L2Rpdj4gPC9kaXY+ICAgIDwvZGl2PiA8ZGl2IGlkPVwibmF2aWdhdG9yXCI+IDxkaXYgaWQ9XCJvdmVydmlldy1kaWFncmFtXCIgbmctc2hvdz1cIm1hcC5nZXRVaSgpLnN0YXRlLnNob3dOYXZpZ2F0b3JcIiBjbGFzcz1cIm5nLWhpZGVcIiBzdHlsZT1cInBvc2l0aW9uOiByZWxhdGl2ZTsgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDApO1wiPiA8Y2FudmFzIHdpZHRoPVwiMjc4XCIgaGVpZ2h0PVwiMTQ4XCIgdGFiaW5kZXg9XCIwXCIgc3R5bGU9XCJwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogMHB4OyBsZWZ0OiAwcHg7IHotaW5kZXg6IDI7IC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7XCIgZGF0YS1za2lwPVwidHJ1ZVwiPlRoaXMgdGV4dCBpcyBkaXNwbGF5ZWQgaWYgeW91ciBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgdGhlIENhbnZhcyBIVE1MIGVsZW1lbnQuPC9jYW52YXM+IDxkaXYgc3R5bGU9XCJwb3NpdGlvbjogYWJzb2x1dGU7IG92ZXJmbG93OiBhdXRvOyB3aWR0aDogMjc4cHg7IGhlaWdodDogMTQ4cHg7IHotaW5kZXg6IDE7XCI+IDxkaXYgc3R5bGU9XCJwb3NpdGlvbjogYWJzb2x1dGU7IHdpZHRoOiAxcHg7IGhlaWdodDogMXB4O1wiPjwvZGl2PiA8L2Rpdj4gPGRpdiBzdHlsZT1cInBvc2l0aW9uOiBhYnNvbHV0ZTsgb3ZlcmZsb3c6IGF1dG87IHdpZHRoOiAyNzhweDsgaGVpZ2h0OiAxNDhweDsgei1pbmRleDogMTtcIj4gPGRpdiBzdHlsZT1cInBvc2l0aW9uOiBhYnNvbHV0ZTsgd2lkdGg6IDFweDsgaGVpZ2h0OiAxcHg7XCI+PC9kaXY+IDwvZGl2PiA8L2Rpdj4gPGRpdiBpZD1cInpvb20tdG8tcmVnaW9uLXByb21wdFwiIG5nLXNob3c9XCJtYXAuZ2V0VWkoKS56b29taW5nVG9SZWdpb25cIiBjbGFzcz1cIm5nLWhpZGVcIj4gPGg0Plpvb20gdG8gUmVnaW9uPC9oND4gPHAgZGF0YS1za2lwPVwidHJ1ZVwiPkNsaWNrLWhvbGQgYW5kIGRyYWcgdG8gc2VsZWN0IHRoZSByZWdpb24gdG8gem9vbSB0by48L3A+IDxidXR0b24gY2xhc3M9XCJidG4gYnRuLW1pbmlcIiBuZy1jbGljaz1cIm1hcC5nZXRVaSgpLnRvZ2dsZVpvb21pbmdUb1JlZ2lvbigpXCIgdGl0bGU9XCJDYW5jZWwgWm9vbSB0byBSZWdpb25cIiB0eXBlPVwiYnV0dG9uXCI+Q2FuY2VsPC9idXR0b24+IDwvZGl2PiA8L2Rpdj4gPGRpdiBpZD1cImV4cG9ydC1pbWFnZS1wb3B1cFwiIG5nLXNob3c9XCJzaG93SW1hZ2VFeHBvcnRcIiBjbGFzcz1cIm5nLWhpZGVcIj4gPGRpdiBjbGFzcz1cInRhYi1jbG9zZS1idXR0b25cIj4gPGJ1dHRvbiBjbGFzcz1cImNsb3NlXCIgbmctY2xpY2s9XCJzaG93SW1hZ2VFeHBvcnQgPSBmYWxzZVwiIHR5cGU9XCJidXR0b25cIj7DlzwvYnV0dG9uPiA8L2Rpdj4gPGgyPkV4cG9ydCBJbWFnZTwvaDI+IDxkaXYgY2xhc3M9XCJpbnN0cnVjdGlvbnMgbmctaGlkZVwiIG5nLXNob3c9XCIhaW1hZ2VFeHBvcnRMb2FkaW5nXCIgZGF0YS1za2lwPVwidHJ1ZVwiPlRvIHNhdmUgYW4gaW1hZ2Ugb2YgdGhpcyBtYXAgdG8geW91ciBjb21wdXRlciwgcmlnaHQtY2xpY2sgb24gdGhlIGltYWdlIGJlbG93IGFuZCBzZWxlY3QgdGhlIFNhdmUgSW1hZ2UgY29tbWFuZCBmcm9tIHlvdXIgYnJvd3NlclxcJ3MgcG9wLXVwIG1lbnUuPC9kaXY+IDxkaXYgaWQ9XCJleHBvcnQtaW1hZ2Utd3JhcHBlclwiPiA8ZGl2IGlkPVwiZXhwb3J0LWltYWdlXCI+IDxkaXYgaWQ9XCJsb2FkaW5nXCIgbmctc2hvdz1cImltYWdlRXhwb3J0TG9hZGluZ1wiIGNsYXNzPVwiXCI+R2VuZXJhdGluZyBJbWFnZS4uLjwvZGl2PiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA8ZGl2IGlkPVwidGVzdHNcIiBuZy1zaG93PVwic2hvd1Rlc3RzXCIgY2xhc3M9XCJuZy1oaWRlXCI+IDxoMj5UZXN0czwvaDI+ICA8ZGl2IGNsYXNzPVwidGVzdCBuZy1zY29wZVwiIG5nLXJlcGVhdD1cInRlc3QgaW4gbWFwLmdldFRlc3RzKCkudGVzdHNcIj4gPHNwYW4gY2xhc3M9XCJ0ZXN0LXN0YXR1cyBub3QtcnVuIG5nLWhpZGVcIiBuZy1zaG93PVwidGVzdC5zdGF0dXMgPT0gbWFwLmdldFRlc3RzKCkuVEVTVF9TVEFUVVNfTk9UX1JVTlwiPjwvc3Bhbj4gPHNwYW4gY2xhc3M9XCJ0ZXN0LXN0YXR1cyBwYXNzZWQgbmctaGlkZVwiIG5nLXNob3c9XCJ0ZXN0LnN0YXR1cyA9PSBtYXAuZ2V0VGVzdHMoKS5URVNUX1NUQVRVU19QQVNTRURcIj48L3NwYW4+IDxzcGFuIGNsYXNzPVwidGVzdC1zdGF0dXMgZXhhbWluZSBuZy1oaWRlXCIgbmctc2hvdz1cInRlc3Quc3RhdHVzID09IG1hcC5nZXRUZXN0cygpLlRFU1RfU1RBVFVTX0VYQU1JTkVcIj48L3NwYW4+IDxzcGFuIGNsYXNzPVwidGVzdC1zdGF0dXMgZmFpbGVkIG5nLXNjb3BlIG5nLWhpZGVcIiBuZy1zaG93PVwidGVzdC5zdGF0dXMgPT0gbWFwLmdldFRlc3RzKCkuVEVTVF9TVEFUVVNfRkFJTEVEXCIgcG9wb3Zlcj1cIlwiIHBvcG92ZXItcGxhY2VtZW50PVwicmlnaHRcIiBwb3BvdmVyLXRyaWdnZXI9XCJtb3VzZWVudGVyXCI+PC9zcGFuPiA8YnV0dG9uIG5nLWNsaWNrPVwibWFwLmdldFRlc3RzKCkucnVuVGVzdCh0ZXN0Lm5hbWUpXCIgbmctc3R5bGU9XCJcIiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJuZy1iaW5kaW5nXCI+UmVzZXQgbWFwPC9idXR0b24+IDxkaXYgY2xhc3M9XCJ0ZXN0LWluc3RydWN0aW9ucyBuZy1iaW5kaW5nIG5nLWhpZGVcIiBuZy1zaG93PVwibWFwLmdldFRlc3RzKCkuY3VycmVudFRlc3QgPT0gdGVzdCAmYW1wOyZhbXA7IHRlc3QuaW5zdHJ1Y3Rpb25zXCI+PC9kaXY+IDwvZGl2PiAgPGRpdiBjbGFzcz1cInRlc3Qgbmctc2NvcGVcIiBuZy1yZXBlYXQ9XCJ0ZXN0IGluIG1hcC5nZXRUZXN0cygpLnRlc3RzXCI+IDxzcGFuIGNsYXNzPVwidGVzdC1zdGF0dXMgbm90LXJ1biBuZy1oaWRlXCIgbmctc2hvdz1cInRlc3Quc3RhdHVzID09IG1hcC5nZXRUZXN0cygpLlRFU1RfU1RBVFVTX05PVF9SVU5cIj48L3NwYW4+IDxzcGFuIGNsYXNzPVwidGVzdC1zdGF0dXMgcGFzc2VkIG5nLWhpZGVcIiBuZy1zaG93PVwidGVzdC5zdGF0dXMgPT0gbWFwLmdldFRlc3RzKCkuVEVTVF9TVEFUVVNfUEFTU0VEXCI+PC9zcGFuPiA8c3BhbiBjbGFzcz1cInRlc3Qtc3RhdHVzIGV4YW1pbmUgbmctaGlkZVwiIG5nLXNob3c9XCJ0ZXN0LnN0YXR1cyA9PSBtYXAuZ2V0VGVzdHMoKS5URVNUX1NUQVRVU19FWEFNSU5FXCI+PC9zcGFuPiA8c3BhbiBjbGFzcz1cInRlc3Qtc3RhdHVzIGZhaWxlZCBuZy1zY29wZSBuZy1oaWRlXCIgbmctc2hvdz1cInRlc3Quc3RhdHVzID09IG1hcC5nZXRUZXN0cygpLlRFU1RfU1RBVFVTX0ZBSUxFRFwiIHBvcG92ZXI9XCJcIiBwb3BvdmVyLXBsYWNlbWVudD1cInJpZ2h0XCIgcG9wb3Zlci10cmlnZ2VyPVwibW91c2VlbnRlclwiPjwvc3Bhbj4gPGJ1dHRvbiBuZy1jbGljaz1cIm1hcC5nZXRUZXN0cygpLnJ1blRlc3QodGVzdC5uYW1lKVwiIG5nLXN0eWxlPVwiXCIgdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwibmctYmluZGluZ1wiPkNyZWF0ZSBTaXN0ZXI8L2J1dHRvbj4gPGRpdiBjbGFzcz1cInRlc3QtaW5zdHJ1Y3Rpb25zIG5nLWJpbmRpbmcgbmctaGlkZVwiIG5nLXNob3c9XCJtYXAuZ2V0VGVzdHMoKS5jdXJyZW50VGVzdCA9PSB0ZXN0ICZhbXA7JmFtcDsgdGVzdC5pbnN0cnVjdGlvbnNcIj48L2Rpdj4gPC9kaXY+ICA8ZGl2IGNsYXNzPVwidGVzdCBuZy1zY29wZVwiIG5nLXJlcGVhdD1cInRlc3QgaW4gbWFwLmdldFRlc3RzKCkudGVzdHNcIj4gPHNwYW4gY2xhc3M9XCJ0ZXN0LXN0YXR1cyBub3QtcnVuIG5nLWhpZGVcIiBuZy1zaG93PVwidGVzdC5zdGF0dXMgPT0gbWFwLmdldFRlc3RzKCkuVEVTVF9TVEFUVVNfTk9UX1JVTlwiPjwvc3Bhbj4gPHNwYW4gY2xhc3M9XCJ0ZXN0LXN0YXR1cyBwYXNzZWQgbmctaGlkZVwiIG5nLXNob3c9XCJ0ZXN0LnN0YXR1cyA9PSBtYXAuZ2V0VGVzdHMoKS5URVNUX1NUQVRVU19QQVNTRURcIj48L3NwYW4+IDxzcGFuIGNsYXNzPVwidGVzdC1zdGF0dXMgZXhhbWluZSBuZy1oaWRlXCIgbmctc2hvdz1cInRlc3Quc3RhdHVzID09IG1hcC5nZXRUZXN0cygpLlRFU1RfU1RBVFVTX0VYQU1JTkVcIj48L3NwYW4+IDxzcGFuIGNsYXNzPVwidGVzdC1zdGF0dXMgZmFpbGVkIG5nLXNjb3BlIG5nLWhpZGVcIiBuZy1zaG93PVwidGVzdC5zdGF0dXMgPT0gbWFwLmdldFRlc3RzKCkuVEVTVF9TVEFUVVNfRkFJTEVEXCIgcG9wb3Zlcj1cIlwiIHBvcG92ZXItcGxhY2VtZW50PVwicmlnaHRcIiBwb3BvdmVyLXRyaWdnZXI9XCJtb3VzZWVudGVyXCI+PC9zcGFuPiA8YnV0dG9uIG5nLWNsaWNrPVwibWFwLmdldFRlc3RzKCkucnVuVGVzdCh0ZXN0Lm5hbWUpXCIgbmctc3R5bGU9XCJcIiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJuZy1iaW5kaW5nXCI+Q3JlYXRlIFIgdG8gU2lzdGVyPC9idXR0b24+IDxkaXYgY2xhc3M9XCJ0ZXN0LWluc3RydWN0aW9ucyBuZy1iaW5kaW5nIG5nLWhpZGVcIiBuZy1zaG93PVwibWFwLmdldFRlc3RzKCkuY3VycmVudFRlc3QgPT0gdGVzdCAmYW1wOyZhbXA7IHRlc3QuaW5zdHJ1Y3Rpb25zXCI+PC9kaXY+IDwvZGl2PiAgPGRpdiBjbGFzcz1cInRlc3Qgbmctc2NvcGVcIiBuZy1yZXBlYXQ9XCJ0ZXN0IGluIG1hcC5nZXRUZXN0cygpLnRlc3RzXCI+IDxzcGFuIGNsYXNzPVwidGVzdC1zdGF0dXMgbm90LXJ1biBuZy1oaWRlXCIgbmctc2hvdz1cInRlc3Quc3RhdHVzID09IG1hcC5nZXRUZXN0cygpLlRFU1RfU1RBVFVTX05PVF9SVU5cIj48L3NwYW4+IDxzcGFuIGNsYXNzPVwidGVzdC1zdGF0dXMgcGFzc2VkIG5nLWhpZGVcIiBuZy1zaG93PVwidGVzdC5zdGF0dXMgPT0gbWFwLmdldFRlc3RzKCkuVEVTVF9TVEFUVVNfUEFTU0VEXCI+PC9zcGFuPiA8c3BhbiBjbGFzcz1cInRlc3Qtc3RhdHVzIGV4YW1pbmUgbmctaGlkZVwiIG5nLXNob3c9XCJ0ZXN0LnN0YXR1cyA9PSBtYXAuZ2V0VGVzdHMoKS5URVNUX1NUQVRVU19FWEFNSU5FXCI+PC9zcGFuPiA8c3BhbiBjbGFzcz1cInRlc3Qtc3RhdHVzIGZhaWxlZCBuZy1zY29wZSBuZy1oaWRlXCIgbmctc2hvdz1cInRlc3Quc3RhdHVzID09IG1hcC5nZXRUZXN0cygpLlRFU1RfU1RBVFVTX0ZBSUxFRFwiIHBvcG92ZXI9XCJcIiBwb3BvdmVyLXBsYWNlbWVudD1cInJpZ2h0XCIgcG9wb3Zlci10cmlnZ2VyPVwibW91c2VlbnRlclwiPjwvc3Bhbj4gPGJ1dHRvbiBuZy1jbGljaz1cIm1hcC5nZXRUZXN0cygpLnJ1blRlc3QodGVzdC5uYW1lKVwiIG5nLXN0eWxlPVwiXCIgdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwibmctYmluZGluZ1wiPkNyZWF0ZSBDaGlsZDwvYnV0dG9uPiA8ZGl2IGNsYXNzPVwidGVzdC1pbnN0cnVjdGlvbnMgbmctYmluZGluZyBuZy1oaWRlXCIgbmctc2hvdz1cIm1hcC5nZXRUZXN0cygpLmN1cnJlbnRUZXN0ID09IHRlc3QgJmFtcDsmYW1wOyB0ZXN0Lmluc3RydWN0aW9uc1wiPjwvZGl2PiA8L2Rpdj4gIDxkaXYgY2xhc3M9XCJ0ZXN0IG5nLXNjb3BlXCIgbmctcmVwZWF0PVwidGVzdCBpbiBtYXAuZ2V0VGVzdHMoKS50ZXN0c1wiPiA8c3BhbiBjbGFzcz1cInRlc3Qtc3RhdHVzIG5vdC1ydW4gbmctaGlkZVwiIG5nLXNob3c9XCJ0ZXN0LnN0YXR1cyA9PSBtYXAuZ2V0VGVzdHMoKS5URVNUX1NUQVRVU19OT1RfUlVOXCI+PC9zcGFuPiA8c3BhbiBjbGFzcz1cInRlc3Qtc3RhdHVzIHBhc3NlZCBuZy1oaWRlXCIgbmctc2hvdz1cInRlc3Quc3RhdHVzID09IG1hcC5nZXRUZXN0cygpLlRFU1RfU1RBVFVTX1BBU1NFRFwiPjwvc3Bhbj4gPHNwYW4gY2xhc3M9XCJ0ZXN0LXN0YXR1cyBleGFtaW5lIG5nLWhpZGVcIiBuZy1zaG93PVwidGVzdC5zdGF0dXMgPT0gbWFwLmdldFRlc3RzKCkuVEVTVF9TVEFUVVNfRVhBTUlORVwiPjwvc3Bhbj4gPHNwYW4gY2xhc3M9XCJ0ZXN0LXN0YXR1cyBmYWlsZWQgbmctc2NvcGUgbmctaGlkZVwiIG5nLXNob3c9XCJ0ZXN0LnN0YXR1cyA9PSBtYXAuZ2V0VGVzdHMoKS5URVNUX1NUQVRVU19GQUlMRURcIiBwb3BvdmVyPVwiXCIgcG9wb3Zlci1wbGFjZW1lbnQ9XCJyaWdodFwiIHBvcG92ZXItdHJpZ2dlcj1cIm1vdXNlZW50ZXJcIj48L3NwYW4+IDxidXR0b24gbmctY2xpY2s9XCJtYXAuZ2V0VGVzdHMoKS5ydW5UZXN0KHRlc3QubmFtZSlcIiBuZy1zdHlsZT1cIlwiIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cIm5nLWJpbmRpbmdcIiBkYXRhLXNraXA9XCJ0cnVlXCI+Q3JlYXRlIDMgY2hpbGRyZW4gYW5kIHN3aXRjaCB0byBmcmVlaGFuZDwvYnV0dG9uPiA8ZGl2IGNsYXNzPVwidGVzdC1pbnN0cnVjdGlvbnMgbmctYmluZGluZyBuZy1oaWRlXCIgbmctc2hvdz1cIm1hcC5nZXRUZXN0cygpLmN1cnJlbnRUZXN0ID09IHRlc3QgJmFtcDsmYW1wOyB0ZXN0Lmluc3RydWN0aW9uc1wiPjwvZGl2PiA8L2Rpdj4gIDxkaXYgY2xhc3M9XCJ0ZXN0IG5nLXNjb3BlXCIgbmctcmVwZWF0PVwidGVzdCBpbiBtYXAuZ2V0VGVzdHMoKS50ZXN0c1wiPiA8c3BhbiBjbGFzcz1cInRlc3Qtc3RhdHVzIG5vdC1ydW4gbmctaGlkZVwiIG5nLXNob3c9XCJ0ZXN0LnN0YXR1cyA9PSBtYXAuZ2V0VGVzdHMoKS5URVNUX1NUQVRVU19OT1RfUlVOXCI+PC9zcGFuPiA8c3BhbiBjbGFzcz1cInRlc3Qtc3RhdHVzIHBhc3NlZCBuZy1oaWRlXCIgbmctc2hvdz1cInRlc3Quc3RhdHVzID09IG1hcC5nZXRUZXN0cygpLlRFU1RfU1RBVFVTX1BBU1NFRFwiPjwvc3Bhbj4gPHNwYW4gY2xhc3M9XCJ0ZXN0LXN0YXR1cyBleGFtaW5lIG5nLWhpZGVcIiBuZy1zaG93PVwidGVzdC5zdGF0dXMgPT0gbWFwLmdldFRlc3RzKCkuVEVTVF9TVEFUVVNfRVhBTUlORVwiPjwvc3Bhbj4gPHNwYW4gY2xhc3M9XCJ0ZXN0LXN0YXR1cyBmYWlsZWQgbmctc2NvcGUgbmctaGlkZVwiIG5nLXNob3c9XCJ0ZXN0LnN0YXR1cyA9PSBtYXAuZ2V0VGVzdHMoKS5URVNUX1NUQVRVU19GQUlMRURcIiBwb3BvdmVyPVwiXCIgcG9wb3Zlci1wbGFjZW1lbnQ9XCJyaWdodFwiIHBvcG92ZXItdHJpZ2dlcj1cIm1vdXNlZW50ZXJcIj48L3NwYW4+IDxidXR0b24gbmctY2xpY2s9XCJtYXAuZ2V0VGVzdHMoKS5ydW5UZXN0KHRlc3QubmFtZSlcIiBuZy1zdHlsZT1cIlwiIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cIm5nLWJpbmRpbmdcIiBkYXRhLXNraXA9XCJ0cnVlXCI+RHJhZyBSVEJCIGludG8gb3V0bGluZSBTPC9idXR0b24+IDxkaXYgY2xhc3M9XCJ0ZXN0LWluc3RydWN0aW9ucyBuZy1iaW5kaW5nIG5nLWhpZGVcIiBuZy1zaG93PVwibWFwLmdldFRlc3RzKCkuY3VycmVudFRlc3QgPT0gdGVzdCAmYW1wOyZhbXA7IHRlc3QuaW5zdHJ1Y3Rpb25zXCIgZGF0YS1za2lwPVwidHJ1ZVwiPkRyYWcgdGhlIHByZXNlbGVjdGVkIFJUQkIgaW50byBXaG9sZSAoUyksIHRoZW4gZG8gYW4gVW5kbzwvZGl2PiA8L2Rpdj4gIDxkaXYgY2xhc3M9XCJ0ZXN0IG5nLXNjb3BlXCIgbmctcmVwZWF0PVwidGVzdCBpbiBtYXAuZ2V0VGVzdHMoKS50ZXN0c1wiPiA8c3BhbiBjbGFzcz1cInRlc3Qtc3RhdHVzIG5vdC1ydW4gbmctaGlkZVwiIG5nLXNob3c9XCJ0ZXN0LnN0YXR1cyA9PSBtYXAuZ2V0VGVzdHMoKS5URVNUX1NUQVRVU19OT1RfUlVOXCI+PC9zcGFuPiA8c3BhbiBjbGFzcz1cInRlc3Qtc3RhdHVzIHBhc3NlZCBuZy1oaWRlXCIgbmctc2hvdz1cInRlc3Quc3RhdHVzID09IG1hcC5nZXRUZXN0cygpLlRFU1RfU1RBVFVTX1BBU1NFRFwiPjwvc3Bhbj4gPHNwYW4gY2xhc3M9XCJ0ZXN0LXN0YXR1cyBleGFtaW5lIG5nLWhpZGVcIiBuZy1zaG93PVwidGVzdC5zdGF0dXMgPT0gbWFwLmdldFRlc3RzKCkuVEVTVF9TVEFUVVNfRVhBTUlORVwiPjwvc3Bhbj4gPHNwYW4gY2xhc3M9XCJ0ZXN0LXN0YXR1cyBmYWlsZWQgbmctc2NvcGUgbmctaGlkZVwiIG5nLXNob3c9XCJ0ZXN0LnN0YXR1cyA9PSBtYXAuZ2V0VGVzdHMoKS5URVNUX1NUQVRVU19GQUlMRURcIiBwb3BvdmVyPVwiXCIgcG9wb3Zlci1wbGFjZW1lbnQ9XCJyaWdodFwiIHBvcG92ZXItdHJpZ2dlcj1cIm1vdXNlZW50ZXJcIj48L3NwYW4+IDxidXR0b24gbmctY2xpY2s9XCJtYXAuZ2V0VGVzdHMoKS5ydW5UZXN0KHRlc3QubmFtZSlcIiBuZy1zdHlsZT1cIlwiIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cIm5nLWJpbmRpbmdcIiBkYXRhLXNraXA9XCJ0cnVlXCI+RHJhZyBSVEJCIGludG8gZnJlZWhhbmQgUzwvYnV0dG9uPiA8ZGl2IGNsYXNzPVwidGVzdC1pbnN0cnVjdGlvbnMgbmctYmluZGluZyBuZy1oaWRlXCIgbmctc2hvdz1cIm1hcC5nZXRUZXN0cygpLmN1cnJlbnRUZXN0ID09IHRlc3QgJmFtcDsmYW1wOyB0ZXN0Lmluc3RydWN0aW9uc1wiIGRhdGEtc2tpcD1cInRydWVcIj5EcmFnIHRoZSBwcmVzZWxlY3RlZCBSVEJCIGludG8gV2hvbGUgKFMpIGFuZCBleGFtaW5lIGxheW91dDwvZGl2PiA8L2Rpdj4gIDxkaXYgY2xhc3M9XCJ0ZXN0IG5nLXNjb3BlXCIgbmctcmVwZWF0PVwidGVzdCBpbiBtYXAuZ2V0VGVzdHMoKS50ZXN0c1wiPiA8c3BhbiBjbGFzcz1cInRlc3Qtc3RhdHVzIG5vdC1ydW4gbmctaGlkZVwiIG5nLXNob3c9XCJ0ZXN0LnN0YXR1cyA9PSBtYXAuZ2V0VGVzdHMoKS5URVNUX1NUQVRVU19OT1RfUlVOXCI+PC9zcGFuPiA8c3BhbiBjbGFzcz1cInRlc3Qtc3RhdHVzIHBhc3NlZCBuZy1oaWRlXCIgbmctc2hvdz1cInRlc3Quc3RhdHVzID09IG1hcC5nZXRUZXN0cygpLlRFU1RfU1RBVFVTX1BBU1NFRFwiPjwvc3Bhbj4gPHNwYW4gY2xhc3M9XCJ0ZXN0LXN0YXR1cyBleGFtaW5lIG5nLWhpZGVcIiBuZy1zaG93PVwidGVzdC5zdGF0dXMgPT0gbWFwLmdldFRlc3RzKCkuVEVTVF9TVEFUVVNfRVhBTUlORVwiPjwvc3Bhbj4gPHNwYW4gY2xhc3M9XCJ0ZXN0LXN0YXR1cyBmYWlsZWQgbmctc2NvcGUgbmctaGlkZVwiIG5nLXNob3c9XCJ0ZXN0LnN0YXR1cyA9PSBtYXAuZ2V0VGVzdHMoKS5URVNUX1NUQVRVU19GQUlMRURcIiBwb3BvdmVyPVwiXCIgcG9wb3Zlci1wbGFjZW1lbnQ9XCJyaWdodFwiIHBvcG92ZXItdHJpZ2dlcj1cIm1vdXNlZW50ZXJcIj48L3NwYW4+IDxidXR0b24gbmctY2xpY2s9XCJtYXAuZ2V0VGVzdHMoKS5ydW5UZXN0KHRlc3QubmFtZSlcIiBuZy1zdHlsZT1cIlwiIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cIm5nLWJpbmRpbmdcIiBkYXRhLXNraXA9XCJ0cnVlXCI+Q3JlYXRlIFJUQkIgaW4gb3V0bGluZSBhbmQgc3dpdGNoIHRvIGZyZWVoYW5kPC9idXR0b24+IDxkaXYgY2xhc3M9XCJ0ZXN0LWluc3RydWN0aW9ucyBuZy1iaW5kaW5nIG5nLWhpZGVcIiBuZy1zaG93PVwibWFwLmdldFRlc3RzKCkuY3VycmVudFRlc3QgPT0gdGVzdCAmYW1wOyZhbXA7IHRlc3QuaW5zdHJ1Y3Rpb25zXCIgZGF0YS1za2lwPVwidHJ1ZVwiPkNoZWNrIGF1dG8tZ2VuZXJhdGVkIGZyZWVoYW5kIGxheW91dCBvZiBwYXJ0czwvZGl2PiA8L2Rpdj4gIDxkaXYgY2xhc3M9XCJ0ZXN0IG5nLXNjb3BlXCIgbmctcmVwZWF0PVwidGVzdCBpbiBtYXAuZ2V0VGVzdHMoKS50ZXN0c1wiPiA8c3BhbiBjbGFzcz1cInRlc3Qtc3RhdHVzIG5vdC1ydW4gbmctaGlkZVwiIG5nLXNob3c9XCJ0ZXN0LnN0YXR1cyA9PSBtYXAuZ2V0VGVzdHMoKS5URVNUX1NUQVRVU19OT1RfUlVOXCI+PC9zcGFuPiA8c3BhbiBjbGFzcz1cInRlc3Qtc3RhdHVzIHBhc3NlZCBuZy1oaWRlXCIgbmctc2hvdz1cInRlc3Quc3RhdHVzID09IG1hcC5nZXRUZXN0cygpLlRFU1RfU1RBVFVTX1BBU1NFRFwiPjwvc3Bhbj4gPHNwYW4gY2xhc3M9XCJ0ZXN0LXN0YXR1cyBleGFtaW5lIG5nLWhpZGVcIiBuZy1zaG93PVwidGVzdC5zdGF0dXMgPT0gbWFwLmdldFRlc3RzKCkuVEVTVF9TVEFUVVNfRVhBTUlORVwiPjwvc3Bhbj4gPHNwYW4gY2xhc3M9XCJ0ZXN0LXN0YXR1cyBmYWlsZWQgbmctc2NvcGUgbmctaGlkZVwiIG5nLXNob3c9XCJ0ZXN0LnN0YXR1cyA9PSBtYXAuZ2V0VGVzdHMoKS5URVNUX1NUQVRVU19GQUlMRURcIiBwb3BvdmVyPVwiXCIgcG9wb3Zlci1wbGFjZW1lbnQ9XCJyaWdodFwiIHBvcG92ZXItdHJpZ2dlcj1cIm1vdXNlZW50ZXJcIj48L3NwYW4+IDxidXR0b24gbmctY2xpY2s9XCJtYXAuZ2V0VGVzdHMoKS5ydW5UZXN0KHRlc3QubmFtZSlcIiBuZy1zdHlsZT1cIlwiIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cIm5nLWJpbmRpbmdcIiBkYXRhLXNraXA9XCJ0cnVlXCI+RHJhZyBSVEJCIG91dCBvZiBTPC9idXR0b24+IDxkaXYgY2xhc3M9XCJ0ZXN0LWluc3RydWN0aW9ucyBuZy1iaW5kaW5nIG5nLWhpZGVcIiBuZy1zaG93PVwibWFwLmdldFRlc3RzKCkuY3VycmVudFRlc3QgPT0gdGVzdCAmYW1wOyZhbXA7IHRlc3QuaW5zdHJ1Y3Rpb25zXCIgZGF0YS1za2lwPVwidHJ1ZVwiPkRyYWcgdGhlIHByZXNlbGVjdGVkIFJUQkIgb250byBXaG9sZSAoRCk8L2Rpdj4gPC9kaXY+ICA8ZGl2IGNsYXNzPVwidGVzdCBuZy1zY29wZVwiIG5nLXJlcGVhdD1cInRlc3QgaW4gbWFwLmdldFRlc3RzKCkudGVzdHNcIj4gPHNwYW4gY2xhc3M9XCJ0ZXN0LXN0YXR1cyBub3QtcnVuIG5nLWhpZGVcIiBuZy1zaG93PVwidGVzdC5zdGF0dXMgPT0gbWFwLmdldFRlc3RzKCkuVEVTVF9TVEFUVVNfTk9UX1JVTlwiPjwvc3Bhbj4gPHNwYW4gY2xhc3M9XCJ0ZXN0LXN0YXR1cyBwYXNzZWQgbmctaGlkZVwiIG5nLXNob3c9XCJ0ZXN0LnN0YXR1cyA9PSBtYXAuZ2V0VGVzdHMoKS5URVNUX1NUQVRVU19QQVNTRURcIj48L3NwYW4+IDxzcGFuIGNsYXNzPVwidGVzdC1zdGF0dXMgZXhhbWluZSBuZy1oaWRlXCIgbmctc2hvdz1cInRlc3Quc3RhdHVzID09IG1hcC5nZXRUZXN0cygpLlRFU1RfU1RBVFVTX0VYQU1JTkVcIj48L3NwYW4+IDxzcGFuIGNsYXNzPVwidGVzdC1zdGF0dXMgZmFpbGVkIG5nLXNjb3BlIG5nLWhpZGVcIiBuZy1zaG93PVwidGVzdC5zdGF0dXMgPT0gbWFwLmdldFRlc3RzKCkuVEVTVF9TVEFUVVNfRkFJTEVEXCIgcG9wb3Zlcj1cIlwiIHBvcG92ZXItcGxhY2VtZW50PVwicmlnaHRcIiBwb3BvdmVyLXRyaWdnZXI9XCJtb3VzZWVudGVyXCI+PC9zcGFuPiA8YnV0dG9uIG5nLWNsaWNrPVwibWFwLmdldFRlc3RzKCkucnVuVGVzdCh0ZXN0Lm5hbWUpXCIgbmctc3R5bGU9XCJcIiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJuZy1iaW5kaW5nXCIgZGF0YS1za2lwPVwidHJ1ZVwiPkRyYWcgUlRCQiBvdXQgb2YgZnJlZWhhbmQgUzwvYnV0dG9uPiA8ZGl2IGNsYXNzPVwidGVzdC1pbnN0cnVjdGlvbnMgbmctYmluZGluZyBuZy1oaWRlXCIgbmctc2hvdz1cIm1hcC5nZXRUZXN0cygpLmN1cnJlbnRUZXN0ID09IHRlc3QgJmFtcDsmYW1wOyB0ZXN0Lmluc3RydWN0aW9uc1wiIGRhdGEtc2tpcD1cInRydWVcIj5EcmFnIHRoZSBwcmVzZWxlY3RlZCBSVEJCIG9udG8gV2hvbGUgKEQpPC9kaXY+IDwvZGl2PiAgPGRpdiBjbGFzcz1cInRlc3Qgbmctc2NvcGVcIiBuZy1yZXBlYXQ9XCJ0ZXN0IGluIG1hcC5nZXRUZXN0cygpLnRlc3RzXCI+IDxzcGFuIGNsYXNzPVwidGVzdC1zdGF0dXMgbm90LXJ1biBuZy1oaWRlXCIgbmctc2hvdz1cInRlc3Quc3RhdHVzID09IG1hcC5nZXRUZXN0cygpLlRFU1RfU1RBVFVTX05PVF9SVU5cIj48L3NwYW4+IDxzcGFuIGNsYXNzPVwidGVzdC1zdGF0dXMgcGFzc2VkIG5nLWhpZGVcIiBuZy1zaG93PVwidGVzdC5zdGF0dXMgPT0gbWFwLmdldFRlc3RzKCkuVEVTVF9TVEFUVVNfUEFTU0VEXCI+PC9zcGFuPiA8c3BhbiBjbGFzcz1cInRlc3Qtc3RhdHVzIGV4YW1pbmUgbmctaGlkZVwiIG5nLXNob3c9XCJ0ZXN0LnN0YXR1cyA9PSBtYXAuZ2V0VGVzdHMoKS5URVNUX1NUQVRVU19FWEFNSU5FXCI+PC9zcGFuPiA8c3BhbiBjbGFzcz1cInRlc3Qtc3RhdHVzIGZhaWxlZCBuZy1zY29wZSBuZy1oaWRlXCIgbmctc2hvdz1cInRlc3Quc3RhdHVzID09IG1hcC5nZXRUZXN0cygpLlRFU1RfU1RBVFVTX0ZBSUxFRFwiIHBvcG92ZXI9XCJcIiBwb3BvdmVyLXBsYWNlbWVudD1cInJpZ2h0XCIgcG9wb3Zlci10cmlnZ2VyPVwibW91c2VlbnRlclwiPjwvc3Bhbj4gPGJ1dHRvbiBuZy1jbGljaz1cIm1hcC5nZXRUZXN0cygpLnJ1blRlc3QodGVzdC5uYW1lKVwiIG5nLXN0eWxlPVwiXCIgdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwibmctYmluZGluZ1wiIGRhdGEtc2tpcD1cInRydWVcIj5EcmFnIFJUQkIgb3V0IG9mIDJuZCBsZXZlbCBTPC9idXR0b24+IDxkaXYgY2xhc3M9XCJ0ZXN0LWluc3RydWN0aW9ucyBuZy1iaW5kaW5nIG5nLWhpZGVcIiBuZy1zaG93PVwibWFwLmdldFRlc3RzKCkuY3VycmVudFRlc3QgPT0gdGVzdCAmYW1wOyZhbXA7IHRlc3QuaW5zdHJ1Y3Rpb25zXCIgZGF0YS1za2lwPVwidHJ1ZVwiPkRyYWcgdGhlIHByZXNlbGVjdGVkIFJUQkIgb250byBXaG9sZSAoRCkgb2YgUGFydCAxPC9kaXY+IDwvZGl2PiAgPGRpdiBjbGFzcz1cInRlc3Qgbmctc2NvcGVcIiBuZy1yZXBlYXQ9XCJ0ZXN0IGluIG1hcC5nZXRUZXN0cygpLnRlc3RzXCI+IDxzcGFuIGNsYXNzPVwidGVzdC1zdGF0dXMgbm90LXJ1biBuZy1oaWRlXCIgbmctc2hvdz1cInRlc3Quc3RhdHVzID09IG1hcC5nZXRUZXN0cygpLlRFU1RfU1RBVFVTX05PVF9SVU5cIj48L3NwYW4+IDxzcGFuIGNsYXNzPVwidGVzdC1zdGF0dXMgcGFzc2VkIG5nLWhpZGVcIiBuZy1zaG93PVwidGVzdC5zdGF0dXMgPT0gbWFwLmdldFRlc3RzKCkuVEVTVF9TVEFUVVNfUEFTU0VEXCI+PC9zcGFuPiA8c3BhbiBjbGFzcz1cInRlc3Qtc3RhdHVzIGV4YW1pbmUgbmctaGlkZVwiIG5nLXNob3c9XCJ0ZXN0LnN0YXR1cyA9PSBtYXAuZ2V0VGVzdHMoKS5URVNUX1NUQVRVU19FWEFNSU5FXCI+PC9zcGFuPiA8c3BhbiBjbGFzcz1cInRlc3Qtc3RhdHVzIGZhaWxlZCBuZy1zY29wZSBuZy1oaWRlXCIgbmctc2hvdz1cInRlc3Quc3RhdHVzID09IG1hcC5nZXRUZXN0cygpLlRFU1RfU1RBVFVTX0ZBSUxFRFwiIHBvcG92ZXI9XCJcIiBwb3BvdmVyLXBsYWNlbWVudD1cInJpZ2h0XCIgcG9wb3Zlci10cmlnZ2VyPVwibW91c2VlbnRlclwiPjwvc3Bhbj4gPGJ1dHRvbiBuZy1jbGljaz1cIm1hcC5nZXRUZXN0cygpLnJ1blRlc3QodGVzdC5uYW1lKVwiIG5nLXN0eWxlPVwiXCIgdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwibmctYmluZGluZ1wiIGRhdGEtc2tpcD1cInRydWVcIj5EcmFnIFJUQkIgb3V0IG9mIDJuZCBsZXZlbCBmcmVlaGFuZCBTPC9idXR0b24+IDxkaXYgY2xhc3M9XCJ0ZXN0LWluc3RydWN0aW9ucyBuZy1iaW5kaW5nIG5nLWhpZGVcIiBuZy1zaG93PVwibWFwLmdldFRlc3RzKCkuY3VycmVudFRlc3QgPT0gdGVzdCAmYW1wOyZhbXA7IHRlc3QuaW5zdHJ1Y3Rpb25zXCIgZGF0YS1za2lwPVwidHJ1ZVwiPkRyYWcgdGhlIHByZXNlbGVjdGVkIFJUQkIgb250byBXaG9sZSAoRCkgb2YgUGFydCAxPC9kaXY+IDwvZGl2PiAgPGRpdiBjbGFzcz1cInRlc3Qgbmctc2NvcGVcIiBuZy1yZXBlYXQ9XCJ0ZXN0IGluIG1hcC5nZXRUZXN0cygpLnRlc3RzXCI+IDxzcGFuIGNsYXNzPVwidGVzdC1zdGF0dXMgbm90LXJ1biBuZy1oaWRlXCIgbmctc2hvdz1cInRlc3Quc3RhdHVzID09IG1hcC5nZXRUZXN0cygpLlRFU1RfU1RBVFVTX05PVF9SVU5cIj48L3NwYW4+IDxzcGFuIGNsYXNzPVwidGVzdC1zdGF0dXMgcGFzc2VkIG5nLWhpZGVcIiBuZy1zaG93PVwidGVzdC5zdGF0dXMgPT0gbWFwLmdldFRlc3RzKCkuVEVTVF9TVEFUVVNfUEFTU0VEXCI+PC9zcGFuPiA8c3BhbiBjbGFzcz1cInRlc3Qtc3RhdHVzIGV4YW1pbmUgbmctaGlkZVwiIG5nLXNob3c9XCJ0ZXN0LnN0YXR1cyA9PSBtYXAuZ2V0VGVzdHMoKS5URVNUX1NUQVRVU19FWEFNSU5FXCI+PC9zcGFuPiA8c3BhbiBjbGFzcz1cInRlc3Qtc3RhdHVzIGZhaWxlZCBuZy1zY29wZSBuZy1oaWRlXCIgbmctc2hvdz1cInRlc3Quc3RhdHVzID09IG1hcC5nZXRUZXN0cygpLlRFU1RfU1RBVFVTX0ZBSUxFRFwiIHBvcG92ZXI9XCJcIiBwb3BvdmVyLXBsYWNlbWVudD1cInJpZ2h0XCIgcG9wb3Zlci10cmlnZ2VyPVwibW91c2VlbnRlclwiPjwvc3Bhbj4gPGJ1dHRvbiBuZy1jbGljaz1cIm1hcC5nZXRUZXN0cygpLnJ1blRlc3QodGVzdC5uYW1lKVwiIG5nLXN0eWxlPVwiXCIgdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwibmctYmluZGluZ1wiPlJjaGFubmVsPC9idXR0b24+IDxkaXYgY2xhc3M9XCJ0ZXN0LWluc3RydWN0aW9ucyBuZy1iaW5kaW5nIG5nLWhpZGVcIiBuZy1zaG93PVwibWFwLmdldFRlc3RzKCkuY3VycmVudFRlc3QgPT0gdGVzdCAmYW1wOyZhbXA7IHRlc3QuaW5zdHJ1Y3Rpb25zXCIgZGF0YS1za2lwPVwidHJ1ZVwiPk5vdGUgdGhhdCBSLXRoaW5ncyBhcmUgaW4gcGFydC13aG9sZSByZWxhdGlvbjwvZGl2PiA8L2Rpdj4gIDxkaXYgY2xhc3M9XCJ0ZXN0IG5nLXNjb3BlXCIgbmctcmVwZWF0PVwidGVzdCBpbiBtYXAuZ2V0VGVzdHMoKS50ZXN0c1wiPiA8c3BhbiBjbGFzcz1cInRlc3Qtc3RhdHVzIG5vdC1ydW4gbmctaGlkZVwiIG5nLXNob3c9XCJ0ZXN0LnN0YXR1cyA9PSBtYXAuZ2V0VGVzdHMoKS5URVNUX1NUQVRVU19OT1RfUlVOXCI+PC9zcGFuPiA8c3BhbiBjbGFzcz1cInRlc3Qtc3RhdHVzIHBhc3NlZCBuZy1oaWRlXCIgbmctc2hvdz1cInRlc3Quc3RhdHVzID09IG1hcC5nZXRUZXN0cygpLlRFU1RfU1RBVFVTX1BBU1NFRFwiPjwvc3Bhbj4gPHNwYW4gY2xhc3M9XCJ0ZXN0LXN0YXR1cyBleGFtaW5lIG5nLWhpZGVcIiBuZy1zaG93PVwidGVzdC5zdGF0dXMgPT0gbWFwLmdldFRlc3RzKCkuVEVTVF9TVEFUVVNfRVhBTUlORVwiPjwvc3Bhbj4gPHNwYW4gY2xhc3M9XCJ0ZXN0LXN0YXR1cyBmYWlsZWQgbmctc2NvcGUgbmctaGlkZVwiIG5nLXNob3c9XCJ0ZXN0LnN0YXR1cyA9PSBtYXAuZ2V0VGVzdHMoKS5URVNUX1NUQVRVU19GQUlMRURcIiBwb3BvdmVyPVwiXCIgcG9wb3Zlci1wbGFjZW1lbnQ9XCJyaWdodFwiIHBvcG92ZXItdHJpZ2dlcj1cIm1vdXNlZW50ZXJcIj48L3NwYW4+IDxidXR0b24gbmctY2xpY2s9XCJtYXAuZ2V0VGVzdHMoKS5ydW5UZXN0KHRlc3QubmFtZSlcIiBuZy1zdHlsZT1cIlwiIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cIm5nLWJpbmRpbmdcIiBkYXRhLXNraXA9XCJ0cnVlXCI+RGlzYXBwZWFyaW5nIHBhcnRzIG9uIG5ldyBpZGVhIGNyZWF0aW9uPC9idXR0b24+IDxkaXYgY2xhc3M9XCJ0ZXN0LWluc3RydWN0aW9ucyBuZy1iaW5kaW5nIG5nLWhpZGVcIiBuZy1zaG93PVwibWFwLmdldFRlc3RzKCkuY3VycmVudFRlc3QgPT0gdGVzdCAmYW1wOyZhbXA7IHRlc3QuaW5zdHJ1Y3Rpb25zXCIgZGF0YS1za2lwPVwidHJ1ZVwiPkNyZWF0ZSBhIG5ldyB0b3AtbGV2ZWwgaWRlYSAtIFBhcnQgMS4xIHNob3VsZCBub3QgZGlzYXBwZWFyIHRlbXBvcmFyaWx5PC9kaXY+IDwvZGl2PiAgPGRpdiBjbGFzcz1cInRlc3Qgbmctc2NvcGVcIiBuZy1yZXBlYXQ9XCJ0ZXN0IGluIG1hcC5nZXRUZXN0cygpLnRlc3RzXCI+IDxzcGFuIGNsYXNzPVwidGVzdC1zdGF0dXMgbm90LXJ1biBuZy1oaWRlXCIgbmctc2hvdz1cInRlc3Quc3RhdHVzID09IG1hcC5nZXRUZXN0cygpLlRFU1RfU1RBVFVTX05PVF9SVU5cIj48L3NwYW4+IDxzcGFuIGNsYXNzPVwidGVzdC1zdGF0dXMgcGFzc2VkIG5nLWhpZGVcIiBuZy1zaG93PVwidGVzdC5zdGF0dXMgPT0gbWFwLmdldFRlc3RzKCkuVEVTVF9TVEFUVVNfUEFTU0VEXCI+PC9zcGFuPiA8c3BhbiBjbGFzcz1cInRlc3Qtc3RhdHVzIGV4YW1pbmUgbmctaGlkZVwiIG5nLXNob3c9XCJ0ZXN0LnN0YXR1cyA9PSBtYXAuZ2V0VGVzdHMoKS5URVNUX1NUQVRVU19FWEFNSU5FXCI+PC9zcGFuPiA8c3BhbiBjbGFzcz1cInRlc3Qtc3RhdHVzIGZhaWxlZCBuZy1zY29wZSBuZy1oaWRlXCIgbmctc2hvdz1cInRlc3Quc3RhdHVzID09IG1hcC5nZXRUZXN0cygpLlRFU1RfU1RBVFVTX0ZBSUxFRFwiIHBvcG92ZXI9XCJcIiBwb3BvdmVyLXBsYWNlbWVudD1cInJpZ2h0XCIgcG9wb3Zlci10cmlnZ2VyPVwibW91c2VlbnRlclwiPjwvc3Bhbj4gPGJ1dHRvbiBuZy1jbGljaz1cIm1hcC5nZXRUZXN0cygpLnJ1blRlc3QodGVzdC5uYW1lKVwiIG5nLXN0eWxlPVwiXCIgdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwibmctYmluZGluZ1wiIGRhdGEtc2tpcD1cInRydWVcIj5EcmFnIHRvcC1sZXZlbCB0aGluZyBpbnRvIGZyZWVoYW5kIHN5c3RlbTwvYnV0dG9uPiA8ZGl2IGNsYXNzPVwidGVzdC1pbnN0cnVjdGlvbnMgbmctYmluZGluZyBuZy1oaWRlXCIgbmctc2hvdz1cIm1hcC5nZXRUZXN0cygpLmN1cnJlbnRUZXN0ID09IHRlc3QgJmFtcDsmYW1wOyB0ZXN0Lmluc3RydWN0aW9uc1wiIGRhdGEtc2tpcD1cInRydWVcIj5EcmFnIE5ldyBQYXJ0IGludG8gV2hvbGU7IGV4YW1pbmUgcmVzdWx0aW5nIHBhcnQgbGF5b3V0PC9kaXY+IDwvZGl2PiAgPGRpdiBjbGFzcz1cInRlc3Qgbmctc2NvcGVcIiBuZy1yZXBlYXQ9XCJ0ZXN0IGluIG1hcC5nZXRUZXN0cygpLnRlc3RzXCI+IDxzcGFuIGNsYXNzPVwidGVzdC1zdGF0dXMgbm90LXJ1biBuZy1oaWRlXCIgbmctc2hvdz1cInRlc3Quc3RhdHVzID09IG1hcC5nZXRUZXN0cygpLlRFU1RfU1RBVFVTX05PVF9SVU5cIj48L3NwYW4+IDxzcGFuIGNsYXNzPVwidGVzdC1zdGF0dXMgcGFzc2VkIG5nLWhpZGVcIiBuZy1zaG93PVwidGVzdC5zdGF0dXMgPT0gbWFwLmdldFRlc3RzKCkuVEVTVF9TVEFUVVNfUEFTU0VEXCI+PC9zcGFuPiA8c3BhbiBjbGFzcz1cInRlc3Qtc3RhdHVzIGV4YW1pbmUgbmctaGlkZVwiIG5nLXNob3c9XCJ0ZXN0LnN0YXR1cyA9PSBtYXAuZ2V0VGVzdHMoKS5URVNUX1NUQVRVU19FWEFNSU5FXCI+PC9zcGFuPiA8c3BhbiBjbGFzcz1cInRlc3Qtc3RhdHVzIGZhaWxlZCBuZy1zY29wZSBuZy1oaWRlXCIgbmctc2hvdz1cInRlc3Quc3RhdHVzID09IG1hcC5nZXRUZXN0cygpLlRFU1RfU1RBVFVTX0ZBSUxFRFwiIHBvcG92ZXI9XCJcIiBwb3BvdmVyLXBsYWNlbWVudD1cInJpZ2h0XCIgcG9wb3Zlci10cmlnZ2VyPVwibW91c2VlbnRlclwiPjwvc3Bhbj4gPGJ1dHRvbiBuZy1jbGljaz1cIm1hcC5nZXRUZXN0cygpLnJ1blRlc3QodGVzdC5uYW1lKVwiIG5nLXN0eWxlPVwiXCIgdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwibmctYmluZGluZ1wiIGRhdGEtc2tpcD1cInRydWVcIj5EcmFnIHRvcC1sZXZlbCBSVEJCIGludG8gZnJlZWhhbmQgc3lzdGVtPC9idXR0b24+IDxkaXYgY2xhc3M9XCJ0ZXN0LWluc3RydWN0aW9ucyBuZy1iaW5kaW5nIG5nLWhpZGVcIiBuZy1zaG93PVwibWFwLmdldFRlc3RzKCkuY3VycmVudFRlc3QgPT0gdGVzdCAmYW1wOyZhbXA7IHRlc3QuaW5zdHJ1Y3Rpb25zXCIgZGF0YS1za2lwPVwidHJ1ZVwiPkRyYWcgcHJlc2VsZWN0ZWQgUlRCQiBpbnRvIFdob2xlOyBleGFtaW5lIHJlc3VsdGluZyBwYXJ0IGxheW91dDwvZGl2PiA8L2Rpdj4gIDxkaXYgY2xhc3M9XCJ0ZXN0IG5nLXNjb3BlXCIgbmctcmVwZWF0PVwidGVzdCBpbiBtYXAuZ2V0VGVzdHMoKS50ZXN0c1wiPiA8c3BhbiBjbGFzcz1cInRlc3Qtc3RhdHVzIG5vdC1ydW4gbmctaGlkZVwiIG5nLXNob3c9XCJ0ZXN0LnN0YXR1cyA9PSBtYXAuZ2V0VGVzdHMoKS5URVNUX1NUQVRVU19OT1RfUlVOXCI+PC9zcGFuPiA8c3BhbiBjbGFzcz1cInRlc3Qtc3RhdHVzIHBhc3NlZCBuZy1oaWRlXCIgbmctc2hvdz1cInRlc3Quc3RhdHVzID09IG1hcC5nZXRUZXN0cygpLlRFU1RfU1RBVFVTX1BBU1NFRFwiPjwvc3Bhbj4gPHNwYW4gY2xhc3M9XCJ0ZXN0LXN0YXR1cyBleGFtaW5lIG5nLWhpZGVcIiBuZy1zaG93PVwidGVzdC5zdGF0dXMgPT0gbWFwLmdldFRlc3RzKCkuVEVTVF9TVEFUVVNfRVhBTUlORVwiPjwvc3Bhbj4gPHNwYW4gY2xhc3M9XCJ0ZXN0LXN0YXR1cyBmYWlsZWQgbmctc2NvcGUgbmctaGlkZVwiIG5nLXNob3c9XCJ0ZXN0LnN0YXR1cyA9PSBtYXAuZ2V0VGVzdHMoKS5URVNUX1NUQVRVU19GQUlMRURcIiBwb3BvdmVyPVwiXCIgcG9wb3Zlci1wbGFjZW1lbnQ9XCJyaWdodFwiIHBvcG92ZXItdHJpZ2dlcj1cIm1vdXNlZW50ZXJcIj48L3NwYW4+IDxidXR0b24gbmctY2xpY2s9XCJtYXAuZ2V0VGVzdHMoKS5ydW5UZXN0KHRlc3QubmFtZSlcIiBuZy1zdHlsZT1cIlwiIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cIm5nLWJpbmRpbmdcIiBkYXRhLXNraXA9XCJ0cnVlXCI+RHJhZyBSLXRoaW5nIHNxdWFyZSBpbnRvIGZyZWVoYW5kIHN5c3RlbTwvYnV0dG9uPiA8ZGl2IGNsYXNzPVwidGVzdC1pbnN0cnVjdGlvbnMgbmctYmluZGluZyBuZy1oaWRlXCIgbmctc2hvdz1cIm1hcC5nZXRUZXN0cygpLmN1cnJlbnRUZXN0ID09IHRlc3QgJmFtcDsmYW1wOyB0ZXN0Lmluc3RydWN0aW9uc1wiIGRhdGEtc2tpcD1cInRydWVcIj5EcmFnIHByZXNlbGVjdGVkIHNxdWFyZSBpbnRvIFdob2xlOyBleGFtaW5lIHJlc3VsdGluZyBwYXJ0IGxheW91dDwvZGl2PiA8L2Rpdj4gIDxkaXYgY2xhc3M9XCJ0ZXN0IG5nLXNjb3BlXCIgbmctcmVwZWF0PVwidGVzdCBpbiBtYXAuZ2V0VGVzdHMoKS50ZXN0c1wiPiA8c3BhbiBjbGFzcz1cInRlc3Qtc3RhdHVzIG5vdC1ydW4gbmctaGlkZVwiIG5nLXNob3c9XCJ0ZXN0LnN0YXR1cyA9PSBtYXAuZ2V0VGVzdHMoKS5URVNUX1NUQVRVU19OT1RfUlVOXCI+PC9zcGFuPiA8c3BhbiBjbGFzcz1cInRlc3Qtc3RhdHVzIHBhc3NlZCBuZy1oaWRlXCIgbmctc2hvdz1cInRlc3Quc3RhdHVzID09IG1hcC5nZXRUZXN0cygpLlRFU1RfU1RBVFVTX1BBU1NFRFwiPjwvc3Bhbj4gPHNwYW4gY2xhc3M9XCJ0ZXN0LXN0YXR1cyBleGFtaW5lIG5nLWhpZGVcIiBuZy1zaG93PVwidGVzdC5zdGF0dXMgPT0gbWFwLmdldFRlc3RzKCkuVEVTVF9TVEFUVVNfRVhBTUlORVwiPjwvc3Bhbj4gPHNwYW4gY2xhc3M9XCJ0ZXN0LXN0YXR1cyBmYWlsZWQgbmctc2NvcGUgbmctaGlkZVwiIG5nLXNob3c9XCJ0ZXN0LnN0YXR1cyA9PSBtYXAuZ2V0VGVzdHMoKS5URVNUX1NUQVRVU19GQUlMRURcIiBwb3BvdmVyPVwiXCIgcG9wb3Zlci1wbGFjZW1lbnQ9XCJyaWdodFwiIHBvcG92ZXItdHJpZ2dlcj1cIm1vdXNlZW50ZXJcIj48L3NwYW4+IDxidXR0b24gbmctY2xpY2s9XCJtYXAuZ2V0VGVzdHMoKS5ydW5UZXN0KHRlc3QubmFtZSlcIiBuZy1zdHlsZT1cIlwiIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cIm5nLWJpbmRpbmdcIiBkYXRhLXNraXA9XCJ0cnVlXCI+RHJhZyBSLXRoaW5nIHNxdWFyZSBvdXQgb2YgZnJlZWhhbmQgc3lzdGVtPC9idXR0b24+IDxkaXYgY2xhc3M9XCJ0ZXN0LWluc3RydWN0aW9ucyBuZy1iaW5kaW5nIG5nLWhpZGVcIiBuZy1zaG93PVwibWFwLmdldFRlc3RzKCkuY3VycmVudFRlc3QgPT0gdGVzdCAmYW1wOyZhbXA7IHRlc3QuaW5zdHJ1Y3Rpb25zXCIgZGF0YS1za2lwPVwidHJ1ZVwiPkRyYWcgcHJlc2VsZWN0ZWQgc3F1YXJlIG9udG8gRCBvZiBXaG9sZTsgZXhhbWluZSByZXN1bHRpbmcgbGF5b3V0PC9kaXY+IDwvZGl2PiAgPGRpdiBjbGFzcz1cInRlc3Qgbmctc2NvcGVcIiBuZy1yZXBlYXQ9XCJ0ZXN0IGluIG1hcC5nZXRUZXN0cygpLnRlc3RzXCI+IDxzcGFuIGNsYXNzPVwidGVzdC1zdGF0dXMgbm90LXJ1biBuZy1oaWRlXCIgbmctc2hvdz1cInRlc3Quc3RhdHVzID09IG1hcC5nZXRUZXN0cygpLlRFU1RfU1RBVFVTX05PVF9SVU5cIj48L3NwYW4+IDxzcGFuIGNsYXNzPVwidGVzdC1zdGF0dXMgcGFzc2VkIG5nLWhpZGVcIiBuZy1zaG93PVwidGVzdC5zdGF0dXMgPT0gbWFwLmdldFRlc3RzKCkuVEVTVF9TVEFUVVNfUEFTU0VEXCI+PC9zcGFuPiA8c3BhbiBjbGFzcz1cInRlc3Qtc3RhdHVzIGV4YW1pbmUgbmctaGlkZVwiIG5nLXNob3c9XCJ0ZXN0LnN0YXR1cyA9PSBtYXAuZ2V0VGVzdHMoKS5URVNUX1NUQVRVU19FWEFNSU5FXCI+PC9zcGFuPiA8c3BhbiBjbGFzcz1cInRlc3Qtc3RhdHVzIGZhaWxlZCBuZy1zY29wZSBuZy1oaWRlXCIgbmctc2hvdz1cInRlc3Quc3RhdHVzID09IG1hcC5nZXRUZXN0cygpLlRFU1RfU1RBVFVTX0ZBSUxFRFwiIHBvcG92ZXI9XCJcIiBwb3BvdmVyLXBsYWNlbWVudD1cInJpZ2h0XCIgcG9wb3Zlci10cmlnZ2VyPVwibW91c2VlbnRlclwiPjwvc3Bhbj4gPGJ1dHRvbiBuZy1jbGljaz1cIm1hcC5nZXRUZXN0cygpLnJ1blRlc3QodGVzdC5uYW1lKVwiIG5nLXN0eWxlPVwiXCIgdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwibmctYmluZGluZ1wiIGRhdGEtc2tpcD1cInRydWVcIj5EcmFnIDJuZCBsZXZlbCBwYXJ0IHRvIEQgb2YgcGFyZW50PC9idXR0b24+IDxkaXYgY2xhc3M9XCJ0ZXN0LWluc3RydWN0aW9ucyBuZy1iaW5kaW5nIG5nLWhpZGVcIiBuZy1zaG93PVwibWFwLmdldFRlc3RzKCkuY3VycmVudFRlc3QgPT0gdGVzdCAmYW1wOyZhbXA7IHRlc3QuaW5zdHJ1Y3Rpb25zXCIgZGF0YS1za2lwPVwidHJ1ZVwiPkRyYWcgU3VicGFydCAxLjEgb250byBEIG9mIFBhcnQgMTsgaXQgc2hvdWxkIGFwcGVhciBiZWxvdyBQYXJ0IDE8L2Rpdj4gPC9kaXY+ICA8ZGl2IGNsYXNzPVwidGVzdCBuZy1zY29wZVwiIG5nLXJlcGVhdD1cInRlc3QgaW4gbWFwLmdldFRlc3RzKCkudGVzdHNcIj4gPHNwYW4gY2xhc3M9XCJ0ZXN0LXN0YXR1cyBub3QtcnVuIG5nLWhpZGVcIiBuZy1zaG93PVwidGVzdC5zdGF0dXMgPT0gbWFwLmdldFRlc3RzKCkuVEVTVF9TVEFUVVNfTk9UX1JVTlwiPjwvc3Bhbj4gPHNwYW4gY2xhc3M9XCJ0ZXN0LXN0YXR1cyBwYXNzZWQgbmctaGlkZVwiIG5nLXNob3c9XCJ0ZXN0LnN0YXR1cyA9PSBtYXAuZ2V0VGVzdHMoKS5URVNUX1NUQVRVU19QQVNTRURcIj48L3NwYW4+IDxzcGFuIGNsYXNzPVwidGVzdC1zdGF0dXMgZXhhbWluZSBuZy1oaWRlXCIgbmctc2hvdz1cInRlc3Quc3RhdHVzID09IG1hcC5nZXRUZXN0cygpLlRFU1RfU1RBVFVTX0VYQU1JTkVcIj48L3NwYW4+IDxzcGFuIGNsYXNzPVwidGVzdC1zdGF0dXMgZmFpbGVkIG5nLXNjb3BlIG5nLWhpZGVcIiBuZy1zaG93PVwidGVzdC5zdGF0dXMgPT0gbWFwLmdldFRlc3RzKCkuVEVTVF9TVEFUVVNfRkFJTEVEXCIgcG9wb3Zlcj1cIlwiIHBvcG92ZXItcGxhY2VtZW50PVwicmlnaHRcIiBwb3BvdmVyLXRyaWdnZXI9XCJtb3VzZWVudGVyXCI+PC9zcGFuPiA8YnV0dG9uIG5nLWNsaWNrPVwibWFwLmdldFRlc3RzKCkucnVuVGVzdCh0ZXN0Lm5hbWUpXCIgbmctc3R5bGU9XCJcIiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJuZy1iaW5kaW5nXCIgZGF0YS1za2lwPVwidHJ1ZVwiPkludmlzaWJsZSBSLXRoaW5nIGluIDJuZCBsZXZlbCBvZiBvdXRsaW5lPC9idXR0b24+IDxkaXYgY2xhc3M9XCJ0ZXN0LWluc3RydWN0aW9ucyBuZy1iaW5kaW5nIG5nLWhpZGVcIiBuZy1zaG93PVwibWFwLmdldFRlc3RzKCkuY3VycmVudFRlc3QgPT0gdGVzdCAmYW1wOyZhbXA7IHRlc3QuaW5zdHJ1Y3Rpb25zXCIgZGF0YS1za2lwPVwidHJ1ZVwiPlItdGhpbmcgYmV0d2VlbiBTdWJwYXJ0cyAxLjEgYW5kIDEuMiBzaG91bGQgYmUgdmlzaWJsZTwvZGl2PiA8L2Rpdj4gIDxkaXYgY2xhc3M9XCJ0ZXN0IG5nLXNjb3BlXCIgbmctcmVwZWF0PVwidGVzdCBpbiBtYXAuZ2V0VGVzdHMoKS50ZXN0c1wiPiA8c3BhbiBjbGFzcz1cInRlc3Qtc3RhdHVzIG5vdC1ydW4gbmctaGlkZVwiIG5nLXNob3c9XCJ0ZXN0LnN0YXR1cyA9PSBtYXAuZ2V0VGVzdHMoKS5URVNUX1NUQVRVU19OT1RfUlVOXCI+PC9zcGFuPiA8c3BhbiBjbGFzcz1cInRlc3Qtc3RhdHVzIHBhc3NlZCBuZy1oaWRlXCIgbmctc2hvdz1cInRlc3Quc3RhdHVzID09IG1hcC5nZXRUZXN0cygpLlRFU1RfU1RBVFVTX1BBU1NFRFwiPjwvc3Bhbj4gPHNwYW4gY2xhc3M9XCJ0ZXN0LXN0YXR1cyBleGFtaW5lIG5nLWhpZGVcIiBuZy1zaG93PVwidGVzdC5zdGF0dXMgPT0gbWFwLmdldFRlc3RzKCkuVEVTVF9TVEFUVVNfRVhBTUlORVwiPjwvc3Bhbj4gPHNwYW4gY2xhc3M9XCJ0ZXN0LXN0YXR1cyBmYWlsZWQgbmctc2NvcGUgbmctaGlkZVwiIG5nLXNob3c9XCJ0ZXN0LnN0YXR1cyA9PSBtYXAuZ2V0VGVzdHMoKS5URVNUX1NUQVRVU19GQUlMRURcIiBwb3BvdmVyPVwiXCIgcG9wb3Zlci1wbGFjZW1lbnQ9XCJyaWdodFwiIHBvcG92ZXItdHJpZ2dlcj1cIm1vdXNlZW50ZXJcIj48L3NwYW4+IDxidXR0b24gbmctY2xpY2s9XCJtYXAuZ2V0VGVzdHMoKS5ydW5UZXN0KHRlc3QubmFtZSlcIiBuZy1zdHlsZT1cIlwiIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cIm5nLWJpbmRpbmdcIiBkYXRhLXNraXA9XCJ0cnVlXCI+Ui10aGluZyBiZXR3ZWVuIGlkZWFzIGluIHNhbWUgbG9jYXRpb24gKGVycm9yKTwvYnV0dG9uPiA8ZGl2IGNsYXNzPVwidGVzdC1pbnN0cnVjdGlvbnMgbmctYmluZGluZyBuZy1oaWRlXCIgbmctc2hvdz1cIm1hcC5nZXRUZXN0cygpLmN1cnJlbnRUZXN0ID09IHRlc3QgJmFtcDsmYW1wOyB0ZXN0Lmluc3RydWN0aW9uc1wiIGRhdGEtc2tpcD1cInRydWVcIj5UaGlzIHNob3VsZCB0cmlnZ2VyIGFuIGVycm9yPC9kaXY+IDwvZGl2PiAgPGRpdiBjbGFzcz1cInRlc3Qgbmctc2NvcGVcIiBuZy1yZXBlYXQ9XCJ0ZXN0IGluIG1hcC5nZXRUZXN0cygpLnRlc3RzXCI+IDxzcGFuIGNsYXNzPVwidGVzdC1zdGF0dXMgbm90LXJ1biBuZy1oaWRlXCIgbmctc2hvdz1cInRlc3Quc3RhdHVzID09IG1hcC5nZXRUZXN0cygpLlRFU1RfU1RBVFVTX05PVF9SVU5cIj48L3NwYW4+IDxzcGFuIGNsYXNzPVwidGVzdC1zdGF0dXMgcGFzc2VkIG5nLWhpZGVcIiBuZy1zaG93PVwidGVzdC5zdGF0dXMgPT0gbWFwLmdldFRlc3RzKCkuVEVTVF9TVEFUVVNfUEFTU0VEXCI+PC9zcGFuPiA8c3BhbiBjbGFzcz1cInRlc3Qtc3RhdHVzIGV4YW1pbmUgbmctaGlkZVwiIG5nLXNob3c9XCJ0ZXN0LnN0YXR1cyA9PSBtYXAuZ2V0VGVzdHMoKS5URVNUX1NUQVRVU19FWEFNSU5FXCI+PC9zcGFuPiA8c3BhbiBjbGFzcz1cInRlc3Qtc3RhdHVzIGZhaWxlZCBuZy1zY29wZSBuZy1oaWRlXCIgbmctc2hvdz1cInRlc3Quc3RhdHVzID09IG1hcC5nZXRUZXN0cygpLlRFU1RfU1RBVFVTX0ZBSUxFRFwiIHBvcG92ZXI9XCJcIiBwb3BvdmVyLXBsYWNlbWVudD1cInJpZ2h0XCIgcG9wb3Zlci10cmlnZ2VyPVwibW91c2VlbnRlclwiPjwvc3Bhbj4gPGJ1dHRvbiBuZy1jbGljaz1cIm1hcC5nZXRUZXN0cygpLnJ1blRlc3QodGVzdC5uYW1lKVwiIG5nLXN0eWxlPVwiXCIgdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwibmctYmluZGluZ1wiPkRyYWcgdG8gY3JlYXRlIFItbGluZTwvYnV0dG9uPiA8ZGl2IGNsYXNzPVwidGVzdC1pbnN0cnVjdGlvbnMgbmctYmluZGluZyBuZy1oaWRlXCIgbmctc2hvdz1cIm1hcC5nZXRUZXN0cygpLmN1cnJlbnRUZXN0ID09IHRlc3QgJmFtcDsmYW1wOyB0ZXN0Lmluc3RydWN0aW9uc1wiIGRhdGEtc2tpcD1cInRydWVcIj5EcmFnIGZyb20gdGhlIFItY29ybmVyIG9mIFRoaW5nMSB0byBUaGluZzI7IHRlbXBvcmFyeSBkcmFnIGxpbmUgYW5kIHNxdWFyZSBzaG91bGQgYmUgUi1jb2xvcjsgY3JlYXRlZCBsaW5lIHNob3VsZCBiZSBhbiBSLWxpbmU8L2Rpdj4gPC9kaXY+ICA8ZGl2IGNsYXNzPVwidGVzdCBuZy1zY29wZVwiIG5nLXJlcGVhdD1cInRlc3QgaW4gbWFwLmdldFRlc3RzKCkudGVzdHNcIj4gPHNwYW4gY2xhc3M9XCJ0ZXN0LXN0YXR1cyBub3QtcnVuIG5nLWhpZGVcIiBuZy1zaG93PVwidGVzdC5zdGF0dXMgPT0gbWFwLmdldFRlc3RzKCkuVEVTVF9TVEFUVVNfTk9UX1JVTlwiPjwvc3Bhbj4gPHNwYW4gY2xhc3M9XCJ0ZXN0LXN0YXR1cyBwYXNzZWQgbmctaGlkZVwiIG5nLXNob3c9XCJ0ZXN0LnN0YXR1cyA9PSBtYXAuZ2V0VGVzdHMoKS5URVNUX1NUQVRVU19QQVNTRURcIj48L3NwYW4+IDxzcGFuIGNsYXNzPVwidGVzdC1zdGF0dXMgZXhhbWluZSBuZy1oaWRlXCIgbmctc2hvdz1cInRlc3Quc3RhdHVzID09IG1hcC5nZXRUZXN0cygpLlRFU1RfU1RBVFVTX0VYQU1JTkVcIj48L3NwYW4+IDxzcGFuIGNsYXNzPVwidGVzdC1zdGF0dXMgZmFpbGVkIG5nLXNjb3BlIG5nLWhpZGVcIiBuZy1zaG93PVwidGVzdC5zdGF0dXMgPT0gbWFwLmdldFRlc3RzKCkuVEVTVF9TVEFUVVNfRkFJTEVEXCIgcG9wb3Zlcj1cIlwiIHBvcG92ZXItcGxhY2VtZW50PVwicmlnaHRcIiBwb3BvdmVyLXRyaWdnZXI9XCJtb3VzZWVudGVyXCI+PC9zcGFuPiA8YnV0dG9uIG5nLWNsaWNrPVwibWFwLmdldFRlc3RzKCkucnVuVGVzdCh0ZXN0Lm5hbWUpXCIgbmctc3R5bGU9XCJcIiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJuZy1iaW5kaW5nXCI+RHJhZyB0byBjcmVhdGUgUC1saW5lPC9idXR0b24+IDxkaXYgY2xhc3M9XCJ0ZXN0LWluc3RydWN0aW9ucyBuZy1iaW5kaW5nIG5nLWhpZGVcIiBuZy1zaG93PVwibWFwLmdldFRlc3RzKCkuY3VycmVudFRlc3QgPT0gdGVzdCAmYW1wOyZhbXA7IHRlc3QuaW5zdHJ1Y3Rpb25zXCIgZGF0YS1za2lwPVwidHJ1ZVwiPkRyYWcgZnJvbSB0aGUgUC1jb3JuZXIgb2YgVGhpbmcxIHRvIFRoaW5nMjsgdGVtcG9yYXJ5IGRyYWcgbGluZSBhbmQgc3F1YXJlIHNob3VsZCBiZSBQLWNvbG9yOyBjcmVhdGVkIGxpbmUgc2hvdWxkIGJlIGEgUC1saW5lPC9kaXY+IDwvZGl2PiAgPGRpdiBjbGFzcz1cInRlc3Qgbmctc2NvcGVcIiBuZy1yZXBlYXQ9XCJ0ZXN0IGluIG1hcC5nZXRUZXN0cygpLnRlc3RzXCI+IDxzcGFuIGNsYXNzPVwidGVzdC1zdGF0dXMgbm90LXJ1biBuZy1oaWRlXCIgbmctc2hvdz1cInRlc3Quc3RhdHVzID09IG1hcC5nZXRUZXN0cygpLlRFU1RfU1RBVFVTX05PVF9SVU5cIj48L3NwYW4+IDxzcGFuIGNsYXNzPVwidGVzdC1zdGF0dXMgcGFzc2VkIG5nLWhpZGVcIiBuZy1zaG93PVwidGVzdC5zdGF0dXMgPT0gbWFwLmdldFRlc3RzKCkuVEVTVF9TVEFUVVNfUEFTU0VEXCI+PC9zcGFuPiA8c3BhbiBjbGFzcz1cInRlc3Qtc3RhdHVzIGV4YW1pbmUgbmctaGlkZVwiIG5nLXNob3c9XCJ0ZXN0LnN0YXR1cyA9PSBtYXAuZ2V0VGVzdHMoKS5URVNUX1NUQVRVU19FWEFNSU5FXCI+PC9zcGFuPiA8c3BhbiBjbGFzcz1cInRlc3Qtc3RhdHVzIGZhaWxlZCBuZy1zY29wZSBuZy1oaWRlXCIgbmctc2hvdz1cInRlc3Quc3RhdHVzID09IG1hcC5nZXRUZXN0cygpLlRFU1RfU1RBVFVTX0ZBSUxFRFwiIHBvcG92ZXI9XCJcIiBwb3BvdmVyLXBsYWNlbWVudD1cInJpZ2h0XCIgcG9wb3Zlci10cmlnZ2VyPVwibW91c2VlbnRlclwiPjwvc3Bhbj4gPGJ1dHRvbiBuZy1jbGljaz1cIm1hcC5nZXRUZXN0cygpLnJ1blRlc3QodGVzdC5uYW1lKVwiIG5nLXN0eWxlPVwiXCIgdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwibmctYmluZGluZ1wiPlJlbGluayBmcm9tLXBvcnQgb2YgUi1saW5lPC9idXR0b24+IDxkaXYgY2xhc3M9XCJ0ZXN0LWluc3RydWN0aW9ucyBuZy1iaW5kaW5nIG5nLWhpZGVcIiBuZy1zaG93PVwibWFwLmdldFRlc3RzKCkuY3VycmVudFRlc3QgPT0gdGVzdCAmYW1wOyZhbXA7IHRlc3QuaW5zdHJ1Y3Rpb25zXCIgZGF0YS1za2lwPVwidHJ1ZVwiPk1vdmUgdGhlIHN0YXJ0IG9mIHRoZSBSLWxpbmsgZnJvbSBUaGluZyAxIHRvIFRoaW5nIDM7IG1ha2Ugc3VyZSBpdCBkb2VzIG5vdCB0dXJuIGludG8gYSBQLWxpbms8L2Rpdj4gPC9kaXY+ICA8ZGl2IGNsYXNzPVwidGVzdCBuZy1zY29wZVwiIG5nLXJlcGVhdD1cInRlc3QgaW4gbWFwLmdldFRlc3RzKCkudGVzdHNcIj4gPHNwYW4gY2xhc3M9XCJ0ZXN0LXN0YXR1cyBub3QtcnVuIG5nLWhpZGVcIiBuZy1zaG93PVwidGVzdC5zdGF0dXMgPT0gbWFwLmdldFRlc3RzKCkuVEVTVF9TVEFUVVNfTk9UX1JVTlwiPjwvc3Bhbj4gPHNwYW4gY2xhc3M9XCJ0ZXN0LXN0YXR1cyBwYXNzZWQgbmctaGlkZVwiIG5nLXNob3c9XCJ0ZXN0LnN0YXR1cyA9PSBtYXAuZ2V0VGVzdHMoKS5URVNUX1NUQVRVU19QQVNTRURcIj48L3NwYW4+IDxzcGFuIGNsYXNzPVwidGVzdC1zdGF0dXMgZXhhbWluZSBuZy1oaWRlXCIgbmctc2hvdz1cInRlc3Quc3RhdHVzID09IG1hcC5nZXRUZXN0cygpLlRFU1RfU1RBVFVTX0VYQU1JTkVcIj48L3NwYW4+IDxzcGFuIGNsYXNzPVwidGVzdC1zdGF0dXMgZmFpbGVkIG5nLXNjb3BlIG5nLWhpZGVcIiBuZy1zaG93PVwidGVzdC5zdGF0dXMgPT0gbWFwLmdldFRlc3RzKCkuVEVTVF9TVEFUVVNfRkFJTEVEXCIgcG9wb3Zlcj1cIlwiIHBvcG92ZXItcGxhY2VtZW50PVwicmlnaHRcIiBwb3BvdmVyLXRyaWdnZXI9XCJtb3VzZWVudGVyXCI+PC9zcGFuPiA8YnV0dG9uIG5nLWNsaWNrPVwibWFwLmdldFRlc3RzKCkucnVuVGVzdCh0ZXN0Lm5hbWUpXCIgbmctc3R5bGU9XCJcIiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJuZy1iaW5kaW5nXCI+UmVsaW5rIHRvLXBvcnQgb2YgUi1saW5lPC9idXR0b24+IDxkaXYgY2xhc3M9XCJ0ZXN0LWluc3RydWN0aW9ucyBuZy1iaW5kaW5nIG5nLWhpZGVcIiBuZy1zaG93PVwibWFwLmdldFRlc3RzKCkuY3VycmVudFRlc3QgPT0gdGVzdCAmYW1wOyZhbXA7IHRlc3QuaW5zdHJ1Y3Rpb25zXCIgZGF0YS1za2lwPVwidHJ1ZVwiPk1vdmUgdGhlIGVuZCBvZiB0aGUgUi1saW5rIGZyb20gVGhpbmcgMiB0byBUaGluZyAzOyBtYWtlIHN1cmUgaXQgZG9lcyBub3QgdHVybiBpbnRvIGEgUC1saW5rPC9kaXY+IDwvZGl2PiAgPGRpdiBjbGFzcz1cInRlc3Qgbmctc2NvcGVcIiBuZy1yZXBlYXQ9XCJ0ZXN0IGluIG1hcC5nZXRUZXN0cygpLnRlc3RzXCI+IDxzcGFuIGNsYXNzPVwidGVzdC1zdGF0dXMgbm90LXJ1biBuZy1oaWRlXCIgbmctc2hvdz1cInRlc3Quc3RhdHVzID09IG1hcC5nZXRUZXN0cygpLlRFU1RfU1RBVFVTX05PVF9SVU5cIj48L3NwYW4+IDxzcGFuIGNsYXNzPVwidGVzdC1zdGF0dXMgcGFzc2VkIG5nLWhpZGVcIiBuZy1zaG93PVwidGVzdC5zdGF0dXMgPT0gbWFwLmdldFRlc3RzKCkuVEVTVF9TVEFUVVNfUEFTU0VEXCI+PC9zcGFuPiA8c3BhbiBjbGFzcz1cInRlc3Qtc3RhdHVzIGV4YW1pbmUgbmctaGlkZVwiIG5nLXNob3c9XCJ0ZXN0LnN0YXR1cyA9PSBtYXAuZ2V0VGVzdHMoKS5URVNUX1NUQVRVU19FWEFNSU5FXCI+PC9zcGFuPiA8c3BhbiBjbGFzcz1cInRlc3Qtc3RhdHVzIGZhaWxlZCBuZy1zY29wZSBuZy1oaWRlXCIgbmctc2hvdz1cInRlc3Quc3RhdHVzID09IG1hcC5nZXRUZXN0cygpLlRFU1RfU1RBVFVTX0ZBSUxFRFwiIHBvcG92ZXI9XCJcIiBwb3BvdmVyLXBsYWNlbWVudD1cInJpZ2h0XCIgcG9wb3Zlci10cmlnZ2VyPVwibW91c2VlbnRlclwiPjwvc3Bhbj4gPGJ1dHRvbiBuZy1jbGljaz1cIm1hcC5nZXRUZXN0cygpLnJ1blRlc3QodGVzdC5uYW1lKVwiIG5nLXN0eWxlPVwiXCIgdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwibmctYmluZGluZ1wiIGRhdGEtc2tpcD1cInRydWVcIj5TaG93aW5nIHBhcnRzIG9mIHBhcnRzIG9mIGEgZnJlZWhhbmQgd2hvbGU8L2J1dHRvbj4gPGRpdiBjbGFzcz1cInRlc3QtaW5zdHJ1Y3Rpb25zIG5nLWJpbmRpbmcgbmctaGlkZVwiIG5nLXNob3c9XCJtYXAuZ2V0VGVzdHMoKS5jdXJyZW50VGVzdCA9PSB0ZXN0ICZhbXA7JmFtcDsgdGVzdC5pbnN0cnVjdGlvbnNcIiBkYXRhLXNraXA9XCJ0cnVlXCI+V2hvbGUsIFBhcnQgMSBhbmQgU3VicGFydCAxLjEgc2hvdWxkIGFsbCBiZSB2aXNpYmxlPC9kaXY+IDwvZGl2PiAgPC9kaXY+IDxkaXYgaWQ9XCJtb2RlbC1kZWJ1Z1wiIG5nLXNob3c9XCJzaG93TW9kZWxcIiBjbGFzcz1cIm5nLWhpZGVcIj4gPHN0cm9uZz5Nb2RlbDwvc3Ryb25nPiA8YnV0dG9uIG5nLWNsaWNrPVwibWFwLmxvYWRNb2RlbCgpXCIgdHlwZT1cImJ1dHRvblwiPkNhcHR1cmU8L2J1dHRvbj4gPGJ1dHRvbiBuZy1jbGljaz1cIm1hcC5zYXZlTW9kZWwoKVwiIHR5cGU9XCJidXR0b25cIj5SZW5kZXI8L2J1dHRvbj4gPGJyPiA8dGV4dGFyZWEgaWQ9XCJtYXAtbW9kZWwtZGVidWdcIj48L3RleHRhcmVhPiA8L2Rpdj4gPGRpdiBpZD1cImhlbHAtdGlwXCIgbmctc2hvdz1cIm1hcC5nZXRVaSgpLmhlbHBUaXAgIT0gbnVsbFwiIGNsYXNzPVwibmctaGlkZVwiPiA8ZGl2IGNsYXNzPVwiaWNvbkhlbHAgbmctaGlkZVwiIGlkPVwiaGVscC1jYW52YXNUaXBcIiBuZy1zaG93PVwibWFwLmdldFVpKCkuaGVscFRpcCA9PSBcXCdjYW52YXNUaXBcXCdcIiBkYXRhLXNraXA9XCJ0cnVlXCI+IDxzdHJvbmc+Q2FudmFzOiA8L3N0cm9uZz5Eb3VibGUtY2xpY2sgdG8gY3JlYXRlIGEgbmV3IGlkZWEg4oCUIE1vdXNlIG92ZXIgYW4gaWRlYSB0byByZXZlYWwgYmFzaWMgZnVuY3Rpb25zLiA8L2Rpdj4gPGRpdiBjbGFzcz1cImljb25IZWxwIG5nLWhpZGVcIiBpZD1cImhlbHAtdGhpbmdUaXBcIiBuZy1zaG93PVwibWFwLmdldFVpKCkuaGVscFRpcCA9PSBcXCd0aGluZ1RpcFxcJ1wiIGRhdGEtc2tpcD1cInRydWVcIj4gPHN0cm9uZz5JZGVhOiA8L3N0cm9uZz5UbyBlZGl0IHRleHQsIGRvdWJsZS1jbGljayBvbiB0aGUgbGFiZWwg4oCUIFRvIHNlZSBtb3JlIGhlbHAgdGlwcywgY2xpY2sgb24gYW55IGNvbG9yZWQgY29ybmVyLiA8L2Rpdj4gPGRpdiBjbGFzcz1cImljb25IZWxwIG5nLWhpZGVcIiBpZD1cImhlbHAtcmVsYXRpb25zaGlwVGlwXCIgbmctc2hvdz1cIm1hcC5nZXRVaSgpLmhlbHBUaXAgPT0gXFwncmVsYXRpb25zaGlwVGlwXFwnXCIgZGF0YS1za2lwPVwidHJ1ZVwiPiA8c3Ryb25nPlJlbGF0aW9uc2hpcCBsaW5lOiA8L3N0cm9uZz5Eb3VibGUtY2xpY2sgdG8gYWRkIGEgbmV3IGlkZWEgdG8gdGhlIHJlbGF0aW9uc2hpcCDigJQgVXNlIHRoZSB0b29sYmFyIHRvIGFkZCBhcnJvd3MuIDwvZGl2PiA8ZGl2IGNsYXNzPVwiaWNvbkQgbmctaGlkZVwiIGlkPVwiaGVscC1jb3JuZXJEVGlwXCIgbmctc2hvdz1cIm1hcC5nZXRVaSgpLmhlbHBUaXAgPT0gXFwnY29ybmVyRFRpcFxcJ1wiIGRhdGEtc2tpcD1cInRydWVcIj4gPHN0cm9uZz5SZWQgY29ybmVyIChEKTogPC9zdHJvbmc+RG91YmxlLWNsaWNrIHRvIGNyZWF0ZSBhIG5ldyBpZGVhIOKAlCBSaWdodC1jbGljayB0byBtYXJrIHdpdGggYSBkaXN0aW5jdGlvbiBmbGFnLiA8L2Rpdj4gPGRpdiBjbGFzcz1cImljb25TIG5nLWhpZGVcIiBpZD1cImhlbHAtY29ybmVyU1RpcFwiIG5nLXNob3c9XCJtYXAuZ2V0VWkoKS5oZWxwVGlwID09IFxcJ2Nvcm5lclNUaXBcXCdcIiBkYXRhLXNraXA9XCJ0cnVlXCI+IDxzdHJvbmc+R3JlZW4gY29ybmVyIChTKTogPC9zdHJvbmc+RG91YmxlLWNsaWNrIHRvIGFkZCBhIHBhcnQg4oCUIFNpbmdsZS1jbGljayB0byBzaG93L2hpZGUgcGFydHMuIDwvZGl2PiA8ZGl2IGNsYXNzPVwiaWNvblIgbmctaGlkZVwiIGlkPVwiaGVscC1jb3JuZXJSVGlwXCIgbmctc2hvdz1cIm1hcC5nZXRVaSgpLmhlbHBUaXAgPT0gXFwnY29ybmVyUlRpcFxcJ1wiIGRhdGEtc2tpcD1cInRydWVcIj4gPHN0cm9uZz5CbHVlIGNvcm5lciAoUik6IDwvc3Ryb25nPkRvdWJsZS1jbGljayB0byBjcmVhdGUgYSBuZXcgcmVsYXRlZCBpZGVhIOKAlCBEcmFnIHRvIHJlbGF0ZSB0byBhbiBleGlzdGluZyBpZGVhLiA8L2Rpdj4gPGRpdiBjbGFzcz1cImljb25QIG5nLWhpZGVcIiBpZD1cImhlbHAtY29ybmVyUFRpcFwiIG5nLXNob3c9XCJtYXAuZ2V0VWkoKS5oZWxwVGlwID09IFxcJ2Nvcm5lclBUaXBcXCdcIiBkYXRhLXNraXA9XCJ0cnVlXCI+IDxzdHJvbmc+T3JhbmdlIGNvcm5lciAoUCk6IDwvc3Ryb25nPkRyYWcgdG8gY3JlYXRlIGEgcGVyc3BlY3RpdmUg4oCUIERvdWJsZS1jbGljayB0byBvcGVuIFBlcnNwZWN0aXZlIEVkaXRvci4gPC9kaXY+IDwvZGl2PiA8ZGl2IGlkPVwidHV0b3JpYWxcIj4gPGRpdiBjbGFzcz1cImNvdmVyXCI+PC9kaXY+IDxkaXYgaWQ9XCJ0dXRvcmlhbC1ib3hcIj4gPC9kaXY+IDwvZGl2PiA8ZGl2IGlkPVwiYXR0YWNobWVudHMtdGFiXCIgbmctc2hvdz1cIm1hcC5nZXRVaSgpLmN1cnJlbnRUYWJJcyhtYXAuZ2V0VWkoKS5UQUJfSURfQVRUQUNITUVOVFMpXCIgY2xhc3M9XCJuZy1oaWRlXCI+ICA8ZGl2IGNsYXNzPVwidGFiLWNsb3NlLWJ1dHRvblwiPiA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImNsb3NlXCIgbmctY2xpY2s9XCJtYXAuZ2V0VWkoKS5jbG9zZVRhYihtYXAuZ2V0VWkoKS5UQUJfSURfQVRUQUNITUVOVFMpXCI+w5c8L2J1dHRvbj4gPC9kaXY+IDxoMiBjbGFzcz1cInRhYi10aXRsZVwiPkF0dGFjaG1lbnRzPC9oMj4gIDxkaXYgY2xhc3M9XCJhdHRhY2htZW50LWxpc3Qgbmctc2NvcGUgYXR0YWNobWVudHMtdHlwZS1ub3RlXCIgbmctcmVwZWF0PVwidHlwZSBpbiBtYXAuZ2V0QXR0YWNobWVudHMoKS5hdHRhY2htZW50VHlwZXNcIiBuZy1jbGFzcz1cIlxcJ2F0dGFjaG1lbnRzLXR5cGUtXFwnICsgdHlwZS5uYW1lXCI+IDxoNCBjbGFzcz1cIm5nLWJpbmRpbmdcIj5Ob3RlczwvaDQ+IDxkaXYgY2xhc3M9XCJpdGVtLWFjdGlvbnNcIj4gIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1taW5pIGFkZC1pdGVtXCIgbmctY2xpY2s9XCJtYXAuZ2V0QXR0YWNobWVudHMoKS5hZGRBdHRhY2htZW50KHR5cGUubmFtZSlcIiBuZy1kaXNhYmxlZD1cIiFjYW5FZGl0IHx8IG1hcC5nZXRBdHRhY2htZW50cygpLmVkaXRpbmdBbkl0ZW0oKVwiPiBBZGQgSXRlbSA8L2J1dHRvbj4gPC9kaXY+IDxkaXYgY2xhc3M9XCJpdGVtLWxpc3RcIj4gPHVsPiAgPC91bD4gPC9kaXY+IDwvZGl2PiAgPGRpdiBjbGFzcz1cImF0dGFjaG1lbnQtbGlzdCBuZy1zY29wZSBhdHRhY2htZW50cy10eXBlLWxpbmtcIiBuZy1yZXBlYXQ9XCJ0eXBlIGluIG1hcC5nZXRBdHRhY2htZW50cygpLmF0dGFjaG1lbnRUeXBlc1wiIG5nLWNsYXNzPVwiXFwnYXR0YWNobWVudHMtdHlwZS1cXCcgKyB0eXBlLm5hbWVcIj4gPGg0IGNsYXNzPVwibmctYmluZGluZ1wiPldlYiBMaW5rczwvaDQ+IDxkaXYgY2xhc3M9XCJpdGVtLWFjdGlvbnNcIj4gIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1taW5pIGFkZC1pdGVtXCIgbmctY2xpY2s9XCJtYXAuZ2V0QXR0YWNobWVudHMoKS5hZGRBdHRhY2htZW50KHR5cGUubmFtZSlcIiBuZy1kaXNhYmxlZD1cIiFjYW5FZGl0IHx8IG1hcC5nZXRBdHRhY2htZW50cygpLmVkaXRpbmdBbkl0ZW0oKVwiPiBBZGQgSXRlbSA8L2J1dHRvbj4gPC9kaXY+IDxkaXYgY2xhc3M9XCJpdGVtLWxpc3RcIj4gPHVsPiAgPC91bD4gPC9kaXY+IDwvZGl2PiAgPGRpdiBjbGFzcz1cImF0dGFjaG1lbnQtbGlzdCBuZy1zY29wZSBhdHRhY2htZW50cy10eXBlLXRhc2tcIiBuZy1yZXBlYXQ9XCJ0eXBlIGluIG1hcC5nZXRBdHRhY2htZW50cygpLmF0dGFjaG1lbnRUeXBlc1wiIG5nLWNsYXNzPVwiXFwnYXR0YWNobWVudHMtdHlwZS1cXCcgKyB0eXBlLm5hbWVcIj4gPGg0IGNsYXNzPVwibmctYmluZGluZ1wiPlRhc2tzPC9oND4gPGRpdiBjbGFzcz1cIml0ZW0tYWN0aW9uc1wiPiAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLW1pbmkgYWRkLWl0ZW1cIiBuZy1jbGljaz1cIm1hcC5nZXRBdHRhY2htZW50cygpLmFkZEF0dGFjaG1lbnQodHlwZS5uYW1lKVwiIG5nLWRpc2FibGVkPVwiIWNhbkVkaXQgfHwgbWFwLmdldEF0dGFjaG1lbnRzKCkuZWRpdGluZ0FuSXRlbSgpXCI+IEFkZCBJdGVtIDwvYnV0dG9uPiA8L2Rpdj4gPGRpdiBjbGFzcz1cIml0ZW0tbGlzdFwiPiA8dWw+ICA8L3VsPiA8L2Rpdj4gPC9kaXY+ICA8ZGl2IGNsYXNzPVwiYXR0YWNobWVudC1saXN0IG5nLXNjb3BlIGF0dGFjaG1lbnRzLXR5cGUtbWFwXCIgbmctcmVwZWF0PVwidHlwZSBpbiBtYXAuZ2V0QXR0YWNobWVudHMoKS5hdHRhY2htZW50VHlwZXNcIiBuZy1jbGFzcz1cIlxcJ2F0dGFjaG1lbnRzLXR5cGUtXFwnICsgdHlwZS5uYW1lXCI+IDxoNCBjbGFzcz1cIm5nLWJpbmRpbmdcIj5MaW5rZWQgTWV0YU1hcHM8L2g0PiA8ZGl2IGNsYXNzPVwiaXRlbS1hY3Rpb25zXCI+ICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tbWluaSBhZGQtaXRlbVwiIG5nLWNsaWNrPVwibWFwLmdldEF0dGFjaG1lbnRzKCkuYWRkQXR0YWNobWVudCh0eXBlLm5hbWUpXCIgbmctZGlzYWJsZWQ9XCIhY2FuRWRpdCB8fCBtYXAuZ2V0QXR0YWNobWVudHMoKS5lZGl0aW5nQW5JdGVtKClcIj4gQWRkIEl0ZW0gPC9idXR0b24+IDwvZGl2PiA8ZGl2IGNsYXNzPVwiaXRlbS1saXN0XCI+IDx1bD4gIDwvdWw+IDwvZGl2PiA8L2Rpdj4gIDwvZGl2PiA8ZGl2IGlkPVwiZWRpdG9yLWZvb3RlclwiPiAgPGRpdiBpZD1cImFuYWx5dGljcy10YWItbWFwXCIgY2xhc3M9XCJib3R0b20tdGFiIGFuYWx5dGljcy10YWJcIiBuZy1jbGFzcz1cImNsYXNzSWYoXFwnZXhwYW5kZWRcXCcsIG1hcC5nZXRVaSgpLmN1cnJlbnRUYWJJcyhtYXAuZ2V0VWkoKS5UQUJfSURfQU5BTFlUSUNTX01BUCkpXCI+IDxkaXYgY2xhc3M9XCJib3R0b20tdGFiLWlubmVyXCI+ICA8ZGl2IGNsYXNzPVwidGFiLWNsb3NlLWJ1dHRvblwiPiA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImNsb3NlXCIgbmctY2xpY2s9XCJtYXAuZ2V0VWkoKS5jbG9zZVRhYihtYXAuZ2V0VWkoKS5UQUJfSURfQU5BTFlUSUNTX01BUClcIj7DlzwvYnV0dG9uPiA8L2Rpdj4gIDxkaXY+IDxkaXYgY2xhc3M9XCJhbmFseXRpY3MtYmlnLWFuYWx5dGljc1wiPiA8ZGl2IGNsYXNzPVwiYW5hbHl0aWNzLXN1YmplY3Qtd3JhcHBlclwiPiAgIDxkaXYgaWQ9XCJhbmFseXRpY3MtYmlnLWFuYWx5dGljcy1tYXBcIj48L2Rpdj4gPGRpdiBpZD1cImFuYWx5dGljcy1iaWctYW5hbHl0aWNzLWFycm93XCI+PC9kaXY+IDxkaXYgY2xhc3M9XCJhbmFseXRpY3MtbWFwLWFuYWx5dGljcy1pbnRyb1wiPkluIHRoaXMgTWV0YU1hcC4uLjwvZGl2PiAgPC9kaXY+ICA8ZGl2IGNsYXNzPVwiYmlnLWFuYWx5dGljLXdyYXBwZXJcIj4gPGEgaHJlZj1cIiNcIiBjbGFzcz1cImFuYWx5dGljLXBvcG92ZXIgcG9wb3Zlci10b3Agbmctc2NvcGVcIiBwb3BvdmVyLXRyaWdnZXI9XCJtb3VzZWVudGVyXCIgcG9wb3Zlci1wbGFjZW1lbnQ9XCJ0b3BcIiBwb3BvdmVyPVwiTm90ZSBob3cgbWFueSBkaXN0aW5jdGx5IGRpZmZlcmVudCBpZGVhcyB5b3VcXCd2ZSBjcmVhdGVkLlwiPiA8ZGl2IGNsYXNzPVwiYmlnLWFuYWx5dGljIGljb25EXCI+IDxkaXYgY2xhc3M9XCJiaWctYW5hbHl0aWMtcHJlZml4XCI+IFlvdSBtYWRlIDwvZGl2PiA8c3BhbiBjbGFzcz1cImJpZy1hbmFseXRpYy12YWx1ZSBuZy1iaW5kaW5nXCI+IDwvc3Bhbj4gPGRpdiBjbGFzcz1cImJpZy1hbmFseXRpYy1zdWZmaXhcIj4gPG5nLXBsdXJhbGl6ZSBjb3VudD1cIm1hcC5nZXRBbmFseXRpY3MoKS5tYXBBbmFseXRpY3MuQ09VTlRfVEhJTkdTXCIgd2hlbj1cIntcXCdvbmVcXCc6IFxcJ2lkZWEhXFwnLCBcXCdvdGhlclxcJzogXFwnaWRlYXMhXFwnfVwiPjwvbmctcGx1cmFsaXplPiA8L2Rpdj4gPC9kaXY+IDwvYT4gPC9kaXY+ICA8ZGl2IGNsYXNzPVwiYmlnLWFuYWx5dGljLXdyYXBwZXJcIj4gPGEgaHJlZj1cIiNcIiBjbGFzcz1cImFuYWx5dGljLXBvcG92ZXIgcG9wb3Zlci10b3Agbmctc2NvcGVcIiBwb3BvdmVyLXRyaWdnZXI9XCJtb3VzZWVudGVyXCIgcG9wb3Zlci1wbGFjZW1lbnQ9XCJ0b3BcIiBwb3BvdmVyPVwiQnJlYWtpbmcgeW91ciBpZGVhcyBpbnRvIHBhcnRzIGhlbHBzIHlvdSB0byB1bmRlcnN0YW5kIHRoZW0gYmV0dGVyLlwiPiA8ZGl2IGNsYXNzPVwiYmlnLWFuYWx5dGljIGljb25EIGljb25TXCI+IDxkaXYgY2xhc3M9XCJiaWctYW5hbHl0aWMtcHJlZml4XCI+IFlvdSBtYWRlIDwvZGl2PiA8c3BhbiBjbGFzcz1cImJpZy1hbmFseXRpYy12YWx1ZSBuZy1iaW5kaW5nXCI+IDwvc3Bhbj4gPGRpdiBjbGFzcz1cImJpZy1hbmFseXRpYy1zdWZmaXhcIj4gPG5nLXBsdXJhbGl6ZSBjb3VudD1cIm1hcC5nZXRBbmFseXRpY3MoKS5tYXBBbmFseXRpY3MuQ09VTlRfU1lTVEVNU1wiIHdoZW49XCJ7XFwnb25lXFwnOiBcXCdpZGVhIGludG8gYSBzeXN0ZW0hXFwnLCBcXCdvdGhlclxcJzogXFwnaWRlYXMgaW50byBzeXN0ZW1zIVxcJ31cIj48L25nLXBsdXJhbGl6ZT4gPC9kaXY+IDwvZGl2PiA8L2E+IDwvZGl2PiAgPGRpdiBjbGFzcz1cImJpZy1hbmFseXRpYy13cmFwcGVyXCI+IDxhIGhyZWY9XCIjXCIgY2xhc3M9XCJhbmFseXRpYy1wb3BvdmVyIHBvcG92ZXItdG9wIG5nLXNjb3BlXCIgcG9wb3Zlci10cmlnZ2VyPVwibW91c2VlbnRlclwiIHBvcG92ZXItcGxhY2VtZW50PVwidG9wXCIgcG9wb3Zlcj1cIlNlZSBob3cgbWFueSBpZGVhcyB5b3VcXCd2ZSByZWxhdGVkIG9uIHlvdXIgbWFwLlwiPiA8ZGl2IGNsYXNzPVwiYmlnLWFuYWx5dGljIGljb25SXCI+IDxkaXYgY2xhc3M9XCJiaWctYW5hbHl0aWMtcHJlZml4XCI+IFlvdSBtYWRlIDwvZGl2PiA8c3BhbiBjbGFzcz1cImJpZy1hbmFseXRpYy12YWx1ZSBuZy1iaW5kaW5nXCI+IDwvc3Bhbj4gPGRpdiBjbGFzcz1cImJpZy1hbmFseXRpYy1zdWZmaXhcIj4gPG5nLXBsdXJhbGl6ZSBjb3VudD1cIm1hcC5nZXRBbmFseXRpY3MoKS5tYXBBbmFseXRpY3MuQ09VTlRfUkVMQVRJT05TSElQU1wiIHdoZW49XCJ7XFwnb25lXFwnOiBcXCdyZWxhdGlvbnNoaXAhXFwnLCBcXCdvdGhlclxcJzogXFwncmVsYXRpb25zaGlwcyFcXCd9XCI+PC9uZy1wbHVyYWxpemU+IDwvZGl2PiA8L2Rpdj4gPC9hPiA8L2Rpdj4gIDxkaXYgY2xhc3M9XCJiaWctYW5hbHl0aWMtd3JhcHBlclwiPiA8YSBocmVmPVwiI1wiIGNsYXNzPVwiYW5hbHl0aWMtcG9wb3ZlciBwb3BvdmVyLXRvcCBuZy1zY29wZVwiIHBvcG92ZXItdHJpZ2dlcj1cIm1vdXNlZW50ZXJcIiBwb3BvdmVyLXBsYWNlbWVudD1cInRvcFwiIHBvcG92ZXI9XCJBbnkgaWRlYSBjYW4gYWxzbyBiZSBhIHZpZXdwb2ludCBvbiBvdGhlciBpZGVhcy5cIj4gPGRpdiBjbGFzcz1cImJpZy1hbmFseXRpYyBpY29uRCBpY29uUFwiPiA8ZGl2IGNsYXNzPVwiYmlnLWFuYWx5dGljLXByZWZpeFwiPiBZb3UgbWFkZSA8L2Rpdj4gPHNwYW4gY2xhc3M9XCJiaWctYW5hbHl0aWMtdmFsdWUgbmctYmluZGluZ1wiPiA8L3NwYW4+IDxkaXYgY2xhc3M9XCJiaWctYW5hbHl0aWMtc3VmZml4XCI+IDxuZy1wbHVyYWxpemUgY291bnQ9XCJtYXAuZ2V0QW5hbHl0aWNzKCkubWFwQW5hbHl0aWNzLkNPVU5UX1BFUlNQRUNUSVZFU1wiIHdoZW49XCJ7XFwnb25lXFwnOiBcXCdpZGVhIGludG8gYSB2aWV3cG9pbnQhXFwnLCBcXCdvdGhlclxcJzogXFwnaWRlYXMgaW50byB2aWV3cG9pbnRzIVxcJ31cIj48L25nLXBsdXJhbGl6ZT4gPC9kaXY+IDwvZGl2PiA8L2E+IDwvZGl2PiAgPGRpdiBjbGFzcz1cImJpZy1hbmFseXRpYy13cmFwcGVyXCI+IDxhIGhyZWY9XCIjXCIgY2xhc3M9XCJhbmFseXRpYy1wb3BvdmVyIHBvcG92ZXItdG9wIG5nLXNjb3BlXCIgcG9wb3Zlci10cmlnZ2VyPVwibW91c2VlbnRlclwiIHBvcG92ZXItcGxhY2VtZW50PVwidG9wXCIgcG9wb3Zlcj1cIkV2ZXJ5IHJlbGF0aW9uc2hpcCBjYW4gYWxzbyBiZSBhIG5ldyBpZGVhLlwiPiA8ZGl2IGNsYXNzPVwiYmlnLWFuYWx5dGljIGljb25EIGljb25SXCI+IDxkaXYgY2xhc3M9XCJiaWctYW5hbHl0aWMtcHJlZml4XCI+IFlvdSBtYWRlIDwvZGl2PiA8c3BhbiBjbGFzcz1cImJpZy1hbmFseXRpYy12YWx1ZSBuZy1iaW5kaW5nXCI+IDwvc3Bhbj4gPGRpdiBjbGFzcz1cImJpZy1hbmFseXRpYy1zdWZmaXhcIj4gPG5nLXBsdXJhbGl6ZSBjb3VudD1cIm1hcC5nZXRBbmFseXRpY3MoKS5tYXBBbmFseXRpY3MuQ09VTlRfUlRISU5HU1wiIHdoZW49XCJ7XFwnb25lXFwnOiBcXCdyZWxhdGlvbnNoaXAgaW50byBhbiBpZGVhIVxcJywgXFwnb3RoZXJcXCc6IFxcJ3JlbGF0aW9uc2hpcHMgaW50byBpZGVhcyFcXCd9XCI+PC9uZy1wbHVyYWxpemU+IDwvZGl2PiA8L2Rpdj4gPC9hPiA8L2Rpdj4gIDxkaXYgY2xhc3M9XCJiaWctYW5hbHl0aWMtd3JhcHBlclwiPiA8YSBocmVmPVwiI1wiIGNsYXNzPVwiYW5hbHl0aWMtcG9wb3ZlciBwb3BvdmVyLXRvcCBuZy1zY29wZVwiIHBvcG92ZXItdHJpZ2dlcj1cIm1vdXNlZW50ZXJcIiBwb3BvdmVyLXBsYWNlbWVudD1cInRvcFwiIHBvcG92ZXI9XCJJZGVhcyB0aGF0IGFyZSBhY3RpbmcgYXMgcmVsYXRpb25zaGlwcyBjYW4gYWxzbyBoYXZlIHBhcnRzLlwiPiA8ZGl2IGNsYXNzPVwiYmlnLWFuYWx5dGljIGljb25EIGljb25TIGljb25SXCI+IDxkaXYgY2xhc3M9XCJiaWctYW5hbHl0aWMtcHJlZml4XCI+IFlvdSBtYWRlIDwvZGl2PiA8c3BhbiBjbGFzcz1cImJpZy1hbmFseXRpYy12YWx1ZSBuZy1iaW5kaW5nXCI+IDwvc3Bhbj4gPGRpdiBjbGFzcz1cImJpZy1hbmFseXRpYy1zdWZmaXhcIj4gPG5nLXBsdXJhbGl6ZSBjb3VudD1cIm1hcC5nZXRBbmFseXRpY3MoKS5tYXBBbmFseXRpY3MuQ09VTlRfU1lTVEVNX1JUSElOR1NcIiB3aGVuPVwie1xcJ29uZVxcJzogXFwncmVsYXRpb25zaGlwIGludG8gYSBzeXN0ZW0hXFwnLCBcXCdvdGhlclxcJzogXFwncmVsYXRpb25zaGlwcyBpbnRvIHN5c3RlbXMhXFwnfVwiPjwvbmctcGx1cmFsaXplPiA8L2Rpdj4gPC9kaXY+IDwvYT4gPC9kaXY+ICA8ZGl2IGNsYXNzPVwiYmlnLWFuYWx5dGljLXdyYXBwZXJcIj4gPGEgaHJlZj1cIiNcIiBjbGFzcz1cImFuYWx5dGljLXBvcG92ZXIgcG9wb3Zlci10b3Agbmctc2NvcGVcIiBwb3BvdmVyLXRyaWdnZXI9XCJtb3VzZWVudGVyXCIgcG9wb3Zlci1wbGFjZW1lbnQ9XCJ0b3BcIiBwb3BvdmVyPVwiRXZlbiB2aWV3cG9pbnRzIGNhbiBiZSBicm9rZW4gaW50byBwYXJ0cy5cIj4gPGRpdiBjbGFzcz1cImJpZy1hbmFseXRpYyBpY29uRCBpY29uUyBpY29uUFwiPiA8ZGl2IGNsYXNzPVwiYmlnLWFuYWx5dGljLXByZWZpeFwiPiBZb3UgbWFkZSA8L2Rpdj4gPHNwYW4gY2xhc3M9XCJiaWctYW5hbHl0aWMtdmFsdWUgbmctYmluZGluZ1wiPiA8L3NwYW4+IDxkaXYgY2xhc3M9XCJiaWctYW5hbHl0aWMtc3VmZml4XCI+IDxuZy1wbHVyYWxpemUgY291bnQ9XCJtYXAuZ2V0QW5hbHl0aWNzKCkubWFwQW5hbHl0aWNzLkNPVU5UX1NZU1RFTV9QRVJTUEVDVElWRVNcIiB3aGVuPVwie1xcJ29uZVxcJzogXFwndmlld3BvaW50IGludG8gYSBzeXN0ZW0hXFwnLCBcXCdvdGhlclxcJzogXFwndmlld3BvaW50cyBpbnRvIHN5c3RlbXMhXFwnfVwiPjwvbmctcGx1cmFsaXplPiA8L2Rpdj4gPC9kaXY+IDwvYT4gPC9kaXY+ICA8ZGl2IGNsYXNzPVwiYmlnLWFuYWx5dGljLXdyYXBwZXJcIj4gPGEgaHJlZj1cIiNcIiBjbGFzcz1cImFuYWx5dGljLXBvcG92ZXIgcG9wb3Zlci10b3Agbmctc2NvcGVcIiBwb3BvdmVyLXRyaWdnZXI9XCJtb3VzZWVudGVyXCIgcG9wb3Zlci1wbGFjZW1lbnQ9XCJ0b3BcIiBwb3BvdmVyPVwiR2FpbiBjbGFyaXR5IGJ5IG1ha2luZyBzdXJlIGVhY2ggaWRlYSBpcyBkaXN0aW5ndWlzaGVkIGZyb20gb3RoZXIgaWRlYXMuXCI+IDxkaXYgY2xhc3M9XCJiaWctYW5hbHl0aWMgaWNvbkRcIj4gPGRpdiBjbGFzcz1cImJpZy1hbmFseXRpYy1wcmVmaXhcIj4gWW91IG1hZGUgPC9kaXY+IDxzcGFuIGNsYXNzPVwiYmlnLWFuYWx5dGljLXZhbHVlIG5nLWJpbmRpbmdcIj4gPC9zcGFuPiA8ZGl2IGNsYXNzPVwiYmlnLWFuYWx5dGljLXN1ZmZpeFwiPiA8bmctcGx1cmFsaXplIGNvdW50PVwibWFwLmdldEFuYWx5dGljcygpLm1hcEFuYWx5dGljcy5DT1VOVF9ESVNUSU5DVElPTlNcIiB3aGVuPVwie1xcJ29uZVxcJzogXFwnYWR2YW5jZWQgZGlzdGluY3Rpb24hXFwnLCBcXCdvdGhlclxcJzogXFwnYWR2YW5jZWQgZGlzdGluY3Rpb25zIVxcJ31cIj48L25nLXBsdXJhbGl6ZT4gPC9kaXY+IDwvZGl2PiA8L2E+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4gIDxkaXYgaWQ9XCJhbmFseXRpY3MtdGFiLXRoaW5nXCIgY2xhc3M9XCJib3R0b20tdGFiIGFuYWx5dGljcy10YWJcIiBuZy1jbGFzcz1cImNsYXNzSWYoXFwnZXhwYW5kZWRcXCcsIG1hcC5nZXRVaSgpLmN1cnJlbnRUYWJJcyhtYXAuZ2V0VWkoKS5UQUJfSURfQU5BTFlUSUNTX1RISU5HKSlcIj4gPGRpdiBjbGFzcz1cImJvdHRvbS10YWItaW5uZXJcIj4gIDxkaXYgY2xhc3M9XCJ0YWItY2xvc2UtYnV0dG9uXCI+IDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiY2xvc2VcIiBuZy1jbGljaz1cIm1hcC5nZXRVaSgpLmNsb3NlVGFiKG1hcC5nZXRVaSgpLlRBQl9JRF9BTkFMWVRJQ1NfVEhJTkcpXCI+w5c8L2J1dHRvbj4gPC9kaXY+ICA8ZGl2IG5nLXNob3c9XCIhbWFwLnRoaW5nU2VsZWN0ZWQoKSAmYW1wOyZhbXA7ICFtYXAucmVsYXRpb25zaGlwU2VsZWN0ZWQoKVwiIGNsYXNzPVwiXCI+IDxkaXYgaWQ9XCJhbmFseXRpY3Mtbm90aGluZy1zZWxlY3RlZFwiIGRhdGEtc2tpcD1cInRydWVcIj4gU2VsZWN0IGFuIElkZWEgb3IgYSBSZWxhdGlvbnNoaXAgdG8gdmlldyBhbmFseXRpY3MgZm9yIGl0LiA8L2Rpdj4gPC9kaXY+IDxkaXYgbmctc2hvdz1cIm1hcC50aGluZ1NlbGVjdGVkKClcIiBjbGFzcz1cIm5nLWhpZGVcIj4gPGRpdiBjbGFzcz1cImFuYWx5dGljcy1iaWctYW5hbHl0aWNzIHRoaW5nLWFuYWx5dGljc1wiPiA8ZGl2IGNsYXNzPVwiYW5hbHl0aWNzLXN1YmplY3Qtd3JhcHBlclwiPiAgPGRpdiBjbGFzcz1cImFuYWx5dGljcy1jdXJyZW50LXRoaW5nXCI+IDxzcGFuIGNsYXNzPVwibmctYmluZGluZ1wiPjwvc3Bhbj4gPC9kaXY+IDxkaXYgY2xhc3M9XCJhbmFseXRpY3MtdGhpbmctaW50cm9cIj5pcy4uLjwvZGl2PiA8ZGl2IGlkPVwiYW5hbHl0aWNzLWJpZy1hbmFseXRpY3MtYXJyb3dcIj48L2Rpdj4gIDwvZGl2PiA8ZGl2IGNsYXNzPVwiYmlnLWFuYWx5dGljLXdyYXBwZXJcIj4gPGEgaHJlZj1cIiNcIiBjbGFzcz1cImFuYWx5dGljLXBvcG92ZXIgcG9wb3Zlci10b3Agbmctc2NvcGVcIiBwb3BvdmVyLXRyaWdnZXI9XCJtb3VzZWVudGVyXCIgcG9wb3Zlci1wbGFjZW1lbnQ9XCJ0b3BcIiBwb3BvdmVyPVwiSXQgaXMgaW1wbGllZCB0aGF0IGV2ZXJ5IGlkZWEgaXMgZGlzdGluY3QgZnJvbSBldmVyeSBvdGhlciBpZGVhLlwiPiA8ZGl2IGNsYXNzPVwiYmlnLWFuYWx5dGljIGljb25EXCI+IDxkaXYgY2xhc3M9XCJiaWctYW5hbHl0aWMtcHJlZml4XCI+IERpc3RpbmN0IGZyb20gPC9kaXY+IDxzcGFuIGNsYXNzPVwiYmlnLWFuYWx5dGljLXZhbHVlIG5nLWJpbmRpbmdcIj4gMCA8L3NwYW4+IDxkaXYgY2xhc3M9XCJiaWctYW5hbHl0aWMtc3VmZml4XCI+IDxuZy1wbHVyYWxpemUgY291bnQ9XCJtYXAuZ2V0QW5hbHl0aWNzKCkuY29udGV4dHVhbEFuYWx5dGljcy5kaXN0aW5jdEZyb21cIiB3aGVuPVwie1xcJ29uZVxcJzogXFwnb3RoZXIgaWRlYVxcJywgXFwnb3RoZXJcXCc6IFxcJ290aGVyIGlkZWFzXFwnfVwiPm90aGVyIGlkZWFzPC9uZy1wbHVyYWxpemU+IDwvZGl2PiA8L2Rpdj4gPC9hPiA8L2Rpdj4gPGRpdiBjbGFzcz1cImJpZy1hbmFseXRpYy13cmFwcGVyXCI+IDxhIGhyZWY9XCIjXCIgY2xhc3M9XCJhbmFseXRpYy1wb3BvdmVyIHBvcG92ZXItdG9wIG5nLXNjb3BlXCIgcG9wb3Zlci10cmlnZ2VyPVwibW91c2VlbnRlclwiIHBvcG92ZXItcGxhY2VtZW50PVwidG9wXCIgcG9wb3Zlcj1cIk1ha2luZyBkaXN0aW5jdGlvbnMgZXhwbGljaXQgaXMgYW4gYWR2YW5jZWQgc2tpbGwgdXNlZCBmb3IgY29uc3RydWN0IHZhbGlkaXR5LlwiPiA8ZGl2IGNsYXNzPVwiYmlnLWFuYWx5dGljIGljb25EXCI+IDxkaXYgY2xhc3M9XCJiaWctYW5hbHl0aWMtcHJlZml4XCI+IERpc3RpbmN0IGZyb20gPC9kaXY+IDxzcGFuIGNsYXNzPVwiYmlnLWFuYWx5dGljLXZhbHVlIG5nLWJpbmRpbmdcIj4gMCA8L3NwYW4+IDxkaXYgY2xhc3M9XCJiaWctYW5hbHl0aWMtc3VmZml4XCI+IDxuZy1wbHVyYWxpemUgY291bnQ9XCJtYXAuZ2V0QW5hbHl0aWNzKCkuY29udGV4dHVhbEFuYWx5dGljcy5pbnRlbnRpb25hbGx5RGlzdGluY3RGcm9tXCIgd2hlbj1cIntcXCdvbmVcXCc6IFxcJ290aGVyIGlkZWEgKGFkdmFuY2VkKVxcJywgXFwnb3RoZXJcXCc6IFxcJ290aGVyIGlkZWFzIChhZHZhbmNlZClcXCd9XCI+b3RoZXIgaWRlYXMgKGFkdmFuY2VkKTwvbmctcGx1cmFsaXplPiA8L2Rpdj4gPC9kaXY+IDwvYT4gPC9kaXY+IDxkaXYgY2xhc3M9XCJiaWctYW5hbHl0aWMtd3JhcHBlclwiPiA8YSBocmVmPVwiI1wiIGNsYXNzPVwiYW5hbHl0aWMtcG9wb3ZlciBwb3BvdmVyLXRvcCBuZy1zY29wZVwiIHBvcG92ZXItdHJpZ2dlcj1cIm1vdXNlZW50ZXJcIiBwb3BvdmVyLXBsYWNlbWVudD1cInRvcFwiIHBvcG92ZXI9XCJFdmVyeSBpZGVhIGNhbiBiZSBwYXJ0IG9mIGEgbGFyZ2VyIGlkZWEuXCI+IDxkaXYgY2xhc3M9XCJiaWctYW5hbHl0aWMgaWNvblNcIj4gPGRpdiBjbGFzcz1cImJpZy1hbmFseXRpYy1wcmVmaXhcIj4gUGFydCBvZiA8L2Rpdj4gPHNwYW4gY2xhc3M9XCJiaWctYW5hbHl0aWMtdmFsdWUgbmctYmluZGluZ1wiPiAwIDwvc3Bhbj4gPGRpdiBjbGFzcz1cImJpZy1hbmFseXRpYy1zdWZmaXhcIj4gPG5nLXBsdXJhbGl6ZSBjb3VudD1cIm1hcC5nZXRBbmFseXRpY3MoKS5jb250ZXh0dWFsQW5hbHl0aWNzLnBhcnRPZlwiIHdoZW49XCJ7XFwnb25lXFwnOiBcXCd3aG9sZSBzeXN0ZW1cXCcsIFxcJ290aGVyXFwnOiBcXCd3aG9sZSBzeXN0ZW1zXFwnfVwiPndob2xlIHN5c3RlbXM8L25nLXBsdXJhbGl6ZT4gPC9kaXY+IDwvZGl2PiA8L2E+IDwvZGl2PiA8ZGl2IGNsYXNzPVwiYmlnLWFuYWx5dGljLXdyYXBwZXJcIj4gPGEgaHJlZj1cIiNcIiBjbGFzcz1cImFuYWx5dGljLXBvcG92ZXIgcG9wb3Zlci10b3Agbmctc2NvcGVcIiBwb3BvdmVyLXRyaWdnZXI9XCJtb3VzZWVudGVyXCIgcG9wb3Zlci1wbGFjZW1lbnQ9XCJ0b3BcIiBwb3BvdmVyPVwiRXZlcnkgaWRlYSBjYW4gaGF2ZSBwYXJ0cywgbWFraW5nIGl0IGEgd2hvbGUuXCI+IDxkaXYgY2xhc3M9XCJiaWctYW5hbHl0aWMgaWNvblNcIj4gPGRpdiBjbGFzcz1cImJpZy1hbmFseXRpYy1wcmVmaXhcIj4gQSB3aG9sZSB3aXRoIDwvZGl2PiA8c3BhbiBjbGFzcz1cImJpZy1hbmFseXRpYy12YWx1ZSBuZy1iaW5kaW5nXCI+IDAgPC9zcGFuPiA8ZGl2IGNsYXNzPVwiYmlnLWFuYWx5dGljLXN1ZmZpeFwiPiA8bmctcGx1cmFsaXplIGNvdW50PVwibWFwLmdldEFuYWx5dGljcygpLmNvbnRleHR1YWxBbmFseXRpY3MuaW5jbHVkZXNQYXJ0c1wiIHdoZW49XCJ7XFwnb25lXFwnOiBcXCdwYXJ0XFwnLCBcXCdvdGhlclxcJzogXFwncGFydHNcXCd9XCI+cGFydHM8L25nLXBsdXJhbGl6ZT4gPC9kaXY+IDwvZGl2PiA8L2E+IDwvZGl2PiA8ZGl2IGNsYXNzPVwiYmlnLWFuYWx5dGljLXdyYXBwZXJcIj4gPGEgaHJlZj1cIiNcIiBjbGFzcz1cImFuYWx5dGljLXBvcG92ZXIgcG9wb3Zlci10b3Agbmctc2NvcGVcIiBwb3BvdmVyLXRyaWdnZXI9XCJtb3VzZWVudGVyXCIgcG9wb3Zlci1wbGFjZW1lbnQ9XCJ0b3BcIiBwb3BvdmVyPVwiRXZlcnkgaWRlYSBjYW4gYmUgcmVsYXRlZCB0byBvdGhlciBpZGVhcy5cIj4gPGRpdiBjbGFzcz1cImJpZy1hbmFseXRpYyBpY29uUlwiPiA8ZGl2IGNsYXNzPVwiYmlnLWFuYWx5dGljLXByZWZpeFwiPiBSZWxhdGVkIHRvIDwvZGl2PiA8c3BhbiBjbGFzcz1cImJpZy1hbmFseXRpYy12YWx1ZSBuZy1iaW5kaW5nXCI+IDAgPC9zcGFuPiA8ZGl2IGNsYXNzPVwiYmlnLWFuYWx5dGljLXN1ZmZpeFwiPiA8bmctcGx1cmFsaXplIGNvdW50PVwibWFwLmdldEFuYWx5dGljcygpLmNvbnRleHR1YWxBbmFseXRpY3MucmVsYXRlZFRvXCIgd2hlbj1cIntcXCdvbmVcXCc6IFxcJ290aGVyIGlkZWFcXCcsIFxcJ290aGVyXFwnOiBcXCdvdGhlciBpZGVhc1xcJ31cIj5vdGhlciBpZGVhczwvbmctcGx1cmFsaXplPiA8L2Rpdj4gPC9kaXY+IDwvYT4gPC9kaXY+IDxkaXYgY2xhc3M9XCJiaWctYW5hbHl0aWMtd3JhcHBlclwiPiA8YSBocmVmPVwiI1wiIGNsYXNzPVwiYW5hbHl0aWMtcG9wb3ZlciBwb3BvdmVyLXRvcCBuZy1zY29wZVwiIHBvcG92ZXItdHJpZ2dlcj1cIm1vdXNlZW50ZXJcIiBwb3BvdmVyLXBsYWNlbWVudD1cInRvcFwiIHBvcG92ZXI9XCJJZGVhcyBjYW4gYWN0IGFzIGEgcmVsYXRpb25zaGlwIGJldHdlZW4gb3RoZXIgaWRlYXMsIHRvby5cIj4gPGRpdiBjbGFzcz1cImJpZy1hbmFseXRpYyBpY29uUlwiPiA8ZGl2IGNsYXNzPVwiYmlnLWFuYWx5dGljLXByZWZpeFwiPiBSZWxhdGVzIDwvZGl2PiA8c3BhbiBjbGFzcz1cImJpZy1hbmFseXRpYy12YWx1ZSBuZy1iaW5kaW5nXCI+IDwvc3Bhbj4gPGRpdiBjbGFzcz1cImJpZy1hbmFseXRpYy1zdWZmaXhcIj4gaWRlYXMgIDwvZGl2PiA8L2Rpdj4gPC9hPiA8L2Rpdj4gPGRpdiBjbGFzcz1cImJpZy1hbmFseXRpYy13cmFwcGVyXCI+IDxhIGhyZWY9XCIjXCIgY2xhc3M9XCJhbmFseXRpYy1wb3BvdmVyIHBvcG92ZXItdG9wIG5nLXNjb3BlXCIgcG9wb3Zlci10cmlnZ2VyPVwibW91c2VlbnRlclwiIHBvcG92ZXItcGxhY2VtZW50PVwidG9wXCIgcG9wb3Zlcj1cIkV2ZXJ5IGlkZWEgY2FuIGJlIGEgcG9pbnQgb2YgdmlldyBvbiBvdGhlciBpZGVhcy5cIj4gPGRpdiBjbGFzcz1cImJpZy1hbmFseXRpYyBpY29uUFwiPiA8ZGl2IGNsYXNzPVwiYmlnLWFuYWx5dGljLXByZWZpeFwiPiBBIHBvaW50IG9uIDwvZGl2PiA8c3BhbiBjbGFzcz1cImJpZy1hbmFseXRpYy12YWx1ZSBuZy1iaW5kaW5nXCI+IDAgPC9zcGFuPiA8ZGl2IGNsYXNzPVwiYmlnLWFuYWx5dGljLXN1ZmZpeFwiPiA8bmctcGx1cmFsaXplIGNvdW50PVwibWFwLmdldEFuYWx5dGljcygpLmNvbnRleHR1YWxBbmFseXRpY3MubG9va2luZ0F0XCIgd2hlbj1cIntcXCdvbmVcXCc6IFxcJ3ZpZXdcXCcsIFxcJ290aGVyXFwnOiBcXCd2aWV3c1xcJ31cIj52aWV3czwvbmctcGx1cmFsaXplPiA8L2Rpdj4gPC9kaXY+IDwvYT4gPC9kaXY+IDxkaXYgY2xhc3M9XCJiaWctYW5hbHl0aWMtd3JhcHBlclwiPiA8YSBocmVmPVwiI1wiIGNsYXNzPVwiYW5hbHl0aWMtcG9wb3ZlciBwb3BvdmVyLXRvcCBuZy1zY29wZVwiIHBvcG92ZXItdHJpZ2dlcj1cIm1vdXNlZW50ZXJcIiBwb3BvdmVyLXBsYWNlbWVudD1cInRvcFwiIHBvcG92ZXI9XCJFdmVyeSBpZGVhIGNhbiBiZSBsb29rZWQgYXQgZGlmZmVyZW50bHkgZnJvbSB0aGUgcG9pbnQgb2YgdmlldyBvZiBvdGhlciBpZGVhcy5cIj4gPGRpdiBjbGFzcz1cImJpZy1hbmFseXRpYyBpY29uUFwiPiA8ZGl2IGNsYXNzPVwiYmlnLWFuYWx5dGljLXByZWZpeFwiPiBWaWV3ZWQgZnJvbSA8L2Rpdj4gPHNwYW4gY2xhc3M9XCJiaWctYW5hbHl0aWMtdmFsdWUgbmctYmluZGluZ1wiPiAwIDwvc3Bhbj4gPGRpdiBjbGFzcz1cImJpZy1hbmFseXRpYy1zdWZmaXhcIj4gPG5nLXBsdXJhbGl6ZSBjb3VudD1cIm1hcC5nZXRBbmFseXRpY3MoKS5jb250ZXh0dWFsQW5hbHl0aWNzLmxvb2tlZEF0RnJvbVwiIHdoZW49XCJ7XFwnb25lXFwnOiBcXCdwb2ludCBvZiB2aWV3XFwnLCBcXCdvdGhlclxcJzogXFwncG9pbnRzIG9mIHZpZXdcXCd9XCI+cG9pbnRzIG9mIHZpZXc8L25nLXBsdXJhbGl6ZT4gPC9kaXY+IDwvZGl2PiA8L2E+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+ICA8ZGl2IG5nLXNob3c9XCJtYXAucmVsYXRpb25zaGlwU2VsZWN0ZWQoKVwiIGNsYXNzPVwibmctaGlkZVwiPiA8ZGl2IGNsYXNzPVwiYW5hbHl0aWNzLWJpZy1hbmFseXRpY3MgcmVsYXRpb25zaGlwLWFuYWx5dGljc1wiPiA8ZGl2IGNsYXNzPVwiYW5hbHl0aWNzLXN1YmplY3Qtd3JhcHBlclwiPiAgPGRpdiBjbGFzcz1cImFuYWx5dGljcy1zdWJqZWN0IGFuYWx5dGljcy1yZWxhdGlvbnNoaXAtaW50cm9cIj5UaGlzIHJlbGF0aW9uc2hpcC4uLjwvZGl2PiA8ZGl2IGNsYXNzPVwiYW5hbHl0aWNzLXN1YmplY3QtcmVsYXRpb25zaGlwLW1vZGVsXCI+IDxkaXYgY2xhc3M9XCJhbmFseXRpY3Mtc3ViamVjdC1yZWxhdGlvbnNoaXAtZnJvbS10aGluZ1wiPiA8c3BhbiBjbGFzcz1cIm5nLWJpbmRpbmdcIj48L3NwYW4+IDwvZGl2PiA8ZGl2IGNsYXNzPVwiYW5hbHl0aWNzLXN1YmplY3QtcmVsYXRpb25zaGlwLWNvbm5lY3RvclwiPjwvZGl2PiA8ZGl2IGNsYXNzPVwiYW5hbHl0aWNzLXN1YmplY3QtcmVsYXRpb25zaGlwLWZyb20tdGhpbmdcIj4gPHNwYW4gY2xhc3M9XCJuZy1iaW5kaW5nXCI+PC9zcGFuPiA8L2Rpdj4gPGRpdiBpZD1cImFuYWx5dGljcy1iaWctYW5hbHl0aWNzLWFycm93XCI+PC9kaXY+IDwvZGl2PiAgPC9kaXY+IDxkaXYgY2xhc3M9XCJiaWctYW5hbHl0aWMtd3JhcHBlclwiPiA8YSBocmVmPVwiI1wiIGNsYXNzPVwiYW5hbHl0aWMtcG9wb3ZlciBwb3BvdmVyLXRvcCBuZy1zY29wZVwiIHBvcG92ZXItdHJpZ2dlcj1cIm1vdXNlZW50ZXJcIiBwb3BvdmVyLXBsYWNlbWVudD1cInRvcFwiIHBvcG92ZXI9XCJFdmVyeSByZWxhdGlvbnNoaXAgY2FuIGJlIG1hZGUgaW50byBhIGRpc3RpbmN0IGlkZWEhXCI+IDxkaXYgY2xhc3M9XCJiaWctYW5hbHl0aWMgaWNvbkRcIj4gPGRpdiBjbGFzcz1cImJpZy1hbmFseXRpYy1wcmVmaXhcIj5Db252ZXJ0ZWQgdG8gYW4gaWRlYT88L2Rpdj4gPGRpdiBjbGFzcz1cInRydWUgbmctaGlkZVwiIG5nLXNob3c9XCJtYXAuZ2V0QW5hbHl0aWNzKCkuY29udGV4dHVhbEFuYWx5dGljcy5pc1JUaGluZ1wiPiA8ZGl2IGNsYXNzPVwiYmlnLWFuYWx5dGljLXJlbGF0aW9uc2hpcC1ncmFwaGljXCI+IDxkaXYgY2xhc3M9XCJ0aGluZy1sZWZ0IHRoaW5nXCI+PC9kaXY+IDxkaXYgY2xhc3M9XCJ0aGluZy1jb25uZWN0b3IgY29udmVydGVkLXRoaW5nLXRydWVcIj48L2Rpdj4gPGRpdiBjbGFzcz1cInRoaW5nLXJpZ2h0IHRoaW5nXCI+PC9kaXY+IDwvZGl2PiA8c3BhbiBjbGFzcz1cImJpZy1hbmFseXRpYy1yZXN1bHRcIj5ZZXM8L3NwYW4+IDwvZGl2PiA8ZGl2IGNsYXNzPVwiZmFsc2VcIiBuZy1oaWRlPVwibWFwLmdldEFuYWx5dGljcygpLmNvbnRleHR1YWxBbmFseXRpY3MuaXNSVGhpbmdcIj4gPGRpdiBjbGFzcz1cImJpZy1hbmFseXRpYy1yZWxhdGlvbnNoaXAtZ3JhcGhpY1wiPiA8ZGl2IGNsYXNzPVwidGhpbmctbGVmdCB0aGluZ1wiPjwvZGl2PiA8ZGl2IGNsYXNzPVwidGhpbmctY29ubmVjdG9yIGNvbnZlcnRlZC10aGluZy1mYWxzZVwiPjwvZGl2PiA8ZGl2IGNsYXNzPVwidGhpbmctcmlnaHQgdGhpbmdcIj48L2Rpdj4gPC9kaXY+IDxzcGFuIGNsYXNzPVwiYmlnLWFuYWx5dGljLXJlc3VsdFwiPk5vPC9zcGFuPiA8L2Rpdj4gPC9kaXY+IDwvYT4gPC9kaXY+IDxkaXYgY2xhc3M9XCJiaWctYW5hbHl0aWMtd3JhcHBlclwiPiA8YSBocmVmPVwiI1wiIGNsYXNzPVwiYW5hbHl0aWMtcG9wb3ZlciBwb3BvdmVyLXRvcCBuZy1zY29wZVwiIHBvcG92ZXItdHJpZ2dlcj1cIm1vdXNlZW50ZXJcIiBwb3BvdmVyLXBsYWNlbWVudD1cInRvcFwiIHBvcG92ZXI9XCJPbmNlIHlvdVxcJ3ZlIG1hZGUgeW91ciByZWxhdGlvbnNoaXAgaW50byBhbiBpZGVhLCB5b3UgY2FuIGFkZCBwYXJ0cy4uLlwiPiA8ZGl2IGNsYXNzPVwiYmlnLWFuYWx5dGljIGljb25EXCI+IDxkaXYgY2xhc3M9XCJiaWctYW5hbHl0aWMtcHJlZml4XCI+Q29udmVydGVkIHRvIGEgc3lzdGVtPzwvZGl2PiA8ZGl2IGNsYXNzPVwidHJ1ZSBuZy1oaWRlXCIgbmctc2hvdz1cIm1hcC5nZXRBbmFseXRpY3MoKS5jb250ZXh0dWFsQW5hbHl0aWNzLmlzUlN5c3RlbVwiPiA8ZGl2IGNsYXNzPVwiYmlnLWFuYWx5dGljLXJlbGF0aW9uc2hpcC1ncmFwaGljXCI+IDxkaXYgY2xhc3M9XCJ0aGluZy1sZWZ0IHRoaW5nXCI+PC9kaXY+IDxkaXYgY2xhc3M9XCJ0aGluZy1jb25uZWN0b3IgY29udmVydGVkLXN5c3RlbS10cnVlXCI+IDxkaXYgY2xhc3M9XCJjaGlsZC1sZWZ0XCI+PC9kaXY+IDxkaXYgY2xhc3M9XCJjaGlsZC1yaWdodFwiPjwvZGl2PiA8L2Rpdj4gPGRpdiBjbGFzcz1cInRoaW5nLXJpZ2h0IHRoaW5nXCI+PC9kaXY+IDwvZGl2PiA8c3BhbiBjbGFzcz1cImJpZy1hbmFseXRpYy1yZXN1bHRcIj5ZZXM8L3NwYW4+IDwvZGl2PiA8ZGl2IGNsYXNzPVwiZmFsc2VcIiBuZy1oaWRlPVwibWFwLmdldEFuYWx5dGljcygpLmNvbnRleHR1YWxBbmFseXRpY3MuaXNSU3lzdGVtXCI+IDxkaXYgY2xhc3M9XCJiaWctYW5hbHl0aWMtcmVsYXRpb25zaGlwLWdyYXBoaWNcIj4gPGRpdiBjbGFzcz1cInRoaW5nLWxlZnQgdGhpbmdcIj48L2Rpdj4gPGRpdiBjbGFzcz1cInRoaW5nLWNvbm5lY3RvciBjb252ZXJ0ZWQtc3lzdGVtLWZhbHNlXCI+PC9kaXY+IDxkaXYgY2xhc3M9XCJ0aGluZy1yaWdodCB0aGluZ1wiPjwvZGl2PiA8L2Rpdj4gPHNwYW4gY2xhc3M9XCJiaWctYW5hbHl0aWMtcmVzdWx0XCI+Tm88L3NwYW4+IDwvZGl2PiA8L2Rpdj4gPC9hPiA8L2Rpdj4gPGRpdiBjbGFzcz1cImJpZy1hbmFseXRpYy13cmFwcGVyXCI+IDxhIGhyZWY9XCIjXCIgY2xhc3M9XCJhbmFseXRpYy1wb3BvdmVyIHBvcG92ZXItdG9wIG5nLXNjb3BlXCIgcG9wb3Zlci10cmlnZ2VyPVwibW91c2VlbnRlclwiIHBvcG92ZXItcGxhY2VtZW50PVwidG9wXCIgcG9wb3Zlcj1cIk9uY2UgeW91XFwndmUgbWFkZSB5b3VyIHJlbGF0aW9uc2hpcCBpbnRvIGFuIGlkZWEsIHlvdSBjYW4gbWFrZSBpdCBhIHZpZXdwb2ludCwgdG9vLlwiPiA8ZGl2IGNsYXNzPVwiYmlnLWFuYWx5dGljIGljb25EXCI+IDxkaXYgY2xhc3M9XCJiaWctYW5hbHl0aWMtcHJlZml4XCI+Q29udmVydGVkIHRvIGEgdmlld3BvaW50PzwvZGl2PiA8ZGl2IGNsYXNzPVwidHJ1ZSBuZy1oaWRlXCIgbmctc2hvdz1cIm1hcC5nZXRBbmFseXRpY3MoKS5jb250ZXh0dWFsQW5hbHl0aWNzLmlzUlBvaW50XCI+IDxkaXYgY2xhc3M9XCJiaWctYW5hbHl0aWMtcmVsYXRpb25zaGlwLWdyYXBoaWNcIj4gPGRpdiBjbGFzcz1cInRoaW5nLWxlZnQgdGhpbmdcIj48L2Rpdj4gPGRpdiBjbGFzcz1cInRoaW5nLWNvbm5lY3RvciBjb252ZXJ0ZWQtdmlldy10cnVlXCI+IDxkaXYgY2xhc3M9XCJjaGlsZC1wZXJzcGVjdGl2ZVwiPjwvZGl2PiA8L2Rpdj4gPGRpdiBjbGFzcz1cInRoaW5nLXJpZ2h0IHRoaW5nXCI+PC9kaXY+IDwvZGl2PiA8c3BhbiBjbGFzcz1cImJpZy1hbmFseXRpYy1yZXN1bHRcIj5ZZXM8L3NwYW4+IDwvZGl2PiA8ZGl2IGNsYXNzPVwiZmFsc2VcIiBuZy1oaWRlPVwibWFwLmdldEFuYWx5dGljcygpLmNvbnRleHR1YWxBbmFseXRpY3MuaXNSUG9pbnRcIj4gPGRpdiBjbGFzcz1cImJpZy1hbmFseXRpYy1yZWxhdGlvbnNoaXAtZ3JhcGhpY1wiPiA8ZGl2IGNsYXNzPVwidGhpbmctbGVmdCB0aGluZ1wiPjwvZGl2PiA8ZGl2IGNsYXNzPVwidGhpbmctY29ubmVjdG9yIGNvbnZlcnRlZC12aWV3LWZhbHNlXCI+PC9kaXY+IDxkaXYgY2xhc3M9XCJ0aGluZy1yaWdodCB0aGluZ1wiPjwvZGl2PiA8L2Rpdj4gPHNwYW4gY2xhc3M9XCJiaWctYW5hbHl0aWMtcmVzdWx0XCI+Tm88L3NwYW4+IDwvZGl2PiA8L2Rpdj4gPC9hPiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IDxkaXYgaWQ9XCJwZXJzcGVjdGl2ZXMtdGFiXCIgY2xhc3M9XCJib3R0b20tdGFiXCIgbmctY2xhc3M9XCJjbGFzc0lmKFxcJ2V4cGFuZGVkXFwnLCBtYXAuZ2V0VWkoKS5jdXJyZW50VGFiSXMobWFwLmdldFVpKCkuVEFCX0lEX1BFUlNQRUNUSVZFUykpXCI+IDxkaXYgY2xhc3M9XCJib3R0b20tdGFiLWlubmVyXCI+ICA8ZGl2IGNsYXNzPVwidGFiLWNsb3NlLWJ1dHRvblwiPiA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImNsb3NlXCIgbmctY2xpY2s9XCJtYXAuZ2V0VWkoKS5jbG9zZVRhYihtYXAuZ2V0VWkoKS5UQUJfSURfUEVSU1BFQ1RJVkVTKVwiPsOXPC9idXR0b24+IDwvZGl2PiA8ZGl2IGNsYXNzPVwiYnRuLWdyb3VwXCI+IDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuXCIgaWQ9XCJtYWtlLXBlcnNwZWN0aXZlLWJ1dHRvblwiIG5nLWNsaWNrPVwibWFwLmdldFVpKCkuY2xvc2VUYWIobWFwLmdldFVpKCkuVEFCX0lEX1BFUlNQRUNUSVZFUylcIj5Eb25lLiBNYWtlIGEgUGVyc3BlY3RpdmU8L2J1dHRvbj4gPC9kaXY+IDxoMj5DcmVhdGUgYSBQZXJzcGVjdGl2ZTwvaDI+IDxkaXYgY2xhc3M9XCJib2R5LXRleHRcIiBkYXRhLXNraXA9XCJ0cnVlXCI+IFlvdSBoYXZlIHNlbGVjdGVkIHRoZSBcInBvaW50XCIgb2YgYSBQZXJzcGVjdGl2ZS4gTm93IHNlbGVjdCBvbmUgb3IgbW9yZSBpZGVhcyB0aGF0IG1ha2UgdXAgdGhlIFwidmlld1wiIG9mIHRoZSBwZXJzcGVjdGl2ZSAoZXZlcnkgUGVyc3BlY3RpdmUgaXMgbWFkZSB1cCBvZiBhIHBvaW50IGFuZCBhIHZpZXcpLiBTZWxlY3QgYSB0aGluZyBvciBjb250cm9sLXNlbGVjdCBvciBkcmFnLXNlbGVjdCB0byBjaG9vc2UgbXVsdGlwbGUgdmlld3MuIFNlbGVjdCBhZ2FpbiB0byBkZS1zZWxlY3QuIFRoZW4gY2xpY2sgdGhlIE1ha2UgYSBQZXJzcGVjdGl2ZSBidXR0b24gd2hlbiBkb25lLiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA8ZGl2IGlkPVwiZGlzdGluY3Rpb25zLXRhYlwiIGNsYXNzPVwiYm90dG9tLXRhYlwiIG5nLWNsYXNzPVwiY2xhc3NJZihcXCdleHBhbmRlZFxcJywgbWFwLmdldFVpKCkuY3VycmVudFRhYklzKG1hcC5nZXRVaSgpLlRBQl9JRF9ESVNUSU5DVElPTlMpKVwiPiA8ZGl2IGNsYXNzPVwiYm90dG9tLXRhYi1pbm5lclwiPiAgPGRpdiBjbGFzcz1cInRhYi1jbG9zZS1idXR0b25cIj4gPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJjbG9zZVwiIG5nLWNsaWNrPVwibWFwLmdldFVpKCkuY2xvc2VUYWIobWFwLmdldFVpKCkuVEFCX0lEX0RJU1RJTkNUSU9OUylcIj7DlzwvYnV0dG9uPiA8L2Rpdj4gPGRpdiBjbGFzcz1cImJ0bi1ncm91cFwiPiA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0blwiIGlkPVwibWFrZS1kaXN0aW5jdGlvbi1idXR0b25cIiBuZy1jbGljaz1cIm1hcC5nZXRVaSgpLmNsb3NlVGFiKG1hcC5nZXRVaSgpLlRBQl9JRF9ESVNUSU5DVElPTlMpXCI+RG9uZS4gTWFrZSBhIERpc3RpbmN0aW9uPC9idXR0b24+IDwvZGl2PiA8aDI+TWFrZSBhbiBbYWR2YW5jZWRdIERpc3RpbmN0aW9uPC9oMj4gPGRpdiBjbGFzcz1cImJvZHktdGV4dFwiIGRhdGEtc2tpcD1cInRydWVcIj4gVG8gZGlzdGluZ3Vpc2ggdGhpcyB0aGluZyBleHBsaWNpdGx5IGZyb20gb25lIG9yIG1vcmUgb3RoZXIgdGhpbmdzIChldmVyeSBEaXN0aW5jdGlvbiBpcyBtYWRlIHVwIG9mIFwidGhpbmdcIiBhbmQgXCJvdGhlclwiKSwgc2VsZWN0IG9uZSBvciBtb3JlIHRoaW5ncy4gU2VsZWN0IGEgdGhpbmcgb3IgY29udHJvbC1zZWxlY3Qgb3IgZHJhZy1zZWxlY3QgdG8gY2hvb3NlIG11bHRpcGxlIFwib3RoZXJzXCIuIFNlbGVjdCBhZ2FpbiB0byBkZS1zZWxlY3QuIFRoZW4gY2xpY2sgdGhlIE1ha2UgYW4gQWR2YW5jZWQgRGlzdGluY3Rpb24gYnV0dG9uIHdoZW4gZG9uZS4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4gPGRpdiBpZD1cInN0YW5kYXJkcy10YWJcIiBjbGFzcz1cImJvdHRvbS10YWJcIiBuZy1jbGFzcz1cImNsYXNzSWYoXFwnZXhwYW5kZWRcXCcsIG1hcC5nZXRVaSgpLmN1cnJlbnRUYWJJcyhtYXAuZ2V0VWkoKS5UQUJfSURfU1RBTkRBUkRTKSlcIj4gIDxkaXYgY2xhc3M9XCJ0YWItY2xvc2UtYnV0dG9uXCI+IDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiY2xvc2VcIiBuZy1jbGljaz1cIm1hcC5nZXRVaSgpLmNsb3NlVGFiKG1hcC5nZXRVaSgpLlRBQl9JRF9TVEFOREFSRFMpXCI+w5c8L2J1dHRvbj4gPC9kaXY+IDxoMiBjbGFzcz1cInRhYi10aXRsZVwiPkNvbW1vbiBDb3JlIFN0YW5kYXJkczwvaDI+IDxkaXYgY2xhc3M9XCJpdGVtLWFjdGlvbnNcIj4gIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1taW5pIGFkZC1pdGVtIHBvcG92ZXItcmlnaHQgbmctc2NvcGVcIiBwb3BvdmVyLXRyaWdnZXI9XCJtb3VzZWVudGVyXCIgcG9wb3Zlci1wbGFjZW1lbnQ9XCJyaWdodFwiIHBvcG92ZXI9XCJBZGQgbmV3IGl0ZW1cIiBuZy1jbGljaz1cImNjc1RhZ2dpbmcuYWRkTGluaygpXCIgbmctZGlzYWJsZWQ9XCIhY2FuRWRpdCB8fCBjY3NUYWdnaW5nLmVkaXRpbmdBbkl0ZW0oKVwiPiBBZGQgSXRlbSA8L2J1dHRvbj4gPC9kaXY+IDxkaXYgY2xhc3M9XCJpdGVtLWxpc3RcIj4gPHVsPiAgPC91bD4gPC9kaXY+ICA8L2Rpdj4gPC9kaXY+IDxkaXYgaWQ9XCJwcmVzZW50ZXItcHJpbnQtdmlld1wiPiAgPC9kaXY+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IDwvZGl2PicsIGZ1bmN0aW9uKG9wdHMpIHtcbn0pOyIsInZhciByaW90ID0gcmVxdWlyZSgncmlvdCcpO1xucmlvdC50YWcoJ3BhZ2UtZm9vdGVyJywgJzxkaXYgY2xhc3M9XCJwYWdlLWZvb3RlclwiPiA8ZGl2IGNsYXNzPVwicGFnZS1mb290ZXItaW5uZXJcIj4gMjAxNSAmY29weTsgQ2FicmVyYSBSZXNlYXJjaCBMYWIgPC9kaXY+IDxkaXYgY2xhc3M9XCJzY3JvbGwtdG8tdG9wXCI+IDxpIGNsYXNzPVwiaWNvbi1hcnJvdy11cFwiPjwvaT4gPC9kaXY+IDwvZGl2PicsIGZ1bmN0aW9uKG9wdHMpIHtcbn0pOyIsInZhciByaW90ID0gcmVxdWlyZSgncmlvdCcpO1xucmlvdC50YWcoJ3BhZ2UtaGVhZGVyJywgJzxkaXYgaWQ9XCJoZWFkZXItdG9wXCIgY2xhc3M9XCJwYWdlLWhlYWRlciBuYXZiYXIgbmF2YmFyLWZpeGVkLXRvcFwiPiA8ZGl2IGlkPVwiaGVhZGVyLWNvbnRlbnRcIiBjbGFzcz1cInBhZ2UtaGVhZGVyLWlubmVyXCI+IDxwYWdlLWxvZ28+PC9wYWdlLWxvZ28+IDxwYWdlLWFjdGlvbnM+PC9wYWdlLWFjdGlvbnM+IDxkaXYgY2xhc3M9XCJwYWdlLXRvcFwiPiA8cGFnZS1zZWFyY2g+PC9wYWdlLXNlYXJjaD4gPHBhZ2UtdG9wbWVudT48L3BhZ2UtdG9wbWVudT4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4nLCBmdW5jdGlvbihvcHRzKSB7XG59KTsiLCJ2YXIgcmlvdCA9IHJlcXVpcmUoJ3Jpb3QnKTtcbnJpb3QudGFnKCdwYWdlLWxvZ28nLCAnPGRpdiBjbGFzcz1cInBhZ2UtbG9nb1wiPiA8YSBocmVmPVwiaW5kZXguaHRtbFwiPiA8aW1nIHNyYz1cImFzc2V0cy9pbWcvbWV0YW1hcF9jbG91ZC5wbmdcIiBhbHQ9XCJsb2dvXCIgY2xhc3M9XCJsb2dvLWRlZmF1bHRcIj4gPC9hPiA8ZGl2IGNsYXNzPVwibWVudS10b2dnbGVyIHNpZGViYXItdG9nZ2xlclwiPiAgPC9kaXY+IDwvZGl2PiA8YSBocmVmPVwiamF2YXNjcmlwdDo7XCIgY2xhc3M9XCJtZW51LXRvZ2dsZXIgcmVzcG9uc2l2ZS10b2dnbGVyXCIgZGF0YS10b2dnbGU9XCJjb2xsYXBzZVwiIGRhdGEtdGFyZ2V0PVwiLm5hdmJhci1jb2xsYXBzZVwiPiA8L2E+JywgZnVuY3Rpb24ob3B0cykge1xufSk7IiwidmFyIHJpb3QgPSByZXF1aXJlKCdyaW90Jyk7XG5yaW90LnRhZygncGFnZS1zZWFyY2gnLCAnIDxmb3JtIGNsYXNzPVwic2VhcmNoLWZvcm1cIiBhY3Rpb249XCJleHRyYV9zZWFyY2guaHRtbFwiIG1ldGhvZD1cIkdFVFwiPiA8ZGl2IGNsYXNzPVwiaW5wdXQtZ3JvdXBcIj4gPGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCJmb3JtLWNvbnRyb2wgaW5wdXQtc21cIiBwbGFjZWhvbGRlcj1cIlNlYXJjaC4uLlwiIG5hbWU9XCJxdWVyeVwiPiA8c3BhbiBjbGFzcz1cImlucHV0LWdyb3VwLWJ0blwiPiA8YSBocmVmPVwiamF2YXNjcmlwdDo7XCIgY2xhc3M9XCJidG4gc3VibWl0XCI+PGkgY2xhc3M9XCJmYSBmYS1zZWFyY2hcIj48L2k+PC9hPiA8L3NwYW4+IDwvZGl2PiA8L2Zvcm0+JywgZnVuY3Rpb24ob3B0cykge1xufSk7IiwidmFyIHJpb3QgPSByZXF1aXJlKCdyaW90Jyk7XG5yaW90LnRhZygncGFnZS1zaWRlYmFyJywgJzxkaXYgY2xhc3M9XCJwYWdlLXNpZGViYXItd3JhcHBlclwiPiAgIDxkaXYgY2xhc3M9XCJwYWdlLXNpZGViYXIgbmF2YmFyLWNvbGxhcHNlIGNvbGxhcHNlXCI+ICAgICAgICA8dWwgY2xhc3M9XCJwYWdlLXNpZGViYXItbWVudSBcIiBkYXRhLWtlZXAtZXhwYW5kZWQ9XCJmYWxzZVwiIGRhdGEtYXV0by1zY3JvbGw9XCJ0cnVlXCIgZGF0YS1zbGlkZS1zcGVlZD1cIjIwMFwiPiA8bGkgb25jbGljaz1cInsgcGFyZW50LmNsaWNrIH1cIiBlYWNoPVwieyBkYXRhIH1cIj4gPGEgaWY9XCJ7IGljb24gfVwiIGhyZWY9XCJqYXZhc2NyaXB0OjtcIj4gPGkgY2xhc3M9XCJ7IGljb24gfVwiIHJpb3Qtc3R5bGU9XCJjb2xvcjojeyBjb2xvciB9O1wiPjwvaT4gPHNwYW4gY2xhc3M9XCJ0aXRsZVwiPnsgdGl0bGUgfTwvc3Bhbj4gPHNwYW4gY2xhc3M9XCJ7IGFycm93OiBtZW51Lmxlbmd0aCB9XCI+PC9zcGFuPiA8L2E+IDx1bCBpZj1cInsgbWVudS5sZW5ndGggfVwiIGNsYXNzPVwic3ViLW1lbnVcIj4gPGxpIGVhY2g9XCJ7IG1lbnUgfVwiPiA8YSBocmVmPVwiamF2YXNjcmlwdDo7XCI+IDxpIGNsYXNzPVwieyBpY29uIH1cIj48L2k+IDxzcGFuIGNsYXNzPVwidGl0bGVcIj57IHRpdGxlIH08L3NwYW4+IDwvYT4gPC9saT4gPC91bD4gPC9saT4gPC91bD4gPC9kaXY+IDwvZGl2PicsIGZ1bmN0aW9uKG9wdHMpIHtcblxudGhpcy5jbGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICBjb25zb2xlLmxvZygnZm9vJyk7XG59O1xuXG52YXIgdGhhdCA9IHRoaXM7XG50aGF0LmRhdGEgPSBbXTtcbnRoYXQuTWV0YU1hcCA9IE1ldGFNYXA7XG50aGF0Lk1ldGFNYXAuTWV0YUZpcmUuZ2V0RGF0YSgnbWVudS9zaWRlYmFyJykudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgIHRoYXQuZGF0YSA9IGRhdGE7XG4gICAgdGhhdC51cGRhdGUoKTtcbn0pO1xufSk7IiwidmFyIHJpb3QgPSByZXF1aXJlKCdyaW90Jyk7XG5yaW90LnRhZygncGFnZS10b3BtZW51JywgJzxkaXYgY2xhc3M9XCJ0b3AtbWVudVwiPiA8dWwgY2xhc3M9XCJuYXYgbmF2YmFyLW5hdiBwdWxsLXJpZ2h0XCI+IDxsaSBjbGFzcz1cInNlcGFyYXRvciBoaWRlXCI+IDwvbGk+ICA8bGkgY2xhc3M9XCJkcm9wZG93biBkcm9wZG93bi1leHRlbmRlZCBkcm9wZG93bi1ub3RpZmljYXRpb24gZHJvcGRvd25cIiBpZD1cImhlYWRlcl9ub3RpZmljYXRpb25fYmFyXCI+IDxhIGhyZWY9XCJqYXZhc2NyaXB0OjtcIiBjbGFzcz1cImRyb3Bkb3duLXRvZ2dsZVwiIGRhdGEtdG9nZ2xlPVwiZHJvcGRvd25cIiBkYXRhLWhvdmVyPVwiZHJvcGRvd25cIiBkYXRhLWNsb3NlLW90aGVycz1cInRydWVcIj4gPGkgY2xhc3M9XCJmYSBmYS1iZWxsLW9cIj48L2k+IDxzcGFuIGNsYXNzPVwiYmFkZ2UgYmFkZ2Utc3VjY2Vzc1wiPiAxIDwvc3Bhbj4gPC9hPiA8dWwgY2xhc3M9XCJkcm9wZG93bi1tZW51XCI+IDxsaSBjbGFzcz1cImV4dGVybmFsXCI+IDxoMz4gPHNwYW4gY2xhc3M9XCJib2xkXCI+MSBwZW5kaW5nPC9zcGFuPiBub3RpZmljYXRpb24gPC9oMz4gPGEgaHJlZj1cImphdmFzY3JpcHQ6O1wiPnZpZXcgYWxsPC9hPiA8L2xpPiA8bGk+IDx1bCBjbGFzcz1cImRyb3Bkb3duLW1lbnUtbGlzdCBzY3JvbGxlclwiIHN0eWxlPVwiaGVpZ2h0OiAyNTBweDtcIiBkYXRhLWhhbmRsZS1jb2xvcj1cIiM2MzcyODNcIj4gPGxpPiA8YSBocmVmPVwiamF2YXNjcmlwdDo7XCI+IDxzcGFuIGNsYXNzPVwidGltZVwiPmp1c3Qgbm93PC9zcGFuPiA8c3BhbiBjbGFzcz1cImRldGFpbHNcIj4gPHNwYW4gY2xhc3M9XCJsYWJlbCBsYWJlbC1zbSBsYWJlbC1pY29uIGxhYmVsLXN1Y2Nlc3NcIj4gPGkgY2xhc3M9XCJmYSBmYS1wbHVzXCI+PC9pPiA8L3NwYW4+IE5ldyB1c2VyIHJlZ2lzdGVyZWQuIDwvc3Bhbj4gPC9hPiA8L2xpPiA8L3VsPiA8L2xpPiA8L3VsPiA8L2xpPiA8bGkgY2xhc3M9XCJzZXBhcmF0b3IgaGlkZVwiPiA8L2xpPiAgPGxpIGNsYXNzPVwiZHJvcGRvd24gZHJvcGRvd24tZXh0ZW5kZWQgZHJvcGRvd24tbm90aWZpY2F0aW9uIGRyb3Bkb3duXCIgaWQ9XCJoZWFkZXJfcG9pbnRzX2JhclwiPiA8YSBocmVmPVwiamF2YXNjcmlwdDo7XCIgY2xhc3M9XCJkcm9wZG93bi10b2dnbGVcIiBkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCIgZGF0YS1ob3Zlcj1cImRyb3Bkb3duXCIgZGF0YS1jbG9zZS1vdGhlcnM9XCJ0cnVlXCI+IDxpIGNsYXNzPVwiZmEgZmEtdHJvcGh5XCI+PC9pPiA8c3BhbiBjbGFzcz1cImJhZGdlIGJhZGdlLXN1Y2Nlc3NcIj4gMyA8L3NwYW4+IDwvYT4gPHVsIGNsYXNzPVwiZHJvcGRvd24tbWVudVwiPiA8bGkgY2xhc3M9XCJleHRlcm5hbFwiPiA8aDM+IDxzcGFuIGNsYXNzPVwiYm9sZFwiPjMgbmV3PC9zcGFuPiBhY2hpZXZlbWVudHMgPC9oMz4gPGEgaHJlZj1cImphdmFzY3JpcHQ6O1wiPnZpZXcgYWxsPC9hPiA8L2xpPiA8bGk+IDx1bCBjbGFzcz1cImRyb3Bkb3duLW1lbnUtbGlzdCBzY3JvbGxlclwiIHN0eWxlPVwiaGVpZ2h0OiAyNTBweDtcIiBkYXRhLWhhbmRsZS1jb2xvcj1cIiM2MzcyODNcIj4gPGxpPiA8YSBocmVmPVwiamF2YXNjcmlwdDo7XCI+IDxzcGFuIGNsYXNzPVwidGltZVwiPmp1c3Qgbm93PC9zcGFuPiA8c3BhbiBjbGFzcz1cImRldGFpbHNcIj4gPHNwYW4gY2xhc3M9XCJsYWJlbCBsYWJlbC1zbSBsYWJlbC1pY29uIGxhYmVsLXN1Y2Nlc3NcIj4gPGkgY2xhc3M9XCJmYSBmYS1wbHVzXCI+PC9pPiA8L3NwYW4+IENyZWF0ZWQgYSBwZXJzcGVjdGl2ZSBjaXJjbGUhIDwvc3Bhbj4gPC9hPiA8L2xpPiA8L3VsPiA8L2xpPiA8L3VsPiA8L2xpPiAgPGxpIGNsYXNzPVwic2VwYXJhdG9yIGhpZGVcIj4gPC9saT4gIDxsaSBjbGFzcz1cImRyb3Bkb3duXCIgaWQ9XCJoZWFkZXJfZGFzaGJvYXJkX2JhclwiPiA8YSBjbGFzcz1cImRyb3Bkb3duLXRvZ2dsZVwiIGhyZWY9XCJqYXZhc2NyaXB0OjtcIj4gPGkgY2xhc3M9XCJmYSBmYS1ob21lXCI+PC9pPiA8L2E+IDwvbGk+IDxsaSBjbGFzcz1cInNlcGFyYXRvciBoaWRlXCI+IDwvbGk+ICA8bGkgY2xhc3M9XCJkcm9wZG93biBkcm9wZG93bi1leHRlbmRlZCBkcm9wZG93bi1ub3RpZmljYXRpb24gZHJvcGRvd25cIiBpZD1cImhlYWRlcl9oZWxwX2JhclwiPiA8YSBocmVmPVwiamF2YXNjcmlwdDo7XCIgY2xhc3M9XCJkcm9wZG93bi10b2dnbGVcIiBkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCIgZGF0YS1ob3Zlcj1cImRyb3Bkb3duXCIgZGF0YS1jbG9zZS1vdGhlcnM9XCJ0cnVlXCI+IDxpIGNsYXNzPVwiZmEgZmEtZ3JhZHVhdGlvbi1jYXBcIj48L2k+IDwvYT4gPHVsIGNsYXNzPVwiZHJvcGRvd24tbWVudVwiPiA8bGk+IDx1bCBjbGFzcz1cImRyb3Bkb3duLW1lbnUtbGlzdCBzY3JvbGxlclwiIHN0eWxlPVwiaGVpZ2h0OiAyNzBweDtcIiBkYXRhLWhhbmRsZS1jb2xvcj1cIiM2MzcyODNcIj4gPGxpPiA8YSBocmVmPVwiamF2YXNjcmlwdDo7XCI+IDxpIGNsYXNzPVwiZmEgZmEtbGlnaHRidWxiLW9cIj48L2k+IDxzcGFuIGNsYXNzPVwidGl0bGVcIj5UdXRvcmlhbDwvc3Bhbj4gPC9hPiA8L2xpPiA8bGk+IDxhIGhyZWY9XCJqYXZhc2NyaXB0OjtcIj4gPGkgY2xhc3M9XCJmYSBmYS1xdWVzdGlvblwiPjwvaT4gPHNwYW4gY2xhc3M9XCJ0aXRsZVwiPkZBUTwvc3Bhbj4gPC9hPiA8L2xpPiA8bGk+IDxhIGhyZWY9XCJqYXZhc2NyaXB0OjtcIj4gPGkgY2xhc3M9XCJmYSBmYS1saWZlLXJpbmdcIj48L2k+IDxzcGFuIGNsYXNzPVwidGl0bGVcIj5TdXBwb3J0PC9zcGFuPiA8L2E+IDwvbGk+IDxsaT4gPGEgaHJlZj1cImphdmFzY3JpcHQ6O1wiIG9uY2xpY2s9XCJVc2VyU25hcC5vcGVuUmVwb3J0V2luZG93KCk7XCI+IDxpIGNsYXNzPVwiZmEgZmEtZnJvd24tb1wiPjwvaT4gPHNwYW4gY2xhc3M9XCJ0aXRsZVwiPkZlZWRiYWNrPC9zcGFuPiA8L2E+IDwvbGk+IDxsaT4gPGEgaHJlZj1cImphdmFzY3JpcHQ6O1wiPiA8aSBjbGFzcz1cImZhIGZhLWJ1bGxzZXllXCI+PC9pPiA8c3BhbiBjbGFzcz1cInRpdGxlXCI+SW5saW5lIFRyYWluaW5nPC9zcGFuPiA8L2E+IDwvbGk+IDxsaT4gPGEgaHJlZj1cImphdmFzY3JpcHQ6O1wiPiA8aSBjbGFzcz1cImZhIGZhLWxhcHRvcFwiPjwvaT4gPHNwYW4gY2xhc3M9XCJ0aXRsZVwiPk9ubGluZSBUcmFpbmluZzwvc3Bhbj4gPC9hPiA8L2xpPiA8L3VsPiA8L2xpPiA8L3VsPiA8L2xpPiA8bGkgY2xhc3M9XCJzZXBhcmF0b3IgaGlkZVwiPiA8L2xpPiA8bGkgb25jbGljaz1cInsgb25jZSB9XCIgY2xhc3M9XCJkcm9wZG93biBkcm9wZG93bi11c2VyIGRyb3Bkb3duXCI+IDxhIGhyZWY9XCJqYXZhc2NyaXB0OjtcIiBjbGFzcz1cImRyb3Bkb3duLXRvZ2dsZVwiIGRhdGEtdG9nZ2xlPVwiZHJvcGRvd25cIiBkYXRhLWhvdmVyPVwiZHJvcGRvd25cIiBkYXRhLWNsb3NlLW90aGVycz1cInRydWVcIj4gPHNwYW4gY2xhc3M9XCJ1c2VybmFtZSB1c2VybmFtZS1oaWRlLW9uLW1vYmlsZVwiPiB7IHVzZXJuYW1lIH0gPC9zcGFuPiAgPGltZyBhbHQ9XCJcIiBoZWlnaHQ9XCIzOVwiIHdpZHRoPVwiMzlcIiBjbGFzcz1cImltZy1jaXJjbGVcIiByaW90LXNyYz1cInsgcGljdHVyZSB9XCI+IDwvYT4gPHVsIG9uY2xpY2s9XCJ7IHBhcmVudC5sb2cgfVwiIGNsYXNzPVwiZHJvcGRvd24tbWVudSBkcm9wZG93bi1tZW51LWRlZmF1bHRcIj4gPGxpPiA8YSBocmVmPVwiamF2YXNjcmlwdDo7XCI+IDxpIGNsYXNzPVwiZmEgZmEtdXNlclwiPjwvaT4gTXkgUHJvZmlsZSA8L2E+IDwvbGk+IDxsaSBvbmNsaWNrPVwieyBwYXJlbnQubG9nIH1cIiBvbm1vdXNlZW50ZXI9XCJ7IHBhcmVudC5sb2cgfVwiPiA8YSBocmVmPVwiamF2YXNjcmlwdDo7XCIgb25jbGljaz1cInsgcGFyZW50LmxvZyB9XCI+IDxpIGNsYXNzPVwiZmEgZmEtc2lnbi1vdXRcIiBvbmNsaWNrPVwieyBwYXJlbnQubG9nIH1cIj48L2k+IExvZyBPdXQgPC9hPiA8L2xpPiA8L3VsPiA8L2xpPiA8L3VsPiA8L2Rpdj4nLCBmdW5jdGlvbihvcHRzKSB7XG50aGlzLnVzZXJuYW1lID0gJyc7XG50aGlzLnBpY3R1cmUgPSAnJztcblxudGhpcy5vbmNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zb2xlLmxvZygnZm9vJyk7XG59O1xuXG52YXIgdGhhdCA9IHRoaXM7XG5sb2NhbGZvcmFnZS5nZXRJdGVtKCdwcm9maWxlJykudGhlbihmdW5jdGlvbiAocHJvZmlsZSkge1xuICAgICAgICB0aGF0LnVzZXJuYW1lID0gcHJvZmlsZS5uaWNrbmFtZTtcbiAgICAgICAgdGhhdC5waWN0dXJlID0gcHJvZmlsZS5waWN0dXJlIHx8ICdhc3NldHMvYWRtaW4vbGF5b3V0NC9pbWcvYXZhdGFyLmpwZyc7XG4gICAgICAgIHRoYXQudXBkYXRlKCk7XG59KTtcblxudGhpcy5sb2dvdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGRlYnVnZ2VyO1xuICAgICAgICBNZXRhTWFwLkF1dGgwLmxvZ291dCgpO1xufTtcbn0pOyJdfQ==
