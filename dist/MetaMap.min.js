(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.MetaMap = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}();require("babel/polyfill"),require("core-js"),window.$=window.jQuery=require("jquery"),require("jquery-ui"),require("bootstrap"),window.riot=require("riot"),window._=require("lodash"),window.Promise=require("bluebird");var Auth0=require("./js/app/auth0"),User=require("./js/app/user.js"),Router=require("./js/app/Router.js"),Eventer=require("./js/app/Eventer.js"),PageFactory=require("./js/pages/PageFactory.js"),NProgress=window.NProgress,Config=require("./js/app//Config.js"),ga=require("./js/integrations/google.js"),shims=require("./js/tools/shims.js"),Integrations=require("./js/app/Integrations"),MetaMap=function(){function e(){_classCallCheck(this,e),this.Config=new Config,this.config=this.Config.config,this.MetaFire=this.Config.MetaFire,this.Eventer=new Eventer(this),this.onReady();var n=this;Promise.onPossiblyUnhandledRejection(function(e){return n.error(e),this})}return _createClass(e,[{key:"onReady",value:function(){var e=this;return this._onReady||(this._onReady=new Promise(function(n,t){e.Config.onReady().then(function(t){e.Auth0=new Auth0(t.auth0),n()})["catch"](function(e){t(e)})})),this._onReady}},{key:"init",value:function(){var e=this;this.onReady().then(function(){e.Auth0.login().then(function(n){e.MetaFire.login().then(function(t){e.User=new User(n,t,e.Eventer,e.MetaFire),e.Integrations=new Integrations(e,e.User),e.User.onReady().then(function(n){e.PageFactory=new PageFactory(e.Eventer,e.MetaFire),e.Router=new Router(e),e.Router.init(),e.Integrations.init()})})})})}},{key:"log",value:function(e){this.debug||this.Integrations.sendEvent(e,"event","log","label"),window.console.info(e)}},{key:"error",value:function(e){window.console.error(e),this.debug||this.Integrations.sendEvent(e,"exception")}},{key:"logout",value:function(){this.MetaFire.logout(),this.Auth0.logout()}},{key:"debug",get:function(){return window.location.host.startsWith("localhost")}}]),e}(),mm=new MetaMap;module.exports=mm;
},{"./js/app//Config.js":16,"./js/app/Eventer.js":17,"./js/app/Integrations":19,"./js/app/Router.js":21,"./js/app/auth0":23,"./js/app/user.js":24,"./js/integrations/google.js":44,"./js/pages/PageFactory.js":45,"./js/tools/shims.js":77,"babel/polyfill":"babel/polyfill","bluebird":undefined,"bootstrap":undefined,"core-js":undefined,"jquery":undefined,"jquery-ui":undefined,"lodash":undefined,"riot":"riot"}],2:[function(require,module,exports){
"use strict";function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _inherits(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}var _createClass=function(){function e(e,r){for(var t=0;t<r.length;t++){var a=r[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(r,t,a){return t&&e(r.prototype,t),a&&e(r,a),r}}(),_get=function(e,r,t){for(var a=!0;a;){var n=e,o=r,i=t;s=u=c=void 0,a=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,o);if(void 0!==s){if("value"in s)return s.value;var c=s.get;return void 0===c?void 0:c.call(i)}var u=Object.getPrototypeOf(n);if(null===u)return void 0;e=u,r=o,t=i,a=!0}},ActionBase=require("./ActionBase.js"),CONSTANTS=require("../constants/constants"),Action=function(e){function r(){_classCallCheck(this,r);for(var e=arguments.length,t=Array(e),a=0;e>a;a++)t[a]=arguments[a];_get(Object.getPrototypeOf(r.prototype),"constructor",this).apply(this,t),this._actions={}}return _inherits(r,e),_createClass(r,[{key:"_getAction",value:function(e){var r=this._actions[e];if(!r){var t=null;switch(e){case CONSTANTS.ACTIONS.OPEN_MAP:t=require("./OpenMap.js");break;case CONSTANTS.ACTIONS.TRAININGS:t=require("./OpenTraining.js");break;case CONSTANTS.ACTIONS.NEW_MAP:t=require("./NewMap.js");break;case CONSTANTS.ACTIONS.COPY_MAP:t=require("./CopyMap.js");break;case CONSTANTS.ACTIONS.COURSE_LIST:t=require("./Courses");break;case CONSTANTS.ACTIONS.DELETE_MAP:t=require("./DeleteMap.js");break;case CONSTANTS.ACTIONS.MY_MAPS:t=require("./MyMaps.js");break;case CONSTANTS.ACTIONS.LOGOUT:t=require("./Logout.js");break;case CONSTANTS.ACTIONS.SHARE_MAP:t=require("./ShareMap");break;case CONSTANTS.ACTIONS.TERMS_AND_CONDITIONS:t=require("./Terms.js");break;case CONSTANTS.ACTIONS.FEEDBACK:t=require("./Feedback");break;default:t=require("./Home.js")}t&&(r=new t(this.metaFire,this.eventer,this.pageFactory),this._actions[e]=r)}return r}},{key:"act",value:function(e){_get(Object.getPrototypeOf(r.prototype),"act",this).call(this);var t=this._getAction(e);if(t){this.closeSidebar();for(var a=arguments.length,n=Array(a>1?a-1:0),o=1;a>o;o++)n[o-1]=arguments[o];return t.act.apply(t,n)}}}]),r}(ActionBase);module.exports=Action;
},{"../constants/constants":29,"./ActionBase.js":3,"./CopyMap.js":4,"./Courses":5,"./DeleteMap.js":6,"./Feedback":7,"./Home.js":8,"./Logout.js":9,"./MyMaps.js":10,"./NewMap.js":11,"./OpenMap.js":12,"./OpenTraining.js":13,"./ShareMap":14,"./Terms.js":15}],3:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),CONSTANTS=require("../constants/constants"),ActionBase=function(){function e(t,n,a){_classCallCheck(this,e),this.metaFire=t,this.eventer=n,this.pageFactory=a,this.metaMap=require("../../MetaMap.js")}return _createClass(e,[{key:"act",value:function(e){return!1}},{key:"toggleSidebar",value:function(){this.sidebarOpen?this.openSidebar():this.closeSidebar()}},{key:"openSidebar",value:function(e){this.sidebarOpen=!0,this.eventer["do"](CONSTANTS.EVENTS.SIDEBAR_OPEN,e)}},{key:"closeSidebar",value:function(){this.sidebarOpen=!1,this.eventer["do"](CONSTANTS.EVENTS.SIDEBAR_CLOSE)}}]),e}();module.exports=ActionBase;
},{"../../MetaMap.js":1,"../constants/constants":29}],4:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),_get=function(e,t,r){for(var a=!0;a;){var n=e,o=t,i=r;c=s=p=void 0,a=!1,null===n&&(n=Function.prototype);var c=Object.getOwnPropertyDescriptor(n,o);if(void 0!==c){if("value"in c)return c.value;var p=c.get;return void 0===p?void 0:p.call(i)}var s=Object.getPrototypeOf(n);if(null===s)return void 0;e=s,t=o,r=i,a=!0}},ActionBase=require("./ActionBase.js"),CONSTANTS=require("../constants/constants"),CopyMap=function(e){function t(){_classCallCheck(this,t);for(var e=arguments.length,r=Array(e),a=0;e>a;a++)r[a]=arguments[a];_get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,r)}return _inherits(t,e),_createClass(t,[{key:"act",value:function(e){for(var r,a=this,n=arguments.length,o=Array(n>1?n-1:0),i=1;n>i;i++)o[i-1]=arguments[i];return(r=_get(Object.getPrototypeOf(t.prototype),"act",this)).call.apply(r,[this,e].concat(o)),e?(this.metaFire.getData(""+CONSTANTS.ROUTES.MAPS_LIST+e).then(function(t){var r={created_at:""+new Date,owner:{userId:a.metaMap.User.userId,name:a.metaMap.User.displayName,picture:a.metaMap.User.picture},name:a.appendCopy(t.name),shared_with:{admin:{read:!0,write:!0},"*":{read:!1,write:!1}}};a.metaFire.getData(""+CONSTANTS.ROUTES.MAPS_DATA+e).then(function(e){var t=a.metaFire.pushData(r,""+CONSTANTS.ROUTES.MAPS_LIST),n=t.key();a.metaFire.setData(e,""+CONSTANTS.ROUTES.MAPS_DATA+n),a.metaMap.Router.to("map/"+n)})}),!0):new Error("Must have a map in order to copy.")}},{key:"appendCopy",value:function(e){var t=e;if(_.contains(e,"(Copy")){var r=e.split(" "),a=2;if(r.length-r.lastIndexOf("(Copy")<=4){var n=r[r.length-1];n&&(n=n.replace(")",""),a=+n+1,t=r.slice(0,r.length-2).join(" "))}t+=" (Copy "+a+")"}else t+=" (Copy 1)";return t}}]),t}(ActionBase);module.exports=CopyMap;
},{"../constants/constants":29,"./ActionBase.js":3}],5:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),_get=function(e,t,r){for(var o=!0;o;){var n=e,a=t,i=r;c=u=s=void 0,o=!1,null===n&&(n=Function.prototype);var c=Object.getOwnPropertyDescriptor(n,a);if(void 0!==c){if("value"in c)return c.value;var s=c.get;return void 0===s?void 0:s.call(i)}var u=Object.getPrototypeOf(n);if(null===u)return void 0;e=u,t=a,r=i,o=!0}},riot=require("riot"),ActionBase=require("./ActionBase.js"),CONSTANTS=require("../constants/constants"),home=require("../tags/pages/courses"),Courses=function(e){function t(){_classCallCheck(this,t);for(var e=arguments.length,r=Array(e),o=0;e>o;o++)r[o]=arguments[o];_get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,r)}return _inherits(t,e),_createClass(t,[{key:"act",value:function(e){for(var r,o,n,a=arguments.length,i=Array(a>1?a-1:0),c=1;a>c;c++)i[c-1]=arguments[c];(r=_get(Object.getPrototypeOf(t.prototype),"act",this)).call.apply(r,[this,e].concat(i)),$("#"+CONSTANTS.ELEMENTS.APP_CONTAINER).empty();var s=riot.mount(document.getElementById(CONSTANTS.ELEMENTS.APP_CONTAINER),CONSTANTS.TAGS.COURSE_LIST)[0];return s.update(),(o=this.eventer)["do"].apply(o,[CONSTANTS.PAGES.COURSE_LIST,{id:e}].concat(i)),(n=this.eventer)["do"].apply(n,[CONSTANTS.EVENTS.PAGE_NAME,{name:"Courses"}].concat(i)),this.closeSidebar(),!0}}]),t}(ActionBase);module.exports=Courses;
},{"../constants/constants":29,"../tags/pages/courses":65,"./ActionBase.js":3,"riot":"riot"}],6:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_get=function(e,t,r){for(var n=!0;n;){var o=e,a=t,i=r;l=u=c=void 0,n=!1,null===o&&(o=Function.prototype);var l=Object.getOwnPropertyDescriptor(o,a);if(void 0!==l){if("value"in l)return l.value;var c=l.get;return void 0===c?void 0:c.call(i)}var u=Object.getPrototypeOf(o);if(null===u)return void 0;e=u,t=a,r=i,n=!0}},ActionBase=require("./ActionBase.js"),CONSTANTS=require("../constants/constants"),_=require("lodash"),DeleteMap=function(e){function t(){_classCallCheck(this,t);for(var e=arguments.length,r=Array(e),n=0;e>n;n++)r[n]=arguments[n];_get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,r)}return _inherits(t,e),_createClass(t,[{key:"act",value:function(e){for(var r,n=arguments.length,o=Array(n>1?n-1:0),a=1;n>a;a++)o[a-1]=arguments[a];return(r=_get(Object.getPrototypeOf(t.prototype),"act",this)).call.apply(r,[this,e].concat(o)),t.deleteAll([e]),!0}}],[{key:"deleteAll",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?CONSTANTS.PAGES.HOME:arguments[1],r=require("../../MetaMap.js");try{_.each(e,function(e){r.MetaFire.deleteData(""+CONSTANTS.ROUTES.MAPS_DATA+e),r.MetaFire.deleteData(""+CONSTANTS.ROUTES.MAPS_LIST+e)})}catch(n){}finally{r.Router.to(t)}}}]),t}(ActionBase);module.exports=DeleteMap;
},{"../../MetaMap.js":1,"../constants/constants":29,"./ActionBase.js":3,"lodash":undefined}],7:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),_get=function(e,t,r){for(var o=!0;o;){var n=e,a=t,i=r;c=s=u=void 0,o=!1,null===n&&(n=Function.prototype);var c=Object.getOwnPropertyDescriptor(n,a);if(void 0!==c){if("value"in c)return c.value;var u=c.get;return void 0===u?void 0:u.call(i)}var s=Object.getPrototypeOf(n);if(null===s)return void 0;e=s,t=a,r=i,o=!0}},ActionBase=require("./ActionBase.js"),Feedback=function(e){function t(){_classCallCheck(this,t);for(var e=arguments.length,r=Array(e),o=0;e>o;o++)r[o]=arguments[o];_get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,r),this.userSnap=window.UserSnap}return _inherits(t,e),_createClass(t,[{key:"act",value:function(){return _get(Object.getPrototypeOf(t.prototype),"act",this).call(this),this.userSnap.openReportWindow(),!0}}]),t}(ActionBase);module.exports=Feedback;
},{"./ActionBase.js":3}],8:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),_get=function(e,t,r){for(var o=!0;o;){var n=e,a=t,i=r;c=s=u=void 0,o=!1,null===n&&(n=Function.prototype);var c=Object.getOwnPropertyDescriptor(n,a);if(void 0!==c){if("value"in c)return c.value;var u=c.get;return void 0===u?void 0:u.call(i)}var s=Object.getPrototypeOf(n);if(null===s)return void 0;e=s,t=a,r=i,o=!0}},riot=require("riot"),ActionBase=require("./ActionBase.js"),CONSTANTS=require("../constants/constants"),home=require("../tags/pages/home"),Home=function(e){function t(){_classCallCheck(this,t);for(var e=arguments.length,r=Array(e),o=0;e>o;o++)r[o]=arguments[o];_get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,r)}return _inherits(t,e),_createClass(t,[{key:"act",value:function(e){for(var r,o,n=arguments.length,a=Array(n>1?n-1:0),i=1;n>i;i++)a[i-1]=arguments[i];return(r=_get(Object.getPrototypeOf(t.prototype),"act",this)).call.apply(r,[this,e].concat(a)),$("#"+CONSTANTS.ELEMENTS.APP_CONTAINER).empty(),riot.mount(document.getElementById(CONSTANTS.ELEMENTS.APP_CONTAINER),CONSTANTS.TAGS.HOME),(o=this.eventer)["do"].apply(o,[CONSTANTS.EVENTS.PAGE_NAME,{name:"Home"}].concat(a)),this.closeSidebar(),!0}}]),t}(ActionBase);module.exports=Home;
},{"../constants/constants":29,"../tags/pages/home":66,"./ActionBase.js":3,"riot":"riot"}],9:[function(require,module,exports){
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var _createClass=function(){function t(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,r,o){return r&&t(e.prototype,r),o&&t(e,o),e}}(),_get=function(t,e,r){for(var o=!0;o;){var n=t,a=e,i=r;u=s=c=void 0,o=!1,null===n&&(n=Function.prototype);var u=Object.getOwnPropertyDescriptor(n,a);if(void 0!==u){if("value"in u)return u.value;var c=u.get;return void 0===c?void 0:c.call(i)}var s=Object.getPrototypeOf(n);if(null===s)return void 0;t=s,e=a,r=i,o=!0}},ActionBase=require("./ActionBase.js"),CONSTANTS=require("../constants/constants"),_=require("lodash"),Logout=function(t){function e(){_classCallCheck(this,e);for(var t=arguments.length,r=Array(t),o=0;t>o;o++)r[o]=arguments[o];_get(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,r),this.metaMap=require("../../MetaMap.js")}return _inherits(e,t),_createClass(e,[{key:"act",value:function(t){for(var r,o=arguments.length,n=Array(o>1?o-1:0),a=1;o>a;a++)n[a-1]=arguments[a];return(r=_get(Object.getPrototypeOf(e.prototype),"act",this)).call.apply(r,[this,t].concat(n)),this.metaMap.logout(),!0}}]),e}(ActionBase);module.exports=Logout;
},{"../../MetaMap.js":1,"../constants/constants":29,"./ActionBase.js":3,"lodash":undefined}],10:[function(require,module,exports){
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var _createClass=function(){function t(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,r,o){return r&&t(e.prototype,r),o&&t(e,o),e}}(),_get=function(t,e,r){for(var o=!0;o;){var n=t,a=e,i=r;c=u=s=void 0,o=!1,null===n&&(n=Function.prototype);var c=Object.getOwnPropertyDescriptor(n,a);if(void 0!==c){if("value"in c)return c.value;var s=c.get;return void 0===s?void 0:s.call(i)}var u=Object.getPrototypeOf(n);if(null===u)return void 0;t=u,e=a,r=i,o=!0}},riot=require("riot"),ActionBase=require("./ActionBase.js"),CONSTANTS=require("../constants/constants"),home=require("../tags/pages/my-maps"),MyMaps=function(t){function e(){_classCallCheck(this,e);for(var t=arguments.length,r=Array(t),o=0;t>o;o++)r[o]=arguments[o];_get(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,r)}return _inherits(e,t),_createClass(e,[{key:"act",value:function(t){for(var r,o,n,a=arguments.length,i=Array(a>1?a-1:0),c=1;a>c;c++)i[c-1]=arguments[c];return(r=_get(Object.getPrototypeOf(e.prototype),"act",this)).call.apply(r,[this,t].concat(i)),$("#"+CONSTANTS.ELEMENTS.APP_CONTAINER).empty(),riot.mount(document.getElementById(CONSTANTS.ELEMENTS.APP_CONTAINER),CONSTANTS.TAGS.MY_MAPS),(o=this.eventer)["do"].apply(o,[CONSTANTS.PAGES.MY_MAPS,{id:t}].concat(i)),(n=this.eventer)["do"].apply(n,[CONSTANTS.EVENTS.PAGE_NAME,{name:"My Maps"}].concat(i)),this.closeSidebar(),!0}}]),e}(ActionBase);module.exports=MyMaps;
},{"../constants/constants":29,"../tags/pages/my-maps":67,"./ActionBase.js":3,"riot":"riot"}],11:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),_get=function(e,t,r){for(var a=!0;a;){var n=e,o=t,i=r;c=u=s=void 0,a=!1,null===n&&(n=Function.prototype);var c=Object.getOwnPropertyDescriptor(n,o);if(void 0!==c){if("value"in c)return c.value;var s=c.get;return void 0===s?void 0:s.call(i)}var u=Object.getPrototypeOf(n);if(null===u)return void 0;e=u,t=o,r=i,a=!0}},ActionBase=require("./ActionBase.js"),CONSTANTS=require("../constants/constants"),NewMap=function(e){function t(){_classCallCheck(this,t);for(var e=arguments.length,r=Array(e),a=0;e>a;a++)r[a]=arguments[a];_get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,r)}return _inherits(t,e),_createClass(t,[{key:"act",value:function(){var e=this;return _get(Object.getPrototypeOf(t.prototype),"act",this).call(this),this.metaFire.getData(""+CONSTANTS.ROUTES.MAPS_NEW_MAP).then(function(t){var r={created_at:""+new Date,owner:{userId:e.metaMap.User.userId,name:e.metaMap.User.displayName,picture:e.metaMap.User.picture},name:"New Untitled Map",shared_with:{admin:{read:!0,write:!0},"*":{read:!1,write:!1}}},a=e.metaFire.pushData(r,""+CONSTANTS.ROUTES.MAPS_LIST),n=a.key();e.metaFire.setData(r,""+CONSTANTS.ROUTES.MAPS_DATA+n),e.metaMap.Router.to("map/"+n)}),!0}}]),t}(ActionBase);module.exports=NewMap;
},{"../constants/constants":29,"./ActionBase.js":3}],12:[function(require,module,exports){
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var _createClass=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),_get=function(t,e,r){for(var n=!0;n;){var o=t,a=e,c=r;i=s=u=void 0,n=!1,null===o&&(o=Function.prototype);var i=Object.getOwnPropertyDescriptor(o,a);if(void 0!==i){if("value"in i)return i.value;var u=i.get;return void 0===u?void 0:u.call(c)}var s=Object.getPrototypeOf(o);if(null===s)return void 0;t=s,e=a,r=c,n=!0}},riot=require("riot"),ActionBase=require("./ActionBase.js"),CONSTANTS=require("../constants/constants"),metaCanvas=require("../tags/canvas/meta-canvas.js"),OpenMap=function(t){function e(){_classCallCheck(this,e);for(var t=arguments.length,r=Array(t),n=0;t>n;n++)r[n]=arguments[n];_get(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,r)}return _inherits(e,t),_createClass(e,[{key:"act",value:function(t){for(var r,n=this,o=arguments.length,a=Array(o>1?o-1:0),c=1;o>c;c++)a[c-1]=arguments[c];return(r=_get(Object.getPrototypeOf(e.prototype),"act",this)).call.apply(r,[this,t].concat(a)),$("#"+CONSTANTS.ELEMENTS.APP_CONTAINER).empty(),this.metaFire.getData(""+CONSTANTS.ROUTES.MAPS_LIST+t).then(function(e){if(e){var r,o,c;riot.mount(document.getElementById(CONSTANTS.ELEMENTS.APP_CONTAINER),CONSTANTS.TAGS.META_CANVAS),e.id=t,(r=n.eventer)["do"].apply(r,[CONSTANTS.EVENTS.NAV,CONSTANTS.PAGES.MAP,e].concat(a)),(o=n.eventer)["do"].apply(o,[CONSTANTS.EVENTS.PAGE_NAME,e].concat(a)),(c=n.eventer)["do"].apply(c,[CONSTANTS.EVENTS.MAP,e].concat(a))}}),!0}}]),e}(ActionBase);module.exports=OpenMap;
},{"../constants/constants":29,"../tags/canvas/meta-canvas.js":46,"./ActionBase.js":3,"riot":"riot"}],13:[function(require,module,exports){
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var _createClass=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),_get=function(t,e,r){for(var n=!0;n;){var o=t,a=e,i=r;c=s=u=void 0,n=!1,null===o&&(o=Function.prototype);var c=Object.getOwnPropertyDescriptor(o,a);if(void 0!==c){if("value"in c)return c.value;var u=c.get;return void 0===u?void 0:u.call(i)}var s=Object.getPrototypeOf(o);if(null===s)return void 0;t=s,e=a,r=i,n=!0}},riot=require("riot"),ActionBase=require("./ActionBase"),CONSTANTS=require("../constants/constants"),training=require("../tags/pages/training"),OpenTraining=function(t){function e(){_classCallCheck(this,e);for(var t=arguments.length,r=Array(t),n=0;t>n;n++)r[n]=arguments[n];_get(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,r)}return _inherits(e,t),_createClass(e,[{key:"act",value:function(t){for(var r,n=arguments.length,o=Array(n>1?n-1:0),a=1;n>a;a++)o[a-1]=arguments[a];if((r=_get(Object.getPrototypeOf(e.prototype),"act",this)).call.apply(r,[this,t].concat(o)),$("#"+CONSTANTS.ELEMENTS.APP_CONTAINER).empty(),t){var i=riot.mount(document.getElementById(CONSTANTS.ELEMENTS.APP_CONTAINER),CONSTANTS.TAGS.TRAINING)[0];i.update({id:t}),this.openSidebar(t)}return!0}}]),e}(ActionBase);module.exports=OpenTraining;
},{"../constants/constants":29,"../tags/pages/training":69,"./ActionBase":3,"riot":"riot"}],14:[function(require,module,exports){
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var _createClass=function(){function t(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,r,o){return r&&t(e.prototype,r),o&&t(e,o),e}}(),_get=function(t,e,r){for(var o=!0;o;){var n=t,a=e,i=r;c=s=u=void 0,o=!1,null===n&&(n=Function.prototype);var c=Object.getOwnPropertyDescriptor(n,a);if(void 0!==c){if("value"in c)return c.value;var u=c.get;return void 0===u?void 0:u.call(i)}var s=Object.getPrototypeOf(n);if(null===s)return void 0;t=s,e=a,r=i,o=!0}},riot=require("riot"),ActionBase=require("./ActionBase.js"),CONSTANTS=require("../constants/constants");require("../tags/dialogs/share");var ShareMap=function(t){function e(){_classCallCheck(this,e);for(var t=arguments.length,r=Array(t),o=0;t>o;o++)r[o]=arguments[o];_get(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,r)}return _inherits(e,t),_createClass(e,[{key:"act",value:function(t){for(var r,o=this,n=arguments.length,a=Array(n>1?n-1:0),i=1;n>i;i++)a[i-1]=arguments[i];return(r=_get(Object.getPrototypeOf(e.prototype),"act",this)).call.apply(r,[this,t].concat(a)),this.metaFire.getData(""+CONSTANTS.ROUTES.MAPS_LIST+t).then(function(r){r.id=t,e.act({map:r}),o.metaMap.Router.back()}),!0}}],[{key:"act",value:function(t){if(t){var e=riot.mount(document.getElementById(CONSTANTS.ELEMENTS.META_MODAL_DIALOG_CONTAINER),CONSTANTS.TAGS.SHARE)[0];e.update(t)}}}]),e}(ActionBase);module.exports=ShareMap;
},{"../constants/constants":29,"../tags/dialogs/share":50,"./ActionBase.js":3,"riot":"riot"}],15:[function(require,module,exports){
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var _createClass=function(){function t(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,r,o){return r&&t(e.prototype,r),o&&t(e,o),e}}(),_get=function(t,e,r){for(var o=!0;o;){var n=t,a=e,i=r;c=u=s=void 0,o=!1,null===n&&(n=Function.prototype);var c=Object.getOwnPropertyDescriptor(n,a);if(void 0!==c){if("value"in c)return c.value;var s=c.get;return void 0===s?void 0:s.call(i)}var u=Object.getPrototypeOf(n);if(null===u)return void 0;t=u,e=a,r=i,o=!0}},riot=require("riot"),ActionBase=require("./ActionBase.js"),CONSTANTS=require("../constants/constants"),terms=require("../tags/pages/terms"),Terms=function(t){function e(){_classCallCheck(this,e);for(var t=arguments.length,r=Array(t),o=0;t>o;o++)r[o]=arguments[o];_get(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,r)}return _inherits(e,t),_createClass(e,[{key:"act",value:function(t){for(var r,o,n=arguments.length,a=Array(n>1?n-1:0),i=1;n>i;i++)a[i-1]=arguments[i];return(r=_get(Object.getPrototypeOf(e.prototype),"act",this)).call.apply(r,[this,t].concat(a)),$("#"+CONSTANTS.ELEMENTS.APP_CONTAINER).empty(),riot.mount(document.getElementById(CONSTANTS.ELEMENTS.APP_CONTAINER),CONSTANTS.TAGS.TERMS),(o=this.eventer)["do"].apply(o,[CONSTANTS.EVENTS.PAGE_NAME,{name:"Terms and Conditions"}].concat(a)),this.closeSidebar(),!0}}]),e}(ActionBase);module.exports=Terms;
},{"../constants/constants":29,"../tags/pages/terms":68,"./ActionBase.js":3,"riot":"riot"}],16:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),MetaFire=require("./Firebase"),_=require("lodash"),config=function(){var e={CRL_STAGING:{db:"meta-map-staging"}},t={host:window.location.host,site:{}},n=t.host.split("."),i=n[0];switch("www"===i&&(i=n[1]),i=i.split(":")[0],i.toLowerCase()){case"localhost":case"meta-map-staging":default:t.site=e.CRL_STAGING}return t},Config=function(){function e(t){_classCallCheck(this,e),this.tags=t,this.config=config(),this.MetaFire=new MetaFire(this.config)}return _createClass(e,[{key:"onReady",value:function(){var e=this;return this._onReady||(this._onReady=new Promise(function(t,n){e.MetaFire.on("config",function(i){e.MetaFire.on("metamap/canvas",function(a){try{_.extend(e.config.site,i),e.config.canvas=a,e.init(),t(e.config.site)}catch(o){n(o)}})})})),this._onReady}},{key:"init",value:function(){return this.onReady()}},{key:"site",get:function(){return"frontend"}}]),e}();module.exports=Config;
},{"./Firebase":18,"lodash":undefined}],17:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),riot=require("riot"),_=require("lodash"),Eventer=function(){function e(t){_classCallCheck(this,e),riot.observable(this),this.events={}}return _createClass(e,[{key:"every",value:function(e,t){var n=this,r=e.split(" ");_.each(r,function(){n.events[e]=t,n.on(e,t)})}},{key:"forget",value:function(e,t){var n=this,r=e.split(" ");_.each(r,function(){t?n.off(e,t):(delete n.events[e],n.off(e))})}},{key:"do",value:function(e){for(var t=this,n=arguments.length,r=Array(n>1?n-1:0),a=1;n>a;a++)r[a-1]=arguments[a];var o=e.split(" ");_.each(o,function(){t.trigger.apply(t,[e].concat(r))})}}]),e}();module.exports=Eventer;
},{"lodash":undefined,"riot":"riot"}],18:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),Firebase=window.Firebase,Promise=require("bluebird"),localforage=require("localforage"),MetaFire=function(){function t(e){_classCallCheck(this,t),this.config=e,this.fb=new Firebase("https://"+this.config.site.db+".firebaseio.com")}return _createClass(t,[{key:"login",value:function(){var e=this;return this._login||(this._login=new Promise(function(t,n){window.MetaMap.Auth0.getSession().then(function(i){window.MetaMap.Auth0.lock.getClient().getDelegationToken({target:e.config.site.auth0.api,id_token:i.id_token,api_type:"firebase"},function(r,a){r?n(r):(i.firebase_token=a.id_token,e.firebase_token=a.id_token,localforage.setItem("firebase_token",e.firebase_token),e.fb.authWithCustomToken(e.firebase_token,function(i,r){i?(e.metaMap.error(i),n(i)):t(r)}))})})["catch"](function(e){console.log(e)})}),this._onReady=this._login),this._login}},{key:"onReady",value:function(){return this._onReady||(this._onReady=new Promise(function(e,t){e()})),this._onReady}},{key:"getChild",value:function(e){return this.fb.child(e)}},{key:"getData",value:function(t){var n=this;return this.onReady().then(function(){var i=n.fb;return t&&(i=n.getChild(t)),new Promise(function(r,a){i.once("value",function(e){var t=e.val();try{r(t)}catch(i){n.metaMap.error(i)}},function(i){n.error(e,t),a(i)})})})}},{key:"on",value:function(e,t){var n=this,i=arguments.length<=2||void 0===arguments[2]?"value":arguments[2];e&&this.onReady().then(function(){var r=n.getChild(e),a=function(i){try{var r=i.val();t(r)}catch(a){n.error(a,e)}};r.on(i,a)})}},{key:"off",value:function(e,t,n){var i=this;void 0===t&&(t="value"),e&&this.onReady().then(function(){var r=i.getChild(e);n?r.off(t,n):r.off(t)})}},{key:"setData",value:function(e,t){var n=this,i=this.fb;t&&(i=this.getChild(t));try{return i.set(e,function(e){e&&n.error(e,t)})}catch(r){this.error(r,t)}}},{key:"deleteData",value:function(e){return this.setData(null,e)}},{key:"pushData",value:function(e,t){var n=this,i=this.fb;t&&(i=this.getChild(t));try{return i.push(e,function(e){e&&n.error(e,t)})}catch(r){this.error(r,t)}}},{key:"setDataInTransaction",value:function(e,t,n){var i=this,r=this.fb;t&&(r=this.getChild(t));try{return r.transaction(function(n){try{return e}catch(r){i.error(r,t)}})}catch(a){this.error(a,t)}}},{key:"error",value:function(e,t){e&&this.metaMap.error(e),t&&this.metaMap.error({message:"Permission denied to "+t})}},{key:"logout",value:function(){this._login=null,this._onReady=null,localforage.removeItem("firebase_token"),this.fb.unauth()}},{key:"metaMap",get:function(){return this._metaMap||(this._metaMap=require("../../MetaMap.js")),this._metaMap}}]),t}();module.exports=MetaFire;
},{"../../MetaMap.js":1,"bluebird":undefined,"localforage":undefined}],19:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_=require("lodash"),Integrations=function(){function e(t,r){_classCallCheck(this,e),this.config=t.config,this.metaMap=t,this.user=r,this._features={google:require("../integrations/Google"),usersnap:require("../integrations/UserSnap"),addthis:require("../integrations/AddThis"),youtube:require("../integrations/YouTube")}}return _createClass(e,[{key:"init",value:function(){var e=this;_.each(this._features,function(t,r){if(t)try{var n=e.config.site[r];e[r]=new t(n,e.user),e[r].init(),e[r].setUser()}catch(a){e.metaMap.error(a)}})}},{key:"setUser",value:function(){var e=this;_.each(this._features,function(t,r){if(r)try{e[r].setUser()}catch(n){console.error(n)}})}},{key:"sendEvent",value:function(e){for(var t=this,r=arguments.length,n=Array(r>1?r-1:0),a=1;r>a;a++)n[a-1]=arguments[a];this.metaMap.debug||_.each(this._features,function(r,a){if(a)try{var i;(i=t[a]).sendEvent.apply(i,[e].concat(n))}catch(s){console.log(s)}})}},{key:"updatePath",value:function(){}},{key:"logout",value:function(){var e=this;_.each(this._features,function(t,r){if(r)try{e[r].logout()}catch(n){e.metaMap.error(n)}})}}]),e}();module.exports=Integrations;
},{"../integrations/AddThis":39,"../integrations/Google":40,"../integrations/UserSnap":41,"../integrations/YouTube":42,"lodash":undefined}],20:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),Permissions=function(){function e(t){_classCallCheck(this,e),this.map=t,this.metaMap=require("../../MetaMap")}return _createClass(e,[{key:"canEdit",value:function(){return this.isMapOwner()||this.isSharedEdit()}},{key:"canView",value:function(){return this.isMapOwner()||this.isSharedView()}},{key:"isMapOwner",value:function(){return this.map&&this.map.owner.userId==this.metaMap.User.userId}},{key:"isSharedEdit",value:function(){return this.map&&this.map.shared_with&&(this.metaMap.User.isAdmin||this.map.shared_with[this.metaMap.User.userId]&&1==this.map.shared_with[this.metaMap.User.userId].write||this.map.shared_with["*"]&&1==this.map.shared_with["*"].write)}},{key:"isSharedView",value:function(){return this.map&&this.isSharedEdit()||this.map.shared_with[this.metaMap.User.userId]&&1==this.map.shared_with[this.metaMap.User.userId].read||this.map.shared_with["*"]&&1==this.map.shared_with["*"].read}}]),e}();module.exports=Permissions;
},{"../../MetaMap":1}],21:[function(require,module,exports){
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),riot=require("riot"),CONSTANTS=require("../constants/constants"),Router=function(){function t(e){_classCallCheck(this,t),this.integrations=e.Integrations,this.user=e.User,this.PageFactory=e.PageFactory,this.eventer=e.Eventer,this.isHidden=!1}return _createClass(t,[{key:"init",value:function(){var t=this;riot.route.start(),riot.route(function(e){for(var r=arguments.length,i=Array(r>3?r-3:0),n=3;r>n;n++)i[n-3]=arguments[n];var a,s=arguments.length<=1||void 0===arguments[1]?"":arguments[1],o=arguments.length<=2||void 0===arguments[2]?"":arguments[2];t.path=t.getPath(e),t.toggleMain(!0,t.path),(a=t.PageFactory).navigate.apply(a,[t.path,s,o].concat(i)),t.eventer["do"]("history",window.location.hash)}),this.to(this.currentPage)}},{key:"getPreviousPage",value:function(){var t=arguments.length<=0||void 0===arguments[0]?2:arguments[0],e="home",r=this.user.history.length;return r>0&&(e=this.getPath(this.user.history[r-t])),e}},{key:"track",value:function(t){this.integrations.updatePath(t)}},{key:"toggleMain",value:function(t,e){this.track(e),t?this.isHidden=!0:this.isHidden=!1}},{key:"getPath",value:function(t){if(t)for(;t.startsWith("!")||t.startsWith("#");)t=t.substr(1);return t}},{key:"to",value:function(t){t=this.getPath(t),t&&(this.toggleMain(!0,t),riot.route(""+t))}},{key:"back",value:function(){var t="home",e=this.user.history.length;if(e>1&&("mymaps"!=this.currentPage||this.currentPage!=this.previousPage)){t=this.previousPage;for(var r=2;!this.isTracked(t)&&this.user.history[r];)r+=1,t=this.getPreviousPage(r)}return this.to(t)}},{key:"isTracked",value:function(t){var e=this.getPath(t);return _.any(this.doNotTrack,function(t){return!e.startsWith(t)})}},{key:"currentPage",get:function(){var t=window.location.hash||"home";if(!this.isTracked(t)){var e=this.user.history.length;e>0&&(t=this.getPath(this.user.history[e-1]))}return t}},{key:"currentPath",get:function(){return this.path}},{key:"previousPage",get:function(){return this.getPreviousPage(2)}},{key:"doNotTrack",get:function(){return this._doNotTrack||(this._doNotTrack=[CONSTANTS.ACTIONS.DELETE_MAP,CONSTANTS.ACTIONS.COPY_MAP,CONSTANTS.ACTIONS.LOGOUT,CONSTANTS.ACTIONS.NEW_MAP,CONSTANTS.ACTIONS.FEEDBACK,CONSTANTS.ACTIONS.SHARE_MAP]),this._doNotTrack}}]),t}();module.exports=Router;
},{"../constants/constants":29,"riot":"riot"}],22:[function(require,module,exports){
"use strict";function _classCallCheck(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,a){for(var t=0;t<a.length;t++){var r=a[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(a,t,r){return t&&e(a.prototype,t),r&&e(a,r),a}}(),localforage=require("localforage"),_=require("lodash"),CONSTANTS=require("../constants/constants"),toBool=function(e){var a=!1;return e===!0||e===!1?a=e:_.contains(["true","yes","1"],e+"".toLowerCase().trim())&&(a=!0),a},Sharing=function(){function e(a){_classCallCheck(this,e),this.user=a,this._metaMap=require("../../MetaMap"),this._fb=this._metaMap.MetaFire}return _createClass(e,[{key:"addShare",value:function(e,a){var t=arguments.length<=2||void 0===arguments[2]?{read:!0,write:!1}:arguments[2];e&&e.id&&a&&a.id&&(this._fb.setData({read:toBool(t.read),write:toBool(t.write),name:t.name,picture:t.picture},CONSTANTS.ROUTES.MAPS_LIST+"/"+e.id+"/shared_with/"+a.id),this._fb.pushData({event:this.user.displayName+" shared a map, "+e.name+", with you!",mapId:e.id,type:CONSTANTS.NOTIFICATION.MAP,time:""+new Date},""+CONSTANTS.ROUTES.NOTIFICATIONS.format(a.id)))}},{key:"removeShare",value:function(e,a){e&&e.id&&a&&a.id&&(this._fb.deleteData(CONSTANTS.ROUTES.MAPS_LIST+"/"+e.id+"/shared_with/"+a.id),this._fb.pushData({event:this.user.displayName+" removed a map, "+e.name+", that was previously shared.",time:""+new Date},""+CONSTANTS.ROUTES.NOTIFICATIONS.format(a.id)))}},{key:"editShare",value:function(e,a){arguments.length<=2||void 0===arguments[2]?{read:!0,write:!1}:arguments[2]}}]),e}();module.exports=Sharing;
},{"../../MetaMap":1,"../constants/constants":29,"localforage":undefined,"lodash":undefined}],23:[function(require,module,exports){
"use strict";function _classCallCheck(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,o){for(var n=0;n<o.length;n++){var t=o[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(o,n,t){return n&&e(o.prototype,n),t&&e(o,t),o}}(),Auth0Lock=require("auth0-lock"),localforage=require("localforage"),_=require("lodash"),Promise=require("bluebird"),Auth0=function(){function e(o,n){_classCallCheck(this,e),this.config=o,this.metaMap=n,this.lock=new Auth0Lock(o.api,o.app),this.lock.on("loading ready",function(){})}return _createClass(e,[{key:"login",value:function(){var e=this;return this._login||(this._login=new Promise(function(o,n){var t=function(){e.lock.show({closable:!1,loginAfterSignup:!0,authParams:{scope:"openid offline_access"}},function(t,i,l,r,a,c){t?e.onFail(t,n):(e.ctoken=i.ctoken=r,localforage.setItem("ctoken",e.ctoken),e.id_token=i.id_token=l,localforage.setItem("id_token",e.id_token),e.profile=i,localforage.setItem("profile",e.profile),e.refresh_token=i.refresh_token=c,e._getSession=o(i))})};e.getSession().then(function(e){e?o(e):t()})["catch"](function(e){t()})})),this._login}},{key:"linkAccount",value:function(){this.lock.show({callbackURL:location.href.replace(location.hash,""),dict:{signin:{title:"Link with another account"}},authParams:{access_token:this.ctoken}})}},{key:"onFail",value:function(e,o){this.metaMap.error(e),o&&(o(e),this.logout())}},{key:"getSession",value:function(){var e=this;return this.profile?this._getSession=new Promise(function(o,n){o(e.profile)}):this._getSession||(this._getSession=new Promise(function(o,n){return localforage.getItem("id_token").then(function(t){return t?e.lock.getProfile(t,function(i,l){return i?void e.onFail(i,n):(localforage.setItem("id_token",t),localforage.setItem("profile",l),localforage.getItem("ctoken").then(function(o){e.ctoken=o}),e.id_token=l.id_token=t,e.profile=l,o(l))}):n(new Error("No session"))})})),this._getSession}},{key:"logout",value:function(){var e=this;localforage.removeItem("id_token").then(function(){return localforage.removeItem("profile")}).then(function(){e.profile=null,e.ctoken=null,e.id_token=null,e.refresh_token=null,e._login=null,e._getSession=null,window.location.reload()})}}]),e}();module.exports=Auth0;
},{"auth0-lock":undefined,"bluebird":undefined,"localforage":undefined,"lodash":undefined}],24:[function(require,module,exports){
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),uuid=require("../tools/uuid.js"),Common=require("../tools/Common"),_=require("lodash"),User=function(){function t(e,i,n,r){_classCallCheck(this,t),this.auth=i,this.eventer=n,this.metaFire=r,this.userKey=uuid(),this.onReady(),this.metaMap=require("../../MetaMap")}return _createClass(t,[{key:"onReady",value:function(){var t=this;return this._onReady||!function(){var e=_.once(function(){t.eventer.every("history",function(e){(0==t.history.length||e!=t.history[t.history.length-1])&&(t.history.push(e),t.metaFire.setData(t.history,"users/"+t.auth.uid+"/history"))})});t._onReady=new Promise(function(i,n){t.metaFire.on("users/"+t.auth.uid,function(n){if(n){try{n.history||(n.history=[]),t.profile=n,e()}catch(r){t.metaMap.error(r)}i(n)}})})}(),this._onReady}},{key:"saveUserEditorOptions",value:function(t){({user:{editor_options:JSON.stringify(t)}})}},{key:"_identity",get:function(){var t={};return this.profile&&this.profile.identity&&(t=this.profile.identity),t}},{key:"createdOn",get:function(){if(null==this._createdOn&&this._identity.created_at){var t=new Date(this._identity.created_at);this._createdOn={date:t,ticks:Common.getTicksFromDate(t)}}return this._createdOn||{date:null,ticks:null}}},{key:"displayName",get:function(){var t=this.fullName;return t&&(t=t.split(" ")[0]),!t&&this._identity.nickname&&(t=this._identity.nickname),t}},{key:"fullName",get:function(){var t="";return this._identity.name&&(t=this._identity.name),t}},{key:"email",get:function(){var t="";return this._identity.email&&(t=this._identity.email),t}},{key:"picture",get:function(){var t="";return this._identity.picture&&(t=this._identity.picture),t}},{key:"userId",get:function(){return this.auth.uid}},{key:"isAdmin",get:function(){var t=!1;return this._identity.roles&&(t=1==this._identity.roles.admin),t}},{key:"history",get:function(){return this.profile.history||[]}}]),t}();module.exports=User;
},{"../../MetaMap":1,"../tools/Common":75,"../tools/uuid.js":78,"lodash":undefined}],25:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),jsPlumb=window.jsPlumb,jsPlumbToolkit=window.jsPlumbToolkit,_=require("lodash"),CONSTANTS=require("../constants/constants"),Permissions=require("../app/Permissions");require("./layout");var Canvas=function(){function e(t,n){var a=this;_classCallCheck(this,e),this.map=t,this.mapId=n,this.toolkit={},this.metaMap=require("../../MetaMap");var o=null,r=this.metaMap.MetaFire.getData(CONSTANTS.ROUTES.MAPS_LIST+"/"+n).then(function(e){a.mapInfo=e,o=new Permissions(e)}),i=this,c=_.throttle(function(){if(o.canEdit()){var e={data:window.toolkit.exportData(),changed_by:{userId:a.metaMap.User.userId}};a.metaMap.MetaFire.setDataInTransaction(e,"maps/data/"+a.mapId),a.metaMap.Integrations.sendEvent(a.mapId,"event","autosave","autosave")}},500);r.then(function(){jsPlumbToolkit.ready(function(){function e(e){for(var t=e.el,a=e.node,o=t.querySelector(".name"),r=0;r<p.length;r++)h(t,p[r],a);v.draggable(o,{start:function(){v.setZoom(u.getZoom())},stop:function(e){a.data.labelPosition=[parseInt(o.style.left,10),parseInt(o.style.top,10)],c()}}),jsPlumb.on(o,"dblclick",function(){jsPlumbToolkit.Dialogs.show({id:"dlgText",title:"Enter label:",onOK:function(e){n.updateNode(a,{label:e.text})},data:{text:a.data.label}})})}var t,n=window.toolkit=jsPlumbToolkit.newInstance({beforeStartConnect:function(e,n){return t=n,{type:n}},beforeConnect:function(e,n){var a=!0;if(e==n)a=!1;else switch(t){case"perspective":for(var o=e.getEdges({filter:function(e){return"perspective"==e.data.type}}),r=0;r<o.length;r+=1){var i=o[r];if(i.source==e&&i.target==n||i.target==e&&i.source==n){a=!1;break}}}return a}}),a=function(e){return e=e||"idea",{w:50,h:50,label:"idea",type:e,children:[],labelPosition:[]}},r=function(e){return e=e||"proxyPerspective",{w:10,h:10,type:e}},l=document.querySelector(".jtk-demo-main"),s=l.querySelector(".jtk-demo-canvas"),d=function(e){n.clearSelection(),e&&n.setSelection(e)},u=n.render({container:s,elementsDraggable:o.canEdit(),enablePanButtons:!1,layout:{type:"metamap"},assignPosse:function(e){return e.data.parent?[e.data.parent,!1]:e.id},zoomToFit:!1,view:{nodes:{all:{events:{tap:function(e){d(e.node)},mouseenter:function(e){}}},"default":{parent:"all",template:"tmplNode"},idea:{parent:"default"},"r-thing":{parent:"idea"},proxy:{parent:"all",template:"tmplDragProxy",anchors:["Continuous","Center"]},proxyPerspective:{parent:"proxy"},proxyRelationship:{parent:"proxy",events:{dblclick:function(e){var t=u.mapEventLocation(e.e),o=e.node.getEdges();t.w=.667*o[0].source.data.w,t.h=.667*o[0].source.data.h;for(var r=n.addNode(jsPlumb.extend(a("r-thing"),t)),i=0;i<o.length;i+=1)o[i].source==e.node?n.connect({source:r,target:o[i].target,data:{type:"relationship"}}):o[i].target==e.node&&n.connect({source:o[i].source,target:r,data:{type:"relationshipProxy"}});n.removeNode(e.node)}}}},edges:{all:{events:{tap:function(e){"relationship-overlay"==e.e.target.getAttribute("class"),d(e.edge)}}},"default":{parent:"all",anchors:["Continuous","Continuous"]},connector:{parent:"all",connector:["StateMachine",{margin:1.01,curviness:15}]},relationship:{cssClass:"edge-relationship",parent:"connector",endpoint:"Blank",overlays:[["PlainArrow",{location:1,width:10,length:10,cssClass:"relationship-overlay"}]]},relationshipProxy:{cssClass:"edge-relationship",parent:"connector",endpoint:"Blank"},perspective:{cssClass:"edge-perspective",endpoints:["Blank",["Dot",{radius:5,cssClass:"orange"}]],parent:"connector"},perspectiveProxy:{cssClass:"edge-perspective",endpoints:["Blank",["Dot",{radius:1,cssClass:"orange_proxy"}]],parent:"connector"}}},events:{canvasClick:function(e){d()},canvasDblClick:function(e){var t=u.mapEventLocation(e);t.left=t.left-50,t.top=t.top-50,n.addNode(jsPlumb.extend(a(),t))},nodeAdded:e,edgeAdded:function(e){},relayout:function(){}},dragOptions:{filter:".segment",stop:function(){u.refresh()}}});jsPlumbToolkit.Dialogs.initialize({selector:".dlg"});var p=["red","orange","green","blue","text"],f=function(e,t,a,o){console.log(t+" "+e),console.dir(o.data),"dblclick"==t&&n.clearSelection()},g={click:{red:function(e,t){f("R","click",e,t)},green:function(e,t){f("G","click",e,t)},orange:function(e,t){f("O","click",e,t)},blue:function(e,t){f("B","click",e,t)},text:function(e,t){f("T","click",e,t)}},dblclick:{red:function(e,t){f("R","dblclick",e,t),n.addNode(a())},green:function(e,t){f("G","dblclick",e,t);var a=.667*t.data.w,o=.667*t.data.h;t.data.children=t.data.children||[];var r="Part",i=n.addNode({parent:t.id,w:a,h:o,label:r,order:t.data.children.length});t.data.children.push(i.id),u.relayout()},orange:function(e,t){f("O","dblclick",e,t);var o=n.addNode(a()),i=n.addNode(r("proxyPerspective"));n.connect({source:t,target:i,data:{type:"perspectiveProxy"}}),n.connect({source:i,target:o,data:{type:"perspective"}})},blue:function(e,t){f("B","dblclick",e,t);var o=n.addNode(a()),i=n.addNode(r("proxyRelationship"));n.connect({source:t,target:i,data:{type:"relationshipProxy"}}),n.connect({source:i,target:o,data:{type:"relationship"}})},text:function(e,t){f("T","dblclick",e,t);e.querySelector(".name");jsPlumbToolkit.Dialogs.show({id:"dlgText",title:"Enter label:",onOK:function(e){n.updateNode(t,{label:e.text})},data:{text:t.data.label}})}}},h=function(e,t,n){var a=e.querySelector("."+t);jsPlumb.on(a,"click",function(){g.click[t](e,n)}),jsPlumb.on(a,"dblclick",function(){g.dblclick[t](e,n)})},v=jsPlumb.getInstance();i.map&&i.map.data&&n.load({type:"json",data:i.map.data});var m=function(e){return n.filter(function(t){return"Edge"==t.objectType&&t.data.type===e}).getEdgeCount()},b=function(){console.log("There are "+m("relationship")+" relationship edges"),console.log("There are "+m("perspective")+" perspective edges")};n.bind("dataUpdated",function(){b(),c()}),jsPlumb.on("relationshipEdgeDump","click",b()),jsPlumb.on(document,"mousedown",function(e){e.ctrlKey&&e.preventDefault()});var y=function(e){e.eachEdge(function(e,t){console.log(t)}),e.eachNode(function(e,t){var a=function o(e){if(e&&e.data.children)for(var t=0;t<e.data.children.length;t+=1){var a=n.getNode(e.data.children[t]);o(a)}n.removeNode(e)};a(t)}),n.remove(e)},k=null;jsPlumb.on(document,"keyup",function(e){k=null;var t=n.getSelection();switch(e.keyCode){case 8:t&&e.preventDefault();case 46:y(t)}}),jsPlumb.on(document,"keydown",function(e){if(e.ctrlKey)k||(k="select",u.setMode("select"));else switch(e.keyCode){case 8:e.preventDefault();break;case 46:var t=n.getSelection();y(t)}})})})}return _createClass(e,[{key:"init",value:function(){}}]),e}();module.exports=Canvas;
},{"../../MetaMap":1,"../app/Permissions":20,"../constants/constants":29,"./layout":26,"lodash":undefined}],26:[function(require,module,exports){
"use strict";!function(){function t(t,a){return null==a.data.order?-1:null==t.data.order?1:t.data.order<a.data.order?-1:1}jsPlumbToolkit.Layouts.metamap=function(){jsPlumbToolkit.Layouts.Spring.apply(this,arguments);var a=function(a,i,r){i=i||{};var d=i.partPadding||5;if(a.data.children&&a.data.suspendLayout!==!0){var n=a.data.children,e=_.map(n,r.getNode),o=this.getPosition(a.id),s=this.getSize(a.id),u=[a.id],l="left"===(a.data.partAlign||"right")?0:1,h=o[1]+s[1]+d;e.sort(t),_.each(e,function(t,a){t.data.order=a});for(var g=0;g<e.length;g++){var p=e[g];if(p){var f=this.getSize(p.id),c=o[0]+l*(s[0]-f[0]);this.setPosition(p.id,c,h,!0),u.push(p.id),h+=f[1]+d}}}}.bind(this),i=this.end;this.end=function(t,r){for(var d=t.getNodeCount(),n=0;d>n;n++){var e=t.getNodeAt(n);null==e.data.parent&&a(e,r,t)}i.apply(this,arguments),this.draw()}}}();
},{}],27:[function(require,module,exports){
"use strict";var ACTIONS={OPEN_MAP:"map",OPEN_TRAINING:"open_training",NEW_MAP:"new_map",COPY_MAP:"copy_map",DELETE_MAP:"delete_map",HOME:"home",MY_MAPS:"mymaps",TERMS_AND_CONDITIONS:"terms",LOGOUT:"logout",FEEDBACK:"feedback",SHARE_MAP:"share_map",COURSE_LIST:"course_list",TRAININGS:"trainings"};Object.freeze(ACTIONS),module.exports=ACTIONS;
},{}],28:[function(require,module,exports){
"use strict";var CANVAS={LEFT:"left",RIGHT:"right"};Object.freeze(CANVAS),module.exports=CANVAS;
},{}],29:[function(require,module,exports){
"use strict";var CONSTANTS={ACTIONS:require("./actions"),CANVAS:require("./canvas"),DSRP:require("./dsrp"),EDIT_STATUS:require("./editStatus"),ELEMENTS:require("./elements"),EVENTS:require("./events"),NOTIFICATION:require("./notification"),PAGES:require("./pages"),ROUTES:require("./routes"),TABS:require("./tabs"),TAGS:require("./tags")};Object.freeze(CONSTANTS),module.exports=CONSTANTS;
},{"./actions":27,"./canvas":28,"./dsrp":30,"./editStatus":31,"./elements":32,"./events":33,"./notification":34,"./pages":35,"./routes":36,"./tabs":37,"./tags":38}],30:[function(require,module,exports){
"use strict";var DSRP={D:"D",S:"S",R:"R",P:"P"};Object.freeze(DSRP),module.exports=DSRP;
},{}],31:[function(require,module,exports){
"use strict";var status={LAST_UPDATED:"",READ_ONLY:"View only",SAVING:"Saving...",SAVE_OK:"All changes saved",SAVE_FAILED:"Changes could not be saved"};Object.freeze(status),module.exports=status;
},{}],32:[function(require,module,exports){
"use strict";var ELEMENTS={APP_CONTAINER:"app-container",META_PROGRESS:"meta_progress",META_PROGRESS_NEXT:"meta_progress_next",META_MODAL_DIALOG_CONTAINER:"meta_modal_dialog_container"};Object.freeze(ELEMENTS),module.exports=ELEMENTS;
},{}],33:[function(require,module,exports){
"use strict";var EVENTS={SIDEBAR_OPEN:"sidebar-open",SIDEBAR_CLOSE:"sidebar-close",SIDEBAR_TOGGLE:"sidebar-toggle",PAGE_NAME:"pageName",NAV:"nav",MAP:"map"};Object.freeze(EVENTS),module.exports=EVENTS;
},{}],34:[function(require,module,exports){
"use strict";var NOTIFICATION={MAP:"map"};Object.freeze(NOTIFICATION),module.exports=NOTIFICATION;
},{}],35:[function(require,module,exports){
"use strict";var ACTIONS=require("./actions.js"),_=require("lodash"),PAGES={MAP:"map",NEW_MAP:"new_map",COPY_MAP:"copy_map",DELETE_MAP:"delete_map",MY_MAPS:"mymaps",TERMS_AND_CONDITIONS:"terms",HOME:"home",COURSE_LIST:"course_list",TRAININGS:"trainings"};_.extend(),Object.freeze(PAGES),module.exports=PAGES;
},{"./actions.js":27,"lodash":undefined}],36:[function(require,module,exports){
"use strict";var ROUTES={MAPS_LIST:"maps/list/",MAPS_DATA:"maps/data/",MAPS_NEW_MAP:"maps/new-map/",TERMS_AND_CONDITIONS:"metamap/terms-and-conditions/",HOME:"metamap/home/",NOTIFICATIONS:"users/{0}/notifications",TRAININGS:"users/{0}/trainings/",COURSE_LIST:"trainings/courses/"};Object.freeze(ROUTES),module.exports=ROUTES;
},{}],37:[function(require,module,exports){
"use strict";var TABS={TAB_ID_PRESENTER:"presenter-tab",TAB_ID_ANALYTICS_MAP:"analytics-tab-map",TAB_ID_ANALYTICS_THING:"analytics-tab-thing",TAB_ID_PERSPECTIVES:"perspectives-tab",TAB_ID_DISTINCTIONS:"distinctions-tab",TAB_ID_ATTACHMENTS:"attachments-tab",TAB_ID_GENERATOR:"generator-tab",TAB_ID_STANDARDS:"standards-tab"};Object.freeze(TABS),module.exports=TABS;
},{}],38:[function(require,module,exports){
"use strict";var TAGS={META_CANVAS:"meta-canvas",HOME:"home",TERMS:"terms",MY_MAPS:"my-maps",SHARE:"share",COURSE_LIST:"course_list",TRAINING:"training",ALL_COURSES:"all-courses",MY_COURSES:"my-courses",SIDEBAR:"quick-sidebar"};Object.freeze(TAGS),module.exports=TAGS;
},{}],39:[function(require,module,exports){
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var _createClass=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),_get=function(t,e,r){for(var n=!0;n;){var i=t,o=e,a=r;s=u=c=void 0,n=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var c=s.get;return void 0===c?void 0:c.call(a)}var u=Object.getPrototypeOf(i);if(null===u)return void 0;t=u,e=o,r=a,n=!0}},IntegrationsBase=require("./_IntegrationsBase"),AddThis=function(t){function e(t,r){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,r),function(e,r,n){var i,o=e.getElementsByTagName(r)[0],a=window.addthis||{};return e.getElementById(n)?a:(i=e.createElement(r),i.id=n,i.src="//s7.addthis.com/js/300/addthis_widget.js#pubid="+t.pubid,o.parentNode.insertBefore(i,o),a._e=[],a.ready=function(t){a._e.push(t)},a)}(document,"script","add-this-js"),this.addthis=window.addthis}return _inherits(e,t),_createClass(e,[{key:"init",value:function(){_get(Object.getPrototypeOf(e.prototype),"init",this).call(this)}},{key:"integration",get:function(){return this.addthis=this.addthis||window.addthis,this.addthis}}]),e}(IntegrationsBase);module.exports=AddThis;
},{"./_IntegrationsBase":43}],40:[function(require,module,exports){
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),_get=function(t,e,n){for(var o=!0;o;){var a=t,i=e,r=n;s=l=c=void 0,o=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(void 0!==s){if("value"in s)return s.value;var c=s.get;return void 0===c?void 0:c.call(r)}var l=Object.getPrototypeOf(a);if(null===l)return void 0;t=l,e=i,n=r,o=!0}},IntegrationsBase=require("./_IntegrationsBase"),Google=function(t){function e(t,n){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,n),function(){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="https://apis.google.com/js/platform.js";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}(),function(t,e,n,o,a){t[o]=t[o]||[],t[o].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var i=e.getElementsByTagName(n)[0],r=e.createElement(n),s="dataLayer"!=o?"&l="+o:"";r.async=!0,r.src="//www.googletagmanager.com/gtm.js?id="+a+s,i.parentNode.insertBefore(r,i)}(window,document,"script","dataLayer",this.config.tagmanager),function(t,e,n,o,a,i,r){t.GoogleAnalyticsObject=a,t[a]=t[a]||function(){(t[a].q=t[a].q||[]).push(arguments)},t[a].l=1*new Date,i=e.createElement(n),r=e.getElementsByTagName(n)[0],i.async=1,i.src=o,r.parentNode.insertBefore(i,r)}(window,document,"script","//www.google-analytics.com/analytics.js","ga")}return _inherits(e,t),_createClass(e,[{key:"init",value:function(){_get(Object.getPrototypeOf(e.prototype),"init",this).call(this);var t="auto",n=window.location.host;n.startsWith("localhost")&&(t="none"),this.integration("create",this.config.analytics,t),this.integration("send","pageview")}},{key:"setUser",value:function(){_get(Object.getPrototypeOf(e.prototype),"setUser",this).call(this),this.integration("set","userId",this.user.userId)}},{key:"sendEvent",value:function(t,n,o,a){_get(Object.getPrototypeOf(e.prototype),"sendEvent",this).call(this,t,n,o,a),this.integration&&(o&&a?this.integration("send",n,o,a,t):this.integration("send",n,t))}},{key:"updatePath",value:function(t){_get(Object.getPrototypeOf(e.prototype),"updatePath",this).call(this,t),this.integration&&(this.integration("set",{page:t}),this.integration("send","pageview"))}},{key:"integration",get:function(){return this.ga=this.ga||window.ga,this.ga}}],[{key:"sendSocial",value:function(t,e){var n=arguments.length<=2||void 0===arguments[2]?"send":arguments[2];window.ga&&window.ga("send","social",t,n,e)}},{key:"sendEvent",value:function(t,e,n,o){window.ga&&window.ga("send",t,e,n,o)}}]),e}(IntegrationsBase);module.exports=Google;
},{"./_IntegrationsBase":43}],41:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _createClass=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),_get=function(e,t,o){for(var r=!0;r;){var n=e,i=t,a=o;s=l=c=void 0,r=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,i);if(void 0!==s){if("value"in s)return s.value;var c=s.get;return void 0===c?void 0:c.call(a)}var l=Object.getPrototypeOf(n);if(null===l)return void 0;e=l,t=i,o=a,r=!0}},IntegrationsBase=require("./_IntegrationsBase"),Google=require("./google"),UserSnap=function(e){function t(e,o){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,o);var r=void 0,n=void 0,i=void 0;if(null==e&&(e={}),r=e.api,r&&!window.location.host.startsWith("localhost")){var a={emailBox:!0,emailBoxValue:o.email,emailRequired:!0,consoleRecorder:!0,mode:"report",shortcut:!0,beforeOpen:function(e){Google.sendEvent("feedback","usersnap","widget",window.location.href)}};window.usersnapconfig=window._usersnapconfig=a,n=document.createElement("script"),n.type="text/javascript",n.async=!0,n.src="//api.usersnap.com/load/"+r+".js",i=document.getElementsByTagName("head")[0],i.appendChild(n)}this.userSnap=window.UserSnap}return _inherits(t,e),_createClass(t,[{key:"init",value:function(){_get(Object.getPrototypeOf(t.prototype),"init",this).call(this)}},{key:"setUser",value:function(){_get(Object.getPrototypeOf(t.prototype),"setUser",this).call(this)}},{key:"integration",get:function(){return this.userSnap=this.userSnap||window.UserSnap,this.userSnap}}]),t}(IntegrationsBase);module.exports=UserSnap;
},{"./_IntegrationsBase":43,"./google":44}],42:[function(require,module,exports){
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var _createClass=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),_get=function(t,e,o){for(var n=!0;n;){var r=t,i=e,a=o;u=c=s=void 0,n=!1,null===r&&(r=Function.prototype);var u=Object.getOwnPropertyDescriptor(r,i);if(void 0!==u){if("value"in u)return u.value;var s=u.get;return void 0===s?void 0:s.call(a)}var c=Object.getPrototypeOf(r);if(null===c)return void 0;t=c,e=i,o=a,n=!0}},IntegrationsBase=require("./_IntegrationsBase"),YouTube=function(t){function e(t,o){var n=this;_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,o);var r=document.createElement("script");r.src="https://www.youtube.com/iframe_api";var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(r,i),window.onYouTubeIframeAPIReady=function(){n.YT=window.YT}}return _inherits(e,t),_createClass(e,[{key:"init",value:function(){_get(Object.getPrototypeOf(e.prototype),"init",this).call(this)}},{key:"setUser",value:function(){_get(Object.getPrototypeOf(e.prototype),"setUser",this).call(this)}},{key:"sendEvent",value:function(t,o,n,r){_get(Object.getPrototypeOf(e.prototype),"sendEvent",this).call(this,t,o,n,r)}},{key:"updatePath",value:function(t){_get(Object.getPrototypeOf(e.prototype),"updatePath",this).call(this,t)}},{key:"integration",get:function(){return this.YT=this.YT||window.YT,this.YT}}],[{key:"sendSocial",value:function(t,e){arguments.length<=2||void 0===arguments[2]?"send":arguments[2]}}]),e}(IntegrationsBase);module.exports=YouTube;
},{"./_IntegrationsBase":43}],43:[function(require,module,exports){
"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}(),IntegrationsBase=function(){function e(n,t){_classCallCheck(this,e),this.config=n,this.user=t}return _createClass(e,[{key:"init",value:function(){}},{key:"setUser",value:function(){}},{key:"sendEvent",value:function(){}},{key:"updatePath",value:function(){}},{key:"logout",value:function(){}},{key:"integration",get:function(){return{}}}]),e}();module.exports=IntegrationsBase;
},{}],44:[function(require,module,exports){
arguments[4][40][0].apply(exports,arguments)
},{"./_IntegrationsBase":43,"dup":40}],45:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),riot=window.riot,NProgress=window.NProgress,pageBody=require("../tags/page-body.js"),CONSTANTS=require("../constants/constants"),Actions=require("../actions/Action.js"),Metronic=require("../template/metronic"),Layout=require("../template/layout"),Demo=require("../template/demo"),PageFactory=function(){function e(t,n){_classCallCheck(this,e),this.metaFire=n,this.eventer=t,this.actions=new Actions(n,t,this),this.onReady()}return _createClass(e,[{key:"onReady",value:function(){return this._onReady||(this._onReady=new Promise(function(e,t){$("#"+CONSTANTS.ELEMENTS.META_PROGRESS).remove(),riot.mount("*"),NProgress.configure({parent:"#"+CONSTANTS.ELEMENTS.META_PROGRESS_NEXT}),_.delay(function(){Metronic.init(),Layout.init(),Demo.init(),e()},250)})),this._onReady}},{key:"navigate",value:function(e,t,n){for(var r,a=arguments.length,o=Array(a>3?a-3:0),i=3;a>i;i++)o[i-3]=arguments[i];var s=(r=this.actions).act.apply(r,[e,t,n].concat(o));if(!s){var c;(c=this.eventer)["do"].apply(c,[e,e,{id:t,action:n}].concat(o))}}}]),e}();module.exports=PageFactory;
},{"../actions/Action.js":2,"../constants/constants":29,"../tags/page-body.js":57,"../template/demo":72,"../template/layout":73,"../template/metronic":74}],46:[function(require,module,exports){
"use strict";var riot=require("riot"),NProgress=window.NProgress,Canvas=require("../../canvas/canvas"),CONSTANTS=require("../../constants/constants");require("./node");var html='\n<div class="portlet light jtk-demo-main" style="padding: 0; ">\n    <div class="jtk-demo-canvas canvas-wide" id="diagram">\n\n    </div>\n</div>\n';module.exports=riot.tag("meta-canvas",html,function(a){var i=this,n=require("../../../MetaMap.js");this.mapId=null,this.canvas=null,this.buildCanvas=function(a){i.canvas?a.changed_by!=n.User.userKey&&i.canvas.init():($(i.diagram).empty(),i.canvas=new Canvas(a,i.mapId),i.canvas.init(),i.update()),NProgress.done()},this.build=function(a){a.id!=i.mapId&&(i.canvas=null,i.mapId&&n.MetaFire.off("maps/data/"+i.mapId),i.mapId=a.id,NProgress.start(),n.MetaFire.on("maps/data/"+a.id,i.buildCanvas),n.Eventer.forget(CONSTANTS.EVENTS.MAP,i.build))},n.Eventer.every(CONSTANTS.EVENTS.MAP,this.build),this.correctHeight=function(){$(i.diagram).css({height:window.innerHeight-120+"px"})},this.on("update",function(){i.correctHeight()}),$(window).resize(function(){i.correctHeight()})});
},{"../../../MetaMap.js":1,"../../canvas/canvas":25,"../../constants/constants":29,"./node":47,"riot":"riot"}],47:[function(require,module,exports){
"use strict";var riot=require("riot"),NProgress=window.NProgress,Editor=require("../../canvas/canvas"),html="\n";module.exports=riot.tag("node",html,function(r){});
},{"../../canvas/canvas":25,"riot":"riot"}],48:[function(require,module,exports){
"use strict";var riot=require("riot"),moment=require("moment"),Metronic=require("../../template/metronic"),raw=require("./raw"),CONSTANTS=require("../../constants/constants"),TrainingMix=require("../mixins/training-mix"),html='\n<div class="page-quick-sidebar-wrapper">\n    <div class="page-quick-sidebar">\n        <div class="nav-justified">\n            <ul class="nav nav-tabs nav-justified">\n                <li class="active">\n                    <a href="#quick_sidebar_tab_1" data-toggle="tab">\n                    Cortex Man\n                    </a>\n                </li>\n                <li>\n                    <a href="#quick_sidebar_tab_2" data-toggle="tab">\n                    Outline\n                    </a>\n                </li>\n            </ul>\n            <div class="tab-content">\n                <div class="tab-pane active page-quick-sidebar-chat page-quick-sidebar-content-item-shown" id="quick_sidebar_tab_1">\n                    <div class="page-quick-sidebar-chat-users" data-rail-color="#ddd" data-wrapper-class="page-quick-sidebar-list">\n                    </div>\n                    <div class="page-quick-sidebar-item">\n                        <div class="page-quick-sidebar-chat-user">\n                            <div class="page-quick-sidebar-chat-user-messages">\n                                <div each="{ userTraining.messages }" class="post { out: author == \'cortex\', in: author != \'cortex\' }">\n                                    <img height="39" width="39" class="avatar" alt="" src="{ author == \'cortex\' ? parent.cortexPicture : parent.userPicture }"/>\n                                    <div class="message">\n                                        <span class="arrow"></span>\n                                        <a href="javascript:;" class="name">{ name }</a>\n                                        <span class="datetime">{ parent.getRelativeTime(time) }</span>\n                                        <span class="body">\n                                        <raw content="{ message }"></raw> </span>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class="page-quick-sidebar-chat-user-form">\n                                <form id="chat_input_form" onsubmit="{ onSubmit }">\n                                    <div class="input-group">\n                                        <input id="chat_input" type="text" class="form-control" placeholder="Type a message here...">\n                                        <div class="input-group-btn">\n                                            <button type="submit" class="btn blue"><i class="fa fa-paperclip"></i></button>\n                                        </div>\n                                    </div>\n                                </form>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="tab-pane page-quick-sidebar-alerts" id="quick_sidebar_tab_2">\n                    <div class="page-quick-sidebar-alerts-list">\n                        <h3 class="list-heading">Intro</h3>\n                        <h3 class="list-heading">Section 1</h3>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n',handleQuickSidebarToggler=function(){$(".page-header .quick-sidebar-toggler, .page-quick-sidebar-toggler").click(function(i){$("body").toggleClass("page-quick-sidebar-open")})},handleQuickSidebarChat=function(){var i=$(".page-quick-sidebar-wrapper"),a=i.find(".page-quick-sidebar-chat"),e=function(){var e,t=i.find(".page-quick-sidebar-chat-users");e=i.height()-i.find(".nav-justified > .nav-tabs").outerHeight(),Metronic.destroySlimScroll(t),t.attr("data-height",e),Metronic.initSlimScroll(t);var n=a.find(".page-quick-sidebar-chat-user-messages"),s=e-a.find(".page-quick-sidebar-chat-user-form").outerHeight()-a.find(".page-quick-sidebar-nav").outerHeight();Metronic.destroySlimScroll(n),n.attr("data-height",s),Metronic.initSlimScroll(n)};e(),Metronic.addResizeHandler(e),i.find(".page-quick-sidebar-chat-users .media-list > .media").click(function(){a.addClass("page-quick-sidebar-content-item-shown")}),i.find(".page-quick-sidebar-chat-user .page-quick-sidebar-back-to-list").click(function(){a.removeClass("page-quick-sidebar-content-item-shown")})},handleQuickSidebarAlerts=function(){var i=$(".page-quick-sidebar-wrapper"),a=(i.find(".page-quick-sidebar-alerts"),function(){var a,e=i.find(".page-quick-sidebar-alerts-list");a=i.height()-i.find(".nav-justified > .nav-tabs").outerHeight(),Metronic.destroySlimScroll(e),e.attr("data-height",a),Metronic.initSlimScroll(e)});a(),Metronic.addResizeHandler(a)};riot.tag(CONSTANTS.TAGS.SIDEBAR,html,function(i){var a=this;this.mixin(TrainingMix);var e=require("../../../MetaMap");this.userPicture="",this.on("mount",function(){handleQuickSidebarToggler(),handleQuickSidebarChat(),handleQuickSidebarAlerts(),a.userPicture=e.User.picture}),this.getDisplay=function(){return a.display?"":"display: none;"},this.getRelativeTime=function(){var i=arguments.length<=0||void 0===arguments[0]?new Date:arguments[0];return moment(i).fromNow()},this.onSubmit=function(i){a.userTraining.messages.push({message:a.chat_input.value,time:new Date}),a.saveTraining(a.trainingId),a.chat_input.value="",a.update()},e.Eventer.on(CONSTANTS.EVENTS.SIDEBAR_CLOSE,function(){$("body").removeClass("page-quick-sidebar-open")}),e.Eventer.on(CONSTANTS.EVENTS.SIDEBAR_OPEN,function(i){a.trainingId=i,a.getData(i),$("body").addClass("page-quick-sidebar-open")})});
},{"../../../MetaMap":1,"../../constants/constants":29,"../../template/metronic":74,"../mixins/training-mix":55,"./raw":49,"moment":undefined,"riot":"riot"}],49:[function(require,module,exports){
"use strict";var riot=require("riot");module.exports=riot.tag("raw","<span></span>",function(t){var n=this;this.updateContent=function(){this.root.innerHTML=t?t.content||"":""},this.on("update",function(){n.updateContent()}),this.updateContent()});
},{"riot":"riot"}],50:[function(require,module,exports){
"use strict";var riot=require("riot"),$=require("jquery");require("typeahead.js"),require("bootstrap-select");var CONSTANTS=require("../../constants/constants");require("../../tools/shims");var Sharing=require("../../app/Sharing"),html='\n<div id="share_modal" class="modal fade">\n    <div class="modal-dialog">\n        <div class="modal-content">\n            <div class="modal-header">\n                <a id="share_public_link"\n                    style="float: right; vertical-align: middle;"\n                    data-clipboard-text="{window.location.host+\'/\'+window.location.pathname+\'/maps/\'+opts.map.id}"\n                    onclick="{ getPublicLink }">\n                        Get sharable link  <i class="fa fa-link"></i></a>\n                <h4 class="modal-title">Share with others</h4>\n            </div>\n            <div class="modal-body">\n                <p>People</p>\n                <form role="form">\n                    <div class="row">\n                        <div id="share_typeahead" class="col-md-8">\n                            <input style="height: 35px;" id="share_input" class="typeahead form-control" type="text" placeholder="Enter names or email addresses..." />\n                        </div>\n                        <div class="col-md-4">\n                            <div class="row">\n                                <div class="col-md-8">\n                                    <select id="share_permission" class="selectpicker">\n                                        <option value="read" data-content="<span><i class=\'fa fa-eye\'></i> Can view</span>">Can view</option>\n                                        <option value="write" data-content="<span><i class=\'fa fa-pencil\'></i> Can edit</span>">Can edit</option>\n                                    </select>\n                                </div>\n                                <div class="col-md-2">\n                                    <a id="share_button" class="btn btn-icon-only green" onclick="{ onShare }" style="display: none;">\n                                        <i class="fa fa-plus"></i>\n                                    </a>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div if="{ opts && opts.map && opts.map.shared_with}" class="row">\n                        <br>\n                        <div class="col-md-12">\n                            <span\n                                class="label label-default"\n                                style="margin-right: 5px;"\n                                if="{ i != \'admin\' && (val.write || val.read) }"\n                                each="{ i, val in opts.map.shared_with}">\n                                <i if="{ val.write }" class="fa fa-pencil"></i>\n                                <i if="{ !val.write }" class="fa fa-eye"></i>\n                                </i>\n                                  { val.name }\n                                <i\n                                    class="fa fa-times-circle"\n                                    style="cursor: pointer;"\n                                    onclick="{ parent.onUnShare }"\n                                    >\n                                </i>\n                            </span>\n                        </div>\n                    </div>\n                </form>\n            </div>\n            <div class="modal-footer">\n                <button type="button" class="btn btn-primary" data-dismiss="modal">Done</button>\n            </div>\n        </div>\n    </div>\n</div>\n';module.exports=riot.tag("share",html,function(e){var a=this,i=require("../../../MetaMap"),n=new Sharing(i.User);this.data=[],this.getPublicLink=function(e,a){},this.onShare=function(e,i){a.opts.map.shared_with[a.suggestion.id]={read:"read"==a.picker.val()||"write"==a.picker.val(),write:"write"==a.picker.val(),name:a.suggestion.name,picture:a.suggestion.picture},n.addShare(a.opts.map,a.suggestion,a.opts.map.shared_with[a.suggestion.id]),a.suggestion=null,a.ta.typeahead("val",""),$(a.share_button).hide()},this.onUnShare=function(e,i){e.item.val.id=e.item.i,delete a.opts.map.shared_with[e.item.i],n.removeShare(a.opts.map,e.item.val)},this.on("update",function(e){e&&_.extend(a.opts,e)}),this.on("mount",function(e,n){$(a.share_modal).modal("show"),a.ta=$("#share_typeahead .typeahead").typeahead({highlight:!0},{source:function(e,n,t){return $.ajax({type:"post",url:"https://api.metamap.co/users/find",data:JSON.stringify({currentUserId:i.User.userId,sessionId:i.MetaFire.firebase_token,excludedUsers:_.keys(a.opts.map.shared_with),search:e}),contentType:"application/json; charset=utf-8",success:function(e){e.push({id:"*",picture:"src/images/world-globe.jpg",name:"Public"}),t(e)},error:function(e){console.log(e)}})},display:function(e){return e.name},templates:{empty:['<div style="padding: 5px 10px; text-align: center;">',"Unable to find any users matching this query","</div>"].join("\n"),suggestion:function(e){return'<div><img alt="'+e.name+'" height="30" width="30" class="img-circle" src="'+e.picture+'"> '+e.name+"</div>"}}}),a.ta.on("typeahead:select",function(e,i){a.suggestion=i,$(a.share_button).show()}),a.ta.on("typeahead:autocomplete",function(e,i){a.suggestion=i,$(a.share_button).show()}),a.picker=$(".selectpicker").selectpicker({width:"auto"})})});
},{"../../../MetaMap":1,"../../app/Sharing":22,"../../constants/constants":29,"../../tools/shims":77,"bootstrap-select":undefined,"jquery":undefined,"riot":"riot","typeahead.js":undefined}],51:[function(require,module,exports){
"use strict";var riot=require("riot"),$=require("jquery");require("bootstrap-hover-dropdown");var html='<a href="javascript:;" class="dropdown-toggle" data-toggle="dropdown" data-hover="dropdown" data-close-others="true">\n            <i class="fa fa-graduation-cap"></i>\n        </a>\n        <ul class="dropdown-menu">\n            <li>\n                <ul class="dropdown-menu-list scroller" style="height: 270px;" data-handle-color="#637283">\n                    <li if="{ help }"\n                        each="{ help }"\n                        onclick="{ parent.onClick }">\n                        <a href="{ link }">\n                            <i class="{ icon }"></i>\n                            <span class="title">{ title }</span>\n                        </a>\n                    </li>\n                </ul>\n            </li>\n        </ul>\n';riot.tag("meta-help",html,function(n){var e=this,t=require("../../../MetaMap");this.onClick=function(n,e){return console.log(n,e),!0},this.help=null,this.on("mount",function(){t.MetaFire.on("metamap/help",function(n){e.help=_.filter(_.sortBy(n,"order"),function(n){var e=1!=n.archive;return e}),e.update()})})});
},{"../../../MetaMap":1,"bootstrap-hover-dropdown":undefined,"jquery":undefined,"riot":"riot"}],52:[function(require,module,exports){
"use strict";var riot=require("riot"),$=require("jquery");require("bootstrap-hover-dropdown");var moment=require("moment"),CONSTANTS=require("../../constants/constants");require("../../tools/shims");var html='<a href="javascript:;"\n                 class="dropdown-toggle"\n                 data-toggle="dropdown"\n                 data-hover="dropdown"\n                 data-close-others="true">\n                    <i class="fa fa-bell-o"></i>\n                    <span class="badge badge-success">\n                        { notifications.length }\n                    </span>\n                </a>\n                <ul class="dropdown-menu">\n                    <li class="external">\n                        <h3>\n                            <span class ="bold">{ notifications.length } pending</span> notification{ s: notifications.length == 0 || notifications.length > 1 }\n                        </h3>\n                        <a if="{ allNotifications.length > 1 }" href="javascript:;">view all</a>\n                    </li>\n                    <li>\n                        <ul class="dropdown-menu-list scroller" style="height: 250px;" data-handle-color="#637283">\n                            <li if="{ true != archived }"\n                                each="{ val, i in notifications }"\n                                onclick="{ parent.onClick }">\n                                <a>\n                                    <span if="{ val.photo != null }" class="photo">\n										<img src="{val.photo}" class="img-circle" alt="">\n                                    </span>\n                                    <span class="subject">\n										<span class="from">{ val.from }</span>\n										<span class="time" style="padding: 0;">{ parent.getTime(val.time) }</span>\n                                    </span>\n                                    <span class="message">{ val.event }</span>\n                                </a>\n                            </li>\n                        </ul>\n                    </li>\n                </ul>\n';riot.tag("meta-notifications",html,function(n){var t=this,a=require("../../../MetaMap.js"),i=CONSTANTS.ROUTES.NOTIFICATIONS.format(a.User.userId);this.notifications=[],this.allNotifications=[],this.onClick=function(n,t){var e=n.item.val;switch(a.MetaFire.setData(!0,i+"/"+e.id+"/archive"),e.type){case CONSTANTS.NOTIFICATION.MAP:a.Router.to("map/"+e.mapId)}return!0},this.getTime=function(n){return moment(new Date(n)).fromNow()},this.on("mount",function(){a.MetaFire.getData(i).then(function(n){n||a.MetaFire.pushData({event:"You signed up for MetaMap!",time:""+new Date,archive:!1},i),a.MetaFire.on(CONSTANTS.ROUTES.NOTIFICATIONS.format(a.User.userId),function(n){t.allNotifications=_.map(n,function(n,t){return n.id=t,n}),t.notifications=_.filter(_.sortBy(t.allNotifications,"date"),function(n){var t=1!=n.archive;return t}),t.update()})})})});
},{"../../../MetaMap.js":1,"../../constants/constants":29,"../../tools/shims":77,"bootstrap-hover-dropdown":undefined,"jquery":undefined,"moment":undefined,"riot":"riot"}],53:[function(require,module,exports){
"use strict";var riot=require("riot"),$=require("jquery");require("bootstrap-hover-dropdown");var html='<a href="javascript:;" class="dropdown-toggle" data-toggle="dropdown" data-hover="dropdown" data-close-others="true">\n                    <i class="fa fa-trophy"></i>\n                    <span class="badge badge-success">\n                        { points.length }\n                    </span>\n                </a>\n                <ul class="dropdown-menu">\n                    <li class="external">\n                        <h3>\n                            <span class ="bold">{ points.length } new </span> achievement{ s: points.length == 0 || points.length > 1 }\n                        </h3>\n                        <a href="javascript:;">view all</a>\n                    </li>\n                    <li>\n                        <ul class="dropdown-menu-list scroller" style="height: 250px;" data-handle-color="#637283">\n                            <li if="{ points }"\n                                each="{ points }"\n                                onclick="{ parent.onClick }">\n                                <a href="javascript:;">\n                                    <span class="time">{ time }</span>\n                                    <span class="details">\n                                        <span class="label label-sm label-icon label-success">\n                                            <i class="fa fa-plus"></i>\n                                        </span>\n                                        { event }\n                                    </span>\n                                </a>\n                            </li>\n                        </ul>\n                    </li>\n                </ul>\n';riot.tag("meta-points",html,function(n){var s=this,a=require("../../../MetaMap.js");this.points=[],this.onClick=function(n,s){return console.log(n,s),!0},this.on("mount",function(){a.MetaFire.on("users/"+a.User.userId+"/points",function(n){s.points=_.filter(_.sortBy(n,"order"),function(n){var s=1!=n.archive;return s}),s.update()})})});
},{"../../../MetaMap.js":1,"bootstrap-hover-dropdown":undefined,"jquery":undefined,"riot":"riot"}],54:[function(require,module,exports){
"use strict";var riot=require("riot"),$=require("jquery");require("bootstrap-hover-dropdown");var html='<a href="javascript:;" class="dropdown-toggle" data-toggle="dropdown" data-hover="dropdown" data-close-others="true">\n                    <span class="username username-hide-on-mobile">\n                        { username }\n                    </span>\n                    <img if="{ picture }" alt="" height="39" width="39" class="img-circle" src="{ picture }" />\n                </a>\n                <ul class="dropdown-menu dropdown-menu-default">\n                    <li if="{ menu }"\n                        each="{ menu }"\n                        onclick="{ parent.onClick }">\n                        <a href="{ link }">\n                            <i class="{ icon }"></i> { title }\n                        </a>\n                    </li>\n                </ul>\n';riot.tag("meta-user",html,function(n){var e=this,t=require("../../../MetaMap.js");this.menu=[],this.username="",this.picture="",this.logout=function(){t.logout()},this.linkAccount=function(){t.Auth0.linkAccount()},this.onClick=function(n,t){switch(n.item.link){case"#link-social-accounts":return e.linkAccount(),!1;default:return console.log(n,t),!0}},this.on("mount",function(){t.MetaFire.on("metamap/user",function(n){e.username=t.User.displayName,e.picture=t.User.picture,e.menu=_.filter(_.sortBy(n,"order"),function(n){var e=1!=n.archive;return e}),e.update()})})});
},{"../../../MetaMap.js":1,"bootstrap-hover-dropdown":undefined,"jquery":undefined,"riot":"riot"}],55:[function(require,module,exports){
"use strict";var CONSTANTS=require("../../constants/constants"),NProgress=window.NProgress,TrainingMix={init:function(){this.MetaMap=require("../../../MetaMap.js")},userTraining:{messages:[]},training:{},saveTraining:function(e){this.MetaMap.MetaFire.setData(this.userTraining,""+CONSTANTS.ROUTES.TRAININGS.format(this.MetaMap.User.userId)+e)},getData:function(e){var a=this;e&&!function(){var t=a;a._onceGetData=a._onceGetData||_.once(function(){var a=_.once(function(){t.MetaMap.MetaFire.on(""+CONSTANTS.ROUTES.TRAININGS.format(t.MetaMap.User.userId)+e,function(a){t.userTraining=a,a||(t.userTraining=t.training,t.saveTraining(e)),t.userTraining.messages||(t.userTraining.messages=[t.getDefaultMessage()],t.saveTraining(e)),t.update(),NProgress.done()}),t.MetaMap.Eventer["do"](CONSTANTS.EVENTS.SIDEBAR_OPEN,e)});t.MetaMap.MetaFire.on(""+CONSTANTS.ROUTES.COURSE_LIST+e,function(e){t.training=e,t.MetaMap.Eventer["do"](CONSTANTS.EVENTS.PAGE_NAME,e),t.update(),a()})}),a._onceGetData()}()},messages:[],cortexPicture:"src/images/cortex-avatar-small.jpg",getDefaultMessage:function(){return{message:"Hello, I'm Cortex Man. Ask me anything. Try <code>/help</code> if you get lost.",author:"cortex",time:new Date}}};module.exports=TrainingMix;
},{"../../../MetaMap.js":1,"../../constants/constants":29}],56:[function(require,module,exports){
"use strict";var riot=require("riot"),$=require("jquery");require("bootstrap-hover-dropdown");var CONSTANTS=require("../constants/constants");require("../tools/shims");var Permissions=require("../app/Permissions"),html='\n<div id="page_actions" class="page-actions">\n    <div class="btn-group">\n        <button type="button" class="btn red-haze btn-sm dropdown-toggle" data-toggle="dropdown" data-hover="dropdown" data-close-others="true">\n            <span class="hidden-sm hidden-xs">Actions&nbsp;</span>\n            <i class="fa fa-angle-down"></i>\n        </button>\n        <ul class="dropdown-menu" role="menu">\n            <li each="{ val, i in data }" class="{ start: i == 0, active: i == 0 }">\n                <a if="{ parent.getLinkAllowed(val) }" href="{ parent.getActionLink(val) }">\n                    <i class="{ val.icon }"></i> { val.title }\n                </a>\n            </li>\n            <li class="divider"></li>\n            <li>\n                <a href="#settings">\n                    <i class="fa fa-gear"></i> Settings\n                </a>\n            </li>\n        </ul>\n    </div>\n\n    <span style="padding-left: 5px;">\n        <span if="{ pageName }"\n                id="map_name"\n                data-type="text"\n                data-title="Enter map name"\n                style="vertical-align: middle;">\n            { pageName }\n        </span>\n    </span>\n</div>\n';module.exports=riot.tag("page-actions",html,function(a){var e=this,n=require("../../MetaMap");this.data=[],this.pageName="Home",this.url=n.config.site.db+".firebaseio.com",this.loaded=!1;var t=null;this.getActionLink=function(a){var n=a.link;return a.url_params&&!function(){var t=[];_.each(a.url_params,function(a){t.push(e[a.name])}),n=a.link.format.call(a.link,t)}(),n},this.getLinkAllowed=function(a){var i=1==a["allowed-on"]["*"];if(!i){var s=n.Router.currentPath;i=1==a["allowed-on"][s]}if(i&&e.map&&t)switch(a.title){case"Share Map":case"Delete Map":i=t.isMapOwner()}return i},this.updatePageName=function(a){t=new Permissions(a),e.map=a||{},t.isMapOwner()?e.pageName=a.name||"":e.pageName=a.name+" (Shared by "+a.owner.name+")",t&&t.isMapOwner()&&($(e.map_name).editable({unsavedclass:null}).on("save",function(a,t){n.MetaFire.setData(t.newValue,CONSTANTS.ROUTES.MAPS_LIST+"/"+e.mapId+"/name")}),e.loaded=!0),e.update()},n.Eventer.every("pageName",function(a){e.loaded&&$(e.map_name).editable("destroy"),e.mapId&&(n.MetaFire.off(CONSTANTS.ROUTES.MAPS_LIST+"/"+e.mapId),e.mapId=null,e.map=null),a.id&&(e.mapId=a.id,n.MetaFire.on(CONSTANTS.ROUTES.MAPS_LIST+"/"+a.id,function(a){e.updatePageName(a)})),e.pageName=a.name||"Home",e.update()}),n.MetaFire.on("metamap/actions",function(a){e.data=_.filter(_.sortBy(a,"order"),function(a){var e=1!=a.archive;return e}),e.update()}),n.Eventer.on(CONSTANTS.EVENTS.SIDEBAR_CLOSE,function(){$(e.page_actions).css({"padding-left":"0"})}),n.Eventer.on(CONSTANTS.EVENTS.SIDEBAR_OPEN,function(){$(e.page_actions).css({"padding-left":"70px"})})});
},{"../../MetaMap":1,"../app/Permissions":20,"../constants/constants":29,"../tools/shims":77,"bootstrap-hover-dropdown":undefined,"jquery":undefined,"riot":"riot"}],57:[function(require,module,exports){
"use strict";var riot=require("riot"),pageHeader=require("./page-header"),pageContainer=require("./page-container"),pageFooter=require("./page-footer"),CONSTANTS=require("../constants/constants"),html='\n<div id="page_body" class="page-header-fixed page-sidebar-reversed">\n\n    <div id="meta_page_header"></div>\n\n    <div class="clearfix">\n    </div>\n\n    <div id="meta_page_container"></div>\n\n</div>';module.exports=riot.tag("page-body",html,function(e){var a=this;require("../../MetaMap");this.on("update",function(){a.header=a.header||riot.mount(a.meta_page_header,"page-header")[0],a.container=a.container||riot.mount(a.meta_page_container,"page-container")[0]})});
},{"../../MetaMap":1,"../constants/constants":29,"./page-container":58,"./page-footer":60,"./page-header":61,"riot":"riot"}],58:[function(require,module,exports){
"use strict";var riot=require("riot"),pageContent=require("./page-content"),html='\n<div class="page-container">\n\n    <div id="meta_page_content"></div>\n</div>\n';module.exports=riot.tag("page-container",html,function(t){var e=this;require("../../MetaMap");this.on("update",function(){e.content=e.content||riot.mount(e.meta_page_content,"page-content")[0]})});
},{"../../MetaMap":1,"./page-content":59,"riot":"riot"}],59:[function(require,module,exports){
"use strict";var riot=require("riot"),CONSTANTS=require("../constants/constants"),_=require("lodash");require("./components/quick-sidebar");var html='\n<div class="page-content-wrapper">\n    <div id="page-content" class="page-content">\n\n        <div class="page-head"></div>\n\n        <div id="app-container"></div>\n\n        <div id="quick_sidebar_container"></div>\n    </div>\n</div>\n';module.exports=riot.tag("page-content",html,function(i){var n=this;require("../../MetaMap");this.on("update",function(){n.sidebar=n.sidebar||riot.mount(n.quick_sidebar_container,"quick-sidebar")[0],n.resize()}),this.resize=function(){var i=window.innerWidth-40+"px";$(n["app-container"]).css({width:i})},$(window).on("resize",function(){n.resize()})});
},{"../../MetaMap":1,"../constants/constants":29,"./components/quick-sidebar":48,"lodash":undefined,"riot":"riot"}],60:[function(require,module,exports){
"use strict";var riot=require("riot"),html='\n<div class="page-footer" style="position: fixed; bottom: 0;">\n    <div class="page-footer-inner">\n        <a href="#terms">&copy;2015</a>\n    </div>\n</div>\n';module.exports=riot.tag("page-footer",html,function(e){require("../../MetaMap")});
},{"../../MetaMap":1,"riot":"riot"}],61:[function(require,module,exports){
"use strict";var riot=require("riot"),pageLogo=require("./page-logo.js"),pageActions=require("./page-actions.js"),pageSearch=require("./page-search.js"),pageTopMenu=require("./page-topmenu"),html='\n<div id="header-top" class="page-header navbar navbar-fixed-top">\n    <div id="meta_progress_next" style="overflow: inherit;"></div>\n    <div id="header-content" class="page-header-inner">\n\n        <div id="meta_page_logo"></div>\n\n        <div id="meta_page_actions"></div>\n\n        <div id="meta_page_top" class="page-top">\n            <div id="meta_page_search"></div>\n\n            <div id="meta_page_topmenu"></div>\n        </div>\n\n    </div>\n\n</div>\n';module.exports=riot.tag("page-header",html,function(e){var a=this;require("../../MetaMap");this.on("update",function(){a.logo=a.logo||riot.mount(a.meta_page_logo,"page-logo")[0],a.actions=a.actions||riot.mount(a.meta_page_actions,"page-actions")[0],a.search=a.search||riot.mount(a.meta_page_top,"page-search")[0],a.topmenu=a.topmenu||riot.mount(a.meta_page_top,"page-topmenu")[0]})});
},{"../../MetaMap":1,"./page-actions.js":56,"./page-logo.js":62,"./page-search.js":63,"./page-topmenu":64,"riot":"riot"}],62:[function(require,module,exports){
"use strict";var riot=require("riot"),CONSTANTS=require("../constants/constants"),html='\n<div class ="page-logo">\n    <a id="meta_logo" href="#home">\n        <img src="src/images/metamap_cloud.png" alt="logo" class ="logo-default" />\n    </a>\n\n    <div id="meta_menu_toggle" class="menu-toggler sidebar-toggler quick-sidebar-toggler" onclick="{ onClick }" style="visibility:{ getDisplay() };">\n        <!--DOC: Remove the above "hide" to enable the sidebar toggler button on header-->\n    </div>\n</div>\n<a href="javascript:;" class ="menu-toggler responsive-toggler" data-toggle="collapse" data-target=".navbar-collapse">\n</a>\n';module.exports=riot.tag("page-logo",html,function(e){var t=this,a=require("../../MetaMap");this.isSidebarOpen=!1;var i=function(e){t.isSidebarOpen!=e&&(t.isSidebarOpen=e,$(t.meta_menu_toggle).click())};this.onClick=function(){},this.getDisplay=function(e){return a&&a.Router&&a.Router.currentPath==CONSTANTS.PAGES.TRAININGS?(i(!0),"visible"):"hidden"},a.Eventer.every("pageName",function(e){t.update()})});
},{"../../MetaMap":1,"../constants/constants":29,"riot":"riot"}],63:[function(require,module,exports){
"use strict";var riot=require("riot"),html='\n<!-- DOC: Apply "search-form-expanded" right after the "search-form" class to have half expanded search box -->\n<form class="search-form" action="extra_search.html" method="GET">\n    <div class="input-group">\n        <input type="text" class="form-control input-sm" placeholder="Search..." name="query">\n            <span class="input-group-btn">\n                <a href="javascript:;" class="btn submit">\n                    <i class="fa fa-search"></i>\n                </a>\n            </span>\n        </div>\n</form>\n';module.exports=riot.tag("page-search",html,function(a){require("../../MetaMap")});
},{"../../MetaMap":1,"riot":"riot"}],64:[function(require,module,exports){
"use strict";var riot=require("riot"),$=require("jquery");require("bootstrap-hover-dropdown");var metaPoints=require("./menu/meta-points.js"),metaHelp=require("./menu/meta-help.js"),metaUser=require("./menu/meta-user.js"),metaNot=require("./menu/meta-notifications.js"),html='\n<div class="top-menu">\n    <ul class="nav navbar-nav pull-right">\n        <li class="separator hide"></li>\n        <li class="dropdown" id="header_dashboard_bar" onclick="{ onClick }">\n            <a class="dropdown-toggle" href="#home">\n                <i class="fa fa-home"></i>\n            </a>\n        </li>\n\n        <li class="separator hide"></li>\n        <li class="dropdown dropdown-extended dropdown-notification dropdown" id="header_notification_bar"></li>\n\n\n\n        <li class="separator hide"></li>\n        <li id="header_help_bar" class="dropdown dropdown-extended dropdown-notification dropdown"></li>\n\n        <li class="separator hide"></li>\n        <li id="header_user_menu" class="dropdown dropdown-user dropdown"></li>\n    </ul>\n</div>\n';module.exports=riot.tag("page-topmenu",html,function(e){var n=this;this.onClick=function(e,n){return!0},this.on("update",function(){n.notifications=n.notifications||riot.mount(n.header_notification_bar,"meta-notifications"),n.help=n.help||riot.mount(n.header_help_bar,"meta-help"),n.user=n.user||riot.mount(n.header_user_menu,"meta-user")})});
},{"./menu/meta-help.js":51,"./menu/meta-notifications.js":52,"./menu/meta-points.js":53,"./menu/meta-user.js":54,"bootstrap-hover-dropdown":undefined,"jquery":undefined,"riot":"riot"}],65:[function(require,module,exports){
"use strict";var riot=require("riot"),moment=require("moment"),NProgress=window.NProgress,_=require("lodash"),$=require("jquery");require("datatables"),require("datatables-bootstrap3-plugin");var CONSTANTS=require("../../constants/constants"),raw=require("../components/raw");require("../tables/all-courses"),require("../tables/my-courses");var html='\n<div id="my_courses_page" class="portlet box grey-cascade">\n    <div class="portlet-title">\n        <div class="caption">\n            <i class="fa fa-icon-th-large"></i>Courses\n        </div>\n        <div if="{ menu }" class="actions">\n            <a each="{ menu.buttons }" href="{ link }" onclick="{ parent.onActionClick }" class="btn btn-default btn-sm">\n                <i class="{ icon }"></i> { title }\n            </a>\n            <div class="btn-group">\n                <a class="btn btn-default btn-sm" href="javascript:;" data-toggle="dropdown">\n                    <i class="fa fa-cogs"></i> Tools <i class="fa fa-angle-down"></i>\n                </a>\n                <ul class="dropdown-menu pull-right">\n                    <li each="{ menu.menu }" onclick="{ parent.onMenuClick }">\n                        <a href="{ link }">\n                            <i class="{ icon }"></i> { title }\n                        </a>\n                    </li>\n                </ul>\n            </div>\n        </div>\n    </div>\n    <div class="portlet-body">\n        <ul class="nav nav-tabs portlet-tabs">\n            <li onclick="{ parent.onTabSwitch }" each="{ val, i in tabs }" class="{ active: i == 0 }">\n                <a href="#mycourses_1_{ i }" data-toggle="tab" aria-expanded="{ true: i == 0 }">\n                { val.title }</a>\n            </li>\n        </ul>\n        <div class="table-toolbar">\n\n        </div>\n        <div class="tab-content">\n            <div each="{ val, i in tabs }" class="tab-pane fase in { active: i == 0 }" id="mycourses_1_{ i }">\n\n            </div>\n        </div>\n    </div>\n</div>\n';module.exports=riot.tag(CONSTANTS.TAGS.COURSE_LIST,html,function(n){var a=this,t=require("../../../MetaMap.js");this.user=t.User,this.data=[],this.menu=null;var e=[{title:"My Trainings",order:0,editable:!0,columns:[{name:"Check",isCheckbox:!0},{name:"Action"},{name:"Created On"},{name:"Status"}]},{title:"All Trainings",order:1,editable:!1,columns:[{name:"Action"},{name:"Created On"},{name:"Owner"}]}];this.tabs=_.sortBy(e,"order"),this.currentTab="My Trainings",this.onOpen=function(n){t.Router.to("map/"+n.item.id)},this.onTabSwitch=function(n){a.currentTab=n.item.val.title},this.loadTable=function(n,e){try{var i=a["mycourses_1_"+e],s=null;switch(n){case"All Trainings":s=CONSTANTS.TAGS.ALL_COURSES;break;case"My Trainings":s=CONSTANTS.TAGS.MY_COURSES}i&&s&&(a[n]=a[n]||riot.mount(i,s)[0],a[n].update())}catch(r){t.error(r)}},this.on("mount",function(){NProgress.start()}),this.on("update",function(){_.each(a.tabs,function(n,t){a.loadTable(n.title,t)})})});
},{"../../../MetaMap.js":1,"../../constants/constants":29,"../components/raw":49,"../tables/all-courses":70,"../tables/my-courses":71,"datatables":undefined,"datatables-bootstrap3-plugin":undefined,"jquery":undefined,"lodash":undefined,"moment":undefined,"riot":"riot"}],66:[function(require,module,exports){
"use strict";var riot=require("riot"),NProgress=window.NProgress,CONSTANTS=require("../../constants/constants"),html='\n<div class="portlet light">\n				<div class="portlet-body">\n					<div class="row margin-bottom-30">\n						<div if="{ header }" class="col-md-6">\n                            <h1>{ header.title }</h1>\n                            <p>{ header.text }</p>\n							<ul class="list-unstyled margin-top-10 margin-bottom-10">\n								<li each="{ areas }">\n									<i class="{ icon }"></i> <b>{ title }</b> { text }\n								</li>\n							</ul>\n							<!-- Blockquotes -->\n							<blockquote class="hero">\n								<p>{ quote.text }</p>\n								<small>{ quote.by }</small>\n							</blockquote>\n                            <div class="addthis_horizontal_follow_toolbox"></div>\n						</div>\n						<div class ="col-md-6">\n                          <iframe if="{ header.youtubeid }"\n                                id="ytplayer"\n                                type="text/html"\n                                src="https://www.youtube.com/embed/{ header.youtubeid }"\n                                frameborder="0" allowfullscreen\n                                class ="fitvids"\n                                style="height: 327px; width: 100%; display: block; margin-left: auto; margin-right: auto; broder: 0;"\n                            />\n							</iframe>\n						</div>\n					</div>\n                    <div class="headline">\n						<h3>{ userName }{ vision.title }</h3>\n					</div>\n                    <div>\n                        <p>{ vision.text }</p>\n                    </div>\n				</div>\n			</div>\n';module.exports=riot.tag("home",html,function(e){var t=this,i=require("../../../MetaMap");this.areas=[],this.header={},i.MetaFire.on(CONSTANTS.ROUTES.HOME,function(e){t.areas=_.filter(_.sortBy(e.areas,"order"),function(e){var t=1!=e.archive;return t}),t.quote=e.quote,t.header=e.header,t.vision=e.vision,t.userName=i.User.fullName,t.update(),NProgress.done()})});
},{"../../../MetaMap":1,"../../constants/constants":29,"riot":"riot"}],67:[function(require,module,exports){
"use strict";var riot=require("riot"),moment=require("moment"),NProgress=window.NProgress,_=require("lodash"),$=require("jquery");require("datatables"),require("datatables-bootstrap3-plugin");var CONSTANTS=require("../../constants/constants"),raw=require("../components/raw"),ShareMap=require("../../actions/ShareMap"),html='\n<div id="my_maps_page" class="portlet box grey-cascade">\n    <div class="portlet-title">\n        <div class="caption">\n            <i class="fa fa-icon-th-large"></i>MetaMaps\n        </div>\n        <div if="{ menu }" class="actions">\n            <a each="{ menu.buttons }" href="{ link }" onclick="{ parent.onActionClick }" class="btn btn-default btn-sm">\n                <i class="{ icon }"></i> { title }\n            </a>\n            <div class="btn-group">\n                <a class="btn btn-default btn-sm" href="javascript:;" data-toggle="dropdown">\n                    <i class="fa fa-cogs"></i> Tools <i class="fa fa-angle-down"></i>\n                </a>\n                <ul class="dropdown-menu pull-right">\n                    <li each="{ menu.menu }" onclick="{ parent.onMenuClick }">\n                        <a href="{ link }">\n                            <i class="{ icon }"></i> { title }\n                        </a>\n                    </li>\n                </ul>\n            </div>\n        </div>\n    </div>\n    <div class="portlet-body">\n        <ul class="nav nav-tabs portlet-tabs">\n            <li onclick="{ parent.onTabSwitch }" each="{ val, i in tabs }" class="{ active: i == 0 }">\n                <a href="#mymaps_1_{ i }" data-toggle="tab" aria-expanded="{ true: i == 0 }">\n                { val.title }</a>\n            </li>\n        </ul>\n        <div class="table-toolbar">\n\n        </div>\n        <div class="tab-content">\n            <div each="{ val, i in tabs }" class="tab-pane fase in { active: i == 0 }" id="mymaps_1_{ i }">\n                <table class="table table-striped table-bordered table-hover" id="mymaps_table_{ i }">\n                    <thead>\n                        <tr>\n                            <th class="table-checkbox">\n                                <input if="{ val.title == \'My Maps\' }" type="checkbox" class="group-checkable" data-set="#mymaps_table_{ i } .checkboxes"/>\n                            </th>\n                            <th>\n                                Action\n                            </th>\n                            <th>\n                                Name\n                            </th>\n                            <th>\n                                Created On\n                            </th>\n                            <th if="{ val.title == \'My Maps\' }">\n                                Status\n                            </th>\n                            </th>\n                            <th if="{ val.title != \'My Maps\' }">\n                                Owner\n                            </th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr if="{ parent.data && parent.data[i] }" each="{ parent.data[i] }" class="odd gradeX">\n                            <td>\n                                <input if="{ val.title == \'My Maps\' || parent.user.isAdmin }" type="checkbox" class="checkboxes" value="1"/>\n                            </td>\n                            <td>\n                                <button class="btn btn-sm blue filter-submit" onclick="{ parent.onOpen }">Open</button>\n                                <a if="{ val.title == \'My Maps\' }" class="btn btn-sm red" onclick="{ parent.onShare }">Share <i class="fa fa-share"></i></a>\n                                <a if="{ val.title != \'My Maps\' }" class="btn btn-sm red" onclick="{ parent.onCopy }">Copy <i class="fa fa-clone"></i></a>\n                            </td>\n                            <td if="{ editable }" class="meta_editable_{ i }" data-pk="{ id }" data-title="Edit Map Name" style="vertical-align: middle;">{ name }</td>\n                            <td if="{ !editable }" style="vertical-align: middle;">{ name }</td>\n                            <td style="vertical-align: middle;">{ created_at }</td>\n                            <td if="{ val.title == \'My Maps\' }">\n                                <raw content="{ parent.getStatus(this) }"></raw>\n                            </td>\n                            <td if="{ val.title != \'My Maps\' }">\n                                <raw content="{ parent.getOwner(this) }"></raw>\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n        </div>\n    </div>\n</div>\n';module.exports=riot.tag("my-maps",html,function(e){var t=this,a=require("../../../MetaMap.js");this.user=a.User,this.data=null,this.menu=null;var n=[{title:"My Maps",order:0,editable:!0,columns:[{name:"Check",isCheckbox:!0},{name:"Action"},{name:"Created On"},{name:"Status"}]},{title:"Shared with Me",order:1,editable:!1,columns:[{name:"Action"},{name:"Created On"},{name:"Owner"}]},{title:"Public",order:2,editable:!1,columns:[{name:"Action"},{name:"Created On"},{name:"Owner"}]}];this.user.isAdmin&&(n.push({title:"All Maps",order:3,editable:!0,columns:[{name:"Action"},{name:"Created On"},{name:"Owner"}]}),n.push({title:"Templates",order:4,editable:!0,columns:[{name:"Action"},{name:"Created On"},{name:"Owner"}]})),this.tabs=_.sortBy(n,"order"),this.currentTab="My Maps",this.getStatus=function(e){var t="Private",a="default",n="";return e.shared_with&&(!e.shared_with["*"]||1!=e.shared_with["*"].read&&1!=e.shared_with["*"].write?(_.each(e.shared_with,function(e,t){e.picture&&"*"!=t&&"admin"!=t&&(n+='<span class="label owner-label" data-toggle="tooltip" data-placement="bottom" title="'+e.name+'"><img alt="'+e.name+'" height="30" width="30" class="img-circle" src="'+e.picture+'"></span>')}),n&&(n='<span class="">Shared with: </span>'+n)):(t="Public",a="primary")),n=n||'<span class="label label-sm label-'+a+'">'+t+"</span>"},this.getOwner=function(e){var t='<span class="label owner-label" data-toggle="tooltip" data-placement="bottom" title="'+e.owner.name+'"><img alt="'+e.owner.name+'" height="30" width="30" class="img-circle" src="'+e.owner.picture+'"></span>';return t},this.onOpen=function(e){a.Router.to("map/"+e.item.id)},this.onShare=function(e){var t={map:e.item};ShareMap.act(t)},this.onCopy=function(e){console.log("copy")},this.onTabSwitch=function(e){switch(t.currentTab=e.item.val.title,_.delay(function(){$(".owner-label").tooltip()},250),t.currentTab){case"My Maps":}},this.onActionClick=function(e,t){return!0},this.onMenuClick=function(e,a){if("My Maps"==t.currentTab)switch(e.item.title.toLowerCase()){case"delete":var n=require("../../actions/DeleteMap.js"),i=t.table0.find(".active").find(".mapid"),r=[];_.each(i,function(e){r.push(e.innerHTML)}),n.deleteAll(r,CONSTANTS.PAGES.MY_MAPS);var s=t.table0.find("tbody tr .checkboxes");s.each(function(){$(this).attr("checked",!1),$(this).parents("tr").removeClass("active")}),jQuery.uniform.update(s)}},this.on("update",function(){}),this.on("mount",function(){NProgress.start(),a.MetaFire.on("metamap/mymaps",function(e){e&&(t.menu={buttons:_.sortBy(e.buttons,"order"),menu:_.sortBy(e.menu,"order")},t.update())});var e=function(e,n,i){try{t.data=t.data||{},t.data[e]=n,t["table"+e]&&($(".meta_editable_"+e).editable("destroy"),t["dataTable"+e].destroy()),t.update(),t["table"+e]=$(t["mymaps_table_"+e]),t["dataTable"+e]=t["table"+e].DataTable({columns:[{name:"ChckBx",orderable:!1},{name:"Action",orderable:!1,width:"120px"},{name:"Name",orderable:!0},{name:"Created On",orderable:!0},{name:"Status",orderable:!1}]});var r=t["table"+e].parent().parent().parent().find("#mymaps_"+e+"_table_wrapper");t["table"+e].find(".group-checkable").change(function(){var e=jQuery(this).attr("data-set"),t=jQuery(this).is(":checked");jQuery(e).each(function(){t?($(this).attr("checked",!0),$(this).parents("tr").addClass("active")):($(this).attr("checked",!1),$(this).parents("tr").removeClass("active"))}),jQuery.uniform.update(e)}),t["table"+e].on("change","tbody tr .checkboxes",function(){$(this).parents("tr").toggleClass("active")}),r.find(".dataTables_length select").addClass("form-control input-xsmall input-inline"),$(".meta_editable_"+e).editable({unsavedclass:null}).on("save",function(e,t){if(this.dataset&&this.dataset.pk){var n=this.dataset.pk;a.MetaFire.setData(t.newValue,CONSTANTS.ROUTES.MAPS_LIST+"/"+n+"/name")}return!0}),NProgress.done()}catch(s){NProgress.done(),a.error(s)}};a.MetaFire.getChild(CONSTANTS.ROUTES.MAPS_LIST).on("value",function(n){var i=n.val();_.each(t.tabs,function(n){var r=null;switch(n.title){case"Templates":case"My Maps":r=_.map(i,function(e,t){return e.owner.userId==a.User.userId?(e.editable=!0,e.id=t,e.created_at=moment(new Date(e.created_at)).format("YYYY-MM-DD"),e):void 0});break;case"Shared with Me":r=_.map(i,function(e,t){return e.owner.userId==a.User.userId||!e.shared_with||e.shared_with["*"]&&1==e.shared_with["*"].read&&1==e.shared_with["*"].write||!e.shared_with[a.User.userId]||1!=e.shared_with[a.User.userId].write&&1!=e.shared_with[a.User.userId].read?void 0:(e.editable=1==e.shared_with[a.User.userId].write,e.id=t,e.created_at=moment(new Date(e.created_at)).format("YYYY-MM-DD"),e)});break;case"Public":r=_.map(i,function(e,t){return e.owner.userId!=a.User.userId&&e.shared_with&&e.shared_with["*"]&&(1==e.shared_with["*"].read||1==e.shared_with["*"].write)?(e.editable=1==e.shared_with["*"].write,e.id=t,e.created_at=moment(new Date(e.created_at)).format("YYYY-MM-DD"),e):void 0});break;case"All Maps":t.user.isAdmin&&(r=_.map(i,function(e,t){return e.editable=!0,e.id=t,e.created_at=moment(new Date(e.created_at)).format("YYYY-MM-DD"),e}))}r&&(r=_.filter(r,function(e){return e&&e.id}),e(n.order,r))}),_.delay(function(){$(".owner-label").tooltip()},250)})})});
},{"../../../MetaMap.js":1,"../../actions/DeleteMap.js":6,"../../actions/ShareMap":14,"../../constants/constants":29,"../components/raw":49,"datatables":undefined,"datatables-bootstrap3-plugin":undefined,"jquery":undefined,"lodash":undefined,"moment":undefined,"riot":"riot"}],68:[function(require,module,exports){
"use strict";var riot=require("riot"),NProgress=window.NProgress,CONSTANTS=require("../../constants/constants"),html='\n<div class="portlet light">\n				<div class="portlet-body">\n					<div class="row margin-bottom-30">\n						<div if="{ header }" class="col-md-12">\n                            <h1>{ header.title }</h1>\n                            <p>{ header.text }</p>\n						</div>\n					</div>\n                    <div each="{ areas }">\n                        <div class="headline">\n    						<h3>{ title }</h3>\n    					</div>\n                        <div>\n                            <p>{ text }</p>\n                        </div>\n                        <ul class="list-unstyled margin-top-10 margin-bottom-10">\n							<li each="{ items }">\n								<i class="{ icon }"></i> <b>{ title }</b> { text }\n							</li>\n						</ul>\n                    </div>\n				</div>\n			</div>\n';module.exports=riot.tag("terms",html,function(e){var t=this,r=require("../../../MetaMap.js");this.areas=[],this.header={},r.MetaFire.on(CONSTANTS.ROUTES.TERMS_AND_CONDITIONS,function(e){t.areas=_.filter(_.sortBy(e.sections,"order"),function(e){var t=1!=e.archive;return t&&(e.items=_.filter(_.sortBy(e.items,"order"),function(e){var t=1!=e.archive;return t})),t}),t.header=e.header,t.userName=r.User.fullName,t.update(),NProgress.done()})});
},{"../../../MetaMap.js":1,"../../constants/constants":29,"riot":"riot"}],69:[function(require,module,exports){
"use strict";var riot=require("riot"),NProgress=window.NProgress,CONSTANTS=require("../../constants/constants"),VideoPlayer=require("../../tools/VideoPlayer"),TrainingMix=require("../mixins/training-mix"),html='\n<div id="training_portlet" class="portlet light">\n    <div class="portlet-body">\n        <div class="row margin-bottom-30">\n            <div class="col-md-8 col-md-offset-4">\n                <div class="embed-responsive embed-responsive-16by9">\n                    <div id="training_player" ></div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n';module.exports=riot.tag(CONSTANTS.TAGS.TRAINING,html,function(i){var t=this;this.mixin(TrainingMix),this.training={},this.on("mount update",function(i,n){n&&(t.config=n,t.getData(t.config.id),t.player=new VideoPlayer("training_player",{height:390,width:640,videoId:"dUqRTWCdXt4"}))}),this.correctHeight=function(){$(t.training_portlet).css({height:window.innerHeight-120+"px"})},this.on("update",function(){t.correctHeight()}),$(window).resize(function(){t.correctHeight()})});
},{"../../constants/constants":29,"../../tools/VideoPlayer":76,"../mixins/training-mix":55,"riot":"riot"}],70:[function(require,module,exports){
"use strict";var riot=require("riot"),moment=require("moment"),NProgress=window.NProgress,_=require("lodash"),$=require("jquery");require("datatables"),require("datatables-bootstrap3-plugin");var CONSTANTS=require("../../constants/constants"),raw=require("../components/raw"),html='\n<table class="table table-striped table-bordered table-hover" id="{tableId}">\n    <thead>\n        <tr>\n            <th each="{columns}">{name}</th>\n        </tr>\n    </thead>\n    <tbody>\n        <tr if="{ data }" each="{ data }" class="odd gradeX">\n            <td>\n                <a class="btn btn-sm red" onclick="{ parent.onStart }">Start <i class="fa fa-play"></i></a>\n            </td>\n            <td class="{ meta_editable: parent.editable}" data-pk="{ id }" data-name="name" data-title="Edit Course Name" style="vertical-align: middle;">{ name }</td>\n            <td class="{ meta_editable: parent.editable}" data-pk="{ id }" data-name="description" data-title="Edit Course Description" style="vertical-align: middle;">{ description }</td>\n        </tr>\n    </tbody>\n</table>\n';module.exports=riot.tag(CONSTANTS.TAGS.ALL_COURSES,html,function(t){var e=this,a=require("../../../MetaMap.js");this.user=a.User,this.data=[],this.editable=!1,this.tableId="all_courses",this.columns=[{name:"Action",orderable:!1,width:"120px"},{name:"Name",orderable:!0},{name:"Description",orderable:!0}],this.onStart=function(t){a.Router.to("trainings/"+t.item.id)},this.buildTable=function(){try{e.table&&(e.table.find(".meta_editable").editable("destroy"),e.dataTable.destroy()),e.table=$(document.getElementById([e.tableId])),e.dataTable=e.table.DataTable({columns:e.columns});var t=e.table.parent().parent().parent().find("#"+e.tableId+"_table_wrapper");t.find(".dataTables_length select").addClass("form-control input-xsmall input-inline"),e.table.find(".meta_editable").editable({unsavedclass:null}).on("save",function(t,e){if(this.dataset&&this.dataset.pk){var n=this.dataset.pk;a.MetaFire.setData(e.newValue,CONSTANTS.ROUTES.COURSE_LIST+"/"+n+"/"+this.dataset.name)}return!0})}catch(n){}finally{NProgress.done()}},this.on("mount",function(){e.editable=e.user.isAdmin});var n=_.once(function(){a.MetaFire.on(CONSTANTS.ROUTES.COURSE_LIST,function(t){e.data=_.map(t,function(t,e){return t.id=e,t.created_at=moment(new Date(t.created_at)).format("YYYY-MM-DD"),t}),e.data&&(e.update(),e.buildTable(0,e.data))})});this.on("update",function(){n()})});
},{"../../../MetaMap.js":1,"../../constants/constants":29,"../components/raw":49,"datatables":undefined,"datatables-bootstrap3-plugin":undefined,"jquery":undefined,"lodash":undefined,"moment":undefined,"riot":"riot"}],71:[function(require,module,exports){
"use strict";var riot=require("riot"),moment=require("moment"),NProgress=window.NProgress,_=require("lodash"),$=require("jquery");require("datatables"),require("datatables-bootstrap3-plugin");var CONSTANTS=require("../../constants/constants"),raw=require("../components/raw"),html='\n<table class="table table-striped table-bordered table-hover" id="{tableId}">\n    <thead>\n        <tr>\n            <th each="{columns}">{name}</th>\n        </tr>\n    </thead>\n    <tbody>\n        <tr if="{ data }" each="{ data }" class="odd gradeX">\n            <td>\n                <a class="btn btn-sm red" onclick="{ parent.onStart }">Continue <i class="fa fa-play"></i></a>\n            </td>\n            <td style="vertical-align: middle;">{ name }</td>\n            <td style="vertical-align: middle;">{ description }</td>\n        </tr>\n    </tbody>\n</table>\n';module.exports=riot.tag(CONSTANTS.TAGS.MY_COURSES,html,function(t){var e=this,a=require("../../../MetaMap.js");this.user=a.User,this.data=[],this.editable=!1,this.tableId="my_courses",this.columns=[{name:"Action",orderable:!1,width:"120px"},{name:"Name",orderable:!0},{name:"Description",orderable:!0}],this.onStart=function(t){a.Router.to("trainings/"+t.item.id)},this.buildTable=function(){try{e.table&&(e.table.find(".meta_editable").editable("destroy"),e.dataTable.destroy()),e.update(),e.table=$(document.getElementById([e.tableId])),e.dataTable=e.table.DataTable({columns:e.columns});var t=e.table.parent().parent().parent().find("#"+e.tableId+"_table_wrapper");t.find(".dataTables_length select").addClass("form-control input-xsmall input-inline"),e.table.find(".meta_editable").editable({unsavedclass:null}).on("save",function(t,e){if(this.dataset&&this.dataset.pk){var n=this.dataset.pk;a.MetaFire.setData(e.newValue,CONSTANTS.ROUTES.COURSE_LIST+"/"+n+"/name")}return!0})}catch(n){}finally{NProgress.done()}},this.on("mount",function(){});var n=_.once(function(){a.MetaFire.on(CONSTANTS.ROUTES.TRAININGS.format(e.user.userId),function(t){e.data=_.map(t,function(t,e){return t.id=e,t.created_at=moment(new Date(t.created_at)).format("YYYY-MM-DD"),t}),e.update(),e.buildTable(0,e.data)})});this.on("update",function(){n()})});
},{"../../../MetaMap.js":1,"../../constants/constants":29,"../components/raw":49,"datatables":undefined,"datatables-bootstrap3-plugin":undefined,"jquery":undefined,"lodash":undefined,"moment":undefined,"riot":"riot"}],72:[function(require,module,exports){
"use strict";var $=require("jquery"),Demo=function(){var e=function(){var e=$(".theme-panel");$(document.getElementById("page_body")).hasClass("page-boxed")===!1&&$(".layout-option",e).val("fluid"),$(".sidebar-option",e).val("default"),$(".page-header-option",e).val("fixed"),$(".page-footer-option",e).val("default"),$(".sidebar-pos-option").attr("disabled")===!1&&$(".sidebar-pos-option",e).val(Metronic.isRTL()?"right":"left");var a=function(){$(document.getElementById("page_body")).removeClass("page-boxed").removeClass("page-footer-fixed").removeClass("page-sidebar-fixed").removeClass("page-header-fixed").removeClass("page-sidebar-reversed"),$(".page-header > .page-header-inner").removeClass("container"),1===$(".page-container").parent(".container").size()&&$(".page-container").insertAfter("body > .clearfix"),1===$(".page-footer > .container").size()?$(".page-footer").html($(".page-footer > .container").html()):1===$(".page-footer").parent(".container").size()&&($(".page-footer").insertAfter(".page-container"),$(".scroll-to-top").insertAfter(".page-footer")),$(".top-menu > .navbar-nav > li.dropdown").removeClass("dropdown-dark"),$("body > .container").remove()},o="",t=function(){var t=$(".layout-option",e).val(),d=$(".sidebar-option",e).val(),n=$(".page-header-option",e).val(),i=$(".page-footer-option",e).val(),r=$(".sidebar-pos-option",e).val(),s=$(".sidebar-style-option",e).val(),p=$(".sidebar-menu-option",e).val(),l=$(".page-header-top-dropdown-style-option",e).val();if("fixed"==d&&"default"==n&&(alert("Default Header with Fixed Sidebar option is not supported. Proceed with Fixed Header with Fixed Sidebar."),$(".page-header-option",e).val("fixed"),$(".sidebar-option",e).val("fixed"),d="fixed",n="fixed"),a(),"boxed"===t){$(document.getElementById("page_body")).addClass("page-boxed"),$(".page-header > .page-header-inner").addClass("container");$("body > .clearfix").after('<div class="container"></div>');$(".page-container").appendTo("body > .container"),"fixed"===i?$(".page-footer").html('<div class="container">'+$(".page-footer").html()+"</div>"):$(".page-footer").appendTo("body > .container")}o!=t&&Metronic.runResizeHandlers(),o=t,"fixed"===n?($(document.getElementById("page_body")).addClass("page-header-fixed"),$(".page-header").removeClass("navbar-static-top").addClass("navbar-fixed-top")):($(document.getElementById("page_body")).removeClass("page-header-fixed"),$(".page-header").removeClass("navbar-fixed-top").addClass("navbar-static-top")),$(document.getElementById("page_body")).hasClass("page-full-width")===!1&&("fixed"===d?($(document.getElementById("page_body")).addClass("page-sidebar-fixed"),$("page-sidebar-menu").addClass("page-sidebar-menu-fixed"),$("page-sidebar-menu").removeClass("page-sidebar-menu-default"),Layout.initFixedSidebarHoverEffect()):($(document.getElementById("page_body")).removeClass("page-sidebar-fixed"),$("page-sidebar-menu").addClass("page-sidebar-menu-default"),$("page-sidebar-menu").removeClass("page-sidebar-menu-fixed"),$(".page-sidebar-menu").unbind("mouseenter").unbind("mouseleave"))),"dark"===l?$(".top-menu > .navbar-nav > li.dropdown").addClass("dropdown-dark"):$(".top-menu > .navbar-nav > li.dropdown").removeClass("dropdown-dark"),"fixed"===i?$(document.getElementById("page_body")).addClass("page-footer-fixed"):$(document.getElementById("page_body")).removeClass("page-footer-fixed"),"compact"===s?$(".page-sidebar-menu").addClass("page-sidebar-menu-compact"):$(".page-sidebar-menu").removeClass("page-sidebar-menu-compact"),"hover"===p?"fixed"==d?($(".sidebar-menu-option",e).val("accordion"),alert("Hover Sidebar Menu is not compatible with Fixed Sidebar Mode. Select Default Sidebar Mode Instead.")):$(".page-sidebar-menu").addClass("page-sidebar-menu-hover-submenu"):$(".page-sidebar-menu").removeClass("page-sidebar-menu-hover-submenu"),Metronic.isRTL()?"left"===r?($(document.getElementById("page_body")).addClass("page-sidebar-reversed"),$("#frontend-link").tooltip("destroy").tooltip({placement:"right"})):($(document.getElementById("page_body")).removeClass("page-sidebar-reversed"),$("#frontend-link").tooltip("destroy").tooltip({placement:"left"})):"right"===r?($(document.getElementById("page_body")).addClass("page-sidebar-reversed"),$("#frontend-link").tooltip("destroy").tooltip({placement:"left"})):($(document.getElementById("page_body")).removeClass("page-sidebar-reversed"),$("#frontend-link").tooltip("destroy").tooltip({placement:"right"})),Layout.fixContentHeight(),Layout.initFixedSidebar()},d=function(e){var a=Metronic.isRTL()?e+"-rtl":e;$("#style_color").attr("href",Layout.getLayoutCssPath()+"themes/"+a+".css")};$(".theme-colors > li",e).click(function(){var a=$(this).attr("data-theme");d(a),$("ul > li",e).removeClass("active"),$(this).addClass("active"),"dark"===a?$(".page-actions .btn").removeClass("red-haze").addClass("btn-default btn-transparent"):$(".page-actions .btn").removeClass("btn-default btn-transparent").addClass("red-haze")}),$(document.getElementById("page_body")).hasClass("page-boxed")&&$(".layout-option",e).val("boxed"),$(document.getElementById("page_body")).hasClass("page-sidebar-fixed")&&$(".sidebar-option",e).val("fixed"),$(document.getElementById("page_body")).hasClass("page-header-fixed")&&$(".page-header-option",e).val("fixed"),$(document.getElementById("page_body")).hasClass("page-footer-fixed")&&$(".page-footer-option",e).val("fixed"),$(document.getElementById("page_body")).hasClass("page-sidebar-reversed")&&$(".sidebar-pos-option",e).val("right"),$(".page-sidebar-menu").hasClass("page-sidebar-menu-light")&&$(".sidebar-style-option",e).val("light"),$(".page-sidebar-menu").hasClass("page-sidebar-menu-hover-submenu")&&$(".sidebar-menu-option",e).val("hover");$(".sidebar-option",e).val(),$(".page-header-option",e).val(),$(".page-footer-option",e).val(),$(".sidebar-pos-option",e).val(),$(".sidebar-style-option",e).val(),$(".sidebar-menu-option",e).val();$(".layout-option, .page-header-top-dropdown-style-option, .page-header-option, .sidebar-option, .page-footer-option, .sidebar-pos-option, .sidebar-style-option, .sidebar-menu-option",e).change(t)},a=function(e){var a="rounded"===e?"components-rounded":"components";a=Metronic.isRTL()?a+"-rtl":a,$("#style_components").attr("href",Metronic.getGlobalCssPath()+a+".css"),$.cookie&&$.cookie("layout-style-option",e)};return{init:function(){e(),$(".theme-panel .layout-style-option").change(function(){a($(this).val())}),$.cookie&&"rounded"===$.cookie("layout-style-option")&&(a($.cookie("layout-style-option")),$(".theme-panel .layout-style-option").val($.cookie("layout-style-option")))}}}();module.exports=Demo;
},{"jquery":undefined}],73:[function(require,module,exports){
"use strict";var $=require("jquery"),Metronic=require("./metronic"),Layout=function(){var e="admin/layout4/img/",a="admin/layout4/css/",t=Metronic.getResponsiveBreakpoint("md"),i=function(e,a){var i=location.hash.toLowerCase(),s=$(".page-sidebar-menu");if("click"===e||"set"===e?a=$(a):"match"===e&&s.find("li > a").each(function(){var e=$(this).attr("href").toLowerCase();return e.length>1&&i.substr(1,e.length-1)==e.substr(1)?void(a=$(this)):void 0}),a&&0!=a.size()&&"javascript:;"!==a.attr("href").toLowerCase()&&"#"!==a.attr("href").toLowerCase()){parseInt(s.data("slide-speed")),s.data("keep-expanded");s.find("li.active").removeClass("active"),s.find("li > a > .selected").remove(),s.hasClass("page-sidebar-menu-hover-submenu")===!1?s.find("li.open").each(function(){0===$(this).children(".sub-menu").size()&&($(this).removeClass("open"),$(this).find("> a > .arrow.open").removeClass("open"))}):s.find("li.open").removeClass("open"),a.parents("li").each(function(){$(this).addClass("active"),$(this).find("> a > span.arrow").addClass("open"),1===$(this).parent("ul.page-sidebar-menu").size()&&$(this).find("> a").append('<span class="selected"></span>'),1===$(this).children("ul.sub-menu").size()&&$(this).addClass("open")}),"click"===e&&Metronic.getViewPort().width<t&&$(".page-sidebar").hasClass("in")&&$(".page-header .responsive-toggler").click()}},s=function(){$(".page-sidebar").on("click","li > a",function(e){if(!(Metronic.getViewPort().width>=t&&1===$(this).parents(".page-sidebar-menu-hover-submenu").size())){if($(this).next().hasClass("sub-menu")===!1)return void(Metronic.getViewPort().width<t&&$(".page-sidebar").hasClass("in")&&$(".page-header .responsive-toggler").click());if(!$(this).next().hasClass("sub-menu always-open")){var a=$(this).parent().parent(),i=$(this),s=$(".page-sidebar-menu"),o=$(this).next(),n=s.data("auto-scroll"),r=parseInt(s.data("slide-speed")),c=s.data("keep-expanded");c!==!0&&(a.children("li.open").children("a").children(".arrow").removeClass("open"),a.children("li.open").children(".sub-menu:not(.always-open)").slideUp(r),a.children("li.open").removeClass("open"));var d=-200;o.is(":visible")?($(".arrow",$(this)).removeClass("open"),$(this).parent().removeClass("open"),o.slideUp(r,function(){n===!0&&$(document.getElementById("page_body")).hasClass("page-sidebar-closed")===!1&&($(document.getElementById("page_body")).hasClass("page-sidebar-fixed")?s.slimScroll({scrollTo:i.position().top}):Metronic.scrollTo(i,d))})):($(".arrow",$(this)).addClass("open"),$(this).parent().addClass("open"),o.slideDown(r,function(){n===!0&&$(document.getElementById("page_body")).hasClass("page-sidebar-closed")===!1&&($(document.getElementById("page_body")).hasClass("page-sidebar-fixed")?s.slimScroll({scrollTo:i.position().top}):Metronic.scrollTo(i,d))})),e.preventDefault()}}}),$(".page-sidebar").on("click"," li > a.ajaxify",function(e){e.preventDefault(),Metronic.scrollTop();var a=$(this).attr("href"),i=$(".page-sidebar ul"),s=($(".page-content"),$(".page-content .page-content-body"));i.children("li.active").removeClass("active"),i.children("arrow.open").removeClass("open"),$(this).parents("li").each(function(){$(this).addClass("active"),$(this).children("a > span.arrow").addClass("open")}),$(this).parents("li").addClass("active"),Metronic.getViewPort().width<t&&$(".page-sidebar").hasClass("in")&&$(".page-header .responsive-toggler").click(),Metronic.startPageLoading();var o=$(this);$.ajax({type:"GET",cache:!1,url:a,dataType:"html",success:function(e){0===o.parents("li.open").size()&&$(".page-sidebar-menu > li.open > a").click(),Metronic.stopPageLoading(),s.html(e),Layout.fixContentHeight(),Metronic.initAjax()},error:function(e,a,t){Metronic.stopPageLoading(),s.html("<h4>Could not load the requested content.</h4>")}})}),$(".page-content").on("click",".ajaxify",function(e){e.preventDefault(),Metronic.scrollTop();var a=$(this).attr("href"),i=($(".page-content"),$(".page-content .page-content-body"));Metronic.startPageLoading(),Metronic.getViewPort().width<t&&$(".page-sidebar").hasClass("in")&&$(".page-header .responsive-toggler").click(),$.ajax({type:"GET",cache:!1,url:a,dataType:"html",success:function(e){Metronic.stopPageLoading(),i.html(e),Layout.fixContentHeight(),Metronic.initAjax()},error:function(e,a,t){i.html("<h4>Could not load the requested content.</h4>"),Metronic.stopPageLoading()}})}),$(document).on("click",".page-header-fixed-mobile .responsive-toggler",function(){Metronic.scrollTop()})},o=function(){var e=Metronic.getViewPort().height-$(".page-header").outerHeight()-30;return $(document.getElementById("page_body")).hasClass("page-footer-fixed")&&(e-=$(".page-footer").outerHeight()),e},n=function(){var e=$(".page-sidebar-menu");Metronic.destroySlimScroll(e),0!==$(".page-sidebar-fixed").size()&&Metronic.getViewPort().width>=t&&(e.attr("data-height",o()),Metronic.initSlimScroll(e))},r=function(){var e=$(document.getElementById("page_body"));e.hasClass("page-sidebar-fixed")&&$(".page-sidebar").on("mouseenter",function(){e.hasClass("page-sidebar-closed")&&$(this).find(".page-sidebar-menu").removeClass("page-sidebar-menu-closed")}).on("mouseleave",function(){e.hasClass("page-sidebar-closed")&&$(this).find(".page-sidebar-menu").addClass("page-sidebar-menu-closed")})},c=function(){var e=$(document.getElementById("page_body"));$(document.getElementById("page_body")).on("click",".sidebar-toggler",function(a){var t=$(".page-sidebar"),i=$(".page-sidebar-menu");$(".sidebar-search",t).removeClass("open"),e.hasClass("page-sidebar-closed")?(e.removeClass("page-sidebar-closed"),i.removeClass("page-sidebar-menu-closed"),$.cookie&&$.cookie("sidebar_closed","0")):(e.addClass("page-sidebar-closed"),i.addClass("page-sidebar-menu-closed"),e.hasClass("page-sidebar-fixed")&&i.trigger("mouseleave"),$.cookie&&$.cookie("sidebar_closed","1")),$(window).trigger("resize")}),r(),$(".page-sidebar").on("click",".sidebar-search .remove",function(e){e.preventDefault(),$(".sidebar-search").removeClass("open")}),$(".page-sidebar .sidebar-search").on("keypress","input.form-control",function(e){return 13==e.which?($(".sidebar-search").submit(),!1):void 0}),$(".sidebar-search .submit").on("click",function(e){e.preventDefault(),$(document.getElementById("page_body")).hasClass("page-sidebar-closed")&&$(".sidebar-search").hasClass("open")===!1?(1===$(".page-sidebar-fixed").size()&&$(".page-sidebar .sidebar-toggler").click(),$(".sidebar-search").addClass("open")):$(".sidebar-search").submit()}),0!==$(".sidebar-search").size()&&($(".sidebar-search .input-group").on("click",function(e){e.stopPropagation()}),$(document.getElementById("page_body")).on("click",function(){$(".sidebar-search").hasClass("open")&&$(".sidebar-search").removeClass("open")}))},d=function(){$(".page-header").on("click",".search-form",function(e){$(this).addClass("open"),$(this).find(".form-control").focus(),$(".page-header .search-form .form-control").on("blur",function(e){$(this).closest(".search-form").removeClass("open"),$(this).unbind("blur")})}),$(".page-header").on("keypress",".hor-menu .search-form .form-control",function(e){return 13==e.which?($(this).closest(".search-form").submit(),!1):void 0}),$(".page-header").on("mousedown",".search-form.open .submit",function(e){e.preventDefault(),e.stopPropagation(),$(this).closest(".search-form").submit()})},l=function(){var e=300,a=500;navigator.userAgent.match(/iPhone|iPad|iPod/i)?$(window).bind("touchend touchcancel touchleave",function(t){$(this).scrollTop()>e?$(".scroll-to-top").fadeIn(a):$(".scroll-to-top").fadeOut(a)}):$(window).scroll(function(){$(this).scrollTop()>e?$(".scroll-to-top").fadeIn(a):$(".scroll-to-top").fadeOut(a)}),$(".scroll-to-top").click(function(e){return e.preventDefault(),$("html, body").animate({scrollTop:0},a),!1})};return{initHeader:function(){d()},setSidebarMenuActiveLink:function(e,a){i(e,a)},initSidebar:function(){n(),s(),c(),Metronic.isAngularJsApp()&&i("match"),Metronic.addResizeHandler(n)},initContent:function(){},initFooter:function(){l()},init:function(){this.initHeader(),this.initSidebar(),this.initContent(),this.initFooter()},fixContentHeight:function(){},initFixedSidebarHoverEffect:function(){r()},initFixedSidebar:function(){n()},getLayoutImgPath:function(){return Metronic.getAssetsPath()+e},getLayoutCssPath:function(){return Metronic.getAssetsPath()+a}}}();module.exports=Layout;
},{"./metronic":74,"jquery":undefined}],74:[function(require,module,exports){
"use strict";var $=require("jquery"),Metronic=function(){var t,e=!1,o=!1,a=!1,n=!1,i=[],l="../../assets/",s="global/img/",r="global/plugins/",c="global/css/",d={blue:"#89C4F4",red:"#F3565D",green:"#1bbc9b",purple:"#9b59b6",grey:"#95a5a6",yellow:"#F8CB00"},p=function(){"rtl"===$(document.getElementById("page_body")).css("direction")&&(e=!0),o=!!navigator.userAgent.match(/MSIE 8.0/),a=!!navigator.userAgent.match(/MSIE 9.0/),n=!!navigator.userAgent.match(/MSIE 10.0/),n&&$("html").addClass("ie10"),(n||a||o)&&$("html").addClass("ie")},h=function(){for(var t=0;t<i.length;t++){var e=i[t];e.call()}},u=function(){var t;if(o){var e;$(window).resize(function(){e!=document.documentElement.clientHeight&&(t&&clearTimeout(t),t=setTimeout(function(){h()},50),e=document.documentElement.clientHeight)})}else $(window).resize(function(){t&&clearTimeout(t),t=setTimeout(function(){h()},50)})},g=function(){$(document.getElementById("page_body")).on("click",".portlet > .portlet-title > .tools > a.remove",function(t){t.preventDefault();var e=$(this).closest(".portlet");$(document.getElementById("page_body")).hasClass("page-portlet-fullscreen")&&$(document.getElementById("page_body")).removeClass("page-portlet-fullscreen"),e.find(".portlet-title .fullscreen").tooltip("destroy"),e.find(".portlet-title > .tools > .reload").tooltip("destroy"),e.find(".portlet-title > .tools > .remove").tooltip("destroy"),e.find(".portlet-title > .tools > .config").tooltip("destroy"),e.find(".portlet-title > .tools > .collapse, .portlet > .portlet-title > .tools > .expand").tooltip("destroy"),e.remove()}),$(document.getElementById("page_body")).on("click",".portlet > .portlet-title .fullscreen",function(t){t.preventDefault();var e=$(this).closest(".portlet");if(e.hasClass("portlet-fullscreen"))$(this).removeClass("on"),e.removeClass("portlet-fullscreen"),$(document.getElementById("page_body")).removeClass("page-portlet-fullscreen"),e.children(".portlet-body").css("height","auto");else{var o=Metronic.getViewPort().height-e.children(".portlet-title").outerHeight()-parseInt(e.children(".portlet-body").css("padding-top"))-parseInt(e.children(".portlet-body").css("padding-bottom"));$(this).addClass("on"),e.addClass("portlet-fullscreen"),$(document.getElementById("page_body")).addClass("page-portlet-fullscreen"),e.children(".portlet-body").css("height",o)}}),$(document.getElementById("page_body")).on("click",".portlet > .portlet-title > .tools > a.reload",function(t){t.preventDefault();var e=$(this).closest(".portlet").children(".portlet-body"),o=$(this).attr("data-url"),a=$(this).attr("data-error-display");o?(Metronic.blockUI({target:e,animate:!0,overlayColor:"none"}),$.ajax({type:"GET",cache:!1,url:o,dataType:"html",success:function(t){Metronic.unblockUI(e),e.html(t)},error:function(t,o,n){Metronic.unblockUI(e);var i="Error on reloading the content. Please check your connection and try again.";"toastr"==a&&toastr?toastr.error(i):"notific8"==a&&$.notific8?($.notific8("zindex",11500),$.notific8(i,{theme:"ruby",life:3e3})):alert(i)}})):(Metronic.blockUI({target:e,animate:!0,overlayColor:"none"}),window.setTimeout(function(){Metronic.unblockUI(e)},1e3))}),$('.portlet .portlet-title a.reload[data-load="true"]').click(),$(document.getElementById("page_body")).on("click",".portlet > .portlet-title > .tools > .collapse, .portlet .portlet-title > .tools > .expand",function(t){t.preventDefault();var e=$(this).closest(".portlet").children(".portlet-body");$(this).hasClass("collapse")?($(this).removeClass("collapse").addClass("expand"),e.slideUp(200)):($(this).removeClass("expand").addClass("collapse"),e.slideDown(200))})},m=function(){if($().uniform){var t=$("input[type=checkbox]:not(.toggle, .md-check, .md-radiobtn, .make-switch, .icheck), input[type=radio]:not(.toggle, .md-check, .md-radiobtn, .star, .make-switch, .icheck)");t.size()>0&&t.each(function(){0===$(this).parents(".checker").size()&&($(this).show(),$(this).uniform())})}},f=function(){if($(document.getElementById("page_body")).on("click",".md-checkbox > label, .md-radio > label",function(){var t=$(this),e=$(this).children("span:first-child");e.addClass("inc");var o=e.clone(!0);e.before(o),$("."+e.attr("class")+":last",t).remove()}),$(document.getElementById("page_body")).hasClass("page-md")){var t,e,o,a,n;$(document.getElementById("page_body")).on("click","a.btn, button.btn, input.btn, label.btn",function(i){t=$(this),0==t.find(".md-click-circle").length&&t.prepend("<span class='md-click-circle'></span>"),e=t.find(".md-click-circle"),e.removeClass("md-click-animate"),e.height()||e.width()||(o=Math.max(t.outerWidth(),t.outerHeight()),e.css({height:o,width:o})),a=i.pageX-t.offset().left-e.width()/2,n=i.pageY-t.offset().top-e.height()/2,e.css({top:n+"px",left:a+"px"}).addClass("md-click-animate"),setTimeout(function(){e.remove()},1e3)})}var i=function(t){""!=t.val()?t.addClass("edited"):t.removeClass("edited")};$(document.getElementById("page_body")).on("keydown",".form-md-floating-label .form-control",function(t){i($(this))}),$(document.getElementById("page_body")).on("blur",".form-md-floating-label .form-control",function(t){i($(this))}),$(".form-md-floating-label .form-control").each(function(){$(this).val().length>0&&$(this).addClass("edited")})},b=function(){$().iCheck&&$(".icheck").each(function(){var t=$(this).attr("data-checkbox")?$(this).attr("data-checkbox"):"icheckbox_minimal-grey",e=$(this).attr("data-radio")?$(this).attr("data-radio"):"iradio_minimal-grey";t.indexOf("_line")>-1||e.indexOf("_line")>-1?$(this).iCheck({checkboxClass:t,radioClass:e,insert:'<div class="icheck_line-icon"></div>'+$(this).attr("data-label")}):$(this).iCheck({checkboxClass:t,radioClass:e})})},v=function(){$().bootstrapSwitch&&$(".make-switch").bootstrapSwitch()},y=function(){$().confirmation&&$("[data-toggle=confirmation]").confirmation({container:document.getElementById("page_body"),btnOkClass:"btn btn-sm btn-success",btnCancelClass:"btn btn-sm btn-danger"})},I=function(){$(document.getElementById("page_body")).on("shown.bs.collapse",".accordion.scrollable",function(t){Metronic.scrollTo($(t.target))})},C=function(){if(location.hash){var t=encodeURI(location.hash.substr(1));$('a[href="#'+t+'"]').parents(".tab-pane:hidden").each(function(){var t=$(this).attr("id");$('a[href="#'+t+'"]').click()}),$('a[href="#'+t+'"]').click()}$().tabdrop&&$(".tabbable-tabdrop .nav-pills, .tabbable-tabdrop .nav-tabs").tabdrop({text:'<i class="fa fa-ellipsis-v"></i>&nbsp;<i class="fa fa-angle-down"></i>'})},k=function(){$(document.getElementById("page_body")).on("hide.bs.modal",function(){$(".modal:visible").size()>1&&$("html").hasClass("modal-open")===!1?$("html").addClass("modal-open"):$(".modal:visible").size()<=1&&$("html").removeClass("modal-open")}),$(document.getElementById("page_body")).on("show.bs.modal",".modal",function(){$(this).hasClass("modal-scroll")&&$(document.getElementById("page_body")).addClass("modal-open-noscroll")}),$(document.getElementById("page_body")).on("hide.bs.modal",".modal",function(){$(document.getElementById("page_body")).removeClass("modal-open-noscroll")}),$(document.getElementById("page_body")).on("hidden.bs.modal",".modal:not(.modal-cached)",function(){$(this).removeData("bs.modal")})},x=function(){$(".tooltips").tooltip(),$(".portlet > .portlet-title .fullscreen").tooltip({container:document.getElementById("page_body"),title:"Fullscreen"}),$(".portlet > .portlet-title > .tools > .reload").tooltip({container:document.getElementById("page_body"),title:"Reload"}),$(".portlet > .portlet-title > .tools > .remove").tooltip({container:document.getElementById("page_body"),title:"Remove"}),$(".portlet > .portlet-title > .tools > .config").tooltip({container:document.getElementById("page_body"),title:"Settings"}),$(".portlet > .portlet-title > .tools > .collapse, .portlet > .portlet-title > .tools > .expand").tooltip({container:document.getElementById("page_body"),title:"Collapse/Expand"})},w=function(){$(document.getElementById("page_body")).on("click",".dropdown-menu.hold-on-click",function(t){t.stopPropagation()})},E=function(){$(document.getElementById("page_body")).on("click",'[data-close="alert"]',function(t){$(this).parent(".alert").hide(),$(this).closest(".note").hide(),t.preventDefault()}),$(document.getElementById("page_body")).on("click",'[data-close="note"]',function(t){$(this).closest(".note").hide(),t.preventDefault()}),$(document.getElementById("page_body")).on("click",'[data-remove="note"]',function(t){$(this).closest(".note").remove(),t.preventDefault()})},_=function(){$('[data-hover="dropdown"]').not(".hover-initialized").each(function(){$(this).dropdownHover(),$(this).addClass("hover-initialized")})},B=function(){"function"==typeof autosize&&autosize(document.querySelector("textarea.autosizeme"))},z=function(){$(".popovers").popover(),$(document).on("click.bs.popover.data-api",function(e){t&&t.popover("hide")})},S=function(){Metronic.initSlimScroll(".scroller")},M=function(){jQuery.fancybox&&$(".fancybox-button").size()>0&&$(".fancybox-button").fancybox({groupAttr:"data-rel",prevEffect:"none",nextEffect:"none",closeBtn:!0,helpers:{title:{type:"inside"}}})},P=function(){(o||a)&&$("input[placeholder]:not(.placeholder-no-fix), textarea[placeholder]:not(.placeholder-no-fix)").each(function(){var t=$(this);""===t.val()&&""!==t.attr("placeholder")&&t.addClass("placeholder").val(t.attr("placeholder")),t.focus(function(){t.val()==t.attr("placeholder")&&t.val("")}),t.blur(function(){(""===t.val()||t.val()==t.attr("placeholder"))&&t.val(t.attr("placeholder"))})})},T=function(){$().select2&&$(".select2me").select2({placeholder:"Select",allowClear:!0})},D=function(){$("[data-auto-height]").each(function(){var t=$(this),e=$("[data-height]",t),o=0,a=t.attr("data-mode"),n=parseInt(t.attr("data-offset")?t.attr("data-offset"):0);e.each(function(){"height"==$(this).attr("data-height")?$(this).css("height",""):$(this).css("min-height","");var t="base-height"==a?$(this).outerHeight():$(this).outerHeight(!0);t>o&&(o=t)}),o+=n,e.each(function(){"height"==$(this).attr("data-height")?$(this).css("height",o):$(this).css("min-height",o)})})};return{init:function(){p(),u(),f(),m(),b(),v(),S(),M(),T(),g(),E(),w(),C(),x(),z(),I(),k(),y(),B(),D(),this.addResizeHandler(D),P()},initAjax:function(){m(),b(),v(),_(),S(),T(),M(),w(),x(),z(),I(),y()},initComponents:function(){this.initAjax()},setLastPopedPopover:function(e){t=e},addResizeHandler:function(t){i.push(t)},runResizeHandlers:function(){h()},scrollTo:function(t,e){var o=t&&t.size()>0?t.offset().top:0;t&&($(document.getElementById("page_body")).hasClass("page-header-fixed")?o-=$(".page-header").height():$(document.getElementById("page_body")).hasClass("page-header-top-fixed")?o-=$(".page-header-top").height():$(document.getElementById("page_body")).hasClass("page-header-menu-fixed")&&(o-=$(".page-header-menu").height()),o+=e?e:-1*t.height()),$("html,body").animate({scrollTop:o},"slow")},initSlimScroll:function(t){$(t).each(function(){if(!$(this).attr("data-initialized")){var t;t=$(this).attr("data-height")?$(this).attr("data-height"):$(this).css("height"),$(this).slimScroll({allowPageScroll:!0,size:"7px",color:$(this).attr("data-handle-color")?$(this).attr("data-handle-color"):"#bbb",wrapperClass:$(this).attr("data-wrapper-class")?$(this).attr("data-wrapper-class"):"slimScrollDiv",railColor:$(this).attr("data-rail-color")?$(this).attr("data-rail-color"):"#eaeaea",position:e?"left":"right",height:t,alwaysVisible:"1"==$(this).attr("data-always-visible")?!0:!1,railVisible:"1"==$(this).attr("data-rail-visible")?!0:!1,disableFadeOut:!0}),$(this).attr("data-initialized","1")}})},destroySlimScroll:function(t){$(t).each(function(){if("1"===$(this).attr("data-initialized")){$(this).removeAttr("data-initialized"),$(this).removeAttr("style");var t={};$(this).attr("data-handle-color")&&(t["data-handle-color"]=$(this).attr("data-handle-color")),$(this).attr("data-wrapper-class")&&(t["data-wrapper-class"]=$(this).attr("data-wrapper-class")),$(this).attr("data-rail-color")&&(t["data-rail-color"]=$(this).attr("data-rail-color")),$(this).attr("data-always-visible")&&(t["data-always-visible"]=$(this).attr("data-always-visible")),$(this).attr("data-rail-visible")&&(t["data-rail-visible"]=$(this).attr("data-rail-visible")),$(this).slimScroll({wrapperClass:$(this).attr("data-wrapper-class")?$(this).attr("data-wrapper-class"):"slimScrollDiv",destroy:!0});var e=$(this);$.each(t,function(t,o){e.attr(t,o)})}})},scrollTop:function(){Metronic.scrollTo()},blockUI:function(t){t=$.extend(!0,{},t);var e="";if(e=t.animate?'<div class="loading-message '+(t.boxed?"loading-message-boxed":"")+'"><div class="block-spinner-bar"><div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div></div></div>':t.iconOnly?'<div class="loading-message '+(t.boxed?"loading-message-boxed":"")+'"><img src="'+this.getGlobalImgPath()+'loading-spinner-grey.gif" align=""></div>':t.textOnly?'<div class="loading-message '+(t.boxed?"loading-message-boxed":"")+'"><span>&nbsp;&nbsp;'+(t.message?t.message:"LOADING...")+"</span></div>":'<div class="loading-message '+(t.boxed?"loading-message-boxed":"")+'"><img src="'+this.getGlobalImgPath()+'loading-spinner-grey.gif" align=""><span>&nbsp;&nbsp;'+(t.message?t.message:"LOADING...")+"</span></div>",t.target){var o=$(t.target);o.height()<=$(window).height()&&(t.cenrerY=!0),o.block({message:e,baseZ:t.zIndex?t.zIndex:1e3,centerY:void 0!==t.cenrerY?t.cenrerY:!1,css:{top:"10%",border:"0",padding:"0",backgroundColor:"none"},overlayCSS:{backgroundColor:t.overlayColor?t.overlayColor:"#555",opacity:t.boxed?.05:.1,cursor:"wait"}})}else $.blockUI({message:e,baseZ:t.zIndex?t.zIndex:1e3,css:{border:"0",padding:"0",backgroundColor:"none"},overlayCSS:{backgroundColor:t.overlayColor?t.overlayColor:"#555",opacity:t.boxed?.05:.1,cursor:"wait"}})},unblockUI:function(t){t?$(t).unblock({onUnblock:function(){$(t).css("position",""),$(t).css("zoom","")}}):$.unblockUI()},startPageLoading:function(t){t&&t.animate?($(".page-spinner-bar").remove(),$(document.getElementById("page_body")).append('<div class="page-spinner-bar"><div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div></div>')):($(".page-loading").remove(),$(document.getElementById("page_body")).append('<div class="page-loading"><img src="'+this.getGlobalImgPath()+'loading-spinner-grey.gif"/>&nbsp;&nbsp;<span>'+(t&&t.message?t.message:"Loading...")+"</span></div>"))},stopPageLoading:function(){$(".page-loading, .page-spinner-bar").remove()},alert:function(t){t=$.extend(!0,{container:"",place:"append",type:"success",message:"",close:!0,reset:!0,focus:!0,closeInSeconds:0,icon:""},t);var e=Metronic.getUniqueID("Metronic_alert"),o='<div id="'+e+'" class="Metronic-alerts alert alert-'+t.type+' fade in">'+(t.close?'<button type="button" class="close" data-dismiss="alert" aria-hidden="true"></button>':"")+(""!==t.icon?'<i class="fa-lg fa fa-'+t.icon+'"></i>  ':"")+t.message+"</div>";return t.reset&&$(".Metronic-alerts").remove(),t.container?"append"==t.place?$(t.container).append(o):$(t.container).prepend(o):$(document.getElementById("page_body")).hasClass("page-container-bg-solid")?$(".page-title").after(o):$(".page-bar").size()>0?$(".page-bar").after(o):$(".page-breadcrumb").after(o),t.focus&&Metronic.scrollTo($("#"+e)),t.closeInSeconds>0&&setTimeout(function(){$("#"+e).remove()},1e3*t.closeInSeconds),e},initUniform:function(t){t?$(t).each(function(){0===$(this).parents(".checker").size()&&($(this).show(),$(this).uniform())}):m()},updateUniform:function(t){$.uniform.update(t)},initFancybox:function(){M()},getActualVal:function(t){return t=$(t),t.val()===t.attr("placeholder")?"":t.val()},getURLParameter:function(t){var e,o,a=window.location.search.substring(1),n=a.split("&");for(e=0;e<n.length;e++)if(o=n[e].split("="),o[0]==t)return unescape(o[1]);return null},isTouchDevice:function(){try{return document.createEvent("TouchEvent"),!0}catch(t){return!1}},getViewPort:function(){var t=window,e="inner";return"innerWidth"in window||(e="client",t=document.documentElement||document.body),{width:t[e+"Width"],height:t[e+"Height"]}},getUniqueID:function(t){return"prefix_"+Math.floor(Math.random()*(new Date).getTime())},isIE8:function(){return o},isIE9:function(){return a},isRTL:function(){return e},isAngularJsApp:function(){return"undefined"==typeof angular?!1:!0},getAssetsPath:function(){return l},setAssetsPath:function(t){l=t},setGlobalImgPath:function(t){s=t},getGlobalImgPath:function(){return l+s},setGlobalPluginsPath:function(t){r=t},getGlobalPluginsPath:function(){return l+r},getGlobalCssPath:function(){return l+c},getBrandColor:function(t){return d[t]?d[t]:""},getResponsiveBreakpoint:function(t){var e={xs:480,sm:768,md:992,lg:1200};return e[t]?e[t]:0}}}();module.exports=Metronic;
},{"jquery":undefined}],75:[function(require,module,exports){
"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}(),moment=require("moment"),Common=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"splitLines",value:function(e){return e.split(/\n/)}},{key:"getEventTime",value:function(e,n){var t=moment(e,"YYYY-MM-DD HH:mm:ss.SSS"),o=moment(n,"YYYY-MM-DD HH:mm:ss.SSS");return t.from(o)}},{key:"classIf",value:function(e,n){return n?e:""}},{key:"safeApply",value:function(e){e&&"function"==typeof e&&e()}},{key:"isTouchDevice",value:function(){return"ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0}},{key:"getTicksFromDate",value:function(e){var n=null;return e&&e.getTime&&(n=e.getTime()/1e3),n}}]),e}();module.exports=Common;
},{"moment":undefined}],76:[function(require,module,exports){
"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}(),Promise=require("bluebird"),VideoPlayer=function(){function e(n){var t=arguments.length<=1||void 0===arguments[1]?{videoId:""}:arguments[1];_classCallCheck(this,e),this.id=n,this.opts=t,this.metaMap=require("../../MetaMap"),this.init()}return _createClass(e,[{key:"onReady",value:function(){var e=this;return this._onReady=this._onReady||new Promise(function(n,t){var a=function i(){window.YT&&1==window.YT.loaded?(e.YT=window.YT,n(window.YT)):setTimeout(i,250)};a()}),this._onReady}},{key:"init",value:function(){var e=this;this.onReady().then(function(){e.player=new e.YT.Player(e.id,{videoId:e.opts.videoId,frameborder:0,events:{onReady:e.onPlayerReady,onStateChange:e.onPlayerStateChange}})})}},{key:"onPlayerReady",value:function(e){e.target.playVideo()}},{key:"onPlayerStateChange",value:function(e){e.data==YT.PlayerState.ENDED&&(this.done=!0)}},{key:"stopVideo",value:function(){this.player.stopVideo()}},{key:"isDone",get:function(){return 1==this.done}}]),e}();module.exports=VideoPlayer;
},{"../../MetaMap":1,"bluebird":undefined}],77:[function(require,module,exports){
"use strict";String.prototype.format||(String.prototype.format=function(){var t=arguments;return this.replace(/{(\d+)}/g,function(r,e){return"undefined"!=typeof t[e]?t[e]:r})});
},{}],78:[function(require,module,exports){
"use strict";var uuid=function r(){var t,u,o,r;for(o=[],o.length=36,t="0123456789abcdef",u=0;36>u;)o[u]=t.substr(Math.floor(16*Math.random()),1),u+=1;return o[14]="4",o[19]=t.substr(3&o[19]|8,1),o[8]=o[13]=o[18]=o[23]="-",r=o.join("")};module.exports=uuid;
},{}]},{},[1])(1)
});


//# sourceMappingURL=MetaMap.map.json